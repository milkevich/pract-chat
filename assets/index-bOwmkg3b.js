function px(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function mx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function lM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var gx={exports:{}},sm={},yx={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd=Symbol.for("react.element"),uM=Symbol.for("react.portal"),cM=Symbol.for("react.fragment"),dM=Symbol.for("react.strict_mode"),hM=Symbol.for("react.profiler"),fM=Symbol.for("react.provider"),pM=Symbol.for("react.context"),mM=Symbol.for("react.forward_ref"),gM=Symbol.for("react.suspense"),yM=Symbol.for("react.memo"),vM=Symbol.for("react.lazy"),aT=Symbol.iterator;function _M(t){return t===null||typeof t!="object"?null:(t=aT&&t[aT]||t["@@iterator"],typeof t=="function"?t:null)}var vx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_x=Object.assign,wx={};function Ql(t,e,n){this.props=t,this.context=e,this.refs=wx,this.updater=n||vx}Ql.prototype.isReactComponent={};Ql.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ql.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ex(){}Ex.prototype=Ql.prototype;function O0(t,e,n){this.props=t,this.context=e,this.refs=wx,this.updater=n||vx}var D0=O0.prototype=new Ex;D0.constructor=O0;_x(D0,Ql.prototype);D0.isPureReactComponent=!0;var lT=Array.isArray,Tx=Object.prototype.hasOwnProperty,M0={current:null},Sx={key:!0,ref:!0,__self:!0,__source:!0};function Cx(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Tx.call(e,r)&&!Sx.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Fd,type:t,key:o,ref:s,props:i,_owner:M0.current}}function wM(t,e){return{$$typeof:Fd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function L0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fd}function EM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var uT=/\/+/g;function cy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EM(""+t.key):e.toString(36)}function mf(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Fd:case uM:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+cy(s,0):r,lT(i)?(n="",t!=null&&(n=t.replace(uT,"$&/")+"/"),mf(i,e,n,"",function(u){return u})):i!=null&&(L0(i)&&(i=wM(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(uT,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",lT(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+cy(o,a);s+=mf(o,e,n,l,i)}else if(l=_M(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+cy(o,a++),s+=mf(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ah(t,e,n){if(t==null)return t;var r=[],i=0;return mf(t,r,"","",function(o){return e.call(n,o,i++)}),r}function TM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yn={current:null},gf={transition:null},SM={ReactCurrentDispatcher:Yn,ReactCurrentBatchConfig:gf,ReactCurrentOwner:M0};De.Children={map:Ah,forEach:function(t,e,n){Ah(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ah(t,function(){e++}),e},toArray:function(t){return Ah(t,function(e){return e})||[]},only:function(t){if(!L0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=Ql;De.Fragment=cM;De.Profiler=hM;De.PureComponent=O0;De.StrictMode=dM;De.Suspense=gM;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SM;De.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_x({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=M0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Tx.call(e,l)&&!Sx.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Fd,type:t.type,key:i,ref:o,props:r,_owner:s}};De.createContext=function(t){return t={$$typeof:pM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:fM,_context:t},t.Consumer=t};De.createElement=Cx;De.createFactory=function(t){var e=Cx.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:mM,render:t}};De.isValidElement=L0;De.lazy=function(t){return{$$typeof:vM,_payload:{_status:-1,_result:t},_init:TM}};De.memo=function(t,e){return{$$typeof:yM,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=gf.transition;gf.transition={};try{t()}finally{gf.transition=e}};De.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};De.useCallback=function(t,e){return Yn.current.useCallback(t,e)};De.useContext=function(t){return Yn.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return Yn.current.useDeferredValue(t)};De.useEffect=function(t,e){return Yn.current.useEffect(t,e)};De.useId=function(){return Yn.current.useId()};De.useImperativeHandle=function(t,e,n){return Yn.current.useImperativeHandle(t,e,n)};De.useInsertionEffect=function(t,e){return Yn.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return Yn.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return Yn.current.useMemo(t,e)};De.useReducer=function(t,e,n){return Yn.current.useReducer(t,e,n)};De.useRef=function(t){return Yn.current.useRef(t)};De.useState=function(t){return Yn.current.useState(t)};De.useSyncExternalStore=function(t,e,n){return Yn.current.useSyncExternalStore(t,e,n)};De.useTransition=function(){return Yn.current.useTransition()};De.version="18.2.0";yx.exports=De;var w=yx.exports;const pn=mx(w),jf=px({__proto__:null,default:pn},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CM=w,IM=Symbol.for("react.element"),RM=Symbol.for("react.fragment"),xM=Object.prototype.hasOwnProperty,bM=CM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PM={key:!0,ref:!0,__self:!0,__source:!0};function Ix(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)xM.call(e,r)&&!PM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:IM,type:t,key:o,ref:s,props:i,_owner:bM.current}}sm.Fragment=RM;sm.jsx=Ix;sm.jsxs=Ix;gx.exports=sm;var S=gx.exports,Sv={},Rx={exports:{}},Sr={},xx={exports:{}},bx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,B){var W=N.length;N.push(B);e:for(;0<W;){var ae=W-1>>>1,J=N[ae];if(0<i(J,B))N[ae]=B,N[W]=J,W=ae;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var B=N[0],W=N.pop();if(W!==B){N[0]=W;e:for(var ae=0,J=N.length,ne=J>>>1;ae<ne;){var Y=2*(ae+1)-1,he=N[Y],ce=Y+1,Me=N[ce];if(0>i(he,W))ce<J&&0>i(Me,he)?(N[ae]=Me,N[ce]=W,ae=ce):(N[ae]=he,N[Y]=W,ae=Y);else if(ce<J&&0>i(Me,W))N[ae]=Me,N[ce]=W,ae=ce;else break e}}return B}function i(N,B){var W=N.sortIndex-B.sortIndex;return W!==0?W:N.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,m=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=N)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function T(N){if(v=!1,y(N),!m)if(n(l)!==null)m=!0,U(I);else{var B=n(u);B!==null&&V(T,B.startTime-N)}}function I(N,B){m=!1,v&&(v=!1,f(x),x=-1),p=!0;var W=h;try{for(y(B),d=n(l);d!==null&&(!(d.expirationTime>B)||N&&!D());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,h=d.priorityLevel;var J=ae(d.expirationTime<=B);B=t.unstable_now(),typeof J=="function"?d.callback=J:d===n(l)&&r(l),y(B)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var Y=n(u);Y!==null&&V(T,Y.startTime-B),ne=!1}return ne}finally{d=null,h=W,p=!1}}var E=!1,C=null,x=-1,P=5,k=-1;function D(){return!(t.unstable_now()-k<P)}function F(){if(C!==null){var N=t.unstable_now();k=N;var B=!0;try{B=C(!0,N)}finally{B?M():(E=!1,C=null)}}else E=!1}var M;if(typeof g=="function")M=function(){g(F)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,z=j.port2;j.port1.onmessage=F,M=function(){z.postMessage(null)}}else M=function(){_(F,0)};function U(N){C=N,E||(E=!0,M())}function V(N,B){x=_(function(){N(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,U(I))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var W=h;h=B;try{return N()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,B){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var W=h;h=N;try{return B()}finally{h=W}},t.unstable_scheduleCallback=function(N,B,W){var ae=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ae+W:ae):W=ae,N){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=W+J,N={id:c++,callback:B,priorityLevel:N,startTime:W,expirationTime:J,sortIndex:-1},W>ae?(N.sortIndex=W,e(u,N),n(l)===null&&N===n(u)&&(v?(f(x),x=-1):v=!0,V(T,W-ae))):(N.sortIndex=J,e(l,N),m||p||(m=!0,U(I))),N},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(N){var B=h;return function(){var W=h;h=B;try{return N.apply(this,arguments)}finally{h=W}}}})(bx);xx.exports=bx;var kM=xx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Px=w,wr=kM;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var kx=new Set,zc={};function _a(t,e){El(t,e),El(t+"Capture",e)}function El(t,e){for(zc[t]=e,t=0;t<e.length;t++)kx.add(e[t])}var ro=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cv=Object.prototype.hasOwnProperty,AM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cT={},dT={};function NM(t){return Cv.call(dT,t)?!0:Cv.call(cT,t)?!1:AM.test(t)?dT[t]=!0:(cT[t]=!0,!1)}function OM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DM(t,e,n,r){if(e===null||typeof e>"u"||OM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kn[t]=new Xn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kn[e]=new Xn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kn[t]=new Xn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kn[t]=new Xn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kn[t]=new Xn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kn[t]=new Xn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kn[t]=new Xn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kn[t]=new Xn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kn[t]=new Xn(t,5,!1,t.toLowerCase(),null,!1,!1)});var $0=/[\-:]([a-z])/g;function F0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($0,F0);kn[e]=new Xn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($0,F0);kn[e]=new Xn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($0,F0);kn[e]=new Xn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kn[t]=new Xn(t,1,!1,t.toLowerCase(),null,!1,!1)});kn.xlinkHref=new Xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kn[t]=new Xn(t,1,!1,t.toLowerCase(),null,!0,!0)});function V0(t,e,n,r){var i=kn.hasOwnProperty(e)?kn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DM(e,n,i,r)&&(n=null),r||i===null?NM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var po=Px.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nh=Symbol.for("react.element"),za=Symbol.for("react.portal"),Wa=Symbol.for("react.fragment"),U0=Symbol.for("react.strict_mode"),Iv=Symbol.for("react.profiler"),Ax=Symbol.for("react.provider"),Nx=Symbol.for("react.context"),j0=Symbol.for("react.forward_ref"),Rv=Symbol.for("react.suspense"),xv=Symbol.for("react.suspense_list"),B0=Symbol.for("react.memo"),Ro=Symbol.for("react.lazy"),Ox=Symbol.for("react.offscreen"),hT=Symbol.iterator;function Cu(t){return t===null||typeof t!="object"?null:(t=hT&&t[hT]||t["@@iterator"],typeof t=="function"?t:null)}var Nt=Object.assign,dy;function ec(t){if(dy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dy=e&&e[1]||""}return`
`+dy+t}var hy=!1;function fy(t,e){if(!t||hy)return"";hy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{hy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ec(t):""}function MM(t){switch(t.tag){case 5:return ec(t.type);case 16:return ec("Lazy");case 13:return ec("Suspense");case 19:return ec("SuspenseList");case 0:case 2:case 15:return t=fy(t.type,!1),t;case 11:return t=fy(t.type.render,!1),t;case 1:return t=fy(t.type,!0),t;default:return""}}function bv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wa:return"Fragment";case za:return"Portal";case Iv:return"Profiler";case U0:return"StrictMode";case Rv:return"Suspense";case xv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Nx:return(t.displayName||"Context")+".Consumer";case Ax:return(t._context.displayName||"Context")+".Provider";case j0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case B0:return e=t.displayName||null,e!==null?e:bv(t.type)||"Memo";case Ro:e=t._payload,t=t._init;try{return bv(t(e))}catch{}}return null}function LM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bv(e);case 8:return e===U0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Dx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $M(t){var e=Dx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Oh(t){t._valueTracker||(t._valueTracker=$M(t))}function Mx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Dx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Bf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pv(t,e){var n=e.checked;return Nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Jo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Lx(t,e){e=e.checked,e!=null&&V0(t,"checked",e,!1)}function kv(t,e){Lx(t,e);var n=Jo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Av(t,e.type,n):e.hasOwnProperty("defaultValue")&&Av(t,e.type,Jo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Av(t,e,n){(e!=="number"||Bf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tc=Array.isArray;function sl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Jo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Nv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(tc(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Jo(n)}}function $x(t,e){var n=Jo(e.value),r=Jo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Fx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ov(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Fx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dh,Vx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Dh=Dh||document.createElement("div"),Dh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var mc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},FM=["Webkit","ms","Moz","O"];Object.keys(mc).forEach(function(t){FM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mc[e]=mc[t]})});function Ux(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||mc.hasOwnProperty(t)&&mc[t]?(""+e).trim():e+"px"}function jx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ux(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var VM=Nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dv(t,e){if(e){if(VM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Mv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lv=null;function z0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $v=null,al=null,ll=null;function yT(t){if(t=jd(t)){if(typeof $v!="function")throw Error(H(280));var e=t.stateNode;e&&(e=dm(e),$v(t.stateNode,t.type,e))}}function Bx(t){al?ll?ll.push(t):ll=[t]:al=t}function zx(){if(al){var t=al,e=ll;if(ll=al=null,yT(t),e)for(t=0;t<e.length;t++)yT(e[t])}}function Wx(t,e){return t(e)}function Hx(){}var py=!1;function qx(t,e,n){if(py)return t(e,n);py=!0;try{return Wx(t,e,n)}finally{py=!1,(al!==null||ll!==null)&&(Hx(),zx())}}function Hc(t,e){var n=t.stateNode;if(n===null)return null;var r=dm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Fv=!1;if(ro)try{var Iu={};Object.defineProperty(Iu,"passive",{get:function(){Fv=!0}}),window.addEventListener("test",Iu,Iu),window.removeEventListener("test",Iu,Iu)}catch{Fv=!1}function UM(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var gc=!1,zf=null,Wf=!1,Vv=null,jM={onError:function(t){gc=!0,zf=t}};function BM(t,e,n,r,i,o,s,a,l){gc=!1,zf=null,UM.apply(jM,arguments)}function zM(t,e,n,r,i,o,s,a,l){if(BM.apply(this,arguments),gc){if(gc){var u=zf;gc=!1,zf=null}else throw Error(H(198));Wf||(Wf=!0,Vv=u)}}function wa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Kx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vT(t){if(wa(t)!==t)throw Error(H(188))}function WM(t){var e=t.alternate;if(!e){if(e=wa(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return vT(i),t;if(o===r)return vT(i),e;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function Gx(t){return t=WM(t),t!==null?Qx(t):null}function Qx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Qx(t);if(e!==null)return e;t=t.sibling}return null}var Yx=wr.unstable_scheduleCallback,_T=wr.unstable_cancelCallback,HM=wr.unstable_shouldYield,qM=wr.unstable_requestPaint,zt=wr.unstable_now,KM=wr.unstable_getCurrentPriorityLevel,W0=wr.unstable_ImmediatePriority,Xx=wr.unstable_UserBlockingPriority,Hf=wr.unstable_NormalPriority,GM=wr.unstable_LowPriority,Jx=wr.unstable_IdlePriority,am=null,Ii=null;function QM(t){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(am,t,void 0,(t.current.flags&128)===128)}catch{}}var oi=Math.clz32?Math.clz32:JM,YM=Math.log,XM=Math.LN2;function JM(t){return t>>>=0,t===0?32:31-(YM(t)/XM|0)|0}var Mh=64,Lh=4194304;function nc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=nc(a):(o&=s,o!==0&&(r=nc(o)))}else s=n&~i,s!==0?r=nc(s):o!==0&&(r=nc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-oi(e),i=1<<n,r|=t[n],e&=~i;return r}function ZM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-oi(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=ZM(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function Uv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Zx(){var t=Mh;return Mh<<=1,!(Mh&4194240)&&(Mh=64),t}function my(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-oi(e),t[e]=n}function tL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-oi(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function H0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-oi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Je=0;function eb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tb,q0,nb,rb,ib,jv=!1,$h=[],Vo=null,Uo=null,jo=null,qc=new Map,Kc=new Map,bo=[],nL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wT(t,e){switch(t){case"focusin":case"focusout":Vo=null;break;case"dragenter":case"dragleave":Uo=null;break;case"mouseover":case"mouseout":jo=null;break;case"pointerover":case"pointerout":qc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kc.delete(e.pointerId)}}function Ru(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=jd(e),e!==null&&q0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rL(t,e,n,r,i){switch(e){case"focusin":return Vo=Ru(Vo,t,e,n,r,i),!0;case"dragenter":return Uo=Ru(Uo,t,e,n,r,i),!0;case"mouseover":return jo=Ru(jo,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return qc.set(o,Ru(qc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Kc.set(o,Ru(Kc.get(o)||null,t,e,n,r,i)),!0}return!1}function ob(t){var e=As(t.target);if(e!==null){var n=wa(e);if(n!==null){if(e=n.tag,e===13){if(e=Kx(n),e!==null){t.blockedOn=e,ib(t.priority,function(){nb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Bv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Lv=r,n.target.dispatchEvent(r),Lv=null}else return e=jd(n),e!==null&&q0(e),t.blockedOn=n,!1;e.shift()}return!0}function ET(t,e,n){yf(t)&&n.delete(e)}function iL(){jv=!1,Vo!==null&&yf(Vo)&&(Vo=null),Uo!==null&&yf(Uo)&&(Uo=null),jo!==null&&yf(jo)&&(jo=null),qc.forEach(ET),Kc.forEach(ET)}function xu(t,e){t.blockedOn===e&&(t.blockedOn=null,jv||(jv=!0,wr.unstable_scheduleCallback(wr.unstable_NormalPriority,iL)))}function Gc(t){function e(i){return xu(i,t)}if(0<$h.length){xu($h[0],t);for(var n=1;n<$h.length;n++){var r=$h[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vo!==null&&xu(Vo,t),Uo!==null&&xu(Uo,t),jo!==null&&xu(jo,t),qc.forEach(e),Kc.forEach(e),n=0;n<bo.length;n++)r=bo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bo.length&&(n=bo[0],n.blockedOn===null);)ob(n),n.blockedOn===null&&bo.shift()}var ul=po.ReactCurrentBatchConfig,Kf=!0;function oL(t,e,n,r){var i=Je,o=ul.transition;ul.transition=null;try{Je=1,K0(t,e,n,r)}finally{Je=i,ul.transition=o}}function sL(t,e,n,r){var i=Je,o=ul.transition;ul.transition=null;try{Je=4,K0(t,e,n,r)}finally{Je=i,ul.transition=o}}function K0(t,e,n,r){if(Kf){var i=Bv(t,e,n,r);if(i===null)Iy(t,e,r,Gf,n),wT(t,r);else if(rL(i,t,e,n,r))r.stopPropagation();else if(wT(t,r),e&4&&-1<nL.indexOf(t)){for(;i!==null;){var o=jd(i);if(o!==null&&tb(o),o=Bv(t,e,n,r),o===null&&Iy(t,e,r,Gf,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Iy(t,e,r,null,n)}}var Gf=null;function Bv(t,e,n,r){if(Gf=null,t=z0(r),t=As(t),t!==null)if(e=wa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Kx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gf=t,null}function sb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(KM()){case W0:return 1;case Xx:return 4;case Hf:case GM:return 16;case Jx:return 536870912;default:return 16}default:return 16}}var Mo=null,G0=null,vf=null;function ab(){if(vf)return vf;var t,e=G0,n=e.length,r,i="value"in Mo?Mo.value:Mo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return vf=i.slice(t,1<r?1-r:void 0)}function _f(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fh(){return!0}function TT(){return!1}function Cr(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Fh:TT,this.isPropagationStopped=TT,this}return Nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fh)},persist:function(){},isPersistent:Fh}),e}var Yl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Q0=Cr(Yl),Ud=Nt({},Yl,{view:0,detail:0}),aL=Cr(Ud),gy,yy,bu,lm=Nt({},Ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Y0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bu&&(bu&&t.type==="mousemove"?(gy=t.screenX-bu.screenX,yy=t.screenY-bu.screenY):yy=gy=0,bu=t),gy)},movementY:function(t){return"movementY"in t?t.movementY:yy}}),ST=Cr(lm),lL=Nt({},lm,{dataTransfer:0}),uL=Cr(lL),cL=Nt({},Ud,{relatedTarget:0}),vy=Cr(cL),dL=Nt({},Yl,{animationName:0,elapsedTime:0,pseudoElement:0}),hL=Cr(dL),fL=Nt({},Yl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),pL=Cr(fL),mL=Nt({},Yl,{data:0}),CT=Cr(mL),gL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _L(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vL[t])?!!e[t]:!1}function Y0(){return _L}var wL=Nt({},Ud,{key:function(t){if(t.key){var e=gL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_f(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Y0,charCode:function(t){return t.type==="keypress"?_f(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_f(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),EL=Cr(wL),TL=Nt({},lm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),IT=Cr(TL),SL=Nt({},Ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Y0}),CL=Cr(SL),IL=Nt({},Yl,{propertyName:0,elapsedTime:0,pseudoElement:0}),RL=Cr(IL),xL=Nt({},lm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),bL=Cr(xL),PL=[9,13,27,32],X0=ro&&"CompositionEvent"in window,yc=null;ro&&"documentMode"in document&&(yc=document.documentMode);var kL=ro&&"TextEvent"in window&&!yc,lb=ro&&(!X0||yc&&8<yc&&11>=yc),RT=" ",xT=!1;function ub(t,e){switch(t){case"keyup":return PL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ha=!1;function AL(t,e){switch(t){case"compositionend":return cb(e);case"keypress":return e.which!==32?null:(xT=!0,RT);case"textInput":return t=e.data,t===RT&&xT?null:t;default:return null}}function NL(t,e){if(Ha)return t==="compositionend"||!X0&&ub(t,e)?(t=ab(),vf=G0=Mo=null,Ha=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lb&&e.locale!=="ko"?null:e.data;default:return null}}var OL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!OL[t.type]:e==="textarea"}function db(t,e,n,r){Bx(r),e=Qf(e,"onChange"),0<e.length&&(n=new Q0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vc=null,Qc=null;function DL(t){Tb(t,0)}function um(t){var e=Ga(t);if(Mx(e))return t}function ML(t,e){if(t==="change")return e}var hb=!1;if(ro){var _y;if(ro){var wy="oninput"in document;if(!wy){var PT=document.createElement("div");PT.setAttribute("oninput","return;"),wy=typeof PT.oninput=="function"}_y=wy}else _y=!1;hb=_y&&(!document.documentMode||9<document.documentMode)}function kT(){vc&&(vc.detachEvent("onpropertychange",fb),Qc=vc=null)}function fb(t){if(t.propertyName==="value"&&um(Qc)){var e=[];db(e,Qc,t,z0(t)),qx(DL,e)}}function LL(t,e,n){t==="focusin"?(kT(),vc=e,Qc=n,vc.attachEvent("onpropertychange",fb)):t==="focusout"&&kT()}function $L(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return um(Qc)}function FL(t,e){if(t==="click")return um(e)}function VL(t,e){if(t==="input"||t==="change")return um(e)}function UL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var li=typeof Object.is=="function"?Object.is:UL;function Yc(t,e){if(li(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cv.call(e,i)||!li(t[i],e[i]))return!1}return!0}function AT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function NT(t,e){var n=AT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=AT(n)}}function pb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mb(){for(var t=window,e=Bf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Bf(t.document)}return e}function J0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jL(t){var e=mb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pb(n.ownerDocument.documentElement,n)){if(r!==null&&J0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=NT(n,o);var s=NT(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var BL=ro&&"documentMode"in document&&11>=document.documentMode,qa=null,zv=null,_c=null,Wv=!1;function OT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wv||qa==null||qa!==Bf(r)||(r=qa,"selectionStart"in r&&J0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_c&&Yc(_c,r)||(_c=r,r=Qf(zv,"onSelect"),0<r.length&&(e=new Q0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=qa)))}function Vh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ka={animationend:Vh("Animation","AnimationEnd"),animationiteration:Vh("Animation","AnimationIteration"),animationstart:Vh("Animation","AnimationStart"),transitionend:Vh("Transition","TransitionEnd")},Ey={},gb={};ro&&(gb=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function cm(t){if(Ey[t])return Ey[t];if(!Ka[t])return t;var e=Ka[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gb)return Ey[t]=e[n];return t}var yb=cm("animationend"),vb=cm("animationiteration"),_b=cm("animationstart"),wb=cm("transitionend"),Eb=new Map,DT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ls(t,e){Eb.set(t,e),_a(e,[t])}for(var Ty=0;Ty<DT.length;Ty++){var Sy=DT[Ty],zL=Sy.toLowerCase(),WL=Sy[0].toUpperCase()+Sy.slice(1);ls(zL,"on"+WL)}ls(yb,"onAnimationEnd");ls(vb,"onAnimationIteration");ls(_b,"onAnimationStart");ls("dblclick","onDoubleClick");ls("focusin","onFocus");ls("focusout","onBlur");ls(wb,"onTransitionEnd");El("onMouseEnter",["mouseout","mouseover"]);El("onMouseLeave",["mouseout","mouseover"]);El("onPointerEnter",["pointerout","pointerover"]);El("onPointerLeave",["pointerout","pointerover"]);_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_a("onBeforeInput",["compositionend","keypress","textInput","paste"]);_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HL=new Set("cancel close invalid load scroll toggle".split(" ").concat(rc));function MT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,zM(r,e,void 0,t),t.currentTarget=null}function Tb(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;MT(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;MT(i,a,u),o=l}}}if(Wf)throw t=Vv,Wf=!1,Vv=null,t}function dt(t,e){var n=e[Qv];n===void 0&&(n=e[Qv]=new Set);var r=t+"__bubble";n.has(r)||(Sb(e,t,2,!1),n.add(r))}function Cy(t,e,n){var r=0;e&&(r|=4),Sb(n,t,r,e)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function Xc(t){if(!t[Uh]){t[Uh]=!0,kx.forEach(function(n){n!=="selectionchange"&&(HL.has(n)||Cy(n,!1,t),Cy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uh]||(e[Uh]=!0,Cy("selectionchange",!1,e))}}function Sb(t,e,n,r){switch(sb(e)){case 1:var i=oL;break;case 4:i=sL;break;default:i=K0}n=i.bind(null,e,n,t),i=void 0,!Fv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Iy(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=As(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}qx(function(){var u=o,c=z0(n),d=[];e:{var h=Eb.get(t);if(h!==void 0){var p=Q0,m=t;switch(t){case"keypress":if(_f(n)===0)break e;case"keydown":case"keyup":p=EL;break;case"focusin":m="focus",p=vy;break;case"focusout":m="blur",p=vy;break;case"beforeblur":case"afterblur":p=vy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ST;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=uL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=CL;break;case yb:case vb:case _b:p=hL;break;case wb:p=RL;break;case"scroll":p=aL;break;case"wheel":p=bL;break;case"copy":case"cut":case"paste":p=pL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=IT}var v=(e&4)!==0,_=!v&&t==="scroll",f=v?h!==null?h+"Capture":null:h;v=[];for(var g=u,y;g!==null;){y=g;var T=y.stateNode;if(y.tag===5&&T!==null&&(y=T,f!==null&&(T=Hc(g,f),T!=null&&v.push(Jc(g,T,y)))),_)break;g=g.return}0<v.length&&(h=new p(h,m,null,n,c),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Lv&&(m=n.relatedTarget||n.fromElement)&&(As(m)||m[io]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?As(m):null,m!==null&&(_=wa(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(v=ST,T="onMouseLeave",f="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=IT,T="onPointerLeave",f="onPointerEnter",g="pointer"),_=p==null?h:Ga(p),y=m==null?h:Ga(m),h=new v(T,g+"leave",p,n,c),h.target=_,h.relatedTarget=y,T=null,As(c)===u&&(v=new v(f,g+"enter",m,n,c),v.target=y,v.relatedTarget=_,T=v),_=T,p&&m)t:{for(v=p,f=m,g=0,y=v;y;y=Pa(y))g++;for(y=0,T=f;T;T=Pa(T))y++;for(;0<g-y;)v=Pa(v),g--;for(;0<y-g;)f=Pa(f),y--;for(;g--;){if(v===f||f!==null&&v===f.alternate)break t;v=Pa(v),f=Pa(f)}v=null}else v=null;p!==null&&LT(d,h,p,v,!1),m!==null&&_!==null&&LT(d,_,m,v,!0)}}e:{if(h=u?Ga(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var I=ML;else if(bT(h))if(hb)I=VL;else{I=$L;var E=LL}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=FL);if(I&&(I=I(t,u))){db(d,I,n,c);break e}E&&E(t,h,u),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Av(h,"number",h.value)}switch(E=u?Ga(u):window,t){case"focusin":(bT(E)||E.contentEditable==="true")&&(qa=E,zv=u,_c=null);break;case"focusout":_c=zv=qa=null;break;case"mousedown":Wv=!0;break;case"contextmenu":case"mouseup":case"dragend":Wv=!1,OT(d,n,c);break;case"selectionchange":if(BL)break;case"keydown":case"keyup":OT(d,n,c)}var C;if(X0)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Ha?ub(t,n)&&(x="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(x="onCompositionStart");x&&(lb&&n.locale!=="ko"&&(Ha||x!=="onCompositionStart"?x==="onCompositionEnd"&&Ha&&(C=ab()):(Mo=c,G0="value"in Mo?Mo.value:Mo.textContent,Ha=!0)),E=Qf(u,x),0<E.length&&(x=new CT(x,t,null,n,c),d.push({event:x,listeners:E}),C?x.data=C:(C=cb(n),C!==null&&(x.data=C)))),(C=kL?AL(t,n):NL(t,n))&&(u=Qf(u,"onBeforeInput"),0<u.length&&(c=new CT("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}Tb(d,e)})}function Jc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Qf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Hc(t,n),o!=null&&r.unshift(Jc(t,o,i)),o=Hc(t,e),o!=null&&r.push(Jc(t,o,i))),t=t.return}return r}function Pa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function LT(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Hc(n,o),l!=null&&s.unshift(Jc(n,l,a))):i||(l=Hc(n,o),l!=null&&s.push(Jc(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var qL=/\r\n?/g,KL=/\u0000|\uFFFD/g;function $T(t){return(typeof t=="string"?t:""+t).replace(qL,`
`).replace(KL,"")}function jh(t,e,n){if(e=$T(e),$T(t)!==e&&n)throw Error(H(425))}function Yf(){}var Hv=null,qv=null;function Kv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Gv=typeof setTimeout=="function"?setTimeout:void 0,GL=typeof clearTimeout=="function"?clearTimeout:void 0,FT=typeof Promise=="function"?Promise:void 0,QL=typeof queueMicrotask=="function"?queueMicrotask:typeof FT<"u"?function(t){return FT.resolve(null).then(t).catch(YL)}:Gv;function YL(t){setTimeout(function(){throw t})}function Ry(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Gc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gc(e)}function Bo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function VT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xl=Math.random().toString(36).slice(2),vi="__reactFiber$"+Xl,Zc="__reactProps$"+Xl,io="__reactContainer$"+Xl,Qv="__reactEvents$"+Xl,XL="__reactListeners$"+Xl,JL="__reactHandles$"+Xl;function As(t){var e=t[vi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[io]||n[vi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=VT(t);t!==null;){if(n=t[vi])return n;t=VT(t)}return e}t=n,n=t.parentNode}return null}function jd(t){return t=t[vi]||t[io],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ga(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function dm(t){return t[Zc]||null}var Yv=[],Qa=-1;function us(t){return{current:t}}function gt(t){0>Qa||(t.current=Yv[Qa],Yv[Qa]=null,Qa--)}function lt(t,e){Qa++,Yv[Qa]=t.current,t.current=e}var Zo={},Wn=us(Zo),or=us(!1),Xs=Zo;function Tl(t,e){var n=t.type.contextTypes;if(!n)return Zo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sr(t){return t=t.childContextTypes,t!=null}function Xf(){gt(or),gt(Wn)}function UT(t,e,n){if(Wn.current!==Zo)throw Error(H(168));lt(Wn,e),lt(or,n)}function Cb(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,LM(t)||"Unknown",i));return Nt({},n,r)}function Jf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zo,Xs=Wn.current,lt(Wn,t),lt(or,or.current),!0}function jT(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=Cb(t,e,Xs),r.__reactInternalMemoizedMergedChildContext=t,gt(or),gt(Wn),lt(Wn,t)):gt(or),lt(or,n)}var qi=null,hm=!1,xy=!1;function Ib(t){qi===null?qi=[t]:qi.push(t)}function ZL(t){hm=!0,Ib(t)}function cs(){if(!xy&&qi!==null){xy=!0;var t=0,e=Je;try{var n=qi;for(Je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qi=null,hm=!1}catch(i){throw qi!==null&&(qi=qi.slice(t+1)),Yx(W0,cs),i}finally{Je=e,xy=!1}}return null}var Ya=[],Xa=0,Zf=null,ep=0,Pr=[],kr=0,Js=null,Ki=1,Gi="";function Ss(t,e){Ya[Xa++]=ep,Ya[Xa++]=Zf,Zf=t,ep=e}function Rb(t,e,n){Pr[kr++]=Ki,Pr[kr++]=Gi,Pr[kr++]=Js,Js=t;var r=Ki;t=Gi;var i=32-oi(r)-1;r&=~(1<<i),n+=1;var o=32-oi(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ki=1<<32-oi(e)+i|n<<i|r,Gi=o+t}else Ki=1<<o|n<<i|r,Gi=t}function Z0(t){t.return!==null&&(Ss(t,1),Rb(t,1,0))}function e1(t){for(;t===Zf;)Zf=Ya[--Xa],Ya[Xa]=null,ep=Ya[--Xa],Ya[Xa]=null;for(;t===Js;)Js=Pr[--kr],Pr[kr]=null,Gi=Pr[--kr],Pr[kr]=null,Ki=Pr[--kr],Pr[kr]=null}var yr=null,pr=null,It=!1,ti=null;function xb(t,e){var n=Dr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function BT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yr=t,pr=Bo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yr=t,pr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Js!==null?{id:Ki,overflow:Gi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Dr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yr=t,pr=null,!0):!1;default:return!1}}function Xv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jv(t){if(It){var e=pr;if(e){var n=e;if(!BT(t,e)){if(Xv(t))throw Error(H(418));e=Bo(n.nextSibling);var r=yr;e&&BT(t,e)?xb(r,n):(t.flags=t.flags&-4097|2,It=!1,yr=t)}}else{if(Xv(t))throw Error(H(418));t.flags=t.flags&-4097|2,It=!1,yr=t}}}function zT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yr=t}function Bh(t){if(t!==yr)return!1;if(!It)return zT(t),It=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Kv(t.type,t.memoizedProps)),e&&(e=pr)){if(Xv(t))throw bb(),Error(H(418));for(;e;)xb(t,e),e=Bo(e.nextSibling)}if(zT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pr=Bo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pr=null}}else pr=yr?Bo(t.stateNode.nextSibling):null;return!0}function bb(){for(var t=pr;t;)t=Bo(t.nextSibling)}function Sl(){pr=yr=null,It=!1}function t1(t){ti===null?ti=[t]:ti.push(t)}var e4=po.ReactCurrentBatchConfig;function Jr(t,e){if(t&&t.defaultProps){e=Nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var tp=us(null),np=null,Ja=null,n1=null;function r1(){n1=Ja=np=null}function i1(t){var e=tp.current;gt(tp),t._currentValue=e}function Zv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function cl(t,e){np=t,n1=Ja=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rr=!0),t.firstContext=null)}function Br(t){var e=t._currentValue;if(n1!==t)if(t={context:t,memoizedValue:e,next:null},Ja===null){if(np===null)throw Error(H(308));Ja=t,np.dependencies={lanes:0,firstContext:t}}else Ja=Ja.next=t;return e}var Ns=null;function o1(t){Ns===null?Ns=[t]:Ns.push(t)}function Pb(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,o1(e)):(n.next=i.next,i.next=n),e.interleaved=n,oo(t,r)}function oo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xo=!1;function s1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kb(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,He&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,oo(t,n)}return i=r.interleaved,i===null?(e.next=e,o1(r)):(e.next=i.next,i.next=e),r.interleaved=e,oo(t,n)}function wf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,H0(t,n)}}function WT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function rp(t,e,n,r){var i=t.updateQueue;xo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(h=e,p=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=Nt({},d,h);break e;case 2:xo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ea|=s,t.lanes=s,t.memoizedState=d}}function HT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Ab=new Px.Component().refs;function e_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var fm={isMounted:function(t){return(t=t._reactInternals)?wa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qn(),i=Ho(t),o=Zi(r,i);o.payload=e,n!=null&&(o.callback=n),e=zo(t,o,i),e!==null&&(si(e,t,i,r),wf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qn(),i=Ho(t),o=Zi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=zo(t,o,i),e!==null&&(si(e,t,i,r),wf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qn(),r=Ho(t),i=Zi(n,r);i.tag=2,e!=null&&(i.callback=e),e=zo(t,i,r),e!==null&&(si(e,t,r,n),wf(e,t,r))}};function qT(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Yc(n,r)||!Yc(i,o):!0}function Nb(t,e,n){var r=!1,i=Zo,o=e.contextType;return typeof o=="object"&&o!==null?o=Br(o):(i=sr(e)?Xs:Wn.current,r=e.contextTypes,o=(r=r!=null)?Tl(t,i):Zo),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=fm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function KT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&fm.enqueueReplaceState(e,e.state,null)}function t_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Ab,s1(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Br(o):(o=sr(e)?Xs:Wn.current,i.context=Tl(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(e_(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&fm.enqueueReplaceState(i,i.state,null),rp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Pu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===Ab&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function zh(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function GT(t){var e=t._init;return e(t._payload)}function Ob(t){function e(f,g){if(t){var y=f.deletions;y===null?(f.deletions=[g],f.flags|=16):y.push(g)}}function n(f,g){if(!t)return null;for(;g!==null;)e(f,g),g=g.sibling;return null}function r(f,g){for(f=new Map;g!==null;)g.key!==null?f.set(g.key,g):f.set(g.index,g),g=g.sibling;return f}function i(f,g){return f=qo(f,g),f.index=0,f.sibling=null,f}function o(f,g,y){return f.index=y,t?(y=f.alternate,y!==null?(y=y.index,y<g?(f.flags|=2,g):y):(f.flags|=2,g)):(f.flags|=1048576,g)}function s(f){return t&&f.alternate===null&&(f.flags|=2),f}function a(f,g,y,T){return g===null||g.tag!==6?(g=Dy(y,f.mode,T),g.return=f,g):(g=i(g,y),g.return=f,g)}function l(f,g,y,T){var I=y.type;return I===Wa?c(f,g,y.props.children,T,y.key):g!==null&&(g.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Ro&&GT(I)===g.type)?(T=i(g,y.props),T.ref=Pu(f,g,y),T.return=f,T):(T=Rf(y.type,y.key,y.props,null,f.mode,T),T.ref=Pu(f,g,y),T.return=f,T)}function u(f,g,y,T){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=My(y,f.mode,T),g.return=f,g):(g=i(g,y.children||[]),g.return=f,g)}function c(f,g,y,T,I){return g===null||g.tag!==7?(g=Hs(y,f.mode,T,I),g.return=f,g):(g=i(g,y),g.return=f,g)}function d(f,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Dy(""+g,f.mode,y),g.return=f,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Nh:return y=Rf(g.type,g.key,g.props,null,f.mode,y),y.ref=Pu(f,null,g),y.return=f,y;case za:return g=My(g,f.mode,y),g.return=f,g;case Ro:var T=g._init;return d(f,T(g._payload),y)}if(tc(g)||Cu(g))return g=Hs(g,f.mode,y,null),g.return=f,g;zh(f,g)}return null}function h(f,g,y,T){var I=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return I!==null?null:a(f,g,""+y,T);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Nh:return y.key===I?l(f,g,y,T):null;case za:return y.key===I?u(f,g,y,T):null;case Ro:return I=y._init,h(f,g,I(y._payload),T)}if(tc(y)||Cu(y))return I!==null?null:c(f,g,y,T,null);zh(f,y)}return null}function p(f,g,y,T,I){if(typeof T=="string"&&T!==""||typeof T=="number")return f=f.get(y)||null,a(g,f,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Nh:return f=f.get(T.key===null?y:T.key)||null,l(g,f,T,I);case za:return f=f.get(T.key===null?y:T.key)||null,u(g,f,T,I);case Ro:var E=T._init;return p(f,g,y,E(T._payload),I)}if(tc(T)||Cu(T))return f=f.get(y)||null,c(g,f,T,I,null);zh(g,T)}return null}function m(f,g,y,T){for(var I=null,E=null,C=g,x=g=0,P=null;C!==null&&x<y.length;x++){C.index>x?(P=C,C=null):P=C.sibling;var k=h(f,C,y[x],T);if(k===null){C===null&&(C=P);break}t&&C&&k.alternate===null&&e(f,C),g=o(k,g,x),E===null?I=k:E.sibling=k,E=k,C=P}if(x===y.length)return n(f,C),It&&Ss(f,x),I;if(C===null){for(;x<y.length;x++)C=d(f,y[x],T),C!==null&&(g=o(C,g,x),E===null?I=C:E.sibling=C,E=C);return It&&Ss(f,x),I}for(C=r(f,C);x<y.length;x++)P=p(C,f,x,y[x],T),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?x:P.key),g=o(P,g,x),E===null?I=P:E.sibling=P,E=P);return t&&C.forEach(function(D){return e(f,D)}),It&&Ss(f,x),I}function v(f,g,y,T){var I=Cu(y);if(typeof I!="function")throw Error(H(150));if(y=I.call(y),y==null)throw Error(H(151));for(var E=I=null,C=g,x=g=0,P=null,k=y.next();C!==null&&!k.done;x++,k=y.next()){C.index>x?(P=C,C=null):P=C.sibling;var D=h(f,C,k.value,T);if(D===null){C===null&&(C=P);break}t&&C&&D.alternate===null&&e(f,C),g=o(D,g,x),E===null?I=D:E.sibling=D,E=D,C=P}if(k.done)return n(f,C),It&&Ss(f,x),I;if(C===null){for(;!k.done;x++,k=y.next())k=d(f,k.value,T),k!==null&&(g=o(k,g,x),E===null?I=k:E.sibling=k,E=k);return It&&Ss(f,x),I}for(C=r(f,C);!k.done;x++,k=y.next())k=p(C,f,x,k.value,T),k!==null&&(t&&k.alternate!==null&&C.delete(k.key===null?x:k.key),g=o(k,g,x),E===null?I=k:E.sibling=k,E=k);return t&&C.forEach(function(F){return e(f,F)}),It&&Ss(f,x),I}function _(f,g,y,T){if(typeof y=="object"&&y!==null&&y.type===Wa&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Nh:e:{for(var I=y.key,E=g;E!==null;){if(E.key===I){if(I=y.type,I===Wa){if(E.tag===7){n(f,E.sibling),g=i(E,y.props.children),g.return=f,f=g;break e}}else if(E.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Ro&&GT(I)===E.type){n(f,E.sibling),g=i(E,y.props),g.ref=Pu(f,E,y),g.return=f,f=g;break e}n(f,E);break}else e(f,E);E=E.sibling}y.type===Wa?(g=Hs(y.props.children,f.mode,T,y.key),g.return=f,f=g):(T=Rf(y.type,y.key,y.props,null,f.mode,T),T.ref=Pu(f,g,y),T.return=f,f=T)}return s(f);case za:e:{for(E=y.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(f,g.sibling),g=i(g,y.children||[]),g.return=f,f=g;break e}else{n(f,g);break}else e(f,g);g=g.sibling}g=My(y,f.mode,T),g.return=f,f=g}return s(f);case Ro:return E=y._init,_(f,g,E(y._payload),T)}if(tc(y))return m(f,g,y,T);if(Cu(y))return v(f,g,y,T);zh(f,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(f,g.sibling),g=i(g,y),g.return=f,f=g):(n(f,g),g=Dy(y,f.mode,T),g.return=f,f=g),s(f)):n(f,g)}return _}var Cl=Ob(!0),Db=Ob(!1),Bd={},Ri=us(Bd),ed=us(Bd),td=us(Bd);function Os(t){if(t===Bd)throw Error(H(174));return t}function a1(t,e){switch(lt(td,e),lt(ed,t),lt(Ri,Bd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ov(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ov(e,t)}gt(Ri),lt(Ri,e)}function Il(){gt(Ri),gt(ed),gt(td)}function Mb(t){Os(td.current);var e=Os(Ri.current),n=Ov(e,t.type);e!==n&&(lt(ed,t),lt(Ri,n))}function l1(t){ed.current===t&&(gt(Ri),gt(ed))}var Pt=us(0);function ip(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var by=[];function u1(){for(var t=0;t<by.length;t++)by[t]._workInProgressVersionPrimary=null;by.length=0}var Ef=po.ReactCurrentDispatcher,Py=po.ReactCurrentBatchConfig,Zs=0,At=null,rn=null,dn=null,op=!1,wc=!1,nd=0,t4=0;function An(){throw Error(H(321))}function c1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!li(t[n],e[n]))return!1;return!0}function d1(t,e,n,r,i,o){if(Zs=o,At=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ef.current=t===null||t.memoizedState===null?o4:s4,t=n(r,i),wc){o=0;do{if(wc=!1,nd=0,25<=o)throw Error(H(301));o+=1,dn=rn=null,e.updateQueue=null,Ef.current=a4,t=n(r,i)}while(wc)}if(Ef.current=sp,e=rn!==null&&rn.next!==null,Zs=0,dn=rn=At=null,op=!1,e)throw Error(H(300));return t}function h1(){var t=nd!==0;return nd=0,t}function mi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?At.memoizedState=dn=t:dn=dn.next=t,dn}function zr(){if(rn===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=rn.next;var e=dn===null?At.memoizedState:dn.next;if(e!==null)dn=e,rn=t;else{if(t===null)throw Error(H(310));rn=t,t={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},dn===null?At.memoizedState=dn=t:dn=dn.next=t}return dn}function rd(t,e){return typeof e=="function"?e(t):e}function ky(t){var e=zr(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=rn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Zs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,At.lanes|=c,ea|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,li(r,e.memoizedState)||(rr=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,At.lanes|=o,ea|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ay(t){var e=zr(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);li(o,e.memoizedState)||(rr=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Lb(){}function $b(t,e){var n=At,r=zr(),i=e(),o=!li(r.memoizedState,i);if(o&&(r.memoizedState=i,rr=!0),r=r.queue,f1(Ub.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||dn!==null&&dn.memoizedState.tag&1){if(n.flags|=2048,id(9,Vb.bind(null,n,r,i,e),void 0,null),mn===null)throw Error(H(349));Zs&30||Fb(n,e,i)}return i}function Fb(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Vb(t,e,n,r){e.value=n,e.getSnapshot=r,jb(e)&&Bb(t)}function Ub(t,e,n){return n(function(){jb(e)&&Bb(t)})}function jb(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!li(t,n)}catch{return!0}}function Bb(t){var e=oo(t,1);e!==null&&si(e,t,1,-1)}function QT(t){var e=mi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rd,lastRenderedState:t},e.queue=t,t=t.dispatch=i4.bind(null,At,t),[e.memoizedState,t]}function id(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function zb(){return zr().memoizedState}function Tf(t,e,n,r){var i=mi();At.flags|=t,i.memoizedState=id(1|e,n,void 0,r===void 0?null:r)}function pm(t,e,n,r){var i=zr();r=r===void 0?null:r;var o=void 0;if(rn!==null){var s=rn.memoizedState;if(o=s.destroy,r!==null&&c1(r,s.deps)){i.memoizedState=id(e,n,o,r);return}}At.flags|=t,i.memoizedState=id(1|e,n,o,r)}function YT(t,e){return Tf(8390656,8,t,e)}function f1(t,e){return pm(2048,8,t,e)}function Wb(t,e){return pm(4,2,t,e)}function Hb(t,e){return pm(4,4,t,e)}function qb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Kb(t,e,n){return n=n!=null?n.concat([t]):null,pm(4,4,qb.bind(null,e,t),n)}function p1(){}function Gb(t,e){var n=zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&c1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Qb(t,e){var n=zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&c1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Yb(t,e,n){return Zs&21?(li(n,e)||(n=Zx(),At.lanes|=n,ea|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rr=!0),t.memoizedState=n)}function n4(t,e){var n=Je;Je=n!==0&&4>n?n:4,t(!0);var r=Py.transition;Py.transition={};try{t(!1),e()}finally{Je=n,Py.transition=r}}function Xb(){return zr().memoizedState}function r4(t,e,n){var r=Ho(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Jb(t))Zb(e,n);else if(n=Pb(t,e,n,r),n!==null){var i=Qn();si(n,t,r,i),eP(n,e,r)}}function i4(t,e,n){var r=Ho(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Jb(t))Zb(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,li(a,s)){var l=e.interleaved;l===null?(i.next=i,o1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Pb(t,e,i,r),n!==null&&(i=Qn(),si(n,t,r,i),eP(n,e,r))}}function Jb(t){var e=t.alternate;return t===At||e!==null&&e===At}function Zb(t,e){wc=op=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function eP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,H0(t,n)}}var sp={readContext:Br,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},o4={readContext:Br,useCallback:function(t,e){return mi().memoizedState=[t,e===void 0?null:e],t},useContext:Br,useEffect:YT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Tf(4194308,4,qb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tf(4,2,t,e)},useMemo:function(t,e){var n=mi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=r4.bind(null,At,t),[r.memoizedState,t]},useRef:function(t){var e=mi();return t={current:t},e.memoizedState=t},useState:QT,useDebugValue:p1,useDeferredValue:function(t){return mi().memoizedState=t},useTransition:function(){var t=QT(!1),e=t[0];return t=n4.bind(null,t[1]),mi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=At,i=mi();if(It){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),mn===null)throw Error(H(349));Zs&30||Fb(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,YT(Ub.bind(null,r,o,t),[t]),r.flags|=2048,id(9,Vb.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=mi(),e=mn.identifierPrefix;if(It){var n=Gi,r=Ki;n=(r&~(1<<32-oi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=nd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=t4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},s4={readContext:Br,useCallback:Gb,useContext:Br,useEffect:f1,useImperativeHandle:Kb,useInsertionEffect:Wb,useLayoutEffect:Hb,useMemo:Qb,useReducer:ky,useRef:zb,useState:function(){return ky(rd)},useDebugValue:p1,useDeferredValue:function(t){var e=zr();return Yb(e,rn.memoizedState,t)},useTransition:function(){var t=ky(rd)[0],e=zr().memoizedState;return[t,e]},useMutableSource:Lb,useSyncExternalStore:$b,useId:Xb,unstable_isNewReconciler:!1},a4={readContext:Br,useCallback:Gb,useContext:Br,useEffect:f1,useImperativeHandle:Kb,useInsertionEffect:Wb,useLayoutEffect:Hb,useMemo:Qb,useReducer:Ay,useRef:zb,useState:function(){return Ay(rd)},useDebugValue:p1,useDeferredValue:function(t){var e=zr();return rn===null?e.memoizedState=t:Yb(e,rn.memoizedState,t)},useTransition:function(){var t=Ay(rd)[0],e=zr().memoizedState;return[t,e]},useMutableSource:Lb,useSyncExternalStore:$b,useId:Xb,unstable_isNewReconciler:!1};function Rl(t,e){try{var n="",r=e;do n+=MM(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Ny(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function n_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var l4=typeof WeakMap=="function"?WeakMap:Map;function tP(t,e,n){n=Zi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){lp||(lp=!0,h_=r),n_(t,e)},n}function nP(t,e,n){n=Zi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){n_(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){n_(t,e),typeof r!="function"&&(Wo===null?Wo=new Set([this]):Wo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function XT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new l4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=T4.bind(null,t,e,n),e.then(t,t))}function JT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ZT(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zi(-1,1),e.tag=2,zo(n,e,1))),n.lanes|=1),t)}var u4=po.ReactCurrentOwner,rr=!1;function Kn(t,e,n,r){e.child=t===null?Db(e,null,n,r):Cl(e,t.child,n,r)}function eS(t,e,n,r,i){n=n.render;var o=e.ref;return cl(e,i),r=d1(t,e,n,r,o,i),n=h1(),t!==null&&!rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,so(t,e,i)):(It&&n&&Z0(e),e.flags|=1,Kn(t,e,r,i),e.child)}function tS(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!T1(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,rP(t,e,o,r,i)):(t=Rf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Yc,n(s,r)&&t.ref===e.ref)return so(t,e,i)}return e.flags|=1,t=qo(o,r),t.ref=e.ref,t.return=e,e.child=t}function rP(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Yc(o,r)&&t.ref===e.ref)if(rr=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(rr=!0);else return e.lanes=t.lanes,so(t,e,i)}return r_(t,e,n,r,i)}function iP(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(el,hr),hr|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(el,hr),hr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,lt(el,hr),hr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,lt(el,hr),hr|=r;return Kn(t,e,i,n),e.child}function oP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function r_(t,e,n,r,i){var o=sr(n)?Xs:Wn.current;return o=Tl(e,o),cl(e,i),n=d1(t,e,n,r,o,i),r=h1(),t!==null&&!rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,so(t,e,i)):(It&&r&&Z0(e),e.flags|=1,Kn(t,e,n,i),e.child)}function nS(t,e,n,r,i){if(sr(n)){var o=!0;Jf(e)}else o=!1;if(cl(e,i),e.stateNode===null)Sf(t,e),Nb(e,n,r),t_(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Br(u):(u=sr(n)?Xs:Wn.current,u=Tl(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&KT(e,s,r,u),xo=!1;var h=e.memoizedState;s.state=h,rp(e,r,s,i),l=e.memoizedState,a!==r||h!==l||or.current||xo?(typeof c=="function"&&(e_(e,n,c,r),l=e.memoizedState),(a=xo||qT(e,n,a,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,kb(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Jr(e.type,a),s.props=u,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Br(l):(l=sr(n)?Xs:Wn.current,l=Tl(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&KT(e,s,r,l),xo=!1,h=e.memoizedState,s.state=h,rp(e,r,s,i);var m=e.memoizedState;a!==d||h!==m||or.current||xo?(typeof p=="function"&&(e_(e,n,p,r),m=e.memoizedState),(u=xo||qT(e,n,u,r,h,m,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return i_(t,e,n,r,o,i)}function i_(t,e,n,r,i,o){oP(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&jT(e,n,!1),so(t,e,o);r=e.stateNode,u4.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Cl(e,t.child,null,o),e.child=Cl(e,null,a,o)):Kn(t,e,a,o),e.memoizedState=r.state,i&&jT(e,n,!0),e.child}function sP(t){var e=t.stateNode;e.pendingContext?UT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&UT(t,e.context,!1),a1(t,e.containerInfo)}function rS(t,e,n,r,i){return Sl(),t1(i),e.flags|=256,Kn(t,e,n,r),e.child}var o_={dehydrated:null,treeContext:null,retryLane:0};function s_(t){return{baseLanes:t,cachePool:null,transitions:null}}function aP(t,e,n){var r=e.pendingProps,i=Pt.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),lt(Pt,i&1),t===null)return Jv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=ym(s,r,0,null),t=Hs(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=s_(n),e.memoizedState=o_,t):m1(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return c4(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=qo(a,o):(o=Hs(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?s_(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=o_,r}return o=t.child,t=o.sibling,r=qo(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function m1(t,e){return e=ym({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wh(t,e,n,r){return r!==null&&t1(r),Cl(e,t.child,null,n),t=m1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function c4(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Ny(Error(H(422))),Wh(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=ym({mode:"visible",children:r.children},i,0,null),o=Hs(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Cl(e,t.child,null,s),e.child.memoizedState=s_(s),e.memoizedState=o_,o);if(!(e.mode&1))return Wh(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(H(419)),r=Ny(o,r,void 0),Wh(t,e,s,r)}if(a=(s&t.childLanes)!==0,rr||a){if(r=mn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,oo(t,i),si(r,t,i,-1))}return E1(),r=Ny(Error(H(421))),Wh(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=S4.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,pr=Bo(i.nextSibling),yr=e,It=!0,ti=null,t!==null&&(Pr[kr++]=Ki,Pr[kr++]=Gi,Pr[kr++]=Js,Ki=t.id,Gi=t.overflow,Js=e),e=m1(e,r.children),e.flags|=4096,e)}function iS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zv(t.return,e,n)}function Oy(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function lP(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Kn(t,e,r.children,n),r=Pt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iS(t,n,e);else if(t.tag===19)iS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lt(Pt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ip(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Oy(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ip(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Oy(e,!0,n,null,o);break;case"together":Oy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function so(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ea|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=qo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function d4(t,e,n){switch(e.tag){case 3:sP(e),Sl();break;case 5:Mb(e);break;case 1:sr(e.type)&&Jf(e);break;case 4:a1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;lt(tp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lt(Pt,Pt.current&1),e.flags|=128,null):n&e.child.childLanes?aP(t,e,n):(lt(Pt,Pt.current&1),t=so(t,e,n),t!==null?t.sibling:null);lt(Pt,Pt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return lP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(Pt,Pt.current),r)break;return null;case 22:case 23:return e.lanes=0,iP(t,e,n)}return so(t,e,n)}var uP,a_,cP,dP;uP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};a_=function(){};cP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Os(Ri.current);var o=null;switch(n){case"input":i=Pv(t,i),r=Pv(t,r),o=[];break;case"select":i=Nt({},i,{value:void 0}),r=Nt({},r,{value:void 0}),o=[];break;case"textarea":i=Nv(t,i),r=Nv(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Yf)}Dv(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&dt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};dP=function(t,e,n,r){n!==r&&(e.flags|=4)};function ku(t,e){if(!It)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function h4(t,e,n){var r=e.pendingProps;switch(e1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(e),null;case 1:return sr(e.type)&&Xf(),Nn(e),null;case 3:return r=e.stateNode,Il(),gt(or),gt(Wn),u1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ti!==null&&(m_(ti),ti=null))),a_(t,e),Nn(e),null;case 5:l1(e);var i=Os(td.current);if(n=e.type,t!==null&&e.stateNode!=null)cP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Nn(e),null}if(t=Os(Ri.current),Bh(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[vi]=e,r[Zc]=o,t=(e.mode&1)!==0,n){case"dialog":dt("cancel",r),dt("close",r);break;case"iframe":case"object":case"embed":dt("load",r);break;case"video":case"audio":for(i=0;i<rc.length;i++)dt(rc[i],r);break;case"source":dt("error",r);break;case"img":case"image":case"link":dt("error",r),dt("load",r);break;case"details":dt("toggle",r);break;case"input":fT(r,o),dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},dt("invalid",r);break;case"textarea":mT(r,o),dt("invalid",r)}Dv(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&jh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&jh(r.textContent,a,t),i=["children",""+a]):zc.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&dt("scroll",r)}switch(n){case"input":Oh(r),pT(r,o,!0);break;case"textarea":Oh(r),gT(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Yf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Fx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[vi]=e,t[Zc]=r,uP(t,e,!1,!1),e.stateNode=t;e:{switch(s=Mv(n,r),n){case"dialog":dt("cancel",t),dt("close",t),i=r;break;case"iframe":case"object":case"embed":dt("load",t),i=r;break;case"video":case"audio":for(i=0;i<rc.length;i++)dt(rc[i],t);i=r;break;case"source":dt("error",t),i=r;break;case"img":case"image":case"link":dt("error",t),dt("load",t),i=r;break;case"details":dt("toggle",t),i=r;break;case"input":fT(t,r),i=Pv(t,r),dt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Nt({},r,{value:void 0}),dt("invalid",t);break;case"textarea":mT(t,r),i=Nv(t,r),dt("invalid",t);break;default:i=r}Dv(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?jx(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Vx(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wc(t,l):typeof l=="number"&&Wc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(zc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&dt("scroll",t):l!=null&&V0(t,o,l,s))}switch(n){case"input":Oh(t),pT(t,r,!1);break;case"textarea":Oh(t),gT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Jo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?sl(t,!!r.multiple,o,!1):r.defaultValue!=null&&sl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Yf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nn(e),null;case 6:if(t&&e.stateNode!=null)dP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Os(td.current),Os(Ri.current),Bh(e)){if(r=e.stateNode,n=e.memoizedProps,r[vi]=e,(o=r.nodeValue!==n)&&(t=yr,t!==null))switch(t.tag){case 3:jh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vi]=e,e.stateNode=r}return Nn(e),null;case 13:if(gt(Pt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(It&&pr!==null&&e.mode&1&&!(e.flags&128))bb(),Sl(),e.flags|=98560,o=!1;else if(o=Bh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(H(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[vi]=e}else Sl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nn(e),o=!1}else ti!==null&&(m_(ti),ti=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pt.current&1?on===0&&(on=3):E1())),e.updateQueue!==null&&(e.flags|=4),Nn(e),null);case 4:return Il(),a_(t,e),t===null&&Xc(e.stateNode.containerInfo),Nn(e),null;case 10:return i1(e.type._context),Nn(e),null;case 17:return sr(e.type)&&Xf(),Nn(e),null;case 19:if(gt(Pt),o=e.memoizedState,o===null)return Nn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)ku(o,!1);else{if(on!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=ip(t),s!==null){for(e.flags|=128,ku(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return lt(Pt,Pt.current&1|2),e.child}t=t.sibling}o.tail!==null&&zt()>xl&&(e.flags|=128,r=!0,ku(o,!1),e.lanes=4194304)}else{if(!r)if(t=ip(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ku(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!It)return Nn(e),null}else 2*zt()-o.renderingStartTime>xl&&n!==1073741824&&(e.flags|=128,r=!0,ku(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=zt(),e.sibling=null,n=Pt.current,lt(Pt,r?n&1|2:n&1),e):(Nn(e),null);case 22:case 23:return w1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?hr&1073741824&&(Nn(e),e.subtreeFlags&6&&(e.flags|=8192)):Nn(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function f4(t,e){switch(e1(e),e.tag){case 1:return sr(e.type)&&Xf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Il(),gt(or),gt(Wn),u1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return l1(e),null;case 13:if(gt(Pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Sl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gt(Pt),null;case 4:return Il(),null;case 10:return i1(e.type._context),null;case 22:case 23:return w1(),null;case 24:return null;default:return null}}var Hh=!1,Ln=!1,p4=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Za(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Vt(t,e,r)}else n.current=null}function l_(t,e,n){try{n()}catch(r){Vt(t,e,r)}}var oS=!1;function m4(t,e){if(Hv=Kf,t=mb(),J0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=s+i),d!==o||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(qv={focusedElem:t,selectionRange:n},Kf=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,_=m.memoizedState,f=e.stateNode,g=f.getSnapshotBeforeUpdate(e.elementType===e.type?v:Jr(e.type,v),_);f.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(T){Vt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return m=oS,oS=!1,m}function Ec(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&l_(e,n,o)}i=i.next}while(i!==r)}}function mm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function u_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hP(t){var e=t.alternate;e!==null&&(t.alternate=null,hP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vi],delete e[Zc],delete e[Qv],delete e[XL],delete e[JL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fP(t){return t.tag===5||t.tag===3||t.tag===4}function sS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function c_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Yf));else if(r!==4&&(t=t.child,t!==null))for(c_(t,e,n),t=t.sibling;t!==null;)c_(t,e,n),t=t.sibling}function d_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(d_(t,e,n),t=t.sibling;t!==null;)d_(t,e,n),t=t.sibling}var Tn=null,Zr=!1;function Eo(t,e,n){for(n=n.child;n!==null;)pP(t,e,n),n=n.sibling}function pP(t,e,n){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(am,n)}catch{}switch(n.tag){case 5:Ln||Za(n,e);case 6:var r=Tn,i=Zr;Tn=null,Eo(t,e,n),Tn=r,Zr=i,Tn!==null&&(Zr?(t=Tn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tn.removeChild(n.stateNode));break;case 18:Tn!==null&&(Zr?(t=Tn,n=n.stateNode,t.nodeType===8?Ry(t.parentNode,n):t.nodeType===1&&Ry(t,n),Gc(t)):Ry(Tn,n.stateNode));break;case 4:r=Tn,i=Zr,Tn=n.stateNode.containerInfo,Zr=!0,Eo(t,e,n),Tn=r,Zr=i;break;case 0:case 11:case 14:case 15:if(!Ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&l_(n,e,s),i=i.next}while(i!==r)}Eo(t,e,n);break;case 1:if(!Ln&&(Za(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Vt(n,e,a)}Eo(t,e,n);break;case 21:Eo(t,e,n);break;case 22:n.mode&1?(Ln=(r=Ln)||n.memoizedState!==null,Eo(t,e,n),Ln=r):Eo(t,e,n);break;default:Eo(t,e,n)}}function aS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new p4),e.forEach(function(r){var i=C4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Tn=a.stateNode,Zr=!1;break e;case 3:Tn=a.stateNode.containerInfo,Zr=!0;break e;case 4:Tn=a.stateNode.containerInfo,Zr=!0;break e}a=a.return}if(Tn===null)throw Error(H(160));pP(o,s,i),Tn=null,Zr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Vt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)mP(e,t),e=e.sibling}function mP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xr(e,t),pi(t),r&4){try{Ec(3,t,t.return),mm(3,t)}catch(v){Vt(t,t.return,v)}try{Ec(5,t,t.return)}catch(v){Vt(t,t.return,v)}}break;case 1:Xr(e,t),pi(t),r&512&&n!==null&&Za(n,n.return);break;case 5:if(Xr(e,t),pi(t),r&512&&n!==null&&Za(n,n.return),t.flags&32){var i=t.stateNode;try{Wc(i,"")}catch(v){Vt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Lx(i,o),Mv(a,s);var u=Mv(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?jx(i,d):c==="dangerouslySetInnerHTML"?Vx(i,d):c==="children"?Wc(i,d):V0(i,c,d,u)}switch(a){case"input":kv(i,o);break;case"textarea":$x(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?sl(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?sl(i,!!o.multiple,o.defaultValue,!0):sl(i,!!o.multiple,o.multiple?[]:"",!1))}i[Zc]=o}catch(v){Vt(t,t.return,v)}}break;case 6:if(Xr(e,t),pi(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){Vt(t,t.return,v)}}break;case 3:if(Xr(e,t),pi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gc(e.containerInfo)}catch(v){Vt(t,t.return,v)}break;case 4:Xr(e,t),pi(t);break;case 13:Xr(e,t),pi(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(v1=zt())),r&4&&aS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ln=(u=Ln)||c,Xr(e,t),Ln=u):Xr(e,t),pi(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Z=t,c=t.child;c!==null;){for(d=Z=c;Z!==null;){switch(h=Z,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ec(4,h,h.return);break;case 1:Za(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){Vt(r,n,v)}}break;case 5:Za(h,h.return);break;case 22:if(h.memoizedState!==null){uS(d);continue}}p!==null?(p.return=h,Z=p):uS(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ux("display",s))}catch(v){Vt(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Vt(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xr(e,t),pi(t),r&4&&aS(t);break;case 21:break;default:Xr(e,t),pi(t)}}function pi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fP(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wc(i,""),r.flags&=-33);var o=sS(t);d_(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=sS(t);c_(t,a,s);break;default:throw Error(H(161))}}catch(l){Vt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function g4(t,e,n){Z=t,gP(t)}function gP(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var i=Z,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Hh;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ln;a=Hh;var u=Ln;if(Hh=s,(Ln=l)&&!u)for(Z=i;Z!==null;)s=Z,l=s.child,s.tag===22&&s.memoizedState!==null?cS(i):l!==null?(l.return=s,Z=l):cS(i);for(;o!==null;)Z=o,gP(o),o=o.sibling;Z=i,Hh=a,Ln=u}lS(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Z=o):lS(t)}}function lS(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ln||mm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Jr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&HT(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}HT(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Gc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ln||e.flags&512&&u_(e)}catch(h){Vt(e,e.return,h)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function uS(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function cS(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{mm(4,e)}catch(l){Vt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Vt(e,i,l)}}var o=e.return;try{u_(e)}catch(l){Vt(e,o,l)}break;case 5:var s=e.return;try{u_(e)}catch(l){Vt(e,s,l)}}}catch(l){Vt(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var y4=Math.ceil,ap=po.ReactCurrentDispatcher,g1=po.ReactCurrentOwner,$r=po.ReactCurrentBatchConfig,He=0,mn=null,Xt=null,xn=0,hr=0,el=us(0),on=0,od=null,ea=0,gm=0,y1=0,Tc=null,tr=null,v1=0,xl=1/0,Hi=null,lp=!1,h_=null,Wo=null,qh=!1,Lo=null,up=0,Sc=0,f_=null,Cf=-1,If=0;function Qn(){return He&6?zt():Cf!==-1?Cf:Cf=zt()}function Ho(t){return t.mode&1?He&2&&xn!==0?xn&-xn:e4.transition!==null?(If===0&&(If=Zx()),If):(t=Je,t!==0||(t=window.event,t=t===void 0?16:sb(t.type)),t):1}function si(t,e,n,r){if(50<Sc)throw Sc=0,f_=null,Error(H(185));Vd(t,n,r),(!(He&2)||t!==mn)&&(t===mn&&(!(He&2)&&(gm|=n),on===4&&Po(t,xn)),ar(t,r),n===1&&He===0&&!(e.mode&1)&&(xl=zt()+500,hm&&cs()))}function ar(t,e){var n=t.callbackNode;eL(t,e);var r=qf(t,t===mn?xn:0);if(r===0)n!==null&&_T(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_T(n),e===1)t.tag===0?ZL(dS.bind(null,t)):Ib(dS.bind(null,t)),QL(function(){!(He&6)&&cs()}),n=null;else{switch(eb(r)){case 1:n=W0;break;case 4:n=Xx;break;case 16:n=Hf;break;case 536870912:n=Jx;break;default:n=Hf}n=CP(n,yP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function yP(t,e){if(Cf=-1,If=0,He&6)throw Error(H(327));var n=t.callbackNode;if(dl()&&t.callbackNode!==n)return null;var r=qf(t,t===mn?xn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=cp(t,r);else{e=r;var i=He;He|=2;var o=_P();(mn!==t||xn!==e)&&(Hi=null,xl=zt()+500,Ws(t,e));do try{w4();break}catch(a){vP(t,a)}while(!0);r1(),ap.current=o,He=i,Xt!==null?e=0:(mn=null,xn=0,e=on)}if(e!==0){if(e===2&&(i=Uv(t),i!==0&&(r=i,e=p_(t,i))),e===1)throw n=od,Ws(t,0),Po(t,r),ar(t,zt()),n;if(e===6)Po(t,r);else{if(i=t.current.alternate,!(r&30)&&!v4(i)&&(e=cp(t,r),e===2&&(o=Uv(t),o!==0&&(r=o,e=p_(t,o))),e===1))throw n=od,Ws(t,0),Po(t,r),ar(t,zt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Cs(t,tr,Hi);break;case 3:if(Po(t,r),(r&130023424)===r&&(e=v1+500-zt(),10<e)){if(qf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Gv(Cs.bind(null,t,tr,Hi),e);break}Cs(t,tr,Hi);break;case 4:if(Po(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-oi(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=zt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*y4(r/1960))-r,10<r){t.timeoutHandle=Gv(Cs.bind(null,t,tr,Hi),r);break}Cs(t,tr,Hi);break;case 5:Cs(t,tr,Hi);break;default:throw Error(H(329))}}}return ar(t,zt()),t.callbackNode===n?yP.bind(null,t):null}function p_(t,e){var n=Tc;return t.current.memoizedState.isDehydrated&&(Ws(t,e).flags|=256),t=cp(t,e),t!==2&&(e=tr,tr=n,e!==null&&m_(e)),t}function m_(t){tr===null?tr=t:tr.push.apply(tr,t)}function v4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!li(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Po(t,e){for(e&=~y1,e&=~gm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oi(e),r=1<<n;t[n]=-1,e&=~r}}function dS(t){if(He&6)throw Error(H(327));dl();var e=qf(t,0);if(!(e&1))return ar(t,zt()),null;var n=cp(t,e);if(t.tag!==0&&n===2){var r=Uv(t);r!==0&&(e=r,n=p_(t,r))}if(n===1)throw n=od,Ws(t,0),Po(t,e),ar(t,zt()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cs(t,tr,Hi),ar(t,zt()),null}function _1(t,e){var n=He;He|=1;try{return t(e)}finally{He=n,He===0&&(xl=zt()+500,hm&&cs())}}function ta(t){Lo!==null&&Lo.tag===0&&!(He&6)&&dl();var e=He;He|=1;var n=$r.transition,r=Je;try{if($r.transition=null,Je=1,t)return t()}finally{Je=r,$r.transition=n,He=e,!(He&6)&&cs()}}function w1(){hr=el.current,gt(el)}function Ws(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,GL(n)),Xt!==null)for(n=Xt.return;n!==null;){var r=n;switch(e1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xf();break;case 3:Il(),gt(or),gt(Wn),u1();break;case 5:l1(r);break;case 4:Il();break;case 13:gt(Pt);break;case 19:gt(Pt);break;case 10:i1(r.type._context);break;case 22:case 23:w1()}n=n.return}if(mn=t,Xt=t=qo(t.current,null),xn=hr=e,on=0,od=null,y1=gm=ea=0,tr=Tc=null,Ns!==null){for(e=0;e<Ns.length;e++)if(n=Ns[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ns=null}return t}function vP(t,e){do{var n=Xt;try{if(r1(),Ef.current=sp,op){for(var r=At.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}op=!1}if(Zs=0,dn=rn=At=null,wc=!1,nd=0,g1.current=null,n===null||n.return===null){on=1,od=e,Xt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=xn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=JT(s);if(p!==null){p.flags&=-257,ZT(p,s,a,o,e),p.mode&1&&XT(o,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){XT(o,u,e),E1();break e}l=Error(H(426))}}else if(It&&a.mode&1){var _=JT(s);if(_!==null){!(_.flags&65536)&&(_.flags|=256),ZT(_,s,a,o,e),t1(Rl(l,a));break e}}o=l=Rl(l,a),on!==4&&(on=2),Tc===null?Tc=[o]:Tc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var f=tP(o,l,e);WT(o,f);break e;case 1:a=l;var g=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Wo===null||!Wo.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var T=nP(o,a,e);WT(o,T);break e}}o=o.return}while(o!==null)}EP(n)}catch(I){e=I,Xt===n&&n!==null&&(Xt=n=n.return);continue}break}while(!0)}function _P(){var t=ap.current;return ap.current=sp,t===null?sp:t}function E1(){(on===0||on===3||on===2)&&(on=4),mn===null||!(ea&268435455)&&!(gm&268435455)||Po(mn,xn)}function cp(t,e){var n=He;He|=2;var r=_P();(mn!==t||xn!==e)&&(Hi=null,Ws(t,e));do try{_4();break}catch(i){vP(t,i)}while(!0);if(r1(),He=n,ap.current=r,Xt!==null)throw Error(H(261));return mn=null,xn=0,on}function _4(){for(;Xt!==null;)wP(Xt)}function w4(){for(;Xt!==null&&!HM();)wP(Xt)}function wP(t){var e=SP(t.alternate,t,hr);t.memoizedProps=t.pendingProps,e===null?EP(t):Xt=e,g1.current=null}function EP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=f4(n,e),n!==null){n.flags&=32767,Xt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{on=6,Xt=null;return}}else if(n=h4(n,e,hr),n!==null){Xt=n;return}if(e=e.sibling,e!==null){Xt=e;return}Xt=e=t}while(e!==null);on===0&&(on=5)}function Cs(t,e,n){var r=Je,i=$r.transition;try{$r.transition=null,Je=1,E4(t,e,n,r)}finally{$r.transition=i,Je=r}return null}function E4(t,e,n,r){do dl();while(Lo!==null);if(He&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(tL(t,o),t===mn&&(Xt=mn=null,xn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qh||(qh=!0,CP(Hf,function(){return dl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=$r.transition,$r.transition=null;var s=Je;Je=1;var a=He;He|=4,g1.current=null,m4(t,n),mP(n,t),jL(qv),Kf=!!Hv,qv=Hv=null,t.current=n,g4(n),qM(),He=a,Je=s,$r.transition=o}else t.current=n;if(qh&&(qh=!1,Lo=t,up=i),o=t.pendingLanes,o===0&&(Wo=null),QM(n.stateNode),ar(t,zt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(lp)throw lp=!1,t=h_,h_=null,t;return up&1&&t.tag!==0&&dl(),o=t.pendingLanes,o&1?t===f_?Sc++:(Sc=0,f_=t):Sc=0,cs(),null}function dl(){if(Lo!==null){var t=eb(up),e=$r.transition,n=Je;try{if($r.transition=null,Je=16>t?16:t,Lo===null)var r=!1;else{if(t=Lo,Lo=null,up=0,He&6)throw Error(H(331));var i=He;for(He|=4,Z=t.current;Z!==null;){var o=Z,s=o.child;if(Z.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Z=u;Z!==null;){var c=Z;switch(c.tag){case 0:case 11:case 15:Ec(8,c,o)}var d=c.child;if(d!==null)d.return=c,Z=d;else for(;Z!==null;){c=Z;var h=c.sibling,p=c.return;if(hP(c),c===u){Z=null;break}if(h!==null){h.return=p,Z=h;break}Z=p}}}var m=o.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}Z=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Z=s;else e:for(;Z!==null;){if(o=Z,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ec(9,o,o.return)}var f=o.sibling;if(f!==null){f.return=o.return,Z=f;break e}Z=o.return}}var g=t.current;for(Z=g;Z!==null;){s=Z;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,Z=y;else e:for(s=g;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mm(9,a)}}catch(I){Vt(a,a.return,I)}if(a===s){Z=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,Z=T;break e}Z=a.return}}if(He=i,cs(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(am,t)}catch{}r=!0}return r}finally{Je=n,$r.transition=e}}return!1}function hS(t,e,n){e=Rl(n,e),e=tP(t,e,1),t=zo(t,e,1),e=Qn(),t!==null&&(Vd(t,1,e),ar(t,e))}function Vt(t,e,n){if(t.tag===3)hS(t,t,n);else for(;e!==null;){if(e.tag===3){hS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wo===null||!Wo.has(r))){t=Rl(n,t),t=nP(e,t,1),e=zo(e,t,1),t=Qn(),e!==null&&(Vd(e,1,t),ar(e,t));break}}e=e.return}}function T4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qn(),t.pingedLanes|=t.suspendedLanes&n,mn===t&&(xn&n)===n&&(on===4||on===3&&(xn&130023424)===xn&&500>zt()-v1?Ws(t,0):y1|=n),ar(t,e)}function TP(t,e){e===0&&(t.mode&1?(e=Lh,Lh<<=1,!(Lh&130023424)&&(Lh=4194304)):e=1);var n=Qn();t=oo(t,e),t!==null&&(Vd(t,e,n),ar(t,n))}function S4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),TP(t,n)}function C4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),TP(t,n)}var SP;SP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||or.current)rr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rr=!1,d4(t,e,n);rr=!!(t.flags&131072)}else rr=!1,It&&e.flags&1048576&&Rb(e,ep,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Sf(t,e),t=e.pendingProps;var i=Tl(e,Wn.current);cl(e,n),i=d1(null,e,r,t,i,n);var o=h1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sr(r)?(o=!0,Jf(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,s1(e),i.updater=fm,e.stateNode=i,i._reactInternals=e,t_(e,r,t,n),e=i_(null,e,r,!0,o,n)):(e.tag=0,It&&o&&Z0(e),Kn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Sf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=R4(r),t=Jr(r,t),i){case 0:e=r_(null,e,r,t,n);break e;case 1:e=nS(null,e,r,t,n);break e;case 11:e=eS(null,e,r,t,n);break e;case 14:e=tS(null,e,r,Jr(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jr(r,i),r_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jr(r,i),nS(t,e,r,i,n);case 3:e:{if(sP(e),t===null)throw Error(H(387));r=e.pendingProps,o=e.memoizedState,i=o.element,kb(t,e),rp(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Rl(Error(H(423)),e),e=rS(t,e,r,n,i);break e}else if(r!==i){i=Rl(Error(H(424)),e),e=rS(t,e,r,n,i);break e}else for(pr=Bo(e.stateNode.containerInfo.firstChild),yr=e,It=!0,ti=null,n=Db(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sl(),r===i){e=so(t,e,n);break e}Kn(t,e,r,n)}e=e.child}return e;case 5:return Mb(e),t===null&&Jv(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Kv(r,i)?s=null:o!==null&&Kv(r,o)&&(e.flags|=32),oP(t,e),Kn(t,e,s,n),e.child;case 6:return t===null&&Jv(e),null;case 13:return aP(t,e,n);case 4:return a1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Cl(e,null,r,n):Kn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jr(r,i),eS(t,e,r,i,n);case 7:return Kn(t,e,e.pendingProps,n),e.child;case 8:return Kn(t,e,e.pendingProps.children,n),e.child;case 12:return Kn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,lt(tp,r._currentValue),r._currentValue=s,o!==null)if(li(o.value,s)){if(o.children===i.children&&!or.current){e=so(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Zi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Zv(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(H(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Zv(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Kn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,cl(e,n),i=Br(i),r=r(i),e.flags|=1,Kn(t,e,r,n),e.child;case 14:return r=e.type,i=Jr(r,e.pendingProps),i=Jr(r.type,i),tS(t,e,r,i,n);case 15:return rP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jr(r,i),Sf(t,e),e.tag=1,sr(r)?(t=!0,Jf(e)):t=!1,cl(e,n),Nb(e,r,i),t_(e,r,i,n),i_(null,e,r,!0,t,n);case 19:return lP(t,e,n);case 22:return iP(t,e,n)}throw Error(H(156,e.tag))};function CP(t,e){return Yx(t,e)}function I4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dr(t,e,n,r){return new I4(t,e,n,r)}function T1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function R4(t){if(typeof t=="function")return T1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===j0)return 11;if(t===B0)return 14}return 2}function qo(t,e){var n=t.alternate;return n===null?(n=Dr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rf(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")T1(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Wa:return Hs(n.children,i,o,e);case U0:s=8,i|=8;break;case Iv:return t=Dr(12,n,e,i|2),t.elementType=Iv,t.lanes=o,t;case Rv:return t=Dr(13,n,e,i),t.elementType=Rv,t.lanes=o,t;case xv:return t=Dr(19,n,e,i),t.elementType=xv,t.lanes=o,t;case Ox:return ym(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ax:s=10;break e;case Nx:s=9;break e;case j0:s=11;break e;case B0:s=14;break e;case Ro:s=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Dr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Hs(t,e,n,r){return t=Dr(7,t,r,e),t.lanes=n,t}function ym(t,e,n,r){return t=Dr(22,t,r,e),t.elementType=Ox,t.lanes=n,t.stateNode={isHidden:!1},t}function Dy(t,e,n){return t=Dr(6,t,null,e),t.lanes=n,t}function My(t,e,n){return e=Dr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function x4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=my(0),this.expirationTimes=my(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=my(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function S1(t,e,n,r,i,o,s,a,l){return t=new x4(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Dr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},s1(o),t}function b4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:za,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function IP(t){if(!t)return Zo;t=t._reactInternals;e:{if(wa(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(sr(n))return Cb(t,n,e)}return e}function RP(t,e,n,r,i,o,s,a,l){return t=S1(n,r,!0,t,i,o,s,a,l),t.context=IP(null),n=t.current,r=Qn(),i=Ho(n),o=Zi(r,i),o.callback=e??null,zo(n,o,i),t.current.lanes=i,Vd(t,i,r),ar(t,r),t}function vm(t,e,n,r){var i=e.current,o=Qn(),s=Ho(i);return n=IP(n),e.context===null?e.context=n:e.pendingContext=n,e=Zi(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zo(i,e,s),t!==null&&(si(t,i,s,o),wf(t,i,s)),s}function dp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function C1(t,e){fS(t,e),(t=t.alternate)&&fS(t,e)}function P4(){return null}var xP=typeof reportError=="function"?reportError:function(t){console.error(t)};function I1(t){this._internalRoot=t}_m.prototype.render=I1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));vm(t,e,null,null)};_m.prototype.unmount=I1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ta(function(){vm(null,t,null,null)}),e[io]=null}};function _m(t){this._internalRoot=t}_m.prototype.unstable_scheduleHydration=function(t){if(t){var e=rb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bo.length&&e!==0&&e<bo[n].priority;n++);bo.splice(n,0,t),n===0&&ob(t)}};function R1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function wm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pS(){}function k4(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=dp(s);o.call(u)}}var s=RP(e,r,t,0,null,!1,!1,"",pS);return t._reactRootContainer=s,t[io]=s.current,Xc(t.nodeType===8?t.parentNode:t),ta(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=dp(l);a.call(u)}}var l=S1(t,0,!1,null,null,!1,!1,"",pS);return t._reactRootContainer=l,t[io]=l.current,Xc(t.nodeType===8?t.parentNode:t),ta(function(){vm(e,l,n,r)}),l}function Em(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=dp(s);a.call(l)}}vm(e,s,t,i)}else s=k4(n,e,t,i,r);return dp(s)}tb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nc(e.pendingLanes);n!==0&&(H0(e,n|1),ar(e,zt()),!(He&6)&&(xl=zt()+500,cs()))}break;case 13:ta(function(){var r=oo(t,1);if(r!==null){var i=Qn();si(r,t,1,i)}}),C1(t,1)}};q0=function(t){if(t.tag===13){var e=oo(t,134217728);if(e!==null){var n=Qn();si(e,t,134217728,n)}C1(t,134217728)}};nb=function(t){if(t.tag===13){var e=Ho(t),n=oo(t,e);if(n!==null){var r=Qn();si(n,t,e,r)}C1(t,e)}};rb=function(){return Je};ib=function(t,e){var n=Je;try{return Je=t,e()}finally{Je=n}};$v=function(t,e,n){switch(e){case"input":if(kv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=dm(r);if(!i)throw Error(H(90));Mx(r),kv(r,i)}}}break;case"textarea":$x(t,n);break;case"select":e=n.value,e!=null&&sl(t,!!n.multiple,e,!1)}};Wx=_1;Hx=ta;var A4={usingClientEntryPoint:!1,Events:[jd,Ga,dm,Bx,zx,_1]},Au={findFiberByHostInstance:As,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},N4={bundleType:Au.bundleType,version:Au.version,rendererPackageName:Au.rendererPackageName,rendererConfig:Au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:po.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Gx(t),t===null?null:t.stateNode},findFiberByHostInstance:Au.findFiberByHostInstance||P4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kh.isDisabled&&Kh.supportsFiber)try{am=Kh.inject(N4),Ii=Kh}catch{}}Sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A4;Sr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!R1(e))throw Error(H(200));return b4(t,e,null,n)};Sr.createRoot=function(t,e){if(!R1(t))throw Error(H(299));var n=!1,r="",i=xP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=S1(t,1,!1,null,null,n,!1,r,i),t[io]=e.current,Xc(t.nodeType===8?t.parentNode:t),new I1(e)};Sr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=Gx(e),t=t===null?null:t.stateNode,t};Sr.flushSync=function(t){return ta(t)};Sr.hydrate=function(t,e,n){if(!wm(e))throw Error(H(200));return Em(null,t,e,!0,n)};Sr.hydrateRoot=function(t,e,n){if(!R1(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=xP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=RP(e,null,t,1,n??null,i,!1,o,s),t[io]=e.current,Xc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new _m(e)};Sr.render=function(t,e,n){if(!wm(e))throw Error(H(200));return Em(null,t,e,!1,n)};Sr.unmountComponentAtNode=function(t){if(!wm(t))throw Error(H(40));return t._reactRootContainer?(ta(function(){Em(null,null,t,!1,function(){t._reactRootContainer=null,t[io]=null})}),!0):!1};Sr.unstable_batchedUpdates=_1;Sr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!wm(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Em(t,e,n,!1,r)};Sr.version="18.2.0-next-9e3b772b8-20220608";function bP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bP)}catch(t){console.error(t)}}bP(),Rx.exports=Sr;var zd=Rx.exports;const ic=mx(zd),O4=px({__proto__:null,default:ic},[zd]);var mS=zd;Sv.createRoot=mS.createRoot,Sv.hydrateRoot=mS.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ut(){return Ut=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ut.apply(this,arguments)}var Bt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bt||(Bt={}));const gS="popstate";function D4(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return sd("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ra(i)}return L4(e,n,null,t)}function Re(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function na(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function M4(){return Math.random().toString(36).substr(2,8)}function yS(t,e){return{usr:t.state,key:t.key,idx:e}}function sd(t,e,n,r){return n===void 0&&(n=null),Ut({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?mo(e):e,{state:n,key:e&&e.key||r||M4()})}function ra(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function mo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function L4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Bt.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Ut({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function d(){a=Bt.Pop;let _=c(),f=_==null?null:_-u;u=_,l&&l({action:a,location:v.location,delta:f})}function h(_,f){a=Bt.Push;let g=sd(v.location,_,f);n&&n(g,_),u=c()+1;let y=yS(g,u),T=v.createHref(g);try{s.pushState(y,"",T)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(T)}o&&l&&l({action:a,location:v.location,delta:1})}function p(_,f){a=Bt.Replace;let g=sd(v.location,_,f);n&&n(g,_),u=c();let y=yS(g,u),T=v.createHref(g);s.replaceState(y,"",T),o&&l&&l({action:a,location:v.location,delta:0})}function m(_){let f=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof _=="string"?_:ra(_);return Re(f,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,f)}let v={get action(){return a},get location(){return t(i,s)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(gS,d),l=_,()=>{i.removeEventListener(gS,d),l=null}},createHref(_){return e(i,_)},createURL:m,encodeLocation(_){let f=m(_);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:h,replace:p,go(_){return s.go(_)}};return v}var Ft;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ft||(Ft={}));const $4=new Set(["lazy","caseSensitive","path","id","index","children"]);function F4(t){return t.index===!0}function g_(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,o],a=typeof i.id=="string"?i.id:s.join("-");if(Re(i.index!==!0||!i.children,"Cannot specify children on an index route"),Re(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),F4(i)){let l=Ut({},i,e(i),{id:a});return r[a]=l,l}else{let l=Ut({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=g_(i.children,e,s,r)),l}})}function tl(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?mo(e):e,i=Jl(r.pathname||"/",n);if(i==null)return null;let o=PP(t);U4(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=Q4(o[a],J4(i));return s}function V4(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function PP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Re(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=eo([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Re(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),PP(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:K4(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of kP(o.path))i(o,s,l)}),e}function kP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=kP(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function U4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:G4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const j4=/^:[\w-]+$/,B4=3,z4=2,W4=1,H4=10,q4=-2,vS=t=>t==="*";function K4(t,e){let n=t.split("/"),r=n.length;return n.some(vS)&&(r+=q4),e&&(r+=z4),n.filter(i=>!vS(i)).reduce((i,o)=>i+(j4.test(o)?B4:o===""?W4:H4),r)}function G4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function Q4(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=Y4({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;o.push({params:r,pathname:eo([i,c.pathname]),pathnameBase:n$(eo([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=eo([i,c.pathnameBase]))}return o}function Y4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=X4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let v=a[d]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?u[h]=void 0:u[h]=Z4(m||"",h),u},{}),pathname:o,pathnameBase:s,pattern:t}}function X4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),na(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function J4(t){try{return decodeURI(t)}catch(e){return na(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Z4(t,e){try{return decodeURIComponent(t)}catch(n){return na(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Jl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function e$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?mo(t):t;return{pathname:n?n.startsWith("/")?n:t$(n,e):e,search:r$(r),hash:i$(i)}}function t$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ly(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function AP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tm(t,e){let n=AP(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Sm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=mo(t):(i=Ut({},t),Re(!i.pathname||!i.pathname.includes("?"),Ly("?","pathname","search",i)),Re(!i.pathname||!i.pathname.includes("#"),Ly("#","pathname","hash",i)),Re(!i.search||!i.search.includes("#"),Ly("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let d=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=e$(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const eo=t=>t.join("/").replace(/\/\/+/g,"/"),n$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),r$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,i$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class x1{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function NP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const OP=["post","put","patch","delete"],o$=new Set(OP),s$=["get",...OP],a$=new Set(s$),l$=new Set([301,302,303,307,308]),u$=new Set([307,308]),$y={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},c$={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Nu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},DP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,d$=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),MP="remix-router-transitions";function h$(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Re(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let b=t.detectErrorBoundary;i=A=>({hasErrorBoundary:b(A)})}else i=d$;let o={},s=g_(t.routes,i,void 0,o),a,l=t.basename||"/",u=Ut({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),c=null,d=new Set,h=null,p=null,m=null,v=t.hydrationData!=null,_=tl(s,t.history.location,l),f=null;if(_==null){let b=xr(404,{pathname:t.history.location.pathname}),{matches:A,route:O}=RS(s);_=A,f={[O.id]:b}}let g,y=_.some(b=>b.route.lazy),T=_.some(b=>b.route.loader);if(y)g=!1;else if(!T)g=!0;else if(u.v7_partialHydration){let b=t.hydrationData?t.hydrationData.loaderData:null,A=t.hydrationData?t.hydrationData.errors:null;g=_.every(O=>O.route.loader&&O.route.loader.hydrate!==!0&&(b&&b[O.route.id]!==void 0||A&&A[O.route.id]!==void 0))}else g=t.hydrationData!=null;let I,E={historyAction:t.history.action,location:t.history.location,matches:_,initialized:g,navigation:$y,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||f,fetchers:new Map,blockers:new Map},C=Bt.Pop,x=!1,P,k=!1,D=new Map,F=null,M=!1,j=!1,z=[],U=[],V=new Map,N=0,B=-1,W=new Map,ae=new Set,J=new Map,ne=new Map,Y=new Set,he=new Map,ce=new Map,Me=!1;function Le(){if(c=t.history.listen(b=>{let{action:A,location:O,delta:q}=b;if(Me){Me=!1;return}na(ce.size===0||q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let te=dr({currentLocation:E.location,nextLocation:O,historyAction:A});if(te&&q!=null){Me=!0,t.history.go(q*-1),st(te,{state:"blocked",location:O,proceed(){st(te,{state:"proceeding",proceed:void 0,reset:void 0,location:O}),t.history.go(q)},reset(){let be=new Map(E.blockers);be.set(te,Nu),le({blockers:be})}});return}return Ee(A,O)}),n){S$(e,D);let b=()=>C$(e,D);e.addEventListener("pagehide",b),F=()=>e.removeEventListener("pagehide",b)}return E.initialized||Ee(Bt.Pop,E.location,{initialHydration:!0}),I}function $e(){c&&c(),F&&F(),d.clear(),P&&P.abort(),E.fetchers.forEach((b,A)=>qt(A)),E.blockers.forEach((b,A)=>qe(A))}function Rt(b){return d.add(b),()=>d.delete(b)}function le(b,A){A===void 0&&(A={}),E=Ut({},E,b);let O=[],q=[];u.v7_fetcherPersist&&E.fetchers.forEach((te,be)=>{te.state==="idle"&&(Y.has(be)?q.push(be):O.push(be))}),[...d].forEach(te=>te(E,{deletedFetchers:q,unstable_viewTransitionOpts:A.viewTransitionOpts,unstable_flushSync:A.flushSync===!0})),u.v7_fetcherPersist&&(O.forEach(te=>E.fetchers.delete(te)),q.forEach(te=>qt(te)))}function ze(b,A,O){var q,te;let{flushSync:be}=O===void 0?{}:O,fe=E.actionData!=null&&E.navigation.formMethod!=null&&ei(E.navigation.formMethod)&&E.navigation.state==="loading"&&((q=b.state)==null?void 0:q._isRedirect)!==!0,de;A.actionData?Object.keys(A.actionData).length>0?de=A.actionData:de=null:fe?de=E.actionData:de=null;let oe=A.loaderData?IS(E.loaderData,A.loaderData,A.matches||[],A.errors):E.loaderData,ke=E.blockers;ke.size>0&&(ke=new Map(ke),ke.forEach((Pe,bt)=>ke.set(bt,Nu)));let wt=x===!0||E.navigation.formMethod!=null&&ei(E.navigation.formMethod)&&((te=b.state)==null?void 0:te._isRedirect)!==!0;a&&(s=a,a=void 0),M||C===Bt.Pop||(C===Bt.Push?t.history.push(b,b.state):C===Bt.Replace&&t.history.replace(b,b.state));let _e;if(C===Bt.Pop){let Pe=D.get(E.location.pathname);Pe&&Pe.has(b.pathname)?_e={currentLocation:E.location,nextLocation:b}:D.has(b.pathname)&&(_e={currentLocation:b,nextLocation:E.location})}else if(k){let Pe=D.get(E.location.pathname);Pe?Pe.add(b.pathname):(Pe=new Set([b.pathname]),D.set(E.location.pathname,Pe)),_e={currentLocation:E.location,nextLocation:b}}le(Ut({},A,{actionData:de,loaderData:oe,historyAction:C,location:b,initialized:!0,navigation:$y,revalidation:"idle",restoreScrollPosition:bh(b,A.matches||E.matches),preventScrollReset:wt,blockers:ke}),{viewTransitionOpts:_e,flushSync:be===!0}),C=Bt.Pop,x=!1,k=!1,M=!1,j=!1,z=[],U=[]}async function ve(b,A){if(typeof b=="number"){t.history.go(b);return}let O=y_(E.location,E.matches,l,u.v7_prependBasename,b,u.v7_relativeSplatPath,A==null?void 0:A.fromRouteId,A==null?void 0:A.relative),{path:q,submission:te,error:be}=_S(u.v7_normalizeFormMethod,!1,O,A),fe=E.location,de=sd(E.location,q,A&&A.state);de=Ut({},de,t.history.encodeLocation(de));let oe=A&&A.replace!=null?A.replace:void 0,ke=Bt.Push;oe===!0?ke=Bt.Replace:oe===!1||te!=null&&ei(te.formMethod)&&te.formAction===E.location.pathname+E.location.search&&(ke=Bt.Replace);let wt=A&&"preventScrollReset"in A?A.preventScrollReset===!0:void 0,_e=(A&&A.unstable_flushSync)===!0,Pe=dr({currentLocation:fe,nextLocation:de,historyAction:ke});if(Pe){st(Pe,{state:"blocked",location:de,proceed(){st(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:de}),ve(b,A)},reset(){let bt=new Map(E.blockers);bt.set(Pe,Nu),le({blockers:bt})}});return}return await Ee(ke,de,{submission:te,pendingError:be,preventScrollReset:wt,replace:A&&A.replace,enableViewTransition:A&&A.unstable_viewTransition,flushSync:_e})}function Fe(){if(ct(),le({revalidation:"loading"}),E.navigation.state!=="submitting"){if(E.navigation.state==="idle"){Ee(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}Ee(C||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation})}}async function Ee(b,A,O){P&&P.abort(),P=null,C=b,M=(O&&O.startUninterruptedRevalidation)===!0,uy(E.location,E.matches),x=(O&&O.preventScrollReset)===!0,k=(O&&O.enableViewTransition)===!0;let q=a||s,te=O&&O.overrideNavigation,be=tl(q,A,l),fe=(O&&O.flushSync)===!0;if(!be){let bt=xr(404,{pathname:A.pathname}),{matches:Zn,route:Et}=RS(q);ji(),ze(A,{matches:Zn,loaderData:{},errors:{[Et.id]:bt}},{flushSync:fe});return}if(E.initialized&&!j&&y$(E.location,A)&&!(O&&O.submission&&ei(O.submission.formMethod))){ze(A,{matches:be},{flushSync:fe});return}P=new AbortController;let de=Du(t.history,A,P.signal,O&&O.submission),oe,ke;if(O&&O.pendingError)ke={[Cc(be).route.id]:O.pendingError};else if(O&&O.submission&&ei(O.submission.formMethod)){let bt=await _n(de,A,O.submission,be,{replace:O.replace,flushSync:fe});if(bt.shortCircuited)return;oe=bt.pendingActionData,ke=bt.pendingActionError,te=Fy(A,O.submission),fe=!1,de=new Request(de.url,{signal:de.signal})}let{shortCircuited:wt,loaderData:_e,errors:Pe}=await tn(de,A,be,te,O&&O.submission,O&&O.fetcherSubmission,O&&O.replace,O&&O.initialHydration===!0,fe,oe,ke);wt||(P=null,ze(A,Ut({matches:be},oe?{actionData:oe}:{},{loaderData:_e,errors:Pe})))}async function _n(b,A,O,q,te){te===void 0&&(te={}),ct();let be=E$(A,O);le({navigation:be},{flushSync:te.flushSync===!0});let fe,de=__(q,A);if(!de.route.action&&!de.route.lazy)fe={type:Ft.error,error:xr(405,{method:b.method,pathname:A.pathname,routeId:de.route.id})};else if(fe=await Ou("action",b,de,q,o,i,l,u.v7_relativeSplatPath),b.signal.aborted)return{shortCircuited:!0};if(Ms(fe)){let oe;return te&&te.replace!=null?oe=te.replace:oe=fe.location===E.location.pathname+E.location.search,await Ae(E,fe,{submission:O,replace:oe}),{shortCircuited:!0}}if(nl(fe)){let oe=Cc(q,de.route.id);return(te&&te.replace)!==!0&&(C=Bt.Push),{pendingActionData:{},pendingActionError:{[oe.route.id]:fe.error}}}if(Ds(fe))throw xr(400,{type:"defer-action"});return{pendingActionData:{[de.route.id]:fe.data}}}async function tn(b,A,O,q,te,be,fe,de,oe,ke,wt){let _e=q||Fy(A,te),Pe=te||be||PS(_e),bt=a||s,[Zn,Et]=wS(t.history,E,O,Pe,A,u.v7_partialHydration&&de===!0,j,z,U,Y,J,ae,bt,l,ke,wt);if(ji(Ie=>!(O&&O.some(Tt=>Tt.route.id===Ie))||Zn&&Zn.some(Tt=>Tt.route.id===Ie)),B=++N,Zn.length===0&&Et.length===0){let Ie=Rr();return ze(A,Ut({matches:O,loaderData:{},errors:wt||null},ke?{actionData:ke}:{},Ie?{fetchers:new Map(E.fetchers)}:{}),{flushSync:oe}),{shortCircuited:!0}}if(!M&&(!u.v7_partialHydration||!de)){Et.forEach(Tt=>{let fi=E.fetchers.get(Tt.key),kh=Mu(void 0,fi?fi.data:void 0);E.fetchers.set(Tt.key,kh)});let Ie=ke||E.actionData;le(Ut({navigation:_e},Ie?Object.keys(Ie).length===0?{actionData:null}:{actionData:Ie}:{},Et.length>0?{fetchers:new Map(E.fetchers)}:{}),{flushSync:oe})}Et.forEach(Ie=>{V.has(Ie.key)&&re(Ie.key),Ie.controller&&V.set(Ie.key,Ie.controller)});let di=()=>Et.forEach(Ie=>re(Ie.key));P&&P.signal.addEventListener("abort",di);let{results:ba,loaderResults:Bi,fetcherResults:Yr}=await Ht(E.matches,O,Zn,Et,b);if(b.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",di),Et.forEach(Ie=>V.delete(Ie.key));let hi=xS(ba);if(hi){if(hi.idx>=Zn.length){let Ie=Et[hi.idx-Zn.length].key;ae.add(Ie)}return await Ae(E,hi.result,{replace:fe}),{shortCircuited:!0}}let{loaderData:Eu,errors:Tu}=CS(E,O,Zn,Bi,wt,Et,Yr,he);he.forEach((Ie,Tt)=>{Ie.subscribe(fi=>{(fi||Ie.done)&&he.delete(Tt)})});let Su=Rr(),wo=Jn(B),Ce=Su||wo||Et.length>0;return Ut({loaderData:Eu,errors:Tu},Ce?{fetchers:new Map(E.fetchers)}:{})}function Dt(b,A,O,q){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");V.has(b)&&re(b);let te=(q&&q.unstable_flushSync)===!0,be=a||s,fe=y_(E.location,E.matches,l,u.v7_prependBasename,O,u.v7_relativeSplatPath,A,q==null?void 0:q.relative),de=tl(be,fe,l);if(!de){xt(b,A,xr(404,{pathname:fe}),{flushSync:te});return}let{path:oe,submission:ke,error:wt}=_S(u.v7_normalizeFormMethod,!0,fe,q);if(wt){xt(b,A,wt,{flushSync:te});return}let _e=__(de,oe);if(x=(q&&q.preventScrollReset)===!0,ke&&ei(ke.formMethod)){ln(b,A,oe,_e,de,te,ke);return}J.set(b,{routeId:A,path:oe}),at(b,A,oe,_e,de,te,ke)}async function ln(b,A,O,q,te,be,fe){if(ct(),J.delete(b),!q.route.action&&!q.route.lazy){let Tt=xr(405,{method:fe.formMethod,pathname:O,routeId:A});xt(b,A,Tt,{flushSync:be});return}let de=E.fetchers.get(b);xe(b,T$(fe,de),{flushSync:be});let oe=new AbortController,ke=Du(t.history,O,oe.signal,fe);V.set(b,oe);let wt=N,_e=await Ou("action",ke,q,te,o,i,l,u.v7_relativeSplatPath);if(ke.signal.aborted){V.get(b)===oe&&V.delete(b);return}if(u.v7_fetcherPersist&&Y.has(b)){if(Ms(_e)||nl(_e)){xe(b,Io(void 0));return}}else{if(Ms(_e))if(V.delete(b),B>wt){xe(b,Io(void 0));return}else return ae.add(b),xe(b,Mu(fe)),Ae(E,_e,{fetcherSubmission:fe});if(nl(_e)){xt(b,A,_e.error);return}}if(Ds(_e))throw xr(400,{type:"defer-action"});let Pe=E.navigation.location||E.location,bt=Du(t.history,Pe,oe.signal),Zn=a||s,Et=E.navigation.state!=="idle"?tl(Zn,E.navigation.location,l):E.matches;Re(Et,"Didn't find any matches after fetcher action");let di=++N;W.set(b,di);let ba=Mu(fe,_e.data);E.fetchers.set(b,ba);let[Bi,Yr]=wS(t.history,E,Et,fe,Pe,!1,j,z,U,Y,J,ae,Zn,l,{[q.route.id]:_e.data},void 0);Yr.filter(Tt=>Tt.key!==b).forEach(Tt=>{let fi=Tt.key,kh=E.fetchers.get(fi),aM=Mu(void 0,kh?kh.data:void 0);E.fetchers.set(fi,aM),V.has(fi)&&re(fi),Tt.controller&&V.set(fi,Tt.controller)}),le({fetchers:new Map(E.fetchers)});let hi=()=>Yr.forEach(Tt=>re(Tt.key));oe.signal.addEventListener("abort",hi);let{results:Eu,loaderResults:Tu,fetcherResults:Su}=await Ht(E.matches,Et,Bi,Yr,bt);if(oe.signal.aborted)return;oe.signal.removeEventListener("abort",hi),W.delete(b),V.delete(b),Yr.forEach(Tt=>V.delete(Tt.key));let wo=xS(Eu);if(wo){if(wo.idx>=Bi.length){let Tt=Yr[wo.idx-Bi.length].key;ae.add(Tt)}return Ae(E,wo.result)}let{loaderData:Ce,errors:Ie}=CS(E,E.matches,Bi,Tu,void 0,Yr,Su,he);if(E.fetchers.has(b)){let Tt=Io(_e.data);E.fetchers.set(b,Tt)}Jn(di),E.navigation.state==="loading"&&di>B?(Re(C,"Expected pending action"),P&&P.abort(),ze(E.navigation.location,{matches:Et,loaderData:Ce,errors:Ie,fetchers:new Map(E.fetchers)})):(le({errors:Ie,loaderData:IS(E.loaderData,Ce,Et,Ie),fetchers:new Map(E.fetchers)}),j=!1)}async function at(b,A,O,q,te,be,fe){let de=E.fetchers.get(b);xe(b,Mu(fe,de?de.data:void 0),{flushSync:be});let oe=new AbortController,ke=Du(t.history,O,oe.signal);V.set(b,oe);let wt=N,_e=await Ou("loader",ke,q,te,o,i,l,u.v7_relativeSplatPath);if(Ds(_e)&&(_e=await FP(_e,ke.signal,!0)||_e),V.get(b)===oe&&V.delete(b),!ke.signal.aborted){if(Y.has(b)){xe(b,Io(void 0));return}if(Ms(_e))if(B>wt){xe(b,Io(void 0));return}else{ae.add(b),await Ae(E,_e);return}if(nl(_e)){xt(b,A,_e.error);return}Re(!Ds(_e),"Unhandled fetcher deferred data"),xe(b,Io(_e.data))}}async function Ae(b,A,O){let{submission:q,fetcherSubmission:te,replace:be}=O===void 0?{}:O;A.revalidate&&(j=!0);let fe=sd(b.location,A.location,{_isRedirect:!0});if(Re(fe,"Expected a location on the redirect navigation"),n){let Pe=!1;if(A.reloadDocument)Pe=!0;else if(DP.test(A.location)){const bt=t.history.createURL(A.location);Pe=bt.origin!==e.location.origin||Jl(bt.pathname,l)==null}if(Pe){be?e.location.replace(A.location):e.location.assign(A.location);return}}P=null;let de=be===!0?Bt.Replace:Bt.Push,{formMethod:oe,formAction:ke,formEncType:wt}=b.navigation;!q&&!te&&oe&&ke&&wt&&(q=PS(b.navigation));let _e=q||te;if(u$.has(A.status)&&_e&&ei(_e.formMethod))await Ee(de,fe,{submission:Ut({},_e,{formAction:A.location}),preventScrollReset:x});else{let Pe=Fy(fe,q);await Ee(de,fe,{overrideNavigation:Pe,fetcherSubmission:te,preventScrollReset:x})}}async function Ht(b,A,O,q,te){let be=await Promise.all([...O.map(oe=>Ou("loader",te,oe,A,o,i,l,u.v7_relativeSplatPath)),...q.map(oe=>oe.matches&&oe.match&&oe.controller?Ou("loader",Du(t.history,oe.path,oe.controller.signal),oe.match,oe.matches,o,i,l,u.v7_relativeSplatPath):{type:Ft.error,error:xr(404,{pathname:oe.path})})]),fe=be.slice(0,O.length),de=be.slice(O.length);return await Promise.all([bS(b,O,fe,fe.map(()=>te.signal),!1,E.loaderData),bS(b,q.map(oe=>oe.match),de,q.map(oe=>oe.controller?oe.controller.signal:null),!0)]),{results:be,loaderResults:fe,fetcherResults:de}}function ct(){j=!0,z.push(...ji()),J.forEach((b,A)=>{V.has(A)&&(U.push(A),re(A))})}function xe(b,A,O){O===void 0&&(O={}),E.fetchers.set(b,A),le({fetchers:new Map(E.fetchers)},{flushSync:(O&&O.flushSync)===!0})}function xt(b,A,O,q){q===void 0&&(q={});let te=Cc(E.matches,A);qt(b),le({errors:{[te.route.id]:O},fetchers:new Map(E.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function nn(b){return u.v7_fetcherPersist&&(ne.set(b,(ne.get(b)||0)+1),Y.has(b)&&Y.delete(b)),E.fetchers.get(b)||c$}function qt(b){let A=E.fetchers.get(b);V.has(b)&&!(A&&A.state==="loading"&&W.has(b))&&re(b),J.delete(b),W.delete(b),ae.delete(b),Y.delete(b),E.fetchers.delete(b)}function We(b){if(u.v7_fetcherPersist){let A=(ne.get(b)||0)-1;A<=0?(ne.delete(b),Y.add(b)):ne.set(b,A)}else qt(b);le({fetchers:new Map(E.fetchers)})}function re(b){let A=V.get(b);Re(A,"Expected fetch controller: "+b),A.abort(),V.delete(b)}function Mt(b){for(let A of b){let O=nn(A),q=Io(O.data);E.fetchers.set(A,q)}}function Rr(){let b=[],A=!1;for(let O of ae){let q=E.fetchers.get(O);Re(q,"Expected fetcher: "+O),q.state==="loading"&&(ae.delete(O),b.push(O),A=!0)}return Mt(b),A}function Jn(b){let A=[];for(let[O,q]of W)if(q<b){let te=E.fetchers.get(O);Re(te,"Expected fetcher: "+O),te.state==="loading"&&(re(O),W.delete(O),A.push(O))}return Mt(A),A.length>0}function se(b,A){let O=E.blockers.get(b)||Nu;return ce.get(b)!==A&&ce.set(b,A),O}function qe(b){E.blockers.delete(b),ce.delete(b)}function st(b,A){let O=E.blockers.get(b)||Nu;Re(O.state==="unblocked"&&A.state==="blocked"||O.state==="blocked"&&A.state==="blocked"||O.state==="blocked"&&A.state==="proceeding"||O.state==="blocked"&&A.state==="unblocked"||O.state==="proceeding"&&A.state==="unblocked","Invalid blocker state transition: "+O.state+" -> "+A.state);let q=new Map(E.blockers);q.set(b,A),le({blockers:q})}function dr(b){let{currentLocation:A,nextLocation:O,historyAction:q}=b;if(ce.size===0)return;ce.size>1&&na(!1,"A router only supports one blocker at a time");let te=Array.from(ce.entries()),[be,fe]=te[te.length-1],de=E.blockers.get(be);if(!(de&&de.state==="proceeding")&&fe({currentLocation:A,nextLocation:O,historyAction:q}))return be}function ji(b){let A=[];return he.forEach((O,q)=>{(!b||b(q))&&(O.cancel(),A.push(q),he.delete(q))}),A}function Rh(b,A,O){if(h=b,m=A,p=O||null,!v&&E.navigation===$y){v=!0;let q=bh(E.location,E.matches);q!=null&&le({restoreScrollPosition:q})}return()=>{h=null,m=null,p=null}}function xh(b,A){return p&&p(b,A.map(q=>V4(q,E.loaderData)))||b.key}function uy(b,A){if(h&&m){let O=xh(b,A);h[O]=m()}}function bh(b,A){if(h){let O=xh(b,A),q=h[O];if(typeof q=="number")return q}return null}function Ph(b){o={},a=g_(b,i,void 0,o)}return I={get basename(){return l},get future(){return u},get state(){return E},get routes(){return s},get window(){return e},initialize:Le,subscribe:Rt,enableScrollRestoration:Rh,navigate:ve,fetch:Dt,revalidate:Fe,createHref:b=>t.history.createHref(b),encodeLocation:b=>t.history.encodeLocation(b),getFetcher:nn,deleteFetcher:We,dispose:$e,getBlocker:se,deleteBlocker:qe,_internalFetchControllers:V,_internalActiveDeferreds:he,_internalSetRoutes:Ph},I}function f$(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function y_(t,e,n,r,i,o,s,a){let l,u;if(s){l=[];for(let d of e)if(l.push(d),d.route.id===s){u=d;break}}else l=e,u=e[e.length-1];let c=Sm(i||".",Tm(l,o),Jl(t.pathname,n)||t.pathname,a==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!b1(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:eo([n,c.pathname])),ra(c)}function _S(t,e,n,r){if(!r||!f$(r))return{path:n};if(r.formMethod&&!w$(r.formMethod))return{path:n,error:xr(405,{method:r.formMethod})};let i=()=>({path:n,error:xr(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=$P(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ei(s))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,m)=>{let[v,_]=m;return""+p+v+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!ei(s))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}Re(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=v_(r.formData),u=r.formData;else if(r.body instanceof FormData)l=v_(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=SS(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=SS(l)}catch{return i()}let c={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(ei(c.formMethod))return{path:n,submission:c};let d=mo(n);return e&&d.search&&b1(d.search)&&l.append("index",""),d.search="?"+l,{path:ra(d),submission:c}}function p$(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function wS(t,e,n,r,i,o,s,a,l,u,c,d,h,p,m,v){let _=v?Object.values(v)[0]:m?Object.values(m)[0]:void 0,f=t.createURL(e.location),g=t.createURL(i),y=v?Object.keys(v)[0]:void 0,I=p$(n,y).filter((C,x)=>{let{route:P}=C;if(P.lazy)return!0;if(P.loader==null)return!1;if(o)return P.loader.hydrate?!0:e.loaderData[P.id]===void 0&&(!e.errors||e.errors[P.id]===void 0);if(m$(e.loaderData,e.matches[x],C)||a.some(F=>F===C.route.id))return!0;let k=e.matches[x],D=C;return ES(C,Ut({currentUrl:f,currentParams:k.params,nextUrl:g,nextParams:D.params},r,{actionResult:_,defaultShouldRevalidate:s||f.pathname+f.search===g.pathname+g.search||f.search!==g.search||LP(k,D)}))}),E=[];return c.forEach((C,x)=>{if(o||!n.some(M=>M.route.id===C.routeId)||u.has(x))return;let P=tl(h,C.path,p);if(!P){E.push({key:x,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let k=e.fetchers.get(x),D=__(P,C.path),F=!1;d.has(x)?F=!1:l.includes(x)?F=!0:k&&k.state!=="idle"&&k.data===void 0?F=s:F=ES(D,Ut({currentUrl:f,currentParams:e.matches[e.matches.length-1].params,nextUrl:g,nextParams:n[n.length-1].params},r,{actionResult:_,defaultShouldRevalidate:s})),F&&E.push({key:x,routeId:C.routeId,path:C.path,matches:P,match:D,controller:new AbortController})}),[I,E]}function m$(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function LP(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function ES(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function TS(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Re(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";na(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!$4.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,Ut({},e(i),{lazy:void 0}))}async function Ou(t,e,n,r,i,o,s,a,l){l===void 0&&(l={});let u,c,d,h=v=>{let _,f=new Promise((g,y)=>_=y);return d=()=>_(),e.signal.addEventListener("abort",d),Promise.race([v({request:e,params:n.params,context:l.requestContext}),f])};try{let v=n.route[t];if(n.route.lazy)if(v){let _,f=await Promise.all([h(v).catch(g=>{_=g}),TS(n.route,o,i)]);if(_)throw _;c=f[0]}else if(await TS(n.route,o,i),v=n.route[t],v)c=await h(v);else if(t==="action"){let _=new URL(e.url),f=_.pathname+_.search;throw xr(405,{method:e.method,pathname:f,routeId:n.route.id})}else return{type:Ft.data,data:void 0};else if(v)c=await h(v);else{let _=new URL(e.url),f=_.pathname+_.search;throw xr(404,{pathname:f})}Re(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(v){u=Ft.error,c=v}finally{d&&e.signal.removeEventListener("abort",d)}if(_$(c)){let v=c.status;if(l$.has(v)){let f=c.headers.get("Location");if(Re(f,"Redirects returned/thrown from loaders/actions must have a Location header"),!DP.test(f))f=y_(new URL(e.url),r.slice(0,r.indexOf(n)+1),s,!0,f,a);else if(!l.isStaticRequest){let g=new URL(e.url),y=f.startsWith("//")?new URL(g.protocol+f):new URL(f),T=Jl(y.pathname,s)!=null;y.origin===g.origin&&T&&(f=y.pathname+y.search+y.hash)}if(l.isStaticRequest)throw c.headers.set("Location",f),c;return{type:Ft.redirect,status:v,location:f,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===Ft.error?Ft.error:Ft.data,response:c};let _;try{let f=c.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?c.body==null?_=null:_=await c.json():_=await c.text()}catch(f){return{type:Ft.error,error:f}}return u===Ft.error?{type:u,error:new x1(v,c.statusText,_),headers:c.headers}:{type:Ft.data,data:_,statusCode:c.status,headers:c.headers}}if(u===Ft.error)return{type:u,error:c};if(v$(c)){var p,m;return{type:Ft.deferred,deferredData:c,statusCode:(p=c.init)==null?void 0:p.status,headers:((m=c.init)==null?void 0:m.headers)&&new Headers(c.init.headers)}}return{type:Ft.data,data:c}}function Du(t,e,n,r){let i=t.createURL($P(e)).toString(),o={signal:n};if(r&&ei(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=v_(r.formData):o.body=r.formData}return new Request(i,o)}function v_(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function SS(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function g$(t,e,n,r,i){let o={},s=null,a,l=!1,u={};return n.forEach((c,d)=>{let h=e[d].route.id;if(Re(!Ms(c),"Cannot handle redirect results in processLoaderData"),nl(c)){let p=Cc(t,h),m=c.error;r&&(m=Object.values(r)[0],r=void 0),s=s||{},s[p.route.id]==null&&(s[p.route.id]=m),o[h]=void 0,l||(l=!0,a=NP(c.error)?c.error.status:500),c.headers&&(u[h]=c.headers)}else Ds(c)?(i.set(h,c.deferredData),o[h]=c.deferredData.data):o[h]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[h]=c.headers)}),r&&(s=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function CS(t,e,n,r,i,o,s,a){let{loaderData:l,errors:u}=g$(e,n,r,i,a);for(let c=0;c<o.length;c++){let{key:d,match:h,controller:p}=o[c];Re(s!==void 0&&s[c]!==void 0,"Did not find corresponding fetcher result");let m=s[c];if(!(p&&p.signal.aborted))if(nl(m)){let v=Cc(t.matches,h==null?void 0:h.route.id);u&&u[v.route.id]||(u=Ut({},u,{[v.route.id]:m.error})),t.fetchers.delete(d)}else if(Ms(m))Re(!1,"Unhandled fetcher revalidation redirect");else if(Ds(m))Re(!1,"Unhandled fetcher deferred data");else{let v=Io(m.data);t.fetchers.set(d,v)}}return{loaderData:l,errors:u}}function IS(t,e,n,r){let i=Ut({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function Cc(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function RS(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function xr(t,e){let{pathname:n,routeId:r,method:i,type:o}=e===void 0?{}:e,s="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(s="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?a="defer() is not supported in actions":o==="invalid-body"&&(a="Unable to encode submission body")):t===403?(s="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(s="Not Found",a='No route matches URL "'+n+'"'):t===405&&(s="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new x1(t||500,s,new Error(a),!0)}function xS(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Ms(n))return{result:n,idx:e}}}function $P(t){let e=typeof t=="string"?mo(t):t;return ra(Ut({},e,{hash:""}))}function y$(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Ds(t){return t.type===Ft.deferred}function nl(t){return t.type===Ft.error}function Ms(t){return(t&&t.type)===Ft.redirect}function v$(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function _$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function w$(t){return a$.has(t.toLowerCase())}function ei(t){return o$.has(t.toLowerCase())}async function bS(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let a=n[s],l=e[s];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!LP(u,l)&&(o&&o[l.route.id])!==void 0;if(Ds(a)&&(i||c)){let d=r[s];Re(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await FP(a,d,i).then(h=>{h&&(n[s]=h||n[s])})}}}async function FP(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ft.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ft.error,error:i}}return{type:Ft.data,data:t.deferredData.data}}}function b1(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function __(t,e){let n=typeof e=="string"?mo(e).search:e.search;if(t[t.length-1].route.index&&b1(n||""))return t[t.length-1];let r=AP(t);return r[r.length-1]}function PS(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Fy(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function E$(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Mu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function T$(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Io(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function S$(t,e){try{let n=t.sessionStorage.getItem(MP);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function C$(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(MP,JSON.stringify(n))}catch(r){na(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ad(){return ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ad.apply(this,arguments)}const Cm=w.createContext(null),VP=w.createContext(null),ds=w.createContext(null),Im=w.createContext(null),go=w.createContext({outlet:null,matches:[],isDataRoute:!1}),UP=w.createContext(null);function I$(t,e){let{relative:n}=e===void 0?{}:e;Zl()||Re(!1);let{basename:r,navigator:i}=w.useContext(ds),{hash:o,pathname:s,search:a}=BP(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:eo([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Zl(){return w.useContext(Im)!=null}function eu(){return Zl()||Re(!1),w.useContext(Im).location}function jP(t){w.useContext(ds).static||w.useLayoutEffect(t)}function Ea(){let{isDataRoute:t}=w.useContext(go);return t?V$():R$()}function R$(){Zl()||Re(!1);let t=w.useContext(Cm),{basename:e,future:n,navigator:r}=w.useContext(ds),{matches:i}=w.useContext(go),{pathname:o}=eu(),s=JSON.stringify(Tm(i,n.v7_relativeSplatPath)),a=w.useRef(!1);return jP(()=>{a.current=!0}),w.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=Sm(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:eo([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,s,o,t])}const x$=w.createContext(null);function b$(t){let e=w.useContext(go).outlet;return e&&w.createElement(x$.Provider,{value:t},e)}function BP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(ds),{matches:i}=w.useContext(go),{pathname:o}=eu(),s=JSON.stringify(Tm(i,r.v7_relativeSplatPath));return w.useMemo(()=>Sm(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function P$(t,e,n,r){Zl()||Re(!1);let{navigator:i}=w.useContext(ds),{matches:o}=w.useContext(go),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=eu(),c;if(e){var d;let _=typeof e=="string"?mo(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||Re(!1),c=_}else c=u;let h=c.pathname||"/",p=l==="/"?h:h.slice(l.length)||"/",m=tl(t,{pathname:p}),v=D$(m&&m.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:eo([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:eo([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&v?w.createElement(Im.Provider,{value:{location:ad({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Bt.Pop}},v):v}function k$(){let t=F$(),e=NP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const A$=w.createElement(k$,null);class N$ extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(go.Provider,{value:this.props.routeContext},w.createElement(UP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function O$(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(Cm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(go.Provider,{value:e},r)}function D$(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||Re(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let d=s[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:p}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,d,h)=>{let p,m=!1,v=null,_=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||A$,l&&(u<0&&h===0?(U$("route-fallback",!1),m=!0,_=null):u===h&&(m=!0,_=d.route.hydrateFallbackElement||null)));let f=e.concat(s.slice(0,h+1)),g=()=>{let y;return p?y=v:m?y=_:d.route.Component?y=w.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=c,w.createElement(O$,{match:d,routeContext:{outlet:c,matches:f,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?w.createElement(N$,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var zP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(zP||{}),hp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(hp||{});function M$(t){let e=w.useContext(Cm);return e||Re(!1),e}function L$(t){let e=w.useContext(VP);return e||Re(!1),e}function $$(t){let e=w.useContext(go);return e||Re(!1),e}function WP(t){let e=$$(),n=e.matches[e.matches.length-1];return n.route.id||Re(!1),n.route.id}function F$(){var t;let e=w.useContext(UP),n=L$(hp.UseRouteError),r=WP(hp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function V$(){let{router:t}=M$(zP.UseNavigateStable),e=WP(hp.UseNavigateStable),n=w.useRef(!1);return jP(()=>{n.current=!0}),w.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ad({fromRouteId:e},o)))},[t,e])}const kS={};function U$(t,e,n){!e&&!kS[t]&&(kS[t]=!0)}function j$(t){let{to:e,replace:n,state:r,relative:i}=t;Zl()||Re(!1);let{future:o,static:s}=w.useContext(ds),{matches:a}=w.useContext(go),{pathname:l}=eu(),u=Ea(),c=Sm(e,Tm(a,o.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return w.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function P1(t){return b$(t.context)}function zi(t){Re(!1)}function B$(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Bt.Pop,navigator:o,static:s=!1,future:a}=t;Zl()&&Re(!1);let l=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:o,static:s,future:ad({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=mo(r));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,v=w.useMemo(()=>{let _=Jl(c,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:p,key:m},navigationType:i}},[l,c,d,h,p,m,i]);return v==null?null:w.createElement(ds.Provider,{value:u},w.createElement(Im.Provider,{children:n,value:v}))}new Promise(()=>{});function w_(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let o=[...e,i];if(r.type===w.Fragment){n.push.apply(n,w_(r.props.children,o));return}r.type!==zi&&Re(!1),!r.props.index||!r.props.children||Re(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=w_(r.props.children,o)),n.push(s)}),n}function z$(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:w.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:w.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:w.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ld.apply(this,arguments)}function W$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function H$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function q$(t,e){return t.button===0&&(!e||e==="_self")&&!H$(t)}const K$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],G$="6";try{window.__reactRouterVersion=G$}catch{}function Q$(t,e){return h$({basename:e==null?void 0:e.basename,future:ld({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:D4({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||Y$(),routes:t,mapRouteProperties:z$,window:e==null?void 0:e.window}).initialize()}function Y$(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ld({},e,{errors:X$(e.errors)})),e}function X$(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new x1(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const J$=w.createContext({isTransitioning:!1}),Z$=w.createContext(new Map),eF="startTransition",AS=jf[eF],tF="flushSync",NS=O4[tF];function nF(t){AS?AS(t):t()}function Lu(t){NS?NS(t):t()}let rF=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function iF(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=w.useState(n.state),[s,a]=w.useState(),[l,u]=w.useState({isTransitioning:!1}),[c,d]=w.useState(),[h,p]=w.useState(),[m,v]=w.useState(),_=w.useRef(new Map),{v7_startTransition:f}=r||{},g=w.useCallback(C=>{f?nF(C):C()},[f]),y=w.useCallback((C,x)=>{let{deletedFetchers:P,unstable_flushSync:k,unstable_viewTransitionOpts:D}=x;P.forEach(M=>_.current.delete(M)),C.fetchers.forEach((M,j)=>{M.data!==void 0&&_.current.set(j,M.data)});let F=n.window==null||typeof n.window.document.startViewTransition!="function";if(!D||F){k?Lu(()=>o(C)):g(()=>o(C));return}if(k){Lu(()=>{h&&(c&&c.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let M=n.window.document.startViewTransition(()=>{Lu(()=>o(C))});M.finished.finally(()=>{Lu(()=>{d(void 0),p(void 0),a(void 0),u({isTransitioning:!1})})}),Lu(()=>p(M));return}h?(c&&c.resolve(),h.skipTransition(),v({state:C,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(a(C),u({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,h,c,_,g]);w.useLayoutEffect(()=>n.subscribe(y),[n,y]),w.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new rF)},[l]),w.useEffect(()=>{if(c&&s&&n.window){let C=s,x=c.promise,P=n.window.document.startViewTransition(async()=>{g(()=>o(C)),await x});P.finished.finally(()=>{d(void 0),p(void 0),a(void 0),u({isTransitioning:!1})}),p(P)}},[g,s,c,n.window]),w.useEffect(()=>{c&&s&&i.location.key===s.location.key&&c.resolve()},[c,h,i.location,s]),w.useEffect(()=>{!l.isTransitioning&&m&&(a(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),v(void 0))},[l.isTransitioning,m]),w.useEffect(()=>{},[]);let T=w.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:C=>n.navigate(C),push:(C,x,P)=>n.navigate(C,{state:x,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(C,x,P)=>n.navigate(C,{replace:!0,state:x,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),I=n.basename||"/",E=w.useMemo(()=>({router:n,navigator:T,static:!1,basename:I}),[n,T,I]);return w.createElement(w.Fragment,null,w.createElement(Cm.Provider,{value:E},w.createElement(VP.Provider,{value:i},w.createElement(Z$.Provider,{value:_.current},w.createElement(J$.Provider,{value:l},w.createElement(B$,{basename:I,location:i.location,navigationType:i.historyAction,navigator:T,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?w.createElement(oF,{routes:n.routes,future:n.future,state:i}):e))))),null)}function oF(t){let{routes:e,future:n,state:r}=t;return P$(e,void 0,r,n)}const sF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,OS=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,h=W$(e,K$),{basename:p}=w.useContext(ds),m,v=!1;if(typeof u=="string"&&aF.test(u)&&(m=u,sF))try{let y=new URL(window.location.href),T=u.startsWith("//")?new URL(y.protocol+u):new URL(u),I=Jl(T.pathname,p);T.origin===y.origin&&I!=null?u=I+T.search+T.hash:v=!0}catch{}let _=I$(u,{relative:i}),f=lF(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function g(y){r&&r(y),y.defaultPrevented||f(y)}return w.createElement("a",ld({},h,{href:m||_,onClick:v||o?r:g,ref:n,target:l}))});var DS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(DS||(DS={}));var MS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(MS||(MS={}));function lF(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=Ea(),u=eu(),c=BP(t,{relative:s});return w.useCallback(d=>{if(q$(d,n)){d.preventDefault();let h=r!==void 0?r:ra(u)===ra(c);l(t,{replace:h,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,o,s,a])}const uF={black:"#000",white:"#fff"},ud=uF,Is={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},cF={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},ka=cF,dF={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Aa=dF,hF={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Na=hF,fF={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Oa=fF,pF={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},$u=pF,mF={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},gF=mF;function es(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const bl="$$material";function R(){return R=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R.apply(this,arguments)}function ie(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function HP(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var yF=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,vF=HP(function(t){return yF.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function _F(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function wF(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var EF=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(wF(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=_F(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Dn="-ms-",fp="-moz-",Ke="-webkit-",qP="comm",k1="rule",A1="decl",TF="@import",KP="@keyframes",SF="@layer",CF=Math.abs,Rm=String.fromCharCode,IF=Object.assign;function RF(t,e){return Sn(t,0)^45?(((e<<2^Sn(t,0))<<2^Sn(t,1))<<2^Sn(t,2))<<2^Sn(t,3):0}function GP(t){return t.trim()}function xF(t,e){return(t=e.exec(t))?t[0]:t}function Ge(t,e,n){return t.replace(e,n)}function E_(t,e){return t.indexOf(e)}function Sn(t,e){return t.charCodeAt(e)|0}function cd(t,e,n){return t.slice(e,n)}function gi(t){return t.length}function N1(t){return t.length}function Gh(t,e){return e.push(t),t}function bF(t,e){return t.map(e).join("")}var xm=1,Pl=1,QP=0,cr=0,Yt=0,tu="";function bm(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:xm,column:Pl,length:s,return:""}}function Fu(t,e){return IF(bm("",null,null,"",null,null,0),t,{length:-t.length},e)}function PF(){return Yt}function kF(){return Yt=cr>0?Sn(tu,--cr):0,Pl--,Yt===10&&(Pl=1,xm--),Yt}function vr(){return Yt=cr<QP?Sn(tu,cr++):0,Pl++,Yt===10&&(Pl=1,xm++),Yt}function xi(){return Sn(tu,cr)}function xf(){return cr}function Wd(t,e){return cd(tu,t,e)}function dd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function YP(t){return xm=Pl=1,QP=gi(tu=t),cr=0,[]}function XP(t){return tu="",t}function bf(t){return GP(Wd(cr-1,T_(t===91?t+2:t===40?t+1:t)))}function AF(t){for(;(Yt=xi())&&Yt<33;)vr();return dd(t)>2||dd(Yt)>3?"":" "}function NF(t,e){for(;--e&&vr()&&!(Yt<48||Yt>102||Yt>57&&Yt<65||Yt>70&&Yt<97););return Wd(t,xf()+(e<6&&xi()==32&&vr()==32))}function T_(t){for(;vr();)switch(Yt){case t:return cr;case 34:case 39:t!==34&&t!==39&&T_(Yt);break;case 40:t===41&&T_(t);break;case 92:vr();break}return cr}function OF(t,e){for(;vr()&&t+Yt!==57;)if(t+Yt===84&&xi()===47)break;return"/*"+Wd(e,cr-1)+"*"+Rm(t===47?t:vr())}function DF(t){for(;!dd(xi());)vr();return Wd(t,cr)}function MF(t){return XP(Pf("",null,null,null,[""],t=YP(t),0,[0],t))}function Pf(t,e,n,r,i,o,s,a,l){for(var u=0,c=0,d=s,h=0,p=0,m=0,v=1,_=1,f=1,g=0,y="",T=i,I=o,E=r,C=y;_;)switch(m=g,g=vr()){case 40:if(m!=108&&Sn(C,d-1)==58){E_(C+=Ge(bf(g),"&","&\f"),"&\f")!=-1&&(f=-1);break}case 34:case 39:case 91:C+=bf(g);break;case 9:case 10:case 13:case 32:C+=AF(m);break;case 92:C+=NF(xf()-1,7);continue;case 47:switch(xi()){case 42:case 47:Gh(LF(OF(vr(),xf()),e,n),l);break;default:C+="/"}break;case 123*v:a[u++]=gi(C)*f;case 125*v:case 59:case 0:switch(g){case 0:case 125:_=0;case 59+c:f==-1&&(C=Ge(C,/\f/g,"")),p>0&&gi(C)-d&&Gh(p>32?$S(C+";",r,n,d-1):$S(Ge(C," ","")+";",r,n,d-2),l);break;case 59:C+=";";default:if(Gh(E=LS(C,e,n,u,c,i,a,y,T=[],I=[],d),o),g===123)if(c===0)Pf(C,e,E,E,T,o,d,a,I);else switch(h===99&&Sn(C,3)===110?100:h){case 100:case 108:case 109:case 115:Pf(t,E,E,r&&Gh(LS(t,E,E,0,0,i,a,y,i,T=[],d),I),i,I,d,a,r?T:I);break;default:Pf(C,E,E,E,[""],I,0,a,I)}}u=c=p=0,v=f=1,y=C="",d=s;break;case 58:d=1+gi(C),p=m;default:if(v<1){if(g==123)--v;else if(g==125&&v++==0&&kF()==125)continue}switch(C+=Rm(g),g*v){case 38:f=c>0?1:(C+="\f",-1);break;case 44:a[u++]=(gi(C)-1)*f,f=1;break;case 64:xi()===45&&(C+=bf(vr())),h=xi(),c=d=gi(y=C+=DF(xf())),g++;break;case 45:m===45&&gi(C)==2&&(v=0)}}return o}function LS(t,e,n,r,i,o,s,a,l,u,c){for(var d=i-1,h=i===0?o:[""],p=N1(h),m=0,v=0,_=0;m<r;++m)for(var f=0,g=cd(t,d+1,d=CF(v=s[m])),y=t;f<p;++f)(y=GP(v>0?h[f]+" "+g:Ge(g,/&\f/g,h[f])))&&(l[_++]=y);return bm(t,e,n,i===0?k1:a,l,u,c)}function LF(t,e,n){return bm(t,e,n,qP,Rm(PF()),cd(t,2,-2),0)}function $S(t,e,n,r){return bm(t,e,n,A1,cd(t,0,r),cd(t,r+1,-1),r)}function hl(t,e){for(var n="",r=N1(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function $F(t,e,n,r){switch(t.type){case SF:if(t.children.length)break;case TF:case A1:return t.return=t.return||t.value;case qP:return"";case KP:return t.return=t.value+"{"+hl(t.children,r)+"}";case k1:t.value=t.props.join(",")}return gi(n=hl(t.children,r))?t.return=t.value+"{"+n+"}":""}function FF(t){var e=N1(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function VF(t){return function(e){e.root||(e=e.return)&&t(e)}}var UF=function(e,n,r){for(var i=0,o=0;i=o,o=xi(),i===38&&o===12&&(n[r]=1),!dd(o);)vr();return Wd(e,cr)},jF=function(e,n){var r=-1,i=44;do switch(dd(i)){case 0:i===38&&xi()===12&&(n[r]=1),e[r]+=UF(cr-1,n,r);break;case 2:e[r]+=bf(i);break;case 4:if(i===44){e[++r]=xi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Rm(i)}while(i=vr());return e},BF=function(e,n){return XP(jF(YP(e),n))},FS=new WeakMap,zF=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!FS.get(r))&&!i){FS.set(e,!0);for(var o=[],s=BF(n,o),a=r.props,l=0,u=0;l<s.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=o[l]?s[l].replace(/&\f/g,a[c]):a[c]+" "+s[l]}}},WF=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function JP(t,e){switch(RF(t,e)){case 5103:return Ke+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ke+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ke+t+fp+t+Dn+t+t;case 6828:case 4268:return Ke+t+Dn+t+t;case 6165:return Ke+t+Dn+"flex-"+t+t;case 5187:return Ke+t+Ge(t,/(\w+).+(:[^]+)/,Ke+"box-$1$2"+Dn+"flex-$1$2")+t;case 5443:return Ke+t+Dn+"flex-item-"+Ge(t,/flex-|-self/,"")+t;case 4675:return Ke+t+Dn+"flex-line-pack"+Ge(t,/align-content|flex-|-self/,"")+t;case 5548:return Ke+t+Dn+Ge(t,"shrink","negative")+t;case 5292:return Ke+t+Dn+Ge(t,"basis","preferred-size")+t;case 6060:return Ke+"box-"+Ge(t,"-grow","")+Ke+t+Dn+Ge(t,"grow","positive")+t;case 4554:return Ke+Ge(t,/([^-])(transform)/g,"$1"+Ke+"$2")+t;case 6187:return Ge(Ge(Ge(t,/(zoom-|grab)/,Ke+"$1"),/(image-set)/,Ke+"$1"),t,"")+t;case 5495:case 3959:return Ge(t,/(image-set\([^]*)/,Ke+"$1$`$1");case 4968:return Ge(Ge(t,/(.+:)(flex-)?(.*)/,Ke+"box-pack:$3"+Dn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ke+t+t;case 4095:case 3583:case 4068:case 2532:return Ge(t,/(.+)-inline(.+)/,Ke+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gi(t)-1-e>6)switch(Sn(t,e+1)){case 109:if(Sn(t,e+4)!==45)break;case 102:return Ge(t,/(.+:)(.+)-([^]+)/,"$1"+Ke+"$2-$3$1"+fp+(Sn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~E_(t,"stretch")?JP(Ge(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Sn(t,e+1)!==115)break;case 6444:switch(Sn(t,gi(t)-3-(~E_(t,"!important")&&10))){case 107:return Ge(t,":",":"+Ke)+t;case 101:return Ge(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ke+(Sn(t,14)===45?"inline-":"")+"box$3$1"+Ke+"$2$3$1"+Dn+"$2box$3")+t}break;case 5936:switch(Sn(t,e+11)){case 114:return Ke+t+Dn+Ge(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ke+t+Dn+Ge(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ke+t+Dn+Ge(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ke+t+Dn+t+t}return t}var HF=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case A1:e.return=JP(e.value,e.length);break;case KP:return hl([Fu(e,{value:Ge(e.value,"@","@"+Ke)})],i);case k1:if(e.length)return bF(e.props,function(o){switch(xF(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hl([Fu(e,{props:[Ge(o,/:(read-\w+)/,":"+fp+"$1")]})],i);case"::placeholder":return hl([Fu(e,{props:[Ge(o,/:(plac\w+)/,":"+Ke+"input-$1")]}),Fu(e,{props:[Ge(o,/:(plac\w+)/,":"+fp+"$1")]}),Fu(e,{props:[Ge(o,/:(plac\w+)/,Dn+"input-$1")]})],i)}return""})}},qF=[HF],KF=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var _=v.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||qF,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var _=v.getAttribute("data-emotion").split(" "),f=1;f<_.length;f++)o[_[f]]=!0;a.push(v)});var l,u=[zF,WF];{var c,d=[$F,VF(function(v){c.insert(v)})],h=FF(u.concat(i,d)),p=function(_){return hl(MF(_),h)};l=function(_,f,g,y){c=g,p(_?_+"{"+f.styles+"}":f.styles),y&&(m.inserted[f.name]=!0)}}var m={key:n,sheet:new EF({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return m.sheet.hydrate(a),m},ZP={exports:{}},et={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yn=typeof Symbol=="function"&&Symbol.for,O1=yn?Symbol.for("react.element"):60103,D1=yn?Symbol.for("react.portal"):60106,Pm=yn?Symbol.for("react.fragment"):60107,km=yn?Symbol.for("react.strict_mode"):60108,Am=yn?Symbol.for("react.profiler"):60114,Nm=yn?Symbol.for("react.provider"):60109,Om=yn?Symbol.for("react.context"):60110,M1=yn?Symbol.for("react.async_mode"):60111,Dm=yn?Symbol.for("react.concurrent_mode"):60111,Mm=yn?Symbol.for("react.forward_ref"):60112,Lm=yn?Symbol.for("react.suspense"):60113,GF=yn?Symbol.for("react.suspense_list"):60120,$m=yn?Symbol.for("react.memo"):60115,Fm=yn?Symbol.for("react.lazy"):60116,QF=yn?Symbol.for("react.block"):60121,YF=yn?Symbol.for("react.fundamental"):60117,XF=yn?Symbol.for("react.responder"):60118,JF=yn?Symbol.for("react.scope"):60119;function Ir(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case O1:switch(t=t.type,t){case M1:case Dm:case Pm:case Am:case km:case Lm:return t;default:switch(t=t&&t.$$typeof,t){case Om:case Mm:case Fm:case $m:case Nm:return t;default:return e}}case D1:return e}}}function ek(t){return Ir(t)===Dm}et.AsyncMode=M1;et.ConcurrentMode=Dm;et.ContextConsumer=Om;et.ContextProvider=Nm;et.Element=O1;et.ForwardRef=Mm;et.Fragment=Pm;et.Lazy=Fm;et.Memo=$m;et.Portal=D1;et.Profiler=Am;et.StrictMode=km;et.Suspense=Lm;et.isAsyncMode=function(t){return ek(t)||Ir(t)===M1};et.isConcurrentMode=ek;et.isContextConsumer=function(t){return Ir(t)===Om};et.isContextProvider=function(t){return Ir(t)===Nm};et.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===O1};et.isForwardRef=function(t){return Ir(t)===Mm};et.isFragment=function(t){return Ir(t)===Pm};et.isLazy=function(t){return Ir(t)===Fm};et.isMemo=function(t){return Ir(t)===$m};et.isPortal=function(t){return Ir(t)===D1};et.isProfiler=function(t){return Ir(t)===Am};et.isStrictMode=function(t){return Ir(t)===km};et.isSuspense=function(t){return Ir(t)===Lm};et.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Pm||t===Dm||t===Am||t===km||t===Lm||t===GF||typeof t=="object"&&t!==null&&(t.$$typeof===Fm||t.$$typeof===$m||t.$$typeof===Nm||t.$$typeof===Om||t.$$typeof===Mm||t.$$typeof===YF||t.$$typeof===XF||t.$$typeof===JF||t.$$typeof===QF)};et.typeOf=Ir;ZP.exports=et;var ZF=ZP.exports,tk=ZF,e5={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},t5={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},nk={};nk[tk.ForwardRef]=e5;nk[tk.Memo]=t5;var n5=!0;function r5(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var rk=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||n5===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},ik=function(e,n,r){rk(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function i5(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var o5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},s5=/[A-Z]|^ms/g,a5=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ok=function(e){return e.charCodeAt(1)===45},VS=function(e){return e!=null&&typeof e!="boolean"},Vy=HP(function(t){return ok(t)?t:t.replace(s5,"-$&").toLowerCase()}),US=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(a5,function(r,i,o){return yi={name:i,styles:o,next:yi},i})}return o5[e]!==1&&!ok(e)&&typeof n=="number"&&n!==0?n+"px":n};function hd(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return yi={name:n.name,styles:n.styles,next:yi},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)yi={name:r.name,styles:r.styles,next:yi},r=r.next;var i=n.styles+";";return i}return l5(t,e,n)}case"function":{if(t!==void 0){var o=yi,s=n(t);return yi=o,hd(t,e,s)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function l5(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=hd(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object")e!=null&&e[s]!==void 0?r+=o+"{"+e[s]+"}":VS(s)&&(r+=Vy(o)+":"+US(o,s)+";");else if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var a=0;a<s.length;a++)VS(s[a])&&(r+=Vy(o)+":"+US(o,s[a])+";");else{var l=hd(t,e,s);switch(o){case"animation":case"animationName":{r+=Vy(o)+":"+l+";";break}default:r+=o+"{"+l+"}"}}}return r}var jS=/label:\s*([^\s;\n{]+)\s*(;|$)/g,yi,L1=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,o="";yi=void 0;var s=e[0];s==null||s.raw===void 0?(i=!1,o+=hd(r,n,s)):o+=s[0];for(var a=1;a<e.length;a++)o+=hd(r,n,e[a]),i&&(o+=s[a]);jS.lastIndex=0;for(var l="",u;(u=jS.exec(o))!==null;)l+="-"+u[1];var c=i5(o)+l;return{name:c,styles:o,next:yi}},u5=function(e){return e()},sk=jf.useInsertionEffect?jf.useInsertionEffect:!1,c5=sk||u5,BS=sk||w.useLayoutEffect,ak=w.createContext(typeof HTMLElement<"u"?KF({key:"css"}):null);ak.Provider;var lk=function(e){return w.forwardRef(function(n,r){var i=w.useContext(ak);return e(n,i,r)})},Vm=w.createContext({}),d5=lk(function(t,e){var n=t.styles,r=L1([n],void 0,w.useContext(Vm)),i=w.useRef();return BS(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),BS(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&ik(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function nu(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return L1(e)}var hs=function(){var e=nu.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},h5=vF,f5=function(e){return e!=="theme"},zS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?h5:f5},WS=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},p5=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return rk(n,r,i),c5(function(){return ik(n,r,i)}),null},m5=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=WS(e,n,r),l=a||zS(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,p=1;p<h;p++)d.push(c[p],c[0][p])}var m=lk(function(v,_,f){var g=u&&v.as||i,y="",T=[],I=v;if(v.theme==null){I={};for(var E in v)I[E]=v[E];I.theme=w.useContext(Vm)}typeof v.className=="string"?y=r5(_.registered,T,v.className):v.className!=null&&(y=v.className+" ");var C=L1(d.concat(T),_.registered,I);y+=_.key+"-"+C.name,s!==void 0&&(y+=" "+s);var x=u&&a===void 0?zS(g):l,P={};for(var k in v)u&&k==="as"||x(k)&&(P[k]=v[k]);return P.className=y,P.ref=f,w.createElement(w.Fragment,null,w.createElement(p5,{cache:_,serialized:C,isStringTag:typeof g=="string"}),w.createElement(g,P))});return m.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+s}}),m.withComponent=function(v,_){return t(v,R({},n,_,{shouldForwardProp:WS(m,_,!0)})).apply(void 0,d)},m}},g5=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],S_=m5.bind();g5.forEach(function(t){S_[t]=S_(t)});function y5(t){return t==null||Object.keys(t).length===0}function v5(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(y5(i)?n:i):e;return S.jsx(d5,{styles:r})}function uk(t,e){return S_(t,e)}const _5=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function ko(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function ck(t){if(!ko(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=ck(t[n])}),e}function Fr(t,e,n={clone:!0}){const r=n.clone?R({},t):t;return ko(t)&&ko(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(ko(e[i])&&i in t&&ko(t[i])?r[i]=Fr(t[i],e[i],n):n.clone?r[i]=ko(e[i])?ck(e[i]):e[i]:r[i]=e[i])}),r}var ot={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $1=Symbol.for("react.element"),F1=Symbol.for("react.portal"),Um=Symbol.for("react.fragment"),jm=Symbol.for("react.strict_mode"),Bm=Symbol.for("react.profiler"),zm=Symbol.for("react.provider"),Wm=Symbol.for("react.context"),w5=Symbol.for("react.server_context"),Hm=Symbol.for("react.forward_ref"),qm=Symbol.for("react.suspense"),Km=Symbol.for("react.suspense_list"),Gm=Symbol.for("react.memo"),Qm=Symbol.for("react.lazy"),E5=Symbol.for("react.offscreen"),dk;dk=Symbol.for("react.module.reference");function Gr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case $1:switch(t=t.type,t){case Um:case Bm:case jm:case qm:case Km:return t;default:switch(t=t&&t.$$typeof,t){case w5:case Wm:case Hm:case Qm:case Gm:case zm:return t;default:return e}}case F1:return e}}}ot.ContextConsumer=Wm;ot.ContextProvider=zm;ot.Element=$1;ot.ForwardRef=Hm;ot.Fragment=Um;ot.Lazy=Qm;ot.Memo=Gm;ot.Portal=F1;ot.Profiler=Bm;ot.StrictMode=jm;ot.Suspense=qm;ot.SuspenseList=Km;ot.isAsyncMode=function(){return!1};ot.isConcurrentMode=function(){return!1};ot.isContextConsumer=function(t){return Gr(t)===Wm};ot.isContextProvider=function(t){return Gr(t)===zm};ot.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===$1};ot.isForwardRef=function(t){return Gr(t)===Hm};ot.isFragment=function(t){return Gr(t)===Um};ot.isLazy=function(t){return Gr(t)===Qm};ot.isMemo=function(t){return Gr(t)===Gm};ot.isPortal=function(t){return Gr(t)===F1};ot.isProfiler=function(t){return Gr(t)===Bm};ot.isStrictMode=function(t){return Gr(t)===jm};ot.isSuspense=function(t){return Gr(t)===qm};ot.isSuspenseList=function(t){return Gr(t)===Km};ot.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Um||t===Bm||t===jm||t===qm||t===Km||t===E5||typeof t=="object"&&t!==null&&(t.$$typeof===Qm||t.$$typeof===Gm||t.$$typeof===zm||t.$$typeof===Wm||t.$$typeof===Hm||t.$$typeof===dk||t.getModuleId!==void 0)};ot.typeOf=Gr;function pe(t){if(typeof t!="string")throw new Error(es(7));return t.charAt(0).toUpperCase()+t.slice(1)}function C_(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function V1(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function T5(t,e){return()=>null}function kf(t,e){var n,r;return w.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function sn(t){return t&&t.ownerDocument||document}function ts(t){return sn(t).defaultView||window}function S5(t,e){return()=>null}function pp(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const Mi=typeof window<"u"?w.useLayoutEffect:w.useEffect;let HS=0;function C5(t){const[e,n]=w.useState(t),r=t||e;return w.useEffect(()=>{e==null&&(HS+=1,n(`mui-${HS}`))},[e]),r}const qS=jf.useId;function Ym(t){if(qS!==void 0){const e=qS();return t??e}return C5(t)}function I5(t,e,n,r,i){return null}function mp({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=w.useRef(t!==void 0),[o,s]=w.useState(e),a=i?t:o,l=w.useCallback(u=>{i||s(u)},[]);return[a,l]}function Mr(t){const e=w.useRef(t);return Mi(()=>{e.current=t}),w.useRef((...n)=>(0,e.current)(...n)).current}function an(...t){return w.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{pp(n,e)})},t)}const KS={};function R5(t,e){const n=w.useRef(KS);return n.current===KS&&(n.current=t(e)),n}const x5=[];function b5(t){w.useEffect(t,x5)}class Hd{constructor(){this.currentId=0,this.clear=()=>{this.currentId!==0&&(clearTimeout(this.currentId),this.currentId=0)},this.disposeEffect=()=>this.clear}static create(){return new Hd}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=0,n()},e)}}function Ls(){const t=R5(Hd.create).current;return b5(t.disposeEffect),t}let Xm=!0,I_=!1;const P5=new Hd,k5={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function A5(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&k5[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function N5(t){t.metaKey||t.altKey||t.ctrlKey||(Xm=!0)}function Uy(){Xm=!1}function O5(){this.visibilityState==="hidden"&&I_&&(Xm=!0)}function D5(t){t.addEventListener("keydown",N5,!0),t.addEventListener("mousedown",Uy,!0),t.addEventListener("pointerdown",Uy,!0),t.addEventListener("touchstart",Uy,!0),t.addEventListener("visibilitychange",O5,!0)}function M5(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Xm||A5(e)}function U1(){const t=w.useCallback(i=>{i!=null&&D5(i.ownerDocument)},[]),e=w.useRef(!1);function n(){return e.current?(I_=!0,P5.start(100,()=>{I_=!1}),e.current=!1,!0):!1}function r(i){return M5(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function hk(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function fk(t,e){const n=R({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=R({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},o=e[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=R({},o),Object.keys(i).forEach(s=>{n[r][s]=fk(i[s],o[s])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function tt(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((o,s)=>{if(s){const a=e(s);a!==""&&o.push(a),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}const GS=t=>t,L5=()=>{let t=GS;return{configure(e){t=e},generate(e){return t(e)},reset(){t=GS}}},$5=L5(),j1=$5,pk={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function nt(t,e,n="Mui"){const r=pk[e];return r?`${n}-${r}`:`${j1.generate(t)}-${e}`}function Xe(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=nt(t,i,n)}),r}function F5(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const V5=["values","unit","step"],U5=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>R({},n,{[r.key]:r.val}),{})};function j5(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=ie(t,V5),o=U5(e),s=Object.keys(o);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,p){const m=s.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(m!==-1&&typeof e[s[m]]=="number"?e[s[m]]:p)-r/100}${n})`}function c(h){return s.indexOf(h)+1<s.length?u(h,s[s.indexOf(h)+1]):a(h)}function d(h){const p=s.indexOf(h);return p===0?a(s[1]):p===s.length-1?l(s[p]):u(h,s[s.indexOf(h)+1]).replace("@media","@media not all and")}return R({keys:s,values:o,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const B5={borderRadius:4},z5=B5;function Ic(t,e){return e?Fr(t,e,{clone:!1}):t}const B1={xs:0,sm:600,md:900,lg:1200,xl:1536},QS={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${B1[t]}px)`};function ao(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||QS;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const o=r.breakpoints||QS;return Object.keys(e).reduce((s,a)=>{if(Object.keys(o.values||B1).indexOf(a)!==-1){const l=o.up(a);s[l]=n(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return n(e)}function W5(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function H5(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Jm(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function gp(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Jm(t,n)||r,e&&(i=e(i,r,t)),i}function Wt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,u=Jm(l,r)||{};return ao(s,a,d=>{let h=gp(u,i,d);return d===h&&typeof d=="string"&&(h=gp(u,i,`${e}${d==="default"?"":pe(d)}`,d)),n===!1?h:{[n]:h}})};return o.propTypes={},o.filterProps=[e],o}function q5(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const K5={m:"margin",p:"padding"},G5={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},YS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Q5=q5(t=>{if(t.length>2)if(YS[t])t=YS[t];else return[t];const[e,n]=t.split(""),r=K5[e],i=G5[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),z1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],W1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...z1,...W1];function qd(t,e,n,r){var i;const o=(i=Jm(t,e,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function mk(t){return qd(t,"spacing",8)}function Kd(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function Y5(t,e){return n=>t.reduce((r,i)=>(r[i]=Kd(e,n),r),{})}function X5(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=Q5(n),o=Y5(i,r),s=t[n];return ao(t,s,o)}function gk(t,e){const n=mk(t.theme);return Object.keys(t).map(r=>X5(t,e,r,n)).reduce(Ic,{})}function Lt(t){return gk(t,z1)}Lt.propTypes={};Lt.filterProps=z1;function $t(t){return gk(t,W1)}$t.propTypes={};$t.filterProps=W1;function J5(t=8){if(t.mui)return t;const e=mk({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function Zm(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?Ic(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Ar(t){return typeof t!="number"?t:`${t}px solid`}function Qr(t,e){return Wt({prop:t,themeKey:"borders",transform:e})}const Z5=Qr("border",Ar),eV=Qr("borderTop",Ar),tV=Qr("borderRight",Ar),nV=Qr("borderBottom",Ar),rV=Qr("borderLeft",Ar),iV=Qr("borderColor"),oV=Qr("borderTopColor"),sV=Qr("borderRightColor"),aV=Qr("borderBottomColor"),lV=Qr("borderLeftColor"),uV=Qr("outline",Ar),cV=Qr("outlineColor"),eg=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=qd(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Kd(e,r)});return ao(t,t.borderRadius,n)}return null};eg.propTypes={};eg.filterProps=["borderRadius"];Zm(Z5,eV,tV,nV,rV,iV,oV,sV,aV,lV,eg,uV,cV);const tg=t=>{if(t.gap!==void 0&&t.gap!==null){const e=qd(t.theme,"spacing",8),n=r=>({gap:Kd(e,r)});return ao(t,t.gap,n)}return null};tg.propTypes={};tg.filterProps=["gap"];const ng=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=qd(t.theme,"spacing",8),n=r=>({columnGap:Kd(e,r)});return ao(t,t.columnGap,n)}return null};ng.propTypes={};ng.filterProps=["columnGap"];const rg=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=qd(t.theme,"spacing",8),n=r=>({rowGap:Kd(e,r)});return ao(t,t.rowGap,n)}return null};rg.propTypes={};rg.filterProps=["rowGap"];const dV=Wt({prop:"gridColumn"}),hV=Wt({prop:"gridRow"}),fV=Wt({prop:"gridAutoFlow"}),pV=Wt({prop:"gridAutoColumns"}),mV=Wt({prop:"gridAutoRows"}),gV=Wt({prop:"gridTemplateColumns"}),yV=Wt({prop:"gridTemplateRows"}),vV=Wt({prop:"gridTemplateAreas"}),_V=Wt({prop:"gridArea"});Zm(tg,ng,rg,dV,hV,fV,pV,mV,gV,yV,vV,_V);function fl(t,e){return e==="grey"?e:t}const wV=Wt({prop:"color",themeKey:"palette",transform:fl}),EV=Wt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:fl}),TV=Wt({prop:"backgroundColor",themeKey:"palette",transform:fl});Zm(wV,EV,TV);function fr(t){return t<=1&&t!==0?`${t*100}%`:t}const SV=Wt({prop:"width",transform:fr}),H1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const o=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||B1[n];return o?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:fr(n)}};return ao(t,t.maxWidth,e)}return null};H1.filterProps=["maxWidth"];const CV=Wt({prop:"minWidth",transform:fr}),IV=Wt({prop:"height",transform:fr}),RV=Wt({prop:"maxHeight",transform:fr}),xV=Wt({prop:"minHeight",transform:fr});Wt({prop:"size",cssProperty:"width",transform:fr});Wt({prop:"size",cssProperty:"height",transform:fr});const bV=Wt({prop:"boxSizing"});Zm(SV,H1,CV,IV,RV,xV,bV);const PV={border:{themeKey:"borders",transform:Ar},borderTop:{themeKey:"borders",transform:Ar},borderRight:{themeKey:"borders",transform:Ar},borderBottom:{themeKey:"borders",transform:Ar},borderLeft:{themeKey:"borders",transform:Ar},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Ar},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:eg},color:{themeKey:"palette",transform:fl},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:fl},backgroundColor:{themeKey:"palette",transform:fl},p:{style:$t},pt:{style:$t},pr:{style:$t},pb:{style:$t},pl:{style:$t},px:{style:$t},py:{style:$t},padding:{style:$t},paddingTop:{style:$t},paddingRight:{style:$t},paddingBottom:{style:$t},paddingLeft:{style:$t},paddingX:{style:$t},paddingY:{style:$t},paddingInline:{style:$t},paddingInlineStart:{style:$t},paddingInlineEnd:{style:$t},paddingBlock:{style:$t},paddingBlockStart:{style:$t},paddingBlockEnd:{style:$t},m:{style:Lt},mt:{style:Lt},mr:{style:Lt},mb:{style:Lt},ml:{style:Lt},mx:{style:Lt},my:{style:Lt},margin:{style:Lt},marginTop:{style:Lt},marginRight:{style:Lt},marginBottom:{style:Lt},marginLeft:{style:Lt},marginX:{style:Lt},marginY:{style:Lt},marginInline:{style:Lt},marginInlineStart:{style:Lt},marginInlineEnd:{style:Lt},marginBlock:{style:Lt},marginBlockStart:{style:Lt},marginBlockEnd:{style:Lt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:tg},rowGap:{style:rg},columnGap:{style:ng},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:fr},maxWidth:{style:H1},minWidth:{transform:fr},height:{transform:fr},maxHeight:{transform:fr},minHeight:{transform:fr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},ig=PV;function kV(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function AV(t,e){return typeof t=="function"?t(e):t}function NV(){function t(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=Jm(i,u)||{};return d?d(s):ao(s,r,m=>{let v=gp(h,c,m);return m===v&&typeof m=="string"&&(v=gp(h,c,`${n}${m==="default"?"":pe(m)}`,m)),l===!1?v:{[l]:v}})}function e(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:ig;function a(l){let u=l;if(typeof l=="function")u=l(o);else if(typeof l!="object")return l;if(!u)return null;const c=W5(o.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(p=>{const m=AV(u[p],o);if(m!=null)if(typeof m=="object")if(s[p])h=Ic(h,t(p,m,o,s));else{const v=ao({theme:o},m,_=>({[p]:_}));kV(v,m)?h[p]=e({sx:m,theme:o}):h=Ic(h,v)}else h=Ic(h,t(p,m,o,s))}),H5(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const Gd=NV();Gd.filterProps=["sx"];function OV(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const DV=["breakpoints","palette","spacing","shape"];function q1(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=t,s=ie(t,DV),a=j5(n),l=J5(i);let u=Fr({breakpoints:a,direction:"ltr",components:{},palette:R({mode:"light"},r),spacing:l,shape:R({},z5,o)},s);return u.applyStyles=OV,u=e.reduce((c,d)=>Fr(c,d),u),u.unstable_sxConfig=R({},ig,s==null?void 0:s.unstable_sxConfig),u.unstable_sx=function(d){return Gd({sx:d,theme:this})},u}function MV(t){return Object.keys(t).length===0}function K1(t=null){const e=w.useContext(Vm);return!e||MV(e)?t:e}const LV=q1();function og(t=LV){return K1(t)}function $V({styles:t,themeId:e,defaultTheme:n={}}){const r=og(n),i=typeof t=="function"?t(e&&r[e]||r):t;return S.jsx(v5,{styles:i})}const FV=["sx"],VV=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:ig;return Object.keys(t).forEach(o=>{i[o]?r.systemProps[o]=t[o]:r.otherProps[o]=t[o]}),r};function UV(t){const{sx:e}=t,n=ie(t,FV),{systemProps:r,otherProps:i}=VV(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return ko(a)?R({},r,a):r}:o=R({},r,e),R({},i,{sx:o})}function yk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=yk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Te(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=yk(t))&&(r&&(r+=" "),r+=e);return r}const jV=["className","component"];function BV(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=uk("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Gd);return w.forwardRef(function(l,u){const c=og(n),d=UV(l),{className:h,component:p="div"}=d,m=ie(d,jV);return S.jsx(o,R({as:p,ref:u,className:Te(h,i?i(r):r),theme:e&&c[e]||c},m))})}const zV=Xe("MuiBox",["root"]),WV=zV,HV=BV({defaultClassName:WV.root,generateClassName:j1.generate}),vk=HV,qV=["ownerState"],KV=["variants"],GV=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function QV(t){return Object.keys(t).length===0}function YV(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Rc(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const XV=q1(),JV=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Qh({defaultTheme:t,theme:e,themeId:n}){return QV(e)?t:e[n]||e}function ZV(t){return t?(e,n)=>n[t]:null}function Af(t,e){let{ownerState:n}=e,r=ie(e,qV);const i=typeof t=="function"?t(R({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(o=>Af(o,R({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let a=ie(i,KV);return o.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props(R({ownerState:n},r)):Object.keys(l.props).forEach(c=>{(n==null?void 0:n[c])!==l.props[c]&&r[c]!==l.props[c]&&(u=!1)}),u&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(R({ownerState:n},r)):l.style))}),a}return i}function eU(t={}){const{themeId:e,defaultTheme:n=XV,rootShouldForwardProp:r=Rc,slotShouldForwardProp:i=Rc}=t,o=s=>Gd(R({},s,{theme:Qh(R({},s,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(s,a={})=>{_5(s,I=>I.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h=ZV(JV(u))}=a,p=ie(a,GV),m=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,v=d||!1;let _,f=Rc;u==="Root"||u==="root"?f=r:u?f=i:YV(s)&&(f=void 0);const g=uk(s,R({shouldForwardProp:f,label:_},p)),y=I=>typeof I=="function"&&I.__emotion_real!==I||ko(I)?E=>Af(I,R({},E,{theme:Qh({theme:E.theme,defaultTheme:n,themeId:e})})):I,T=(I,...E)=>{let C=y(I);const x=E?E.map(y):[];l&&h&&x.push(D=>{const F=Qh(R({},D,{defaultTheme:n,themeId:e}));if(!F.components||!F.components[l]||!F.components[l].styleOverrides)return null;const M=F.components[l].styleOverrides,j={};return Object.entries(M).forEach(([z,U])=>{j[z]=Af(U,R({},D,{theme:F}))}),h(D,j)}),l&&!m&&x.push(D=>{var F;const M=Qh(R({},D,{defaultTheme:n,themeId:e})),j=M==null||(F=M.components)==null||(F=F[l])==null?void 0:F.variants;return Af({variants:j},R({},D,{theme:M}))}),v||x.push(o);const P=x.length-E.length;if(Array.isArray(I)&&P>0){const D=new Array(P).fill("");C=[...I,...D],C.raw=[...I.raw,...D]}const k=g(C,...x);return s.muiName&&(k.muiName=s.muiName),k};return g.withConfig&&(T.withConfig=g.withConfig),T}}function tU(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:fk(e.components[n].defaultProps,r)}function nU({props:t,name:e,defaultTheme:n,themeId:r}){let i=og(n);return r&&(i=i[r]||i),tU({theme:i,name:e,props:t})}function G1(t,e=0,n=1){return F5(t,e,n)}function rU(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ia(t){if(t.type)return t;if(t.charAt(0)==="#")return ia(rU(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(es(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(es(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}function sg(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function iU(t){t=ia(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(u,c=(u+n/30)%12)=>i-o*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),sg({type:a,values:l})}function R_(t){t=ia(t);let e=t.type==="hsl"||t.type==="hsla"?ia(iU(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function oU(t,e){const n=R_(t),r=R_(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function oa(t,e){return t=ia(t),e=G1(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,sg(t)}function fd(t,e){if(t=ia(t),e=G1(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return sg(t)}function pd(t,e){if(t=ia(t),e=G1(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return sg(t)}function sU(t,e=.15){return R_(t)>.5?fd(t,e):pd(t,e)}const aU=w.createContext(null),_k=aU;function wk(){return w.useContext(_k)}const lU=typeof Symbol=="function"&&Symbol.for,uU=lU?Symbol.for("mui.nested"):"__THEME_NESTED__";function cU(t,e){return typeof e=="function"?e(t):R({},t,e)}function dU(t){const{children:e,theme:n}=t,r=wk(),i=w.useMemo(()=>{const o=r===null?n:cU(r,n);return o!=null&&(o[uU]=r!==null),o},[n,r]);return S.jsx(_k.Provider,{value:i,children:e})}const XS={};function JS(t,e,n,r=!1){return w.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const o=n(i),s=t?R({},e,{[t]:o}):o;return r?()=>s:s}return t?R({},e,{[t]:n}):R({},e,n)},[t,e,n,r])}function hU(t){const{children:e,theme:n,themeId:r}=t,i=K1(XS),o=wk()||XS,s=JS(r,i,n),a=JS(r,o,n,!0);return S.jsx(dU,{theme:a,children:S.jsx(Vm.Provider,{value:s,children:e})})}function fU(t,e){return R({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const pU=["mode","contrastThreshold","tonalOffset"],ZS={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ud.white,default:ud.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},jy={text:{primary:ud.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ud.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function eC(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=pd(t.main,i):e==="dark"&&(t.dark=fd(t.main,o)))}function mU(t="light"){return t==="dark"?{main:Aa[200],light:Aa[50],dark:Aa[400]}:{main:Aa[700],light:Aa[400],dark:Aa[800]}}function gU(t="light"){return t==="dark"?{main:ka[200],light:ka[50],dark:ka[400]}:{main:ka[500],light:ka[300],dark:ka[700]}}function yU(t="light"){return t==="dark"?{main:Is[500],light:Is[300],dark:Is[700]}:{main:Is[700],light:Is[400],dark:Is[800]}}function vU(t="light"){return t==="dark"?{main:Na[400],light:Na[300],dark:Na[700]}:{main:Na[700],light:Na[500],dark:Na[900]}}function _U(t="light"){return t==="dark"?{main:Oa[400],light:Oa[300],dark:Oa[700]}:{main:Oa[800],light:Oa[500],dark:Oa[900]}}function wU(t="light"){return t==="dark"?{main:$u[400],light:$u[300],dark:$u[700]}:{main:"#ed6c02",light:$u[500],dark:$u[900]}}function EU(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=ie(t,pU),o=t.primary||mU(e),s=t.secondary||gU(e),a=t.error||yU(e),l=t.info||vU(e),u=t.success||_U(e),c=t.warning||wU(e);function d(v){return oU(v,jy.text.primary)>=n?jy.text.primary:ZS.text.primary}const h=({color:v,name:_,mainShade:f=500,lightShade:g=300,darkShade:y=700})=>{if(v=R({},v),!v.main&&v[f]&&(v.main=v[f]),!v.hasOwnProperty("main"))throw new Error(es(11,_?` (${_})`:"",f));if(typeof v.main!="string")throw new Error(es(12,_?` (${_})`:"",JSON.stringify(v.main)));return eC(v,"light",g,r),eC(v,"dark",y,r),v.contrastText||(v.contrastText=d(v.main)),v},p={dark:jy,light:ZS};return Fr(R({common:R({},ud),mode:e,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:gF,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[e]),i)}const TU=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function SU(t){return Math.round(t*1e5)/1e5}const tC={textTransform:"uppercase"},nC='"Roboto", "Helvetica", "Arial", sans-serif';function CU(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=nC,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=ie(n,TU),p=i/14,m=d||(f=>`${f/u*p}rem`),v=(f,g,y,T,I)=>R({fontFamily:r,fontWeight:f,fontSize:m(g),lineHeight:y},r===nC?{letterSpacing:`${SU(T/g)}em`}:{},I,c),_={h1:v(o,96,1.167,-1.5),h2:v(o,60,1.2,-.5),h3:v(s,48,1.167,0),h4:v(s,34,1.235,.25),h5:v(s,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(s,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(s,16,1.5,.15),body2:v(s,14,1.43,.15),button:v(a,14,1.75,.4,tC),caption:v(s,12,1.66,.4),overline:v(s,12,2.66,1,tC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Fr(R({htmlFontSize:u,pxToRem:m,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},_),h,{clone:!1})}const IU=.2,RU=.14,xU=.12;function St(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${IU})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${RU})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${xU})`].join(",")}const bU=["none",St(0,2,1,-1,0,1,1,0,0,1,3,0),St(0,3,1,-2,0,2,2,0,0,1,5,0),St(0,3,3,-2,0,3,4,0,0,1,8,0),St(0,2,4,-1,0,4,5,0,0,1,10,0),St(0,3,5,-1,0,5,8,0,0,1,14,0),St(0,3,5,-1,0,6,10,0,0,1,18,0),St(0,4,5,-2,0,7,10,1,0,2,16,1),St(0,5,5,-3,0,8,10,1,0,3,14,2),St(0,5,6,-3,0,9,12,1,0,3,16,2),St(0,6,6,-3,0,10,14,1,0,4,18,3),St(0,6,7,-4,0,11,15,1,0,4,20,3),St(0,7,8,-4,0,12,17,2,0,5,22,4),St(0,7,8,-4,0,13,19,2,0,5,24,4),St(0,7,9,-4,0,14,21,2,0,5,26,4),St(0,8,9,-5,0,15,22,2,0,6,28,5),St(0,8,10,-5,0,16,24,2,0,6,30,5),St(0,8,11,-5,0,17,26,2,0,6,32,5),St(0,9,11,-5,0,18,28,2,0,7,34,6),St(0,9,12,-6,0,19,29,2,0,7,36,6),St(0,10,13,-6,0,20,31,3,0,8,38,7),St(0,10,13,-6,0,21,33,3,0,8,40,7),St(0,10,14,-6,0,22,35,3,0,8,42,7),St(0,11,14,-7,0,23,36,3,0,9,44,8),St(0,11,15,-7,0,24,38,3,0,9,46,8)],PU=["duration","easing","delay"],kU={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},AU={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function rC(t){return`${Math.round(t)}ms`}function NU(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function OU(t){const e=R({},kU,t.easing),n=R({},AU,t.duration);return R({getAutoHeightDuration:NU,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:l=0}=o;return ie(o,PU),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof s=="string"?s:rC(s)} ${a} ${typeof l=="string"?l:rC(l)}`).join(",")}},t,{easing:e,duration:n})}const DU={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},MU=DU,LU=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ek(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=t,s=ie(t,LU);if(t.vars)throw new Error(es(18));const a=EU(r),l=q1(t);let u=Fr(l,{mixins:fU(l.breakpoints,n),palette:a,shadows:bU.slice(),typography:CU(a,o),transitions:OU(i),zIndex:R({},MU)});return u=Fr(u,s),u=e.reduce((c,d)=>Fr(c,d),u),u.unstable_sxConfig=R({},ig,s==null?void 0:s.unstable_sxConfig),u.unstable_sx=function(d){return Gd({sx:d,theme:this})},u}const $U=Ek(),ag=$U;function ru(){const t=og(ag);return t[bl]||t}function rt({props:t,name:e}){return nU({props:t,name:e,defaultTheme:ag,themeId:bl})}const Vi=t=>Rc(t)&&t!=="classes",FU=Rc,ee=eU({themeId:bl,defaultTheme:ag,rootShouldForwardProp:Vi}),VU=["theme"];function UU(t){let{theme:e}=t,n=ie(t,VU);const r=e[bl];return S.jsx(hU,R({},n,{themeId:r?bl:void 0,theme:r||e}))}const jU=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},iC=jU;function BU(t){return nt("MuiSvgIcon",t)}Xe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const zU=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],WU=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${pe(e)}`,`fontSize${pe(n)}`]};return tt(i,BU,r)},HU=ee("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${pe(n.color)}`],e[`fontSize${pe(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,o,s,a,l,u,c,d,h,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[e.color]}}),x_=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,p=ie(r,zU),m=w.isValidElement(i)&&i.type==="svg",v=R({},r,{color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:m}),_={};c||(_.viewBox=h);const f=WU(v);return S.jsxs(HU,R({as:a,className:Te(f.root,o),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},_,p,m&&i.props,{ownerState:v,children:[m?i.props.children:i,d?S.jsx("title",{children:d}):null]}))});x_.muiName="SvgIcon";function fs(t,e){function n(r,i){return S.jsx(x_,R({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=x_.muiName,w.memo(w.forwardRef(n))}const qU={configure:t=>{j1.configure(t)}},KU=Object.freeze(Object.defineProperty({__proto__:null,capitalize:pe,createChainedFunction:C_,createSvgIcon:fs,debounce:V1,deprecatedPropType:T5,isMuiElement:kf,ownerDocument:sn,ownerWindow:ts,requirePropFactory:S5,setRef:pp,unstable_ClassNameGenerator:qU,unstable_useEnhancedEffect:Mi,unstable_useId:Ym,unsupportedProp:I5,useControlled:mp,useEventCallback:Mr,useForkRef:an,useIsFocusVisible:U1},Symbol.toStringTag,{value:"Module"}));function b_(t,e){return b_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},b_(t,e)}function Tk(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,b_(t,e)}const oC={disabled:!1},yp=pn.createContext(null);var GU=function(e){return e.scrollTop},oc="unmounted",Rs="exited",xs="entering",Fa="entered",P_="exiting",yo=function(t){Tk(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=Rs,o.appearStatus=xs):l=Fa:r.unmountOnExit||r.mountOnEnter?l=oc:l=Rs,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===oc?{status:Rs}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==xs&&s!==Fa&&(o=xs):(s===xs||s===Fa)&&(o=P_)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===xs){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:ic.findDOMNode(this);s&&GU(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Rs&&this.setState({status:oc})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[ic.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!s||oC.disabled){this.safeSetState({status:Fa},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:xs},function(){o.props.onEntering(u,c),o.onTransitionEnd(h,function(){o.safeSetState({status:Fa},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:ic.findDOMNode(this);if(!o||oC.disabled){this.safeSetState({status:Rs},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:P_},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:Rs},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:ic.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===oc)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=ie(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return pn.createElement(yp.Provider,{value:null},typeof s=="function"?s(i,a):pn.cloneElement(pn.Children.only(s),a))},e}(pn.Component);yo.contextType=yp;yo.propTypes={};function Da(){}yo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Da,onEntering:Da,onEntered:Da,onExit:Da,onExiting:Da,onExited:Da};yo.UNMOUNTED=oc;yo.EXITED=Rs;yo.ENTERING=xs;yo.ENTERED=Fa;yo.EXITING=P_;const Sk=yo;function QU(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Q1(t,e){var n=function(o){return e&&w.isValidElement(o)?e(o):o},r=Object.create(null);return t&&w.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function YU(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var u=r[l][s];a[r[l][s]]=n(u)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function $s(t,e,n){return n[e]!=null?n[e]:t.props[e]}function XU(t,e){return Q1(t.children,function(n){return w.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:$s(n,"appear",t),enter:$s(n,"enter",t),exit:$s(n,"exit",t)})})}function JU(t,e,n){var r=Q1(t.children),i=YU(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(w.isValidElement(s)){var a=o in e,l=o in r,u=e[o],c=w.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[o]=w.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:$s(s,"exit",t),enter:$s(s,"enter",t)}):!l&&a&&!c?i[o]=w.cloneElement(s,{in:!1}):l&&a&&w.isValidElement(u)&&(i[o]=w.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:$s(s,"exit",t),enter:$s(s,"enter",t)}))}}),i}var ZU=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},e6={component:"div",childFactory:function(e){return e}},Y1=function(t){Tk(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(QU(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?XU(i,a):JU(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=Q1(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=R({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=ie(i,["component","childFactory"]),l=this.state.contextValue,u=ZU(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?pn.createElement(yp.Provider,{value:l},u):pn.createElement(yp.Provider,{value:l},pn.createElement(o,a,u))},e}(pn.Component);Y1.propTypes={};Y1.defaultProps=e6;const t6=Y1,Ck=t=>t.scrollTop;function vp(t,e){var n,r;const{timeout:i,easing:o,style:s={}}=t;return{duration:(n=s.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[e.mode]:o,delay:s.transitionDelay}}function n6(t){return nt("MuiPaper",t)}Xe("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const r6=["className","component","elevation","square","variant"],i6=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return tt(o,n6,i)},o6=ee("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return R({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&R({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${oa("#fff",iC(e.elevation))}, ${oa("#fff",iC(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),s6=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:l="elevation"}=r,u=ie(r,r6),c=R({},r,{component:o,elevation:s,square:a,variant:l}),d=i6(c);return S.jsx(o6,R({as:o,ownerState:c,className:Te(d.root,i),ref:n},u))}),X1=s6;function _p(t){return typeof t=="string"}function sc(t,e,n){return t===void 0||_p(t)?e:R({},e,{ownerState:R({},e.ownerState,n)})}const a6={disableDefaultClasses:!1},l6=w.createContext(a6);function u6(t){const{disableDefaultClasses:e}=w.useContext(l6);return n=>e?"":t(n)}function wp(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function c6(t,e,n){return typeof t=="function"?t(e,n):t}function sC(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function d6(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const p=Te(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),m=R({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),v=R({},n,i,r);return p.length>0&&(v.className=p),Object.keys(m).length>0&&(v.style=m),{props:v,internalRef:void 0}}const s=wp(R({},i,r)),a=sC(r),l=sC(i),u=e(s),c=Te(u==null?void 0:u.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),d=R({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=R({},u,n,l,a);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}const h6=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function ns(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=t,s=ie(t,h6),a=o?{}:c6(r,i),{props:l,internalRef:u}=d6(R({},s,{externalSlotProps:a})),c=an(u,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return sc(n,R({},l,{ref:c}),i)}function f6(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:u}=t,[c,d]=w.useState(!1),h=Te(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},m=Te(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),w.useEffect(()=>{if(!a&&l!=null){const v=setTimeout(l,u);return()=>{clearTimeout(v)}}},[l,a,u]),S.jsx("span",{className:h,style:p,children:S.jsx("span",{className:m})})}const br=Xe("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),p6=["center","classes","className"];let lg=t=>t,aC,lC,uC,cC;const k_=550,m6=80,g6=hs(aC||(aC=lg`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),y6=hs(lC||(lC=lg`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),v6=hs(uC||(uC=lg`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),_6=ee("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),w6=ee(f6,{name:"MuiTouchRipple",slot:"Ripple"})(cC||(cC=lg`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),br.rippleVisible,g6,k_,({theme:t})=>t.transitions.easing.easeInOut,br.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,br.child,br.childLeaving,y6,k_,({theme:t})=>t.transitions.easing.easeInOut,br.childPulsate,v6,({theme:t})=>t.transitions.easing.easeInOut),E6=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=ie(r,p6),[l,u]=w.useState([]),c=w.useRef(0),d=w.useRef(null);w.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=w.useRef(!1),p=Ls(),m=w.useRef(null),v=w.useRef(null),_=w.useCallback(T=>{const{pulsate:I,rippleX:E,rippleY:C,rippleSize:x,cb:P}=T;u(k=>[...k,S.jsx(w6,{classes:{ripple:Te(o.ripple,br.ripple),rippleVisible:Te(o.rippleVisible,br.rippleVisible),ripplePulsate:Te(o.ripplePulsate,br.ripplePulsate),child:Te(o.child,br.child),childLeaving:Te(o.childLeaving,br.childLeaving),childPulsate:Te(o.childPulsate,br.childPulsate)},timeout:k_,pulsate:I,rippleX:E,rippleY:C,rippleSize:x},c.current)]),c.current+=1,d.current=P},[o]),f=w.useCallback((T={},I={},E=()=>{})=>{const{pulsate:C=!1,center:x=i||I.pulsate,fakeElement:P=!1}=I;if((T==null?void 0:T.type)==="mousedown"&&h.current){h.current=!1;return}(T==null?void 0:T.type)==="touchstart"&&(h.current=!0);const k=P?null:v.current,D=k?k.getBoundingClientRect():{width:0,height:0,left:0,top:0};let F,M,j;if(x||T===void 0||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)F=Math.round(D.width/2),M=Math.round(D.height/2);else{const{clientX:z,clientY:U}=T.touches&&T.touches.length>0?T.touches[0]:T;F=Math.round(z-D.left),M=Math.round(U-D.top)}if(x)j=Math.sqrt((2*D.width**2+D.height**2)/3),j%2===0&&(j+=1);else{const z=Math.max(Math.abs((k?k.clientWidth:0)-F),F)*2+2,U=Math.max(Math.abs((k?k.clientHeight:0)-M),M)*2+2;j=Math.sqrt(z**2+U**2)}T!=null&&T.touches?m.current===null&&(m.current=()=>{_({pulsate:C,rippleX:F,rippleY:M,rippleSize:j,cb:E})},p.start(m6,()=>{m.current&&(m.current(),m.current=null)})):_({pulsate:C,rippleX:F,rippleY:M,rippleSize:j,cb:E})},[i,_,p]),g=w.useCallback(()=>{f({},{pulsate:!0})},[f]),y=w.useCallback((T,I)=>{if(p.clear(),(T==null?void 0:T.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{y(T,I)});return}m.current=null,u(E=>E.length>0?E.slice(1):E),d.current=I},[p]);return w.useImperativeHandle(n,()=>({pulsate:g,start:f,stop:y}),[g,f,y]),S.jsx(_6,R({className:Te(br.root,o.root,s),ref:v},a,{children:S.jsx(t6,{component:null,exit:!0,children:l})}))}),T6=E6;function S6(t){return nt("MuiButtonBase",t)}const C6=Xe("MuiButtonBase",["root","disabled","focusVisible"]),I6=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],R6=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=tt({root:["root",e&&"disabled",n&&"focusVisible"]},S6,i);return n&&r&&(s.root+=` ${r}`),s},x6=ee("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${C6.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),b6=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:m,onClick:v,onContextMenu:_,onDragLeave:f,onFocus:g,onFocusVisible:y,onKeyDown:T,onKeyUp:I,onMouseDown:E,onMouseLeave:C,onMouseUp:x,onTouchEnd:P,onTouchMove:k,onTouchStart:D,tabIndex:F=0,TouchRippleProps:M,touchRippleRef:j,type:z}=r,U=ie(r,I6),V=w.useRef(null),N=w.useRef(null),B=an(N,j),{isFocusVisibleRef:W,onFocus:ae,onBlur:J,ref:ne}=U1(),[Y,he]=w.useState(!1);u&&Y&&he(!1),w.useImperativeHandle(i,()=>({focusVisible:()=>{he(!0),V.current.focus()}}),[]);const[ce,Me]=w.useState(!1);w.useEffect(()=>{Me(!0)},[]);const Le=ce&&!c&&!u;w.useEffect(()=>{Y&&h&&!c&&ce&&N.current.pulsate()},[c,h,Y,ce]);function $e(re,Mt,Rr=d){return Mr(Jn=>(Mt&&Mt(Jn),!Rr&&N.current&&N.current[re](Jn),!0))}const Rt=$e("start",E),le=$e("stop",_),ze=$e("stop",f),ve=$e("stop",x),Fe=$e("stop",re=>{Y&&re.preventDefault(),C&&C(re)}),Ee=$e("start",D),_n=$e("stop",P),tn=$e("stop",k),Dt=$e("stop",re=>{J(re),W.current===!1&&he(!1),m&&m(re)},!1),ln=Mr(re=>{V.current||(V.current=re.currentTarget),ae(re),W.current===!0&&(he(!0),y&&y(re)),g&&g(re)}),at=()=>{const re=V.current;return l&&l!=="button"&&!(re.tagName==="A"&&re.href)},Ae=w.useRef(!1),Ht=Mr(re=>{h&&!Ae.current&&Y&&N.current&&re.key===" "&&(Ae.current=!0,N.current.stop(re,()=>{N.current.start(re)})),re.target===re.currentTarget&&at()&&re.key===" "&&re.preventDefault(),T&&T(re),re.target===re.currentTarget&&at()&&re.key==="Enter"&&!u&&(re.preventDefault(),v&&v(re))}),ct=Mr(re=>{h&&re.key===" "&&N.current&&Y&&!re.defaultPrevented&&(Ae.current=!1,N.current.stop(re,()=>{N.current.pulsate(re)})),I&&I(re),v&&re.target===re.currentTarget&&at()&&re.key===" "&&!re.defaultPrevented&&v(re)});let xe=l;xe==="button"&&(U.href||U.to)&&(xe=p);const xt={};xe==="button"?(xt.type=z===void 0?"button":z,xt.disabled=u):(!U.href&&!U.to&&(xt.role="button"),u&&(xt["aria-disabled"]=u));const nn=an(n,ne,V),qt=R({},r,{centerRipple:o,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:F,focusVisible:Y}),We=R6(qt);return S.jsxs(x6,R({as:xe,className:Te(We.root,a),ownerState:qt,onBlur:Dt,onClick:v,onContextMenu:le,onFocus:ln,onKeyDown:Ht,onKeyUp:ct,onMouseDown:Rt,onMouseLeave:Fe,onMouseUp:ve,onDragLeave:ze,onTouchEnd:_n,onTouchMove:tn,onTouchStart:Ee,ref:nn,tabIndex:u?-1:F,type:z},xt,U,{children:[s,Le?S.jsx(T6,R({ref:B,center:o},M)):null]}))}),P6=b6;function k6(t){return nt("MuiAlert",t)}const A6=Xe("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),dC=A6;function N6(t){return nt("MuiIconButton",t)}const O6=Xe("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),D6=["edge","children","className","color","disabled","disableFocusRipple","size"],M6=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o}=t,s={root:["root",n&&"disabled",r!=="default"&&`color${pe(r)}`,i&&`edge${pe(i)}`,`size${pe(o)}`]};return tt(s,N6,e)},L6=ee(P6,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${pe(n.color)}`],n.edge&&e[`edge${pe(n.edge)}`],e[`size${pe(n.size)}`]]}})(({theme:t,ownerState:e})=>R({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:oa(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return R({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&R({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":R({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:oa(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${O6.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),$6=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=r,d=ie(r,D6),h=R({},r,{edge:i,color:a,disabled:l,disableFocusRipple:u,size:c}),p=M6(h);return S.jsx(L6,R({className:Te(p.root,s),centerRipple:!0,focusRipple:!u,disabled:l,ref:n,ownerState:h},d,{children:o}))}),F6=$6,V6=fs(S.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),U6=fs(S.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),j6=fs(S.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),B6=fs(S.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),z6=fs(S.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),W6=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],H6=t=>{const{variant:e,color:n,severity:r,classes:i}=t,o={root:["root",`${e}${pe(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return tt(o,k6,i)},q6=ee(X1,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${pe(n.color||n.severity)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?fd:pd,r=t.palette.mode==="light"?pd:fd,i=e.color||e.severity;return R({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},i&&e.variant==="standard"&&{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${i}StandardBg`]:r(t.palette[i].light,.9),[`& .${dC.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}},i&&e.variant==="outlined"&&{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),border:`1px solid ${(t.vars||t).palette[i].light}`,[`& .${dC.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}},i&&e.variant==="filled"&&R({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${i}FilledColor`],backgroundColor:t.vars.palette.Alert[`${i}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[i].dark:t.palette[i].main,color:t.palette.getContrastText(t.palette[i].main)}))}),K6=ee("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),G6=ee("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),hC=ee("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),fC={success:S.jsx(V6,{fontSize:"inherit"}),warning:S.jsx(U6,{fontSize:"inherit"}),error:S.jsx(j6,{fontSize:"inherit"}),info:S.jsx(B6,{fontSize:"inherit"})},Q6=w.forwardRef(function(e,n){var r,i,o,s,a,l;const u=rt({props:e,name:"MuiAlert"}),{action:c,children:d,className:h,closeText:p="Close",color:m,components:v={},componentsProps:_={},icon:f,iconMapping:g=fC,onClose:y,role:T="alert",severity:I="success",slotProps:E={},slots:C={},variant:x="standard"}=u,P=ie(u,W6),k=R({},u,{color:m,severity:I,variant:x}),D=H6(k),F=(r=(i=C.closeButton)!=null?i:v.CloseButton)!=null?r:F6,M=(o=(s=C.closeIcon)!=null?s:v.CloseIcon)!=null?o:z6,j=(a=E.closeButton)!=null?a:_.closeButton,z=(l=E.closeIcon)!=null?l:_.closeIcon;return S.jsxs(q6,R({role:T,elevation:0,ownerState:k,className:Te(D.root,h),ref:n},P,{children:[f!==!1?S.jsx(K6,{ownerState:k,className:D.icon,children:f||g[I]||fC[I]}):null,S.jsx(G6,{ownerState:k,className:D.message,children:d}),c!=null?S.jsx(hC,{ownerState:k,className:D.action,children:c}):null,c==null&&y?S.jsx(hC,{ownerState:k,className:D.action,children:S.jsx(F,R({size:"small","aria-label":p,title:p,color:"inherit",onClick:y},j,{children:S.jsx(M,R({fontSize:"small"},z))}))}):null]}))}),Ik=Q6,Rk="base";function Y6(t){return`${Rk}--${t}`}function X6(t,e){return`${Rk}-${t}-${e}`}function xk(t,e){const n=pk[e];return n?Y6(n):X6(t,e)}function J6(t,e){const n={};return e.forEach(r=>{n[r]=xk(t,r)}),n}function pC(t){return t.substring(2).toLowerCase()}function Z6(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function e3(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:o="onTouchEnd"}=t,s=w.useRef(!1),a=w.useRef(null),l=w.useRef(!1),u=w.useRef(!1);w.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const c=an(e.ref,a),d=Mr(m=>{const v=u.current;u.current=!1;const _=sn(a.current);if(!l.current||!a.current||"clientX"in m&&Z6(m,_))return;if(s.current){s.current=!1;return}let f;m.composedPath?f=m.composedPath().indexOf(a.current)>-1:f=!_.documentElement.contains(m.target)||a.current.contains(m.target),!f&&(n||!v)&&i(m)}),h=m=>v=>{u.current=!0;const _=e.props[m];_&&_(v)},p={ref:c};return o!==!1&&(p[o]=h(o)),w.useEffect(()=>{if(o!==!1){const m=pC(o),v=sn(a.current),_=()=>{s.current=!0};return v.addEventListener(m,d),v.addEventListener("touchmove",_),()=>{v.removeEventListener(m,d),v.removeEventListener("touchmove",_)}}},[d,o]),r!==!1&&(p[r]=h(r)),w.useEffect(()=>{if(r!==!1){const m=pC(r),v=sn(a.current);return v.addEventListener(m,d),()=>{v.removeEventListener(m,d)}}},[d,r]),S.jsx(w.Fragment,{children:w.cloneElement(e,p)})}const t3=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function n3(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function r3(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function i3(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||r3(t))}function o3(t){const e=[],n=[];return Array.from(t.querySelectorAll(t3)).forEach((r,i)=>{const o=n3(r);o===-1||!i3(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function s3(){return!0}function a3(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=o3,isEnabled:s=s3,open:a}=t,l=w.useRef(!1),u=w.useRef(null),c=w.useRef(null),d=w.useRef(null),h=w.useRef(null),p=w.useRef(!1),m=w.useRef(null),v=an(e.ref,m),_=w.useRef(null);w.useEffect(()=>{!a||!m.current||(p.current=!n)},[n,a]),w.useEffect(()=>{if(!a||!m.current)return;const y=sn(m.current);return m.current.contains(y.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),w.useEffect(()=>{if(!a||!m.current)return;const y=sn(m.current),T=C=>{_.current=C,!(r||!s()||C.key!=="Tab")&&y.activeElement===m.current&&C.shiftKey&&(l.current=!0,c.current&&c.current.focus())},I=()=>{const C=m.current;if(C===null)return;if(!y.hasFocus()||!s()||l.current){l.current=!1;return}if(C.contains(y.activeElement)||r&&y.activeElement!==u.current&&y.activeElement!==c.current)return;if(y.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let x=[];if((y.activeElement===u.current||y.activeElement===c.current)&&(x=o(m.current)),x.length>0){var P,k;const D=!!((P=_.current)!=null&&P.shiftKey&&((k=_.current)==null?void 0:k.key)==="Tab"),F=x[0],M=x[x.length-1];typeof F!="string"&&typeof M!="string"&&(D?M.focus():F.focus())}else C.focus()};y.addEventListener("focusin",I),y.addEventListener("keydown",T,!0);const E=setInterval(()=>{y.activeElement&&y.activeElement.tagName==="BODY"&&I()},50);return()=>{clearInterval(E),y.removeEventListener("focusin",I),y.removeEventListener("keydown",T,!0)}},[n,r,i,s,a,o]);const f=y=>{d.current===null&&(d.current=y.relatedTarget),p.current=!0,h.current=y.target;const T=e.props.onFocus;T&&T(y)},g=y=>{d.current===null&&(d.current=y.relatedTarget),p.current=!0};return S.jsxs(w.Fragment,{children:[S.jsx("div",{tabIndex:a?0:-1,onFocus:g,ref:u,"data-testid":"sentinelStart"}),w.cloneElement(e,{ref:v,onFocus:f}),S.jsx("div",{tabIndex:a?0:-1,onFocus:g,ref:c,"data-testid":"sentinelEnd"})]})}function l3(t){return typeof t=="function"?t():t}const bk=w.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=w.useState(null),l=an(w.isValidElement(r)?r.ref:null,n);if(Mi(()=>{o||a(l3(i)||document.body)},[i,o]),Mi(()=>{if(s&&!o)return pp(n,s),()=>{pp(n,null)}},[n,s,o]),o){if(w.isValidElement(r)){const u={ref:l};return w.cloneElement(r,u)}return S.jsx(w.Fragment,{children:r})}return S.jsx(w.Fragment,{children:s&&zd.createPortal(r,s)})});function u3(t){const e=sn(t);return e.body===t?ts(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function xc(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function mC(t){return parseInt(ts(t).getComputedStyle(t).paddingRight,10)||0}function c3(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function gC(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const a=o.indexOf(s)===-1,l=!c3(s);a&&l&&xc(s,i)})}function By(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function d3(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(u3(r)){const s=hk(sn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${mC(r)+s}px`;const a=sn(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${mC(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=sn(r).body;else{const s=r.parentElement,a=ts(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function h3(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class f3{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&xc(e.modalRef,!1);const i=h3(n);gC(n,e.mount,e.modalRef,i,!0);const o=By(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=By(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=d3(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=By(this.containers,s=>s.modals.indexOf(e)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&xc(e.modalRef,n),gC(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&xc(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function p3(t){return typeof t=="function"?t():t}function m3(t){return t?t.props.hasOwnProperty("in"):!1}const g3=new f3;function y3(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=g3,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:u,open:c,rootRef:d}=t,h=w.useRef({}),p=w.useRef(null),m=w.useRef(null),v=an(m,d),[_,f]=w.useState(!c),g=m3(l);let y=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(y=!1);const T=()=>sn(p.current),I=()=>(h.current.modalRef=m.current,h.current.mount=p.current,h.current),E=()=>{i.mount(I(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},C=Mr(()=>{const U=p3(e)||T().body;i.add(I(),U),m.current&&E()}),x=w.useCallback(()=>i.isTopModal(I()),[i]),P=Mr(U=>{p.current=U,U&&(c&&x()?E():m.current&&xc(m.current,y))}),k=w.useCallback(()=>{i.remove(I(),y)},[y,i]);w.useEffect(()=>()=>{k()},[k]),w.useEffect(()=>{c?C():(!g||!o)&&k()},[c,k,g,o,C]);const D=U=>V=>{var N;(N=U.onKeyDown)==null||N.call(U,V),!(V.key!=="Escape"||V.which===229||!x())&&(n||(V.stopPropagation(),u&&u(V,"escapeKeyDown")))},F=U=>V=>{var N;(N=U.onClick)==null||N.call(U,V),V.target===V.currentTarget&&u&&u(V,"backdropClick")};return{getRootProps:(U={})=>{const V=wp(t);delete V.onTransitionEnter,delete V.onTransitionExited;const N=R({},V,U);return R({role:"presentation"},N,{onKeyDown:D(N),ref:v})},getBackdropProps:(U={})=>{const V=U;return R({"aria-hidden":!0},V,{onClick:F(V),open:c})},getTransitionProps:()=>{const U=()=>{f(!1),s&&s()},V=()=>{f(!0),a&&a(),o&&k()};return{onEnter:C_(U,l==null?void 0:l.props.onEnter),onExited:C_(V,l==null?void 0:l.props.onExited)}},rootRef:v,portalRef:P,isTopModal:x,exited:_,hasTransition:g}}var lr="top",Wr="bottom",Hr="right",ur="left",J1="auto",Qd=[lr,Wr,Hr,ur],kl="start",md="end",v3="clippingParents",Pk="viewport",Vu="popper",_3="reference",yC=Qd.reduce(function(t,e){return t.concat([e+"-"+kl,e+"-"+md])},[]),kk=[].concat(Qd,[J1]).reduce(function(t,e){return t.concat([e,e+"-"+kl,e+"-"+md])},[]),w3="beforeRead",E3="read",T3="afterRead",S3="beforeMain",C3="main",I3="afterMain",R3="beforeWrite",x3="write",b3="afterWrite",P3=[w3,E3,T3,S3,C3,I3,R3,x3,b3];function Li(t){return t?(t.nodeName||"").toLowerCase():null}function Er(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function sa(t){var e=Er(t).Element;return t instanceof e||t instanceof Element}function Vr(t){var e=Er(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Z1(t){if(typeof ShadowRoot>"u")return!1;var e=Er(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function k3(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Vr(o)||!Li(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function A3(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,u){return l[u]="",l},{});!Vr(i)||!Li(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const N3={name:"applyStyles",enabled:!0,phase:"write",fn:k3,effect:A3,requires:["computeStyles"]};function bi(t){return t.split("-")[0]}var qs=Math.max,Ep=Math.min,Al=Math.round;function A_(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ak(){return!/^((?!chrome|android).)*safari/i.test(A_())}function Nl(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&Vr(t)&&(i=t.offsetWidth>0&&Al(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Al(r.height)/t.offsetHeight||1);var s=sa(t)?Er(t):window,a=s.visualViewport,l=!Ak()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/o,d=r.width/i,h=r.height/o;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function ew(t){var e=Nl(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Nk(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Z1(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function lo(t){return Er(t).getComputedStyle(t)}function O3(t){return["table","td","th"].indexOf(Li(t))>=0}function ps(t){return((sa(t)?t.ownerDocument:t.document)||window.document).documentElement}function ug(t){return Li(t)==="html"?t:t.assignedSlot||t.parentNode||(Z1(t)?t.host:null)||ps(t)}function vC(t){return!Vr(t)||lo(t).position==="fixed"?null:t.offsetParent}function D3(t){var e=/firefox/i.test(A_()),n=/Trident/i.test(A_());if(n&&Vr(t)){var r=lo(t);if(r.position==="fixed")return null}var i=ug(t);for(Z1(i)&&(i=i.host);Vr(i)&&["html","body"].indexOf(Li(i))<0;){var o=lo(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Yd(t){for(var e=Er(t),n=vC(t);n&&O3(n)&&lo(n).position==="static";)n=vC(n);return n&&(Li(n)==="html"||Li(n)==="body"&&lo(n).position==="static")?e:n||D3(t)||e}function tw(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function bc(t,e,n){return qs(t,Ep(e,n))}function M3(t,e,n){var r=bc(t,e,n);return r>n?n:r}function Ok(){return{top:0,right:0,bottom:0,left:0}}function Dk(t){return Object.assign({},Ok(),t)}function Mk(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var L3=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Dk(typeof e!="number"?e:Mk(e,Qd))};function $3(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=bi(n.placement),l=tw(a),u=[ur,Hr].indexOf(a)>=0,c=u?"height":"width";if(!(!o||!s)){var d=L3(i.padding,n),h=ew(o),p=l==="y"?lr:ur,m=l==="y"?Wr:Hr,v=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],_=s[l]-n.rects.reference[l],f=Yd(o),g=f?l==="y"?f.clientHeight||0:f.clientWidth||0:0,y=v/2-_/2,T=d[p],I=g-h[c]-d[m],E=g/2-h[c]/2+y,C=bc(T,E,I),x=l;n.modifiersData[r]=(e={},e[x]=C,e.centerOffset=C-E,e)}}function F3(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Nk(e.elements.popper,i)&&(e.elements.arrow=i))}const V3={name:"arrow",enabled:!0,phase:"main",fn:$3,effect:F3,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ol(t){return t.split("-")[1]}var U3={top:"auto",right:"auto",bottom:"auto",left:"auto"};function j3(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Al(n*i)/i||0,y:Al(r*i)/i||0}}function _C(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,h=s.x,p=h===void 0?0:h,m=s.y,v=m===void 0?0:m,_=typeof c=="function"?c({x:p,y:v}):{x:p,y:v};p=_.x,v=_.y;var f=s.hasOwnProperty("x"),g=s.hasOwnProperty("y"),y=ur,T=lr,I=window;if(u){var E=Yd(n),C="clientHeight",x="clientWidth";if(E===Er(n)&&(E=ps(n),lo(E).position!=="static"&&a==="absolute"&&(C="scrollHeight",x="scrollWidth")),E=E,i===lr||(i===ur||i===Hr)&&o===md){T=Wr;var P=d&&E===I&&I.visualViewport?I.visualViewport.height:E[C];v-=P-r.height,v*=l?1:-1}if(i===ur||(i===lr||i===Wr)&&o===md){y=Hr;var k=d&&E===I&&I.visualViewport?I.visualViewport.width:E[x];p-=k-r.width,p*=l?1:-1}}var D=Object.assign({position:a},u&&U3),F=c===!0?j3({x:p,y:v},Er(n)):{x:p,y:v};if(p=F.x,v=F.y,l){var M;return Object.assign({},D,(M={},M[T]=g?"0":"",M[y]=f?"0":"",M.transform=(I.devicePixelRatio||1)<=1?"translate("+p+"px, "+v+"px)":"translate3d("+p+"px, "+v+"px, 0)",M))}return Object.assign({},D,(e={},e[T]=g?v+"px":"",e[y]=f?p+"px":"",e.transform="",e))}function B3(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:bi(e.placement),variation:Ol(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,_C(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,_C(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const z3={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:B3,data:{}};var Yh={passive:!0};function W3(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=Er(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,Yh)}),a&&l.addEventListener("resize",n.update,Yh),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Yh)}),a&&l.removeEventListener("resize",n.update,Yh)}}const H3={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:W3,data:{}};var q3={left:"right",right:"left",bottom:"top",top:"bottom"};function Nf(t){return t.replace(/left|right|bottom|top/g,function(e){return q3[e]})}var K3={start:"end",end:"start"};function wC(t){return t.replace(/start|end/g,function(e){return K3[e]})}function nw(t){var e=Er(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function rw(t){return Nl(ps(t)).left+nw(t).scrollLeft}function G3(t,e){var n=Er(t),r=ps(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var u=Ak();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+rw(t),y:l}}function Q3(t){var e,n=ps(t),r=nw(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=qs(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=qs(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+rw(t),l=-r.scrollTop;return lo(i||n).direction==="rtl"&&(a+=qs(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function iw(t){var e=lo(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Lk(t){return["html","body","#document"].indexOf(Li(t))>=0?t.ownerDocument.body:Vr(t)&&iw(t)?t:Lk(ug(t))}function Pc(t,e){var n;e===void 0&&(e=[]);var r=Lk(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Er(r),s=i?[o].concat(o.visualViewport||[],iw(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(Pc(ug(s)))}function N_(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Y3(t,e){var n=Nl(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function EC(t,e,n){return e===Pk?N_(G3(t,n)):sa(e)?Y3(e,n):N_(Q3(ps(t)))}function X3(t){var e=Pc(ug(t)),n=["absolute","fixed"].indexOf(lo(t).position)>=0,r=n&&Vr(t)?Yd(t):t;return sa(r)?e.filter(function(i){return sa(i)&&Nk(i,r)&&Li(i)!=="body"}):[]}function J3(t,e,n,r){var i=e==="clippingParents"?X3(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,u){var c=EC(t,u,r);return l.top=qs(c.top,l.top),l.right=Ep(c.right,l.right),l.bottom=Ep(c.bottom,l.bottom),l.left=qs(c.left,l.left),l},EC(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function $k(t){var e=t.reference,n=t.element,r=t.placement,i=r?bi(r):null,o=r?Ol(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case lr:l={x:s,y:e.y-n.height};break;case Wr:l={x:s,y:e.y+e.height};break;case Hr:l={x:e.x+e.width,y:a};break;case ur:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?tw(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case kl:l[u]=l[u]-(e[c]/2-n[c]/2);break;case md:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function gd(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?v3:a,u=n.rootBoundary,c=u===void 0?Pk:u,d=n.elementContext,h=d===void 0?Vu:d,p=n.altBoundary,m=p===void 0?!1:p,v=n.padding,_=v===void 0?0:v,f=Dk(typeof _!="number"?_:Mk(_,Qd)),g=h===Vu?_3:Vu,y=t.rects.popper,T=t.elements[m?g:h],I=J3(sa(T)?T:T.contextElement||ps(t.elements.popper),l,c,s),E=Nl(t.elements.reference),C=$k({reference:E,element:y,strategy:"absolute",placement:i}),x=N_(Object.assign({},y,C)),P=h===Vu?x:E,k={top:I.top-P.top+f.top,bottom:P.bottom-I.bottom+f.bottom,left:I.left-P.left+f.left,right:P.right-I.right+f.right},D=t.modifiersData.offset;if(h===Vu&&D){var F=D[i];Object.keys(k).forEach(function(M){var j=[Hr,Wr].indexOf(M)>=0?1:-1,z=[lr,Wr].indexOf(M)>=0?"y":"x";k[M]+=F[z]*j})}return k}function Z3(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?kk:l,c=Ol(r),d=c?a?yC:yC.filter(function(m){return Ol(m)===c}):Qd,h=d.filter(function(m){return u.indexOf(m)>=0});h.length===0&&(h=d);var p=h.reduce(function(m,v){return m[v]=gd(t,{placement:v,boundary:i,rootBoundary:o,padding:s})[bi(v)],m},{});return Object.keys(p).sort(function(m,v){return p[m]-p[v]})}function ej(t){if(bi(t)===J1)return[];var e=Nf(t);return[wC(t),e,wC(e)]}function tj(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,v=n.allowedAutoPlacements,_=e.options.placement,f=bi(_),g=f===_,y=l||(g||!m?[Nf(_)]:ej(_)),T=[_].concat(y).reduce(function(Y,he){return Y.concat(bi(he)===J1?Z3(e,{placement:he,boundary:c,rootBoundary:d,padding:u,flipVariations:m,allowedAutoPlacements:v}):he)},[]),I=e.rects.reference,E=e.rects.popper,C=new Map,x=!0,P=T[0],k=0;k<T.length;k++){var D=T[k],F=bi(D),M=Ol(D)===kl,j=[lr,Wr].indexOf(F)>=0,z=j?"width":"height",U=gd(e,{placement:D,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),V=j?M?Hr:ur:M?Wr:lr;I[z]>E[z]&&(V=Nf(V));var N=Nf(V),B=[];if(o&&B.push(U[F]<=0),a&&B.push(U[V]<=0,U[N]<=0),B.every(function(Y){return Y})){P=D,x=!1;break}C.set(D,B)}if(x)for(var W=m?3:1,ae=function(he){var ce=T.find(function(Me){var Le=C.get(Me);if(Le)return Le.slice(0,he).every(function($e){return $e})});if(ce)return P=ce,"break"},J=W;J>0;J--){var ne=ae(J);if(ne==="break")break}e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}}const nj={name:"flip",enabled:!0,phase:"main",fn:tj,requiresIfExists:["offset"],data:{_skip:!1}};function TC(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function SC(t){return[lr,Hr,Wr,ur].some(function(e){return t[e]>=0})}function rj(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=gd(e,{elementContext:"reference"}),a=gd(e,{altBoundary:!0}),l=TC(s,r),u=TC(a,i,o),c=SC(l),d=SC(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const ij={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:rj};function oj(t,e,n){var r=bi(t),i=[ur,lr].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[ur,Hr].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function sj(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=kk.reduce(function(c,d){return c[d]=oj(d,e.rects,o),c},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}const aj={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:sj};function lj(t){var e=t.state,n=t.name;e.modifiersData[n]=$k({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const uj={name:"popperOffsets",enabled:!0,phase:"read",fn:lj,data:{}};function cj(t){return t==="x"?"y":"x"}function dj(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,p=h===void 0?!0:h,m=n.tetherOffset,v=m===void 0?0:m,_=gd(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),f=bi(e.placement),g=Ol(e.placement),y=!g,T=tw(f),I=cj(T),E=e.modifiersData.popperOffsets,C=e.rects.reference,x=e.rects.popper,P=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,k=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),D=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(E){if(o){var M,j=T==="y"?lr:ur,z=T==="y"?Wr:Hr,U=T==="y"?"height":"width",V=E[T],N=V+_[j],B=V-_[z],W=p?-x[U]/2:0,ae=g===kl?C[U]:x[U],J=g===kl?-x[U]:-C[U],ne=e.elements.arrow,Y=p&&ne?ew(ne):{width:0,height:0},he=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Ok(),ce=he[j],Me=he[z],Le=bc(0,C[U],Y[U]),$e=y?C[U]/2-W-Le-ce-k.mainAxis:ae-Le-ce-k.mainAxis,Rt=y?-C[U]/2+W+Le+Me+k.mainAxis:J+Le+Me+k.mainAxis,le=e.elements.arrow&&Yd(e.elements.arrow),ze=le?T==="y"?le.clientTop||0:le.clientLeft||0:0,ve=(M=D==null?void 0:D[T])!=null?M:0,Fe=V+$e-ve-ze,Ee=V+Rt-ve,_n=bc(p?Ep(N,Fe):N,V,p?qs(B,Ee):B);E[T]=_n,F[T]=_n-V}if(a){var tn,Dt=T==="x"?lr:ur,ln=T==="x"?Wr:Hr,at=E[I],Ae=I==="y"?"height":"width",Ht=at+_[Dt],ct=at-_[ln],xe=[lr,ur].indexOf(f)!==-1,xt=(tn=D==null?void 0:D[I])!=null?tn:0,nn=xe?Ht:at-C[Ae]-x[Ae]-xt+k.altAxis,qt=xe?at+C[Ae]+x[Ae]-xt-k.altAxis:ct,We=p&&xe?M3(nn,at,qt):bc(p?nn:Ht,at,p?qt:ct);E[I]=We,F[I]=We-at}e.modifiersData[r]=F}}const hj={name:"preventOverflow",enabled:!0,phase:"main",fn:dj,requiresIfExists:["offset"]};function fj(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function pj(t){return t===Er(t)||!Vr(t)?nw(t):fj(t)}function mj(t){var e=t.getBoundingClientRect(),n=Al(e.width)/t.offsetWidth||1,r=Al(e.height)/t.offsetHeight||1;return n!==1||r!==1}function gj(t,e,n){n===void 0&&(n=!1);var r=Vr(e),i=Vr(e)&&mj(e),o=ps(e),s=Nl(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Li(e)!=="body"||iw(o))&&(a=pj(e)),Vr(e)?(l=Nl(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=rw(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function yj(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function vj(t){var e=yj(t);return P3.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function _j(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function wj(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var CC={placement:"bottom",modifiers:[],strategy:"absolute"};function IC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Ej(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?CC:i;return function(a,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},CC,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,p={state:c,setOptions:function(f){var g=typeof f=="function"?f(c.options):f;v(),c.options=Object.assign({},o,c.options,g),c.scrollParents={reference:sa(a)?Pc(a):a.contextElement?Pc(a.contextElement):[],popper:Pc(l)};var y=vj(wj([].concat(r,c.options.modifiers)));return c.orderedModifiers=y.filter(function(T){return T.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var f=c.elements,g=f.reference,y=f.popper;if(IC(g,y)){c.rects={reference:gj(g,Yd(y),c.options.strategy==="fixed"),popper:ew(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(k){return c.modifiersData[k.name]=Object.assign({},k.data)});for(var T=0;T<c.orderedModifiers.length;T++){if(c.reset===!0){c.reset=!1,T=-1;continue}var I=c.orderedModifiers[T],E=I.fn,C=I.options,x=C===void 0?{}:C,P=I.name;typeof E=="function"&&(c=E({state:c,options:x,name:P,instance:p})||c)}}}},update:_j(function(){return new Promise(function(_){p.forceUpdate(),_(c)})}),destroy:function(){v(),h=!0}};if(!IC(a,l))return p;p.setOptions(u).then(function(_){!h&&u.onFirstUpdate&&u.onFirstUpdate(_)});function m(){c.orderedModifiers.forEach(function(_){var f=_.name,g=_.options,y=g===void 0?{}:g,T=_.effect;if(typeof T=="function"){var I=T({state:c,name:f,instance:p,options:y}),E=function(){};d.push(I||E)}})}function v(){d.forEach(function(_){return _()}),d=[]}return p}}var Tj=[H3,uj,z3,N3,aj,nj,hj,V3,ij],Sj=Ej({defaultModifiers:Tj});const Fk="Popper";function Cj(t){return xk(Fk,t)}J6(Fk,["root"]);const Ij=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Rj=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function xj(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function O_(t){return typeof t=="function"?t():t}function bj(t){return t.nodeType!==void 0}const Pj=()=>tt({root:["root"]},u6(Cj)),kj={},Aj=w.forwardRef(function(e,n){var r;const{anchorEl:i,children:o,direction:s,disablePortal:a,modifiers:l,open:u,placement:c,popperOptions:d,popperRef:h,slotProps:p={},slots:m={},TransitionProps:v}=e,_=ie(e,Ij),f=w.useRef(null),g=an(f,n),y=w.useRef(null),T=an(y,h),I=w.useRef(T);Mi(()=>{I.current=T},[T]),w.useImperativeHandle(h,()=>y.current,[]);const E=xj(c,s),[C,x]=w.useState(E),[P,k]=w.useState(O_(i));w.useEffect(()=>{y.current&&y.current.forceUpdate()}),w.useEffect(()=>{i&&k(O_(i))},[i]),Mi(()=>{if(!P||!u)return;const z=N=>{x(N.placement)};let U=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:N})=>{z(N)}}];l!=null&&(U=U.concat(l)),d&&d.modifiers!=null&&(U=U.concat(d.modifiers));const V=Sj(P,f.current,R({placement:E},d,{modifiers:U}));return I.current(V),()=>{V.destroy(),I.current(null)}},[P,a,l,u,d,E]);const D={placement:C};v!==null&&(D.TransitionProps=v);const F=Pj(),M=(r=m.root)!=null?r:"div",j=ns({elementType:M,externalSlotProps:p.root,externalForwardedProps:_,additionalProps:{role:"tooltip",ref:g},ownerState:e,className:F.root});return S.jsx(M,R({},j,{children:typeof o=="function"?o(D):o}))}),Nj=w.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:h=kj,popperRef:p,style:m,transition:v=!1,slotProps:_={},slots:f={}}=e,g=ie(e,Rj),[y,T]=w.useState(!0),I=()=>{T(!1)},E=()=>{T(!0)};if(!l&&!c&&(!v||y))return null;let C;if(o)C=o;else if(r){const k=O_(r);C=k&&bj(k)?sn(k).body:sn(null).body}const x=!c&&l&&(!v||y)?"none":void 0,P=v?{in:c,onEnter:I,onExited:E}:void 0;return S.jsx(bk,{disablePortal:a,container:C,children:S.jsx(Aj,R({anchorEl:r,direction:s,disablePortal:a,modifiers:u,ref:n,open:v?!y:c,placement:d,popperOptions:h,popperRef:p,slotProps:_,slots:f},g,{style:R({position:"fixed",top:0,left:0,display:x},m),TransitionProps:P,children:i}))})});function Oj(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:o}=t,s=Ls();w.useEffect(()=>{if(!i)return;function f(g){g.defaultPrevented||(g.key==="Escape"||g.key==="Esc")&&(r==null||r(g,"escapeKeyDown"))}return document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}},[i,r]);const a=Mr((f,g)=>{r==null||r(f,g)}),l=Mr(f=>{!r||f==null||s.start(f,()=>{a(null,"timeout")})});w.useEffect(()=>(i&&l(e),s.clear),[i,e,l,s]);const u=f=>{r==null||r(f,"clickaway")},c=s.clear,d=w.useCallback(()=>{e!=null&&l(o??e*.5)},[e,o,l]),h=f=>g=>{const y=f.onBlur;y==null||y(g),d()},p=f=>g=>{const y=f.onFocus;y==null||y(g),c()},m=f=>g=>{const y=f.onMouseEnter;y==null||y(g),c()},v=f=>g=>{const y=f.onMouseLeave;y==null||y(g),d()};return w.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",d),window.addEventListener("blur",c),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",c)}},[n,i,d,c]),{getRootProps:(f={})=>{const g=R({},wp(t),wp(f));return R({role:"presentation"},f,g,{onBlur:h(g),onFocus:p(g),onMouseEnter:m(g),onMouseLeave:v(g)})},onClickAway:u}}const Dj=["onChange","maxRows","minRows","style","value"];function Xh(t){return parseInt(t,10)||0}const Mj={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function RC(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const Lj=w.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a}=e,l=ie(e,Dj),{current:u}=w.useRef(a!=null),c=w.useRef(null),d=an(n,c),h=w.useRef(null),p=w.useRef(0),[m,v]=w.useState({outerHeightStyle:0}),_=w.useCallback(()=>{const T=c.current,E=ts(T).getComputedStyle(T);if(E.width==="0px")return{outerHeightStyle:0};const C=h.current;C.style.width=E.width,C.value=T.value||e.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const x=E.boxSizing,P=Xh(E.paddingBottom)+Xh(E.paddingTop),k=Xh(E.borderBottomWidth)+Xh(E.borderTopWidth),D=C.scrollHeight;C.value="x";const F=C.scrollHeight;let M=D;o&&(M=Math.max(Number(o)*F,M)),i&&(M=Math.min(Number(i)*F,M)),M=Math.max(M,F);const j=M+(x==="border-box"?P+k:0),z=Math.abs(M-D)<=1;return{outerHeightStyle:j,overflow:z}},[i,o,e.placeholder]),f=(T,I)=>{const{outerHeightStyle:E,overflow:C}=I;return p.current<20&&(E>0&&Math.abs((T.outerHeightStyle||0)-E)>1||T.overflow!==C)?(p.current+=1,{overflow:C,outerHeightStyle:E}):T},g=w.useCallback(()=>{const T=_();RC(T)||v(I=>f(I,T))},[_]);Mi(()=>{const T=()=>{const D=_();RC(D)||zd.flushSync(()=>{v(F=>f(F,D))})},I=()=>{p.current=0,T()};let E;const C=V1(I),x=c.current,P=ts(x);P.addEventListener("resize",C);let k;return typeof ResizeObserver<"u"&&(k=new ResizeObserver(I),k.observe(x)),()=>{C.clear(),cancelAnimationFrame(E),P.removeEventListener("resize",C),k&&k.disconnect()}},[_]),Mi(()=>{g()}),w.useEffect(()=>{p.current=0},[a]);const y=T=>{p.current=0,u||g(),r&&r(T)};return S.jsxs(w.Fragment,{children:[S.jsx("textarea",R({value:a,onChange:y,ref:d,rows:o,style:R({height:m.outerHeightStyle,overflow:m.overflow?"hidden":void 0},s)},l)),S.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:R({},Mj.shadow,s,{paddingTop:0,paddingBottom:0})})]})}),$j=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Fj=ee(Nj,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Vj=w.forwardRef(function(e,n){var r;const i=K1(),o=rt({props:e,name:"MuiPopper"}),{anchorEl:s,component:a,components:l,componentsProps:u,container:c,disablePortal:d,keepMounted:h,modifiers:p,open:m,placement:v,popperOptions:_,popperRef:f,transition:g,slots:y,slotProps:T}=o,I=ie(o,$j),E=(r=y==null?void 0:y.root)!=null?r:l==null?void 0:l.Root,C=R({anchorEl:s,container:c,disablePortal:d,keepMounted:h,modifiers:p,open:m,placement:v,popperOptions:_,popperRef:f,transition:g},I);return S.jsx(Fj,R({as:a,direction:i==null?void 0:i.direction,slots:{root:E},slotProps:T??u},C,{ref:n}))}),Vk=Vj;function iu({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const Uj=w.createContext(void 0),ow=Uj;function ou(){return w.useContext(ow)}function jj(t){return S.jsx($V,R({},t,{defaultTheme:ag,themeId:bl}))}function xC(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Tp(t,e=!1){return t&&(xC(t.value)&&t.value!==""||e&&xC(t.defaultValue)&&t.defaultValue!=="")}function Bj(t){return t.startAdornment}function zj(t){return nt("MuiInputBase",t)}const Wj=Xe("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Dl=Wj,Hj=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],cg=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${pe(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},dg=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},qj=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:p,type:m}=t,v={root:["root",`color${pe(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&h!=="medium"&&`size${pe(h)}`,c&&"multiline",p&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return tt(v,zj,e)},hg=ee("div",{name:"MuiInputBase",slot:"Root",overridesResolver:cg})(({theme:t,ownerState:e})=>R({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Dl.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&R({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),fg=ee("input",{name:"MuiInputBase",slot:"Input",overridesResolver:dg})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=R({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return R({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Dl.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Dl.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),Kj=S.jsx(jj,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),Gj=w.forwardRef(function(e,n){var r;const i=rt({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:l,components:u={},componentsProps:c={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:m,fullWidth:v=!1,id:_,inputComponent:f="input",inputProps:g={},inputRef:y,maxRows:T,minRows:I,multiline:E=!1,name:C,onBlur:x,onChange:P,onClick:k,onFocus:D,onKeyDown:F,onKeyUp:M,placeholder:j,readOnly:z,renderSuffix:U,rows:V,slotProps:N={},slots:B={},startAdornment:W,type:ae="text",value:J}=i,ne=ie(i,Hj),Y=g.value!=null?g.value:J,{current:he}=w.useRef(Y!=null),ce=w.useRef(),Me=w.useCallback(We=>{},[]),Le=an(ce,y,g.ref,Me),[$e,Rt]=w.useState(!1),le=ou(),ze=iu({props:i,muiFormControl:le,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ze.focused=le?le.focused:$e,w.useEffect(()=>{!le&&h&&$e&&(Rt(!1),x&&x())},[le,h,$e,x]);const ve=le&&le.onFilled,Fe=le&&le.onEmpty,Ee=w.useCallback(We=>{Tp(We)?ve&&ve():Fe&&Fe()},[ve,Fe]);Mi(()=>{he&&Ee({value:Y})},[Y,Ee,he]);const _n=We=>{if(ze.disabled){We.stopPropagation();return}D&&D(We),g.onFocus&&g.onFocus(We),le&&le.onFocus?le.onFocus(We):Rt(!0)},tn=We=>{x&&x(We),g.onBlur&&g.onBlur(We),le&&le.onBlur?le.onBlur(We):Rt(!1)},Dt=(We,...re)=>{if(!he){const Mt=We.target||ce.current;if(Mt==null)throw new Error(es(1));Ee({value:Mt.value})}g.onChange&&g.onChange(We,...re),P&&P(We,...re)};w.useEffect(()=>{Ee(ce.current)},[]);const ln=We=>{ce.current&&We.currentTarget===We.target&&ce.current.focus(),k&&k(We)};let at=f,Ae=g;E&&at==="input"&&(V?Ae=R({type:void 0,minRows:V,maxRows:V},Ae):Ae=R({type:void 0,maxRows:T,minRows:I},Ae),at=Lj);const Ht=We=>{Ee(We.animationName==="mui-auto-fill-cancel"?ce.current:{value:"x"})};w.useEffect(()=>{le&&le.setAdornedStart(!!W)},[le,W]);const ct=R({},i,{color:ze.color||"primary",disabled:ze.disabled,endAdornment:m,error:ze.error,focused:ze.focused,formControl:le,fullWidth:v,hiddenLabel:ze.hiddenLabel,multiline:E,size:ze.size,startAdornment:W,type:ae}),xe=qj(ct),xt=B.root||u.Root||hg,nn=N.root||c.root||{},qt=B.input||u.Input||fg;return Ae=R({},Ae,(r=N.input)!=null?r:c.input),S.jsxs(w.Fragment,{children:[!p&&Kj,S.jsxs(xt,R({},nn,!_p(xt)&&{ownerState:R({},ct,nn.ownerState)},{ref:n,onClick:ln},ne,{className:Te(xe.root,nn.className,l,z&&"MuiInputBase-readOnly"),children:[W,S.jsx(ow.Provider,{value:null,children:S.jsx(qt,R({ownerState:ct,"aria-invalid":ze.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:d,disabled:ze.disabled,id:_,onAnimationStart:Ht,name:C,placeholder:j,readOnly:z,required:ze.required,rows:V,value:Y,onKeyDown:F,onKeyUp:M,type:ae},Ae,!_p(qt)&&{as:at,ownerState:R({},ct,Ae.ownerState)},{ref:Le,className:Te(xe.input,Ae.className,z&&"MuiInputBase-readOnly"),onBlur:tn,onChange:Dt,onFocus:_n}))}),m,U?U(R({},ze,{startAdornment:W})):null]}))]})}),sw=Gj;function Qj(t){return nt("MuiInput",t)}const Yj=R({},Dl,Xe("MuiInput",["root","underline","input"])),Uu=Yj;function Xj(t){return nt("MuiOutlinedInput",t)}const Jj=R({},Dl,Xe("MuiOutlinedInput",["root","notchedOutline","input"])),To=Jj;function Zj(t){return nt("MuiFilledInput",t)}const eB=R({},Dl,Xe("MuiFilledInput",["root","underline","input"])),Ts=eB,tB=fs(S.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),nB=fs(S.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function rB(t){return nt("MuiAvatar",t)}Xe("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const iB=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],oB=t=>{const{classes:e,variant:n,colorDefault:r}=t;return tt({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},rB,e)},sB=ee("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:R({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:R({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),aB=ee("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),lB=ee(nB,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function uB({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,o]=w.useState(!1);return w.useEffect(()=>{if(!n&&!r)return;o(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&o("loaded")},a.onerror=()=>{s&&o("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{s=!1}},[t,e,n,r]),i}const cB=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",imgProps:l,sizes:u,src:c,srcSet:d,variant:h="circular"}=r,p=ie(r,iB);let m=null;const v=uB(R({},l,{src:c,srcSet:d})),_=c||d,f=_&&v!=="error",g=R({},r,{colorDefault:!f,component:a,variant:h}),y=oB(g);return f?m=S.jsx(aB,R({alt:i,srcSet:d,src:c,sizes:u,ownerState:g,className:y.img},l)):o||o===0?m=o:_&&i?m=i[0]:m=S.jsx(lB,{ownerState:g,className:y.fallback}),S.jsx(sB,R({as:a,ownerState:g,className:Te(y.root,s),ref:n},p,{children:m}))}),yd=cB,dB=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],hB={entering:{opacity:1},entered:{opacity:1}},fB=w.forwardRef(function(e,n){const r=ru(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:p,onExited:m,onExiting:v,style:_,timeout:f=i,TransitionComponent:g=Sk}=e,y=ie(e,dB),T=w.useRef(null),I=an(T,a.ref,n),E=j=>z=>{if(j){const U=T.current;z===void 0?j(U):j(U,z)}},C=E(h),x=E((j,z)=>{Ck(j);const U=vp({style:_,timeout:f,easing:l},{mode:"enter"});j.style.webkitTransition=r.transitions.create("opacity",U),j.style.transition=r.transitions.create("opacity",U),c&&c(j,z)}),P=E(d),k=E(v),D=E(j=>{const z=vp({style:_,timeout:f,easing:l},{mode:"exit"});j.style.webkitTransition=r.transitions.create("opacity",z),j.style.transition=r.transitions.create("opacity",z),p&&p(j)}),F=E(m),M=j=>{o&&o(T.current,j)};return S.jsx(g,R({appear:s,in:u,nodeRef:T,onEnter:x,onEntered:P,onEntering:C,onExit:D,onExited:F,onExiting:k,addEndListener:M,timeout:f},y,{children:(j,z)=>w.cloneElement(a,R({style:R({opacity:0,visibility:j==="exited"&&!u?"hidden":void 0},hB[j],_,a.props.style),ref:I},z))}))}),Uk=fB;function pB(t){return nt("MuiBackdrop",t)}Xe("MuiBackdrop",["root","invisible"]);const mB=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],gB=t=>{const{classes:e,invisible:n}=t;return tt({root:["root",n&&"invisible"]},pB,e)},yB=ee("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>R({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),vB=w.forwardRef(function(e,n){var r,i,o;const s=rt({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:u="div",components:c={},componentsProps:d={},invisible:h=!1,open:p,slotProps:m={},slots:v={},TransitionComponent:_=Uk,transitionDuration:f}=s,g=ie(s,mB),y=R({},s,{component:u,invisible:h}),T=gB(y),I=(r=m.root)!=null?r:d.root;return S.jsx(_,R({in:p,timeout:f},g,{children:S.jsx(yB,R({"aria-hidden":!0},I,{as:(i=(o=v.root)!=null?o:c.Root)!=null?i:u,className:Te(T.root,l,I==null?void 0:I.className),ownerState:R({},y,I==null?void 0:I.ownerState),classes:T,ref:n,children:a}))}))}),_B=vB;function wB(t){return nt("MuiCircularProgress",t)}Xe("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const EB=["className","color","disableShrink","size","style","thickness","value","variant"];let pg=t=>t,bC,PC,kC,AC;const So=44,TB=hs(bC||(bC=pg`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),SB=hs(PC||(PC=pg`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),CB=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,o={root:["root",n,`color${pe(r)}`],svg:["svg"],circle:["circle",`circle${pe(n)}`,i&&"circleDisableShrink"]};return tt(o,wB,e)},IB=ee("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${pe(n.color)}`]]}})(({ownerState:t,theme:e})=>R({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&nu(kC||(kC=pg`
      animation: ${0} 1.4s linear infinite;
    `),TB)),RB=ee("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),xB=ee("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${pe(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>R({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&nu(AC||(AC=pg`
      animation: ${0} 1.4s ease-in-out infinite;
    `),SB)),bB=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:s=!1,size:a=40,style:l,thickness:u=3.6,value:c=0,variant:d="indeterminate"}=r,h=ie(r,EB),p=R({},r,{color:o,disableShrink:s,size:a,thickness:u,value:c,variant:d}),m=CB(p),v={},_={},f={};if(d==="determinate"){const g=2*Math.PI*((So-u)/2);v.strokeDasharray=g.toFixed(3),f["aria-valuenow"]=Math.round(c),v.strokeDashoffset=`${((100-c)/100*g).toFixed(3)}px`,_.transform="rotate(-90deg)"}return S.jsx(IB,R({className:Te(m.root,i),style:R({width:a,height:a},_,l),ownerState:p,ref:n,role:"progressbar"},f,h,{children:S.jsx(RB,{className:m.svg,ownerState:p,viewBox:`${So/2} ${So/2} ${So} ${So}`,children:S.jsx(xB,{className:m.circle,style:v,ownerState:p,cx:So,cy:So,r:(So-u)/2,fill:"none",strokeWidth:u})})}))}),PB=bB;function kB(t){return nt("MuiModal",t)}Xe("MuiModal",["root","hidden","backdrop"]);const AB=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],NB=t=>{const{open:e,exited:n,classes:r}=t;return tt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},kB,r)},OB=ee("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>R({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),DB=ee(_B,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),MB=w.forwardRef(function(e,n){var r,i,o,s,a,l;const u=rt({name:"MuiModal",props:e}),{BackdropComponent:c=DB,BackdropProps:d,className:h,closeAfterTransition:p=!1,children:m,container:v,component:_,components:f={},componentsProps:g={},disableAutoFocus:y=!1,disableEnforceFocus:T=!1,disableEscapeKeyDown:I=!1,disablePortal:E=!1,disableRestoreFocus:C=!1,disableScrollLock:x=!1,hideBackdrop:P=!1,keepMounted:k=!1,onBackdropClick:D,open:F,slotProps:M,slots:j}=u,z=ie(u,AB),U=R({},u,{closeAfterTransition:p,disableAutoFocus:y,disableEnforceFocus:T,disableEscapeKeyDown:I,disablePortal:E,disableRestoreFocus:C,disableScrollLock:x,hideBackdrop:P,keepMounted:k}),{getRootProps:V,getBackdropProps:N,getTransitionProps:B,portalRef:W,isTopModal:ae,exited:J,hasTransition:ne}=y3(R({},U,{rootRef:n})),Y=R({},U,{exited:J}),he=NB(Y),ce={};if(m.props.tabIndex===void 0&&(ce.tabIndex="-1"),ne){const{onEnter:ve,onExited:Fe}=B();ce.onEnter=ve,ce.onExited=Fe}const Me=(r=(i=j==null?void 0:j.root)!=null?i:f.Root)!=null?r:OB,Le=(o=(s=j==null?void 0:j.backdrop)!=null?s:f.Backdrop)!=null?o:c,$e=(a=M==null?void 0:M.root)!=null?a:g.root,Rt=(l=M==null?void 0:M.backdrop)!=null?l:g.backdrop,le=ns({elementType:Me,externalSlotProps:$e,externalForwardedProps:z,getSlotProps:V,additionalProps:{ref:n,as:_},ownerState:Y,className:Te(h,$e==null?void 0:$e.className,he==null?void 0:he.root,!Y.open&&Y.exited&&(he==null?void 0:he.hidden))}),ze=ns({elementType:Le,externalSlotProps:Rt,additionalProps:d,getSlotProps:ve=>N(R({},ve,{onClick:Fe=>{D&&D(Fe),ve!=null&&ve.onClick&&ve.onClick(Fe)}})),className:Te(Rt==null?void 0:Rt.className,d==null?void 0:d.className,he==null?void 0:he.backdrop),ownerState:Y});return!k&&!F&&(!ne||J)?null:S.jsx(bk,{ref:W,container:v,disablePortal:E,children:S.jsxs(Me,R({},le,{children:[!P&&c?S.jsx(Le,R({},ze)):null,S.jsx(a3,{disableEnforceFocus:T,disableAutoFocus:y,disableRestoreFocus:C,isEnabled:ae,open:F,children:w.cloneElement(m,ce)})]}))})}),LB=MB;function $B(t){return nt("MuiDivider",t)}Xe("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const FB=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],VB=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:o,orientation:s,textAlign:a,variant:l}=t;return tt({root:["root",e&&"absolute",l,o&&"light",s==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&s==="vertical"&&"withChildrenVertical",a==="right"&&s!=="vertical"&&"textAlignRight",a==="left"&&s!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",s==="vertical"&&"wrapperVertical"]},$B,r)},UB=ee("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>R({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:oa(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>R({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>R({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>R({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>R({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),jB=ee("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>R({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),jk=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:o,className:s,component:a=o?"div":"hr",flexItem:l=!1,light:u=!1,orientation:c="horizontal",role:d=a!=="hr"?"separator":void 0,textAlign:h="center",variant:p="fullWidth"}=r,m=ie(r,FB),v=R({},r,{absolute:i,component:a,flexItem:l,light:u,orientation:c,role:d,textAlign:h,variant:p}),_=VB(v);return S.jsx(UB,R({as:a,className:Te(_.root,s),role:d,ref:n,ownerState:v},m,{children:o?S.jsx(jB,{className:_.wrapper,ownerState:v,children:o}):null}))});jk.muiSkipListHighlight=!0;const D_=jk,BB=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],zB=t=>{const{classes:e,disableUnderline:n}=t,i=tt({root:["root",!n&&"underline"],input:["input"]},Zj,e);return R({},e,i)},WB=ee(hg,{shouldForwardProp:t=>Vi(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...cg(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return R({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o}},[`&.${Ts.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o},[`&.${Ts.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ts.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ts.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ts.disabled}, .${Ts.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Ts.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&R({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),HB=ee(fg,{name:"MuiFilledInput",slot:"Input",overridesResolver:dg})(({theme:t,ownerState:e})=>R({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Bk=w.forwardRef(function(e,n){var r,i,o,s;const a=rt({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:h=!1,slotProps:p,slots:m={},type:v="text"}=a,_=ie(a,BB),f=R({},a,{fullWidth:c,inputComponent:d,multiline:h,type:v}),g=zB(a),y={root:{ownerState:f},input:{ownerState:f}},T=p??u?Fr(y,p??u):y,I=(r=(i=m.root)!=null?i:l.Root)!=null?r:WB,E=(o=(s=m.input)!=null?s:l.Input)!=null?o:HB;return S.jsx(sw,R({slots:{root:I,input:E},componentsProps:T,fullWidth:c,inputComponent:d,multiline:h,ref:n,type:v},_,{classes:g}))});Bk.muiName="Input";const zk=Bk;function qB(t){return nt("MuiFormControl",t)}Xe("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const KB=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],GB=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${pe(n)}`,r&&"fullWidth"]};return tt(i,qB,e)},QB=ee("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>R({},e.root,e[`margin${pe(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>R({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),YB=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:m=!1,size:v="medium",variant:_="outlined"}=r,f=ie(r,KB),g=R({},r,{color:s,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:p,required:m,size:v,variant:_}),y=GB(g),[T,I]=w.useState(()=>{let M=!1;return i&&w.Children.forEach(i,j=>{if(!kf(j,["Input","Select"]))return;const z=kf(j,["Select"])?j.props.input:j;z&&Bj(z.props)&&(M=!0)}),M}),[E,C]=w.useState(()=>{let M=!1;return i&&w.Children.forEach(i,j=>{kf(j,["Input","Select"])&&(Tp(j.props,!0)||Tp(j.props.inputProps,!0))&&(M=!0)}),M}),[x,P]=w.useState(!1);l&&x&&P(!1);const k=c!==void 0&&!l?c:x;let D;const F=w.useMemo(()=>({adornedStart:T,setAdornedStart:I,color:s,disabled:l,error:u,filled:E,focused:k,fullWidth:d,hiddenLabel:h,size:v,onBlur:()=>{P(!1)},onEmpty:()=>{C(!1)},onFilled:()=>{C(!0)},onFocus:()=>{P(!0)},registerEffect:D,required:m,variant:_}),[T,s,l,u,E,k,d,h,D,m,v,_]);return S.jsx(ow.Provider,{value:F,children:S.jsx(QB,R({as:a,ownerState:g,className:Te(y.root,o),ref:n},f,{children:i}))})}),XB=YB;function JB(t){return nt("MuiFormHelperText",t)}const ZB=Xe("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),NC=ZB;var OC;const e9=["children","className","component","disabled","error","filled","focused","margin","required","variant"],t9=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=t,u={root:["root",i&&"disabled",o&&"error",r&&`size${pe(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return tt(u,JB,e)},n9=ee("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${pe(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>R({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${NC.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${NC.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),r9=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=r,a=ie(r,e9),l=ou(),u=iu({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=R({},r,{component:s,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=t9(c);return S.jsx(n9,R({as:s,ownerState:c,className:Te(d.root,o),ref:n},a,{children:i===" "?OC||(OC=S.jsx("span",{className:"notranslate",children:""})):i}))}),i9=r9;function o9(t){return nt("MuiFormLabel",t)}const s9=Xe("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),kc=s9,a9=["children","className","color","component","disabled","error","filled","focused","required"],l9=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=t,l={root:["root",`color${pe(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return tt(l,o9,e)},u9=ee("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>R({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>R({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${kc.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${kc.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${kc.error}`]:{color:(t.vars||t).palette.error.main}})),c9=ee("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${kc.error}`]:{color:(t.vars||t).palette.error.main}})),d9=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=r,a=ie(r,a9),l=ou(),u=iu({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=R({},r,{color:u.color||"primary",component:s,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=l9(c);return S.jsxs(u9,R({as:s,ownerState:c,className:Te(d.root,o),ref:n},a,{children:[i,u.required&&S.jsxs(c9,{ownerState:c,"aria-hidden":!0,className:d.asterisk,children:["","*"]})]}))}),h9=d9,f9=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function M_(t){return`scale(${t}, ${t**2})`}const p9={entering:{opacity:1,transform:M_(1)},entered:{opacity:1,transform:"none"}},zy=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Wk=w.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:p,style:m,timeout:v="auto",TransitionComponent:_=Sk}=e,f=ie(e,f9),g=Ls(),y=w.useRef(),T=ru(),I=w.useRef(null),E=an(I,o.ref,n),C=z=>U=>{if(z){const V=I.current;U===void 0?z(V):z(V,U)}},x=C(c),P=C((z,U)=>{Ck(z);const{duration:V,delay:N,easing:B}=vp({style:m,timeout:v,easing:s},{mode:"enter"});let W;v==="auto"?(W=T.transitions.getAutoHeightDuration(z.clientHeight),y.current=W):W=V,z.style.transition=[T.transitions.create("opacity",{duration:W,delay:N}),T.transitions.create("transform",{duration:zy?W:W*.666,delay:N,easing:B})].join(","),l&&l(z,U)}),k=C(u),D=C(p),F=C(z=>{const{duration:U,delay:V,easing:N}=vp({style:m,timeout:v,easing:s},{mode:"exit"});let B;v==="auto"?(B=T.transitions.getAutoHeightDuration(z.clientHeight),y.current=B):B=U,z.style.transition=[T.transitions.create("opacity",{duration:B,delay:V}),T.transitions.create("transform",{duration:zy?B:B*.666,delay:zy?V:V||B*.333,easing:N})].join(","),z.style.opacity=0,z.style.transform=M_(.75),d&&d(z)}),M=C(h),j=z=>{v==="auto"&&g.start(y.current||0,z),r&&r(I.current,z)};return S.jsx(_,R({appear:i,in:a,nodeRef:I,onEnter:P,onEntered:k,onEntering:x,onExit:F,onExited:M,onExiting:D,addEndListener:j,timeout:v==="auto"?null:v},f,{children:(z,U)=>w.cloneElement(o,R({style:R({opacity:0,transform:M_(.75),visibility:z==="exited"&&!a?"hidden":void 0},p9[z],m,o.props.style),ref:E},U))}))});Wk.muiSupportAuto=!0;const Sp=Wk,m9=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],g9=t=>{const{classes:e,disableUnderline:n}=t,i=tt({root:["root",!n&&"underline"],input:["input"]},Qj,e);return R({},e,i)},y9=ee(hg,{shouldForwardProp:t=>Vi(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...cg(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),R({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Uu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Uu.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Uu.disabled}, .${Uu.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Uu.disabled}:before`]:{borderBottomStyle:"dotted"}})}),v9=ee(fg,{name:"MuiInput",slot:"Input",overridesResolver:dg})({}),Hk=w.forwardRef(function(e,n){var r,i,o,s;const a=rt({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:d=!1,inputComponent:h="input",multiline:p=!1,slotProps:m,slots:v={},type:_="text"}=a,f=ie(a,m9),g=g9(a),T={root:{ownerState:{disableUnderline:l}}},I=m??c?Fr(m??c,T):T,E=(r=(i=v.root)!=null?i:u.Root)!=null?r:y9,C=(o=(s=v.input)!=null?s:u.Input)!=null?o:v9;return S.jsx(sw,R({slots:{root:E,input:C},slotProps:I,fullWidth:d,inputComponent:h,multiline:p,ref:n,type:_},f,{classes:g}))});Hk.muiName="Input";const qk=Hk;function _9(t){return nt("MuiInputLabel",t)}Xe("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const w9=["disableAnimation","margin","shrink","variant","className"],E9=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${pe(r)}`,s],asterisk:[a&&"asterisk"]},u=tt(l,_9,e);return R({},e,u)},T9=ee(h9,{shouldForwardProp:t=>Vi(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${kc.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>R({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&R({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&R({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&R({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),S9=w.forwardRef(function(e,n){const r=rt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:o,className:s}=r,a=ie(r,w9),l=ou();let u=o;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=iu({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=R({},r,{disableAnimation:i,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),h=E9(d);return S.jsx(T9,R({"data-shrink":u,ownerState:d,ref:n,className:Te(h.root,s)},a,{classes:h}))}),C9=S9;function I9(t){return nt("MuiLinearProgress",t)}Xe("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const R9=["className","color","value","valueBuffer","variant"];let su=t=>t,DC,MC,LC,$C,FC,VC;const L_=4,x9=hs(DC||(DC=su`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),b9=hs(MC||(MC=su`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),P9=hs(LC||(LC=su`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),k9=t=>{const{classes:e,variant:n,color:r}=t,i={root:["root",`color${pe(r)}`,n],dashed:["dashed",`dashedColor${pe(r)}`],bar1:["bar",`barColor${pe(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${pe(r)}`,n==="buffer"&&`color${pe(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return tt(i,I9,e)},aw=(t,e)=>e==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?pd(t.palette[e].main,.62):fd(t.palette[e].main,.5),A9=ee("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${pe(n.color)}`],e[n.variant]]}})(({ownerState:t,theme:e})=>R({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:aw(e,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),N9=ee("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${pe(n.color)}`]]}})(({ownerState:t,theme:e})=>{const n=aw(e,t.color);return R({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},nu($C||($C=su`
    animation: ${0} 3s infinite linear;
  `),P9)),O9=ee("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${pe(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:t,theme:e})=>R({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${L_}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${L_}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&nu(FC||(FC=su`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),x9)),D9=ee("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${pe(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:t,theme:e})=>R({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:aw(e,t.color),transition:`transform .${L_}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&nu(VC||(VC=su`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),b9)),M9=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiLinearProgress"}),{className:i,color:o="primary",value:s,valueBuffer:a,variant:l="indeterminate"}=r,u=ie(r,R9),c=R({},r,{color:o,variant:l}),d=k9(c),h=ru(),p={},m={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&s!==void 0){p["aria-valuenow"]=Math.round(s),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let v=s-100;h.direction==="rtl"&&(v=-v),m.bar1.transform=`translateX(${v}%)`}if(l==="buffer"&&a!==void 0){let v=(a||0)-100;h.direction==="rtl"&&(v=-v),m.bar2.transform=`translateX(${v}%)`}return S.jsxs(A9,R({className:Te(d.root,i),ownerState:c,role:"progressbar"},p,{ref:n},u,{children:[l==="buffer"?S.jsx(N9,{className:d.dashed,ownerState:c}):null,S.jsx(O9,{className:d.bar1,ownerState:c,style:m.bar1}),l==="determinate"?null:S.jsx(D9,{className:d.bar2,ownerState:c,style:m.bar2})]}))}),L9=M9,$9=w.createContext({}),F9=$9;function V9(t){return nt("MuiList",t)}Xe("MuiList",["root","padding","dense","subheader"]);const U9=["children","className","component","dense","disablePadding","subheader"],j9=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return tt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},V9,e)},B9=ee("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>R({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),z9=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,c=ie(r,U9),d=w.useMemo(()=>({dense:a}),[a]),h=R({},r,{component:s,dense:a,disablePadding:l}),p=j9(h);return S.jsx(F9.Provider,{value:d,children:S.jsxs(B9,R({as:s,className:Te(p.root,o),ref:n,ownerState:h},c,{children:[u,i]}))})}),W9=z9,H9=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Wy(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function UC(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function Kk(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function ju(t,e,n,r,i,o){let s=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!Kk(a,o)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const q9=w.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=e,h=ie(e,H9),p=w.useRef(null),m=w.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Mi(()=>{i&&p.current.focus()},[i]),w.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(y,T)=>{const I=!p.current.style.width;if(y.clientHeight<p.current.clientHeight&&I){const E=`${hk(sn(y))}px`;p.current.style[T.direction==="rtl"?"paddingLeft":"paddingRight"]=E,p.current.style.width=`calc(100% + ${E})`}return p.current}}),[]);const v=y=>{const T=p.current,I=y.key,E=sn(T).activeElement;if(I==="ArrowDown")y.preventDefault(),ju(T,E,u,l,Wy);else if(I==="ArrowUp")y.preventDefault(),ju(T,E,u,l,UC);else if(I==="Home")y.preventDefault(),ju(T,null,u,l,Wy);else if(I==="End")y.preventDefault(),ju(T,null,u,l,UC);else if(I.length===1){const C=m.current,x=I.toLowerCase(),P=performance.now();C.keys.length>0&&(P-C.lastTime>500?(C.keys=[],C.repeating=!0,C.previousKeyMatched=!0):C.repeating&&x!==C.keys[0]&&(C.repeating=!1)),C.lastTime=P,C.keys.push(x);const k=E&&!C.repeating&&Kk(E,C);C.previousKeyMatched&&(k||ju(T,E,!1,l,Wy,C))?y.preventDefault():C.previousKeyMatched=!1}c&&c(y)},_=an(p,n);let f=-1;w.Children.forEach(s,(y,T)=>{if(!w.isValidElement(y)){f===T&&(f+=1,f>=s.length&&(f=-1));return}y.props.disabled||(d==="selectedMenu"&&y.props.selected||f===-1)&&(f=T),f===T&&(y.props.disabled||y.props.muiSkipListHighlight||y.type.muiSkipListHighlight)&&(f+=1,f>=s.length&&(f=-1))});const g=w.Children.map(s,(y,T)=>{if(T===f){const I={};return o&&(I.autoFocus=!0),y.props.tabIndex===void 0&&d==="selectedMenu"&&(I.tabIndex=0),w.cloneElement(y,I)}return y});return S.jsx(W9,R({role:"menu",ref:_,className:a,onKeyDown:v,tabIndex:i?0:-1},h,{children:g}))}),K9=q9;function G9(t){return nt("MuiPopover",t)}Xe("MuiPopover",["root","paper"]);const Q9=["onEntering"],Y9=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],X9=["slotProps"];function jC(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function BC(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function zC(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Hy(t){return typeof t=="function"?t():t}const J9=t=>{const{classes:e}=t;return tt({root:["root"],paper:["paper"]},G9,e)},Z9=ee(LB,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Gk=ee(X1,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),ez=w.forwardRef(function(e,n){var r,i,o;const s=rt({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:h,className:p,container:m,elevation:v=8,marginThreshold:_=16,open:f,PaperProps:g={},slots:y,slotProps:T,transformOrigin:I={vertical:"top",horizontal:"left"},TransitionComponent:E=Sp,transitionDuration:C="auto",TransitionProps:{onEntering:x}={},disableScrollLock:P=!1}=s,k=ie(s.TransitionProps,Q9),D=ie(s,Y9),F=(r=T==null?void 0:T.paper)!=null?r:g,M=w.useRef(),j=an(M,F.ref),z=R({},s,{anchorOrigin:u,anchorReference:d,elevation:v,marginThreshold:_,externalPaperSlotProps:F,transformOrigin:I,TransitionComponent:E,transitionDuration:C,TransitionProps:k}),U=J9(z),V=w.useCallback(()=>{if(d==="anchorPosition")return c;const ve=Hy(l),Ee=(ve&&ve.nodeType===1?ve:sn(M.current).body).getBoundingClientRect();return{top:Ee.top+jC(Ee,u.vertical),left:Ee.left+BC(Ee,u.horizontal)}},[l,u.horizontal,u.vertical,c,d]),N=w.useCallback(ve=>({vertical:jC(ve,I.vertical),horizontal:BC(ve,I.horizontal)}),[I.horizontal,I.vertical]),B=w.useCallback(ve=>{const Fe={width:ve.offsetWidth,height:ve.offsetHeight},Ee=N(Fe);if(d==="none")return{top:null,left:null,transformOrigin:zC(Ee)};const _n=V();let tn=_n.top-Ee.vertical,Dt=_n.left-Ee.horizontal;const ln=tn+Fe.height,at=Dt+Fe.width,Ae=ts(Hy(l)),Ht=Ae.innerHeight-_,ct=Ae.innerWidth-_;if(_!==null&&tn<_){const xe=tn-_;tn-=xe,Ee.vertical+=xe}else if(_!==null&&ln>Ht){const xe=ln-Ht;tn-=xe,Ee.vertical+=xe}if(_!==null&&Dt<_){const xe=Dt-_;Dt-=xe,Ee.horizontal+=xe}else if(at>ct){const xe=at-ct;Dt-=xe,Ee.horizontal+=xe}return{top:`${Math.round(tn)}px`,left:`${Math.round(Dt)}px`,transformOrigin:zC(Ee)}},[l,d,V,N,_]),[W,ae]=w.useState(f),J=w.useCallback(()=>{const ve=M.current;if(!ve)return;const Fe=B(ve);Fe.top!==null&&(ve.style.top=Fe.top),Fe.left!==null&&(ve.style.left=Fe.left),ve.style.transformOrigin=Fe.transformOrigin,ae(!0)},[B]);w.useEffect(()=>(P&&window.addEventListener("scroll",J),()=>window.removeEventListener("scroll",J)),[l,P,J]);const ne=(ve,Fe)=>{x&&x(ve,Fe),J()},Y=()=>{ae(!1)};w.useEffect(()=>{f&&J()}),w.useImperativeHandle(a,()=>f?{updatePosition:()=>{J()}}:null,[f,J]),w.useEffect(()=>{if(!f)return;const ve=V1(()=>{J()}),Fe=ts(l);return Fe.addEventListener("resize",ve),()=>{ve.clear(),Fe.removeEventListener("resize",ve)}},[l,f,J]);let he=C;C==="auto"&&!E.muiSupportAuto&&(he=void 0);const ce=m||(l?sn(Hy(l)).body:void 0),Me=(i=y==null?void 0:y.root)!=null?i:Z9,Le=(o=y==null?void 0:y.paper)!=null?o:Gk,$e=ns({elementType:Le,externalSlotProps:R({},F,{style:W?F.style:R({},F.style,{opacity:0})}),additionalProps:{elevation:v,ref:j},ownerState:z,className:Te(U.paper,F==null?void 0:F.className)}),Rt=ns({elementType:Me,externalSlotProps:(T==null?void 0:T.root)||{},externalForwardedProps:D,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:ce,open:f},ownerState:z,className:Te(U.root,p)}),{slotProps:le}=Rt,ze=ie(Rt,X9);return S.jsx(Me,R({},ze,!_p(Me)&&{slotProps:le,disableScrollLock:P},{children:S.jsx(E,R({appear:!0,in:f,onEntering:ne,onExited:Y,timeout:he},k,{children:S.jsx(Le,R({},$e,{children:h}))}))}))}),tz=ez;function nz(t){return nt("MuiMenu",t)}Xe("MuiMenu",["root","paper","list"]);const rz=["onEntering"],iz=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],oz={vertical:"top",horizontal:"right"},sz={vertical:"top",horizontal:"left"},az=t=>{const{classes:e}=t;return tt({root:["root"],paper:["paper"],list:["list"]},nz,e)},lz=ee(tz,{shouldForwardProp:t=>Vi(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),uz=ee(Gk,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),cz=ee(K9,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),dz=w.forwardRef(function(e,n){var r,i;const o=rt({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:d,open:h,PaperProps:p={},PopoverClasses:m,transitionDuration:v="auto",TransitionProps:{onEntering:_}={},variant:f="selectedMenu",slots:g={},slotProps:y={}}=o,T=ie(o.TransitionProps,rz),I=ie(o,iz),E=ru(),C=E.direction==="rtl",x=R({},o,{autoFocus:s,disableAutoFocusItem:u,MenuListProps:c,onEntering:_,PaperProps:p,transitionDuration:v,TransitionProps:T,variant:f}),P=az(x),k=s&&!u&&h,D=w.useRef(null),F=(B,W)=>{D.current&&D.current.adjustStyleForScrollbar(B,E),_&&_(B,W)},M=B=>{B.key==="Tab"&&(B.preventDefault(),d&&d(B,"tabKeyDown"))};let j=-1;w.Children.map(a,(B,W)=>{w.isValidElement(B)&&(B.props.disabled||(f==="selectedMenu"&&B.props.selected||j===-1)&&(j=W))});const z=(r=g.paper)!=null?r:uz,U=(i=y.paper)!=null?i:p,V=ns({elementType:g.root,externalSlotProps:y.root,ownerState:x,className:[P.root,l]}),N=ns({elementType:z,externalSlotProps:U,ownerState:x,className:P.paper});return S.jsx(lz,R({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?oz:sz,slots:{paper:z,root:g.root},slotProps:{root:V,paper:N},open:h,ref:n,transitionDuration:v,TransitionProps:R({onEntering:F},T),ownerState:x},I,{classes:m,children:S.jsx(cz,R({onKeyDown:M,actions:D,autoFocus:s&&(j===-1||u),autoFocusItem:k,variant:f},c,{className:Te(P.list,c.className),children:a}))}))}),hz=dz;function fz(t){return nt("MuiNativeSelect",t)}const pz=Xe("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),lw=pz,mz=["className","disabled","error","IconComponent","inputRef","variant"],gz=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${pe(n)}`,o&&"iconOpen",r&&"disabled"]};return tt(a,fz,e)},Qk=({ownerState:t,theme:e})=>R({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":R({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${lw.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),yz=ee("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Vi,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${lw.multiple}`]:e.multiple}]}})(Qk),Yk=({ownerState:t,theme:e})=>R({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${lw.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),vz=ee("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${pe(n.variant)}`],n.open&&e.iconOpen]}})(Yk),_z=w.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard"}=e,u=ie(e,mz),c=R({},e,{disabled:i,variant:l,error:o}),d=gz(c);return S.jsxs(w.Fragment,{children:[S.jsx(yz,R({ownerState:c,className:Te(d.select,r),disabled:i,ref:a||n},u)),e.multiple?null:S.jsx(vz,{as:s,ownerState:c,className:d.icon})]})}),wz=_z;var WC;const Ez=["children","classes","className","label","notched"],Tz=ee("fieldset",{shouldForwardProp:Vi})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Sz=ee("legend",{shouldForwardProp:Vi})(({ownerState:t,theme:e})=>R({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&R({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function Cz(t){const{className:e,label:n,notched:r}=t,i=ie(t,Ez),o=n!=null&&n!=="",s=R({},t,{notched:r,withLabel:o});return S.jsx(Tz,R({"aria-hidden":!0,className:e,ownerState:s},i,{children:S.jsx(Sz,{ownerState:s,children:o?S.jsx("span",{children:n}):WC||(WC=S.jsx("span",{className:"notranslate",children:""}))})}))}const Iz=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Rz=t=>{const{classes:e}=t,r=tt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Xj,e);return R({},e,r)},xz=ee(hg,{shouldForwardProp:t=>Vi(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:cg})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return R({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${To.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${To.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${To.focused} .${To.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${To.error} .${To.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${To.disabled} .${To.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&R({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),bz=ee(Cz,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),Pz=ee(fg,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:dg})(({theme:t,ownerState:e})=>R({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),Xk=w.forwardRef(function(e,n){var r,i,o,s,a;const l=rt({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:d="input",label:h,multiline:p=!1,notched:m,slots:v={},type:_="text"}=l,f=ie(l,Iz),g=Rz(l),y=ou(),T=iu({props:l,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),I=R({},l,{color:T.color||"primary",disabled:T.disabled,error:T.error,focused:T.focused,formControl:y,fullWidth:c,hiddenLabel:T.hiddenLabel,multiline:p,size:T.size,type:_}),E=(r=(i=v.root)!=null?i:u.Root)!=null?r:xz,C=(o=(s=v.input)!=null?s:u.Input)!=null?o:Pz;return S.jsx(sw,R({slots:{root:E,input:C},renderSuffix:x=>S.jsx(bz,{ownerState:I,className:g.notchedOutline,label:h!=null&&h!==""&&T.required?a||(a=S.jsxs(w.Fragment,{children:[h,"","*"]})):h,notched:typeof m<"u"?m:!!(x.startAdornment||x.filled||x.focused)}),fullWidth:c,inputComponent:d,multiline:p,ref:n,type:_},f,{classes:R({},g,{notchedOutline:null})}))});Xk.muiName="Input";const Jk=Xk;function kz(t){return nt("MuiSelect",t)}const Bu=Xe("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var HC;const Az=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Nz=ee("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Bu.select}`]:e.select},{[`&.${Bu.select}`]:e[n.variant]},{[`&.${Bu.error}`]:e.error},{[`&.${Bu.multiple}`]:e.multiple}]}})(Qk,{[`&.${Bu.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Oz=ee("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${pe(n.variant)}`],n.open&&e.iconOpen]}})(Yk),Dz=ee("input",{shouldForwardProp:t=>FU(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function qC(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Mz(t){return t==null||typeof t=="string"&&!t.trim()}const Lz=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${pe(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return tt(a,kz,e)},$z=w.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:s,autoWidth:a,children:l,className:u,defaultOpen:c,defaultValue:d,disabled:h,displayEmpty:p,error:m=!1,IconComponent:v,inputRef:_,labelId:f,MenuProps:g={},multiple:y,name:T,onBlur:I,onChange:E,onClose:C,onFocus:x,onOpen:P,open:k,readOnly:D,renderValue:F,SelectDisplayProps:M={},tabIndex:j,value:z,variant:U="standard"}=e,V=ie(e,Az),[N,B]=mp({controlled:z,default:d,name:"Select"}),[W,ae]=mp({controlled:k,default:c,name:"Select"}),J=w.useRef(null),ne=w.useRef(null),[Y,he]=w.useState(null),{current:ce}=w.useRef(k!=null),[Me,Le]=w.useState(),$e=an(n,_),Rt=w.useCallback(se=>{ne.current=se,se&&he(se)},[]),le=Y==null?void 0:Y.parentNode;w.useImperativeHandle($e,()=>({focus:()=>{ne.current.focus()},node:J.current,value:N}),[N]),w.useEffect(()=>{c&&W&&Y&&!ce&&(Le(a?null:le.clientWidth),ne.current.focus())},[Y,a]),w.useEffect(()=>{s&&ne.current.focus()},[s]),w.useEffect(()=>{if(!f)return;const se=sn(ne.current).getElementById(f);if(se){const qe=()=>{getSelection().isCollapsed&&ne.current.focus()};return se.addEventListener("click",qe),()=>{se.removeEventListener("click",qe)}}},[f]);const ze=(se,qe)=>{se?P&&P(qe):C&&C(qe),ce||(Le(a?null:le.clientWidth),ae(se))},ve=se=>{se.button===0&&(se.preventDefault(),ne.current.focus(),ze(!0,se))},Fe=se=>{ze(!1,se)},Ee=w.Children.toArray(l),_n=se=>{const qe=Ee.find(st=>st.props.value===se.target.value);qe!==void 0&&(B(qe.props.value),E&&E(se,qe))},tn=se=>qe=>{let st;if(qe.currentTarget.hasAttribute("tabindex")){if(y){st=Array.isArray(N)?N.slice():[];const dr=N.indexOf(se.props.value);dr===-1?st.push(se.props.value):st.splice(dr,1)}else st=se.props.value;if(se.props.onClick&&se.props.onClick(qe),N!==st&&(B(st),E)){const dr=qe.nativeEvent||qe,ji=new dr.constructor(dr.type,dr);Object.defineProperty(ji,"target",{writable:!0,value:{value:st,name:T}}),E(ji,se)}y||ze(!1,qe)}},Dt=se=>{D||[" ","ArrowUp","ArrowDown","Enter"].indexOf(se.key)!==-1&&(se.preventDefault(),ze(!0,se))},ln=Y!==null&&W,at=se=>{!ln&&I&&(Object.defineProperty(se,"target",{writable:!0,value:{value:N,name:T}}),I(se))};delete V["aria-invalid"];let Ae,Ht;const ct=[];let xe=!1;(Tp({value:N})||p)&&(F?Ae=F(N):xe=!0);const xt=Ee.map(se=>{if(!w.isValidElement(se))return null;let qe;if(y){if(!Array.isArray(N))throw new Error(es(2));qe=N.some(st=>qC(st,se.props.value)),qe&&xe&&ct.push(se.props.children)}else qe=qC(N,se.props.value),qe&&xe&&(Ht=se.props.children);return w.cloneElement(se,{"aria-selected":qe?"true":"false",onClick:tn(se),onKeyUp:st=>{st.key===" "&&st.preventDefault(),se.props.onKeyUp&&se.props.onKeyUp(st)},role:"option",selected:qe,value:void 0,"data-value":se.props.value})});xe&&(y?ct.length===0?Ae=null:Ae=ct.reduce((se,qe,st)=>(se.push(qe),st<ct.length-1&&se.push(", "),se),[]):Ae=Ht);let nn=Me;!a&&ce&&Y&&(nn=le.clientWidth);let qt;typeof j<"u"?qt=j:qt=h?null:0;const We=M.id||(T?`mui-component-select-${T}`:void 0),re=R({},e,{variant:U,value:N,open:ln,error:m}),Mt=Lz(re),Rr=R({},g.PaperProps,(r=g.slotProps)==null?void 0:r.paper),Jn=Ym();return S.jsxs(w.Fragment,{children:[S.jsx(Nz,R({ref:Rt,tabIndex:qt,role:"combobox","aria-controls":Jn,"aria-disabled":h?"true":void 0,"aria-expanded":ln?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[f,We].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Dt,onMouseDown:h||D?null:ve,onBlur:at,onFocus:x},M,{ownerState:re,className:Te(M.className,Mt.select,u),id:We,children:Mz(Ae)?HC||(HC=S.jsx("span",{className:"notranslate",children:""})):Ae})),S.jsx(Dz,R({"aria-invalid":m,value:Array.isArray(N)?N.join(","):N,name:T,ref:J,"aria-hidden":!0,onChange:_n,tabIndex:-1,disabled:h,className:Mt.nativeInput,autoFocus:s,ownerState:re},V)),S.jsx(Oz,{as:v,className:Mt.icon,ownerState:re}),S.jsx(hz,R({id:`menu-${T||""}`,anchorEl:le,open:ln,onClose:Fe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},g,{MenuListProps:R({"aria-labelledby":f,role:"listbox","aria-multiselectable":y?"true":void 0,disableListWrap:!0,id:Jn},g.MenuListProps),slotProps:R({},g.slotProps,{paper:R({},Rr,{style:R({minWidth:nn},Rr!=null?Rr.style:null)})}),children:xt}))]})}),Fz=$z,Vz=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Uz=["root"],jz=t=>{const{classes:e}=t;return e},uw={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Vi(t)&&t!=="variant",slot:"Root"},Bz=ee(qk,uw)(""),zz=ee(Jk,uw)(""),Wz=ee(zk,uw)(""),Zk=w.forwardRef(function(e,n){const r=rt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=tB,id:d,input:h,inputProps:p,label:m,labelId:v,MenuProps:_,multiple:f=!1,native:g=!1,onClose:y,onOpen:T,open:I,renderValue:E,SelectDisplayProps:C,variant:x="outlined"}=r,P=ie(r,Vz),k=g?wz:Fz,D=ou(),F=iu({props:r,muiFormControl:D,states:["variant","error"]}),M=F.variant||x,j=R({},r,{variant:M,classes:s}),z=jz(j),U=ie(z,Uz),V=h||{standard:S.jsx(Bz,{ownerState:j}),outlined:S.jsx(zz,{label:m,ownerState:j}),filled:S.jsx(Wz,{ownerState:j})}[M],N=an(n,V.ref);return S.jsx(w.Fragment,{children:w.cloneElement(V,R({inputComponent:k,inputProps:R({children:o,error:F.error,IconComponent:c,variant:M,type:void 0,multiple:f},g?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:v,MenuProps:_,onClose:y,onOpen:T,open:I,renderValue:E,SelectDisplayProps:R({id:d},C)},p,{classes:p?Fr(U,p.classes):U},h?h.props.inputProps:{})},(f&&g||u)&&M==="outlined"?{notched:!0}:{},{ref:N,className:Te(V.props.className,a,z.root)},!h&&{variant:M},P))})});Zk.muiName="Select";const Hz=Zk;function qz(t){return nt("MuiSnackbarContent",t)}Xe("MuiSnackbarContent",["root","message","action"]);const Kz=["action","className","message","role"],Gz=t=>{const{classes:e}=t;return tt({root:["root"],action:["action"],message:["message"]},qz,e)},Qz=ee(X1,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,n=sU(t.palette.background.default,e);return R({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),Yz=ee("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),Xz=ee("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Jz=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSnackbarContent"}),{action:i,className:o,message:s,role:a="alert"}=r,l=ie(r,Kz),u=r,c=Gz(u);return S.jsxs(Qz,R({role:a,square:!0,elevation:6,className:Te(c.root,o),ownerState:u,ref:n},l,{children:[S.jsx(Yz,{className:c.message,ownerState:u,children:s}),i?S.jsx(Xz,{className:c.action,ownerState:u,children:i}):null]}))}),Zz=Jz;function e8(t){return nt("MuiSnackbar",t)}Xe("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const t8=["onEnter","onExited"],n8=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],r8=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${pe(n.vertical)}${pe(n.horizontal)}`]};return tt(r,e8,e)},KC=ee("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${pe(n.anchorOrigin.vertical)}${pe(n.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return R({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:R({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&n,e.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},e.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),i8=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSnackbar"}),i=ru(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:u=null,children:c,className:d,ClickAwayListenerProps:h,ContentProps:p,disableWindowBlurListener:m=!1,message:v,open:_,TransitionComponent:f=Sp,transitionDuration:g=o,TransitionProps:{onEnter:y,onExited:T}={}}=r,I=ie(r.TransitionProps,t8),E=ie(r,n8),C=R({},r,{anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:u,disableWindowBlurListener:m,TransitionComponent:f,transitionDuration:g}),x=r8(C),{getRootProps:P,onClickAway:k}=Oj(R({},C)),[D,F]=w.useState(!0),M=ns({elementType:KC,getSlotProps:P,externalForwardedProps:E,ownerState:C,additionalProps:{ref:n},className:[x.root,d]}),j=U=>{F(!0),T&&T(U)},z=(U,V)=>{F(!1),y&&y(U,V)};return!_&&D?null:S.jsx(e3,R({onClickAway:k},h,{children:S.jsx(KC,R({},M,{children:S.jsx(f,R({appear:!0,in:_,timeout:g,direction:a==="top"?"down":"up",onEnter:z,onExited:j},I,{children:c||S.jsx(Zz,R({message:v,action:s},p))}))}))}))}),o8=i8;function s8(t){return nt("MuiTooltip",t)}const a8=Xe("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),$o=a8,l8=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function u8(t){return Math.round(t*1e5)/1e5}const c8=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:o}=t,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${pe(o.split("-")[0])}`],arrow:["arrow"]};return tt(s,s8,e)},d8=ee(Vk,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>R({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${$o.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${$o.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${$o.arrow}`]:R({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${$o.arrow}`]:R({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),h8=ee("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${pe(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>R({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:oa(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${u8(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${$o.popper}[data-popper-placement*="left"] &`]:R({transformOrigin:"right center"},e.isRtl?R({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):R({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${$o.popper}[data-popper-placement*="right"] &`]:R({transformOrigin:"left center"},e.isRtl?R({marginRight:"14px"},e.touch&&{marginRight:"24px"}):R({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${$o.popper}[data-popper-placement*="top"] &`]:R({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${$o.popper}[data-popper-placement*="bottom"] &`]:R({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),f8=ee("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:oa(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Jh=!1;const GC=new Hd;let zu={x:0,y:0};function Zh(t,e){return n=>{e&&e(n),t(n)}}const p8=w.forwardRef(function(e,n){var r,i,o,s,a,l,u,c,d,h,p,m,v,_,f,g,y,T,I;const E=rt({props:e,name:"MuiTooltip"}),{arrow:C=!1,children:x,components:P={},componentsProps:k={},describeChild:D=!1,disableFocusListener:F=!1,disableHoverListener:M=!1,disableInteractive:j=!1,disableTouchListener:z=!1,enterDelay:U=100,enterNextDelay:V=0,enterTouchDelay:N=700,followCursor:B=!1,id:W,leaveDelay:ae=0,leaveTouchDelay:J=1500,onClose:ne,onOpen:Y,open:he,placement:ce="bottom",PopperComponent:Me,PopperProps:Le={},slotProps:$e={},slots:Rt={},title:le,TransitionComponent:ze=Sp,TransitionProps:ve}=E,Fe=ie(E,l8),Ee=w.isValidElement(x)?x:S.jsx("span",{children:x}),_n=ru(),tn=_n.direction==="rtl",[Dt,ln]=w.useState(),[at,Ae]=w.useState(null),Ht=w.useRef(!1),ct=j||B,xe=Ls(),xt=Ls(),nn=Ls(),qt=Ls(),[We,re]=mp({controlled:he,default:!1,name:"Tooltip",state:"open"});let Mt=We;const Rr=Ym(W),Jn=w.useRef(),se=Mr(()=>{Jn.current!==void 0&&(document.body.style.WebkitUserSelect=Jn.current,Jn.current=void 0),qt.clear()});w.useEffect(()=>se,[se]);const qe=Ce=>{GC.clear(),Jh=!0,re(!0),Y&&!Mt&&Y(Ce)},st=Mr(Ce=>{GC.start(800+ae,()=>{Jh=!1}),re(!1),ne&&Mt&&ne(Ce),xe.start(_n.transitions.duration.shortest,()=>{Ht.current=!1})}),dr=Ce=>{Ht.current&&Ce.type!=="touchstart"||(Dt&&Dt.removeAttribute("title"),xt.clear(),nn.clear(),U||Jh&&V?xt.start(Jh?V:U,()=>{qe(Ce)}):qe(Ce))},ji=Ce=>{xt.clear(),nn.start(ae,()=>{st(Ce)})},{isFocusVisibleRef:Rh,onBlur:xh,onFocus:uy,ref:bh}=U1(),[,Ph]=w.useState(!1),b=Ce=>{xh(Ce),Rh.current===!1&&(Ph(!1),ji(Ce))},A=Ce=>{Dt||ln(Ce.currentTarget),uy(Ce),Rh.current===!0&&(Ph(!0),dr(Ce))},O=Ce=>{Ht.current=!0;const Ie=Ee.props;Ie.onTouchStart&&Ie.onTouchStart(Ce)},q=dr,te=ji,be=Ce=>{O(Ce),nn.clear(),xe.clear(),se(),Jn.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",qt.start(N,()=>{document.body.style.WebkitUserSelect=Jn.current,dr(Ce)})},fe=Ce=>{Ee.props.onTouchEnd&&Ee.props.onTouchEnd(Ce),se(),nn.start(J,()=>{st(Ce)})};w.useEffect(()=>{if(!Mt)return;function Ce(Ie){(Ie.key==="Escape"||Ie.key==="Esc")&&st(Ie)}return document.addEventListener("keydown",Ce),()=>{document.removeEventListener("keydown",Ce)}},[st,Mt]);const de=an(Ee.ref,bh,ln,n);!le&&le!==0&&(Mt=!1);const oe=w.useRef(),ke=Ce=>{const Ie=Ee.props;Ie.onMouseMove&&Ie.onMouseMove(Ce),zu={x:Ce.clientX,y:Ce.clientY},oe.current&&oe.current.update()},wt={},_e=typeof le=="string";D?(wt.title=!Mt&&_e&&!M?le:null,wt["aria-describedby"]=Mt?Rr:null):(wt["aria-label"]=_e?le:null,wt["aria-labelledby"]=Mt&&!_e?Rr:null);const Pe=R({},wt,Fe,Ee.props,{className:Te(Fe.className,Ee.props.className),onTouchStart:O,ref:de},B?{onMouseMove:ke}:{}),bt={};z||(Pe.onTouchStart=be,Pe.onTouchEnd=fe),M||(Pe.onMouseOver=Zh(q,Pe.onMouseOver),Pe.onMouseLeave=Zh(te,Pe.onMouseLeave),ct||(bt.onMouseOver=q,bt.onMouseLeave=te)),F||(Pe.onFocus=Zh(A,Pe.onFocus),Pe.onBlur=Zh(b,Pe.onBlur),ct||(bt.onFocus=A,bt.onBlur=b));const Zn=w.useMemo(()=>{var Ce;let Ie=[{name:"arrow",enabled:!!at,options:{element:at,padding:4}}];return(Ce=Le.popperOptions)!=null&&Ce.modifiers&&(Ie=Ie.concat(Le.popperOptions.modifiers)),R({},Le.popperOptions,{modifiers:Ie})},[at,Le]),Et=R({},E,{isRtl:tn,arrow:C,disableInteractive:ct,placement:ce,PopperComponentProp:Me,touch:Ht.current}),di=c8(Et),ba=(r=(i=Rt.popper)!=null?i:P.Popper)!=null?r:d8,Bi=(o=(s=(a=Rt.transition)!=null?a:P.Transition)!=null?s:ze)!=null?o:Sp,Yr=(l=(u=Rt.tooltip)!=null?u:P.Tooltip)!=null?l:h8,hi=(c=(d=Rt.arrow)!=null?d:P.Arrow)!=null?c:f8,Eu=sc(ba,R({},Le,(h=$e.popper)!=null?h:k.popper,{className:Te(di.popper,Le==null?void 0:Le.className,(p=(m=$e.popper)!=null?m:k.popper)==null?void 0:p.className)}),Et),Tu=sc(Bi,R({},ve,(v=$e.transition)!=null?v:k.transition),Et),Su=sc(Yr,R({},(_=$e.tooltip)!=null?_:k.tooltip,{className:Te(di.tooltip,(f=(g=$e.tooltip)!=null?g:k.tooltip)==null?void 0:f.className)}),Et),wo=sc(hi,R({},(y=$e.arrow)!=null?y:k.arrow,{className:Te(di.arrow,(T=(I=$e.arrow)!=null?I:k.arrow)==null?void 0:T.className)}),Et);return S.jsxs(w.Fragment,{children:[w.cloneElement(Ee,Pe),S.jsx(ba,R({as:Me??Vk,placement:ce,anchorEl:B?{getBoundingClientRect:()=>({top:zu.y,left:zu.x,right:zu.x,bottom:zu.y,width:0,height:0})}:Dt,popperRef:oe,open:Dt?Mt:!1,id:Rr,transition:!0},bt,Eu,{popperOptions:Zn,children:({TransitionProps:Ce})=>S.jsx(Bi,R({timeout:_n.transitions.duration.shorter},Ce,Tu,{children:S.jsxs(Yr,R({},Su,{children:[le,C?S.jsx(hi,R({},wo,{ref:Ae})):null]}))}))}))]})}),m8=p8;function g8(t){return nt("MuiTextField",t)}Xe("MuiTextField",["root"]);const y8=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],v8={standard:qk,filled:zk,outlined:Jk},_8=t=>{const{classes:e}=t;return tt({root:["root"]},g8,e)},w8=ee(XB,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),E8=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:m,id:v,InputLabelProps:_,inputProps:f,InputProps:g,inputRef:y,label:T,maxRows:I,minRows:E,multiline:C=!1,name:x,onBlur:P,onChange:k,onFocus:D,placeholder:F,required:M=!1,rows:j,select:z=!1,SelectProps:U,type:V,value:N,variant:B="outlined"}=r,W=ie(r,y8),ae=R({},r,{autoFocus:o,color:l,disabled:c,error:d,fullWidth:p,multiline:C,required:M,select:z,variant:B}),J=_8(ae),ne={};B==="outlined"&&(_&&typeof _.shrink<"u"&&(ne.notched=_.shrink),ne.label=T),z&&((!U||!U.native)&&(ne.id=void 0),ne["aria-describedby"]=void 0);const Y=Ym(v),he=m&&Y?`${Y}-helper-text`:void 0,ce=T&&Y?`${Y}-label`:void 0,Me=v8[B],Le=S.jsx(Me,R({"aria-describedby":he,autoComplete:i,autoFocus:o,defaultValue:u,fullWidth:p,multiline:C,name:x,rows:j,maxRows:I,minRows:E,type:V,value:N,id:Y,inputRef:y,onBlur:P,onChange:k,onFocus:D,placeholder:F,inputProps:f},ne,g));return S.jsxs(w8,R({className:Te(J.root,a),disabled:c,error:d,fullWidth:p,ref:n,required:M,color:l,variant:B,ownerState:ae},W,{children:[T!=null&&T!==""&&S.jsx(C9,R({htmlFor:Y,id:ce},_,{children:T})),z?S.jsx(Hz,R({"aria-describedby":he,id:Y,labelId:ce,value:N,input:Le},U,{children:s})):Le,m&&S.jsx(i9,R({id:he},h,{children:m}))]}))}),Ac=E8;w.createContext(null);const T8=Ek({palette:{primary:{main:"#000000"},secondary:{main:"#CBFF6A"},error:{main:Is.A400}}});var QC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(t,e){if(!t)throw au(e)},au=function(t){return new Error("Firebase Database ("+eA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},S8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},cw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,d=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):S8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||d==null)throw new C8;const h=o<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class C8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nA=function(t){const e=tA(t);return cw.encodeByteArray(e,!0)},Cp=function(t){return nA(t).replace(/\./g,"")},Ip=function(t){try{return cw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8(t){return rA(void 0,t)}function rA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!R8(n)||(t[n]=rA(t[n],e[n]));return t}function R8(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8=()=>x8().__FIREBASE_DEFAULTS__,P8=()=>{if(typeof process>"u"||typeof QC>"u")return;const t=QC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},k8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Ip(t[1]);return e&&JSON.parse(e)},mg=()=>{try{return b8()||P8()||k8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iA=t=>{var e,n;return(n=(e=mg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},oA=t=>{const e=iA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},sA=()=>{var t;return(t=mg())===null||t===void 0?void 0:t.config},aA=t=>{var e;return(e=mg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Cp(JSON.stringify(n)),Cp(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function A8(){var t;const e=(t=mg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function O8(){const t=Zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function cA(){return eA.NODE_ADMIN===!0}function D8(){return!A8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dA(){try{return typeof indexedDB=="object"}catch{return!1}}function M8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8="FirebaseError";class Ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=L8,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xd.prototype.create)}}class Xd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?$8(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ui(i,a,r)}}function $8(t,e){return t.replace(F8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const F8=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t){return JSON.parse(t)}function In(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=function(t){let e={},n={},r={},i="";try{const o=t.split(".");e=vd(Ip(o[0])||""),n=vd(Ip(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},V8=function(t){const e=hA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},U8=function(t){const e=hA(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ml(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function $_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Rp(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function _d(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(YC(o)&&YC(s)){if(!_d(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function YC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ac(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function lc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j8{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^o&(s^a),c=1518500249):(u=o^s^a,c=1859775393):d<60?(u=o&s|a&(o|s),c=2400959708):(u=o^s^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const o=this.buf_;let s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}}function B8(t,e){const n=new z8(t,e);return n.subscribe.bind(n)}class z8{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");W8(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=qy),i.error===void 0&&(i.error=qy),i.complete===void 0&&(i.complete=qy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W8(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function qy(){}function H8(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q8=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const o=i-55296;r++,G(r<t.length,"Surrogate pair missing trail surrogate.");const s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},gg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){return t&&t._delegate?t._delegate:t}class uo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K8{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q8(e))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bs){return this.instances.has(e)}getOptions(e=bs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:G8(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bs){return this.component?this.component.multipleInstances?e:bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function G8(t){return t===bs?void 0:t}function Q8(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new K8(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const X8={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},J8=Ne.INFO,Z8={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},e7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Z8[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yg{constructor(e){this.name=e,this._logLevel=J8,this._logHandler=e7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?X8[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const t7=(t,e)=>e.some(n=>t instanceof n);let XC,JC;function n7(){return XC||(XC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r7(){return JC||(JC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fA=new WeakMap,F_=new WeakMap,pA=new WeakMap,Ky=new WeakMap,fw=new WeakMap;function i7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ko(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&fA.set(n,t)}).catch(()=>{}),fw.set(e,t),e}function o7(t){if(F_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});F_.set(t,e)}let V_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return F_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ko(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function s7(t){V_=t(V_)}function a7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gy(this),e,...n);return pA.set(r,e.sort?e.sort():[e]),Ko(r)}:r7().includes(t)?function(...e){return t.apply(Gy(this),e),Ko(fA.get(this))}:function(...e){return Ko(t.apply(Gy(this),e))}}function l7(t){return typeof t=="function"?a7(t):(t instanceof IDBTransaction&&o7(t),t7(t,n7())?new Proxy(t,V_):t)}function Ko(t){if(t instanceof IDBRequest)return i7(t);if(Ky.has(t))return Ky.get(t);const e=l7(t);return e!==t&&(Ky.set(t,e),fw.set(e,t)),e}const Gy=t=>fw.get(t);function u7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Ko(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Ko(s.result),l.oldVersion,l.newVersion,Ko(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const c7=["get","getKey","getAll","getAllKeys","count"],d7=["put","add","delete","clear"],Qy=new Map;function ZC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Qy.get(e))return Qy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=d7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||c7.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Qy.set(e,o),o}s7(t=>({...t,get:(e,n,r)=>ZC(e,n)||t.get(e,n,r),has:(e,n)=>!!ZC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(f7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function f7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const U_="@firebase/app",eI="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new yg("@firebase/app"),p7="@firebase/app-compat",m7="@firebase/analytics-compat",g7="@firebase/analytics",y7="@firebase/app-check-compat",v7="@firebase/app-check",_7="@firebase/auth",w7="@firebase/auth-compat",E7="@firebase/database",T7="@firebase/database-compat",S7="@firebase/functions",C7="@firebase/functions-compat",I7="@firebase/installations",R7="@firebase/installations-compat",x7="@firebase/messaging",b7="@firebase/messaging-compat",P7="@firebase/performance",k7="@firebase/performance-compat",A7="@firebase/remote-config",N7="@firebase/remote-config-compat",O7="@firebase/storage",D7="@firebase/storage-compat",M7="@firebase/firestore",L7="@firebase/firestore-compat",$7="firebase",F7="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="[DEFAULT]",V7={[U_]:"fire-core",[p7]:"fire-core-compat",[g7]:"fire-analytics",[m7]:"fire-analytics-compat",[v7]:"fire-app-check",[y7]:"fire-app-check-compat",[_7]:"fire-auth",[w7]:"fire-auth-compat",[E7]:"fire-rtdb",[T7]:"fire-rtdb-compat",[S7]:"fire-fn",[C7]:"fire-fn-compat",[I7]:"fire-iid",[R7]:"fire-iid-compat",[x7]:"fire-fcm",[b7]:"fire-fcm-compat",[P7]:"fire-perf",[k7]:"fire-perf-compat",[A7]:"fire-rc",[N7]:"fire-rc-compat",[O7]:"fire-gcs",[D7]:"fire-gcs-compat",[M7]:"fire-fst",[L7]:"fire-fst-compat","fire-js":"fire-js",[$7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=new Map,B_=new Map;function U7(t,e){try{t.container.addComponent(e)}catch(n){aa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function rs(t){const e=t.name;if(B_.has(e))return aa.debug(`There were multiple attempts to register component ${e}.`),!1;B_.set(e,t);for(const n of xp.values())U7(n,t);return!0}function vg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Go=new Xd("app","Firebase",j7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B7{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Go.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=F7;function mA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:j_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Go.create("bad-app-name",{appName:String(i)});if(n||(n=sA()),!n)throw Go.create("no-options");const o=xp.get(i);if(o){if(_d(n,o.options)&&_d(r,o.config))return o;throw Go.create("duplicate-app",{appName:i})}const s=new Y8(i);for(const l of B_.values())s.addComponent(l);const a=new B7(n,r,s);return xp.set(i,a),a}function pw(t=j_){const e=xp.get(t);if(!e&&t===j_&&sA())return mA();if(!e)throw Go.create("no-app",{appName:t});return e}function Ur(t,e,n){var r;let i=(r=V7[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),aa.warn(a.join(" "));return}rs(new uo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z7="firebase-heartbeat-database",W7=1,wd="firebase-heartbeat-store";let Yy=null;function gA(){return Yy||(Yy=u7(z7,W7,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Go.create("idb-open",{originalErrorMessage:t.message})})),Yy}async function H7(t){try{const n=(await gA()).transaction(wd),r=await n.objectStore(wd).get(yA(t));return await n.done,r}catch(e){if(e instanceof Ui)aa.warn(e.message);else{const n=Go.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});aa.warn(n.message)}}}async function tI(t,e){try{const r=(await gA()).transaction(wd,"readwrite");await r.objectStore(wd).put(e,yA(t)),await r.done}catch(n){if(n instanceof Ui)aa.warn(n.message);else{const r=Go.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});aa.warn(r.message)}}}function yA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7=1024,K7=30*24*60*60*1e3;class G7{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Y7(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=nI();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=K7}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=nI(),{heartbeatsToSend:r,unsentEntries:i}=Q7(this._heartbeatsCache.heartbeats),o=Cp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function nI(){return new Date().toISOString().substring(0,10)}function Q7(t,e=q7){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),rI(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),rI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Y7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dA()?M8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await H7(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return tI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return tI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function rI(t){return Cp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7(t){rs(new uo("platform-logger",e=>new h7(e),"PRIVATE")),rs(new uo("heartbeat",e=>new G7(e),"PRIVATE")),Ur(U_,eI,t),Ur(U_,eI,"esm2017"),Ur("fire-js","")}X7("");function mw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const J7=vA,_A=new Xd("auth","Firebase",vA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp=new yg("@firebase/auth");function Z7(t,...e){bp.logLevel<=Ne.WARN&&bp.warn(`Auth (${ms}): ${t}`,...e)}function Of(t,...e){bp.logLevel<=Ne.ERROR&&bp.error(`Auth (${ms}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,...e){throw gw(t,...e)}function Pi(t,...e){return gw(t,...e)}function wA(t,e,n){const r=Object.assign(Object.assign({},J7()),{[e]:n});return new Xd("auth","Firebase",r).create(e,{appName:t.name})}function eW(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&qr(t,"argument-error"),wA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function gw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return _A.create(t,...e)}function me(t,e,...n){if(!t)throw gw(e,...n)}function Qi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Of(e),new Error(e)}function co(t,e){t||Qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tW(){return iI()==="http:"||iI()==="https:"}function iI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tW()||N8()||"connection"in navigator)?navigator.onLine:!0}function rW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){this.shortDelay=e,this.longDelay=n,co(n>e,"Short delay should be less than long delay!"),this.isMobile=hw()||uA()}get(){return nW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t,e){co(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oW=new Jd(3e4,6e4);function gs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _o(t,e,n,r,i={}){return TA(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=lu(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),EA.fetch()(SA(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function TA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},iW),e);try{const i=new aW(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw ef(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ef(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw ef(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw ef(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw wA(t,c,u);qr(t,c)}}catch(i){if(i instanceof Ui)throw i;qr(t,"network-request-failed",{message:String(i)})}}async function Zd(t,e,n,r,i={}){const o=await _o(t,e,n,r,i);return"mfaPendingCredential"in o&&qr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function SA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?yw(t.config,i):`${t.config.apiScheme}://${i}`}function sW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aW{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pi(this.auth,"network-request-failed")),oW.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ef(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pi(t,e,r);return i.customData._tokenResponse=n,i}function oI(t){return t!==void 0&&t.enterprise!==void 0}class lW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function uW(t,e){return _o(t,"GET","/v2/recaptchaConfig",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cW(t,e){return _o(t,"POST","/v1/accounts:delete",e)}async function dW(t,e){return _o(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hW(t,e=!1){const n=yt(t),r=await n.getIdToken(e),i=vw(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Nc(Xy(i.auth_time)),issuedAtTime:Nc(Xy(i.iat)),expirationTime:Nc(Xy(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Xy(t){return Number(t)*1e3}function vw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Of("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ip(n);return i?JSON.parse(i):(Of("Failed to decode base64 JWT payload"),null)}catch(i){return Of("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function fW(t){const e=vw(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ui&&pW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nc(this.lastLoginAt),this.creationTime=Nc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ll(t,dW(n,{idToken:r}));me(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?vW(o.providerUserInfo):[],a=yW(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new CA(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function gW(t){const e=yt(t);await Pp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yW(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function vW(t){return t.map(e=>{var{providerId:n}=e,r=mw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _W(t,e){const n=await TA(t,{},async()=>{const r=lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=SA(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",EA.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function wW(t,e){return _o(t,"POST","/v2/accounts:revokeToken",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fW(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return me(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await _W(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Ed;return r&&(me(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(me(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ed,this.toJSON())}_performRefresh(){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ks{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=mw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new CA(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ll(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hW(this,e)}reload(){return gW(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ks(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Pp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ll(this,cW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,f=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:T,isAnonymous:I,providerData:E,stsTokenManager:C}=n;me(y&&C,e,"internal-error");const x=Ed.fromJSON(this.name,C);me(typeof y=="string",e,"internal-error"),Co(d,e.name),Co(h,e.name),me(typeof T=="boolean",e,"internal-error"),me(typeof I=="boolean",e,"internal-error"),Co(p,e.name),Co(m,e.name),Co(v,e.name),Co(_,e.name),Co(f,e.name),Co(g,e.name);const P=new Ks({uid:y,auth:e,email:h,emailVerified:T,displayName:d,isAnonymous:I,photoURL:m,phoneNumber:p,tenantId:v,stsTokenManager:x,createdAt:f,lastLoginAt:g});return E&&Array.isArray(E)&&(P.providerData=E.map(k=>Object.assign({},k))),_&&(P._redirectEventId=_),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ed;i.updateFromServerResponse(n);const o=new Ks({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Pp(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new Map;function Yi(t){co(t instanceof Function,"Expected a class definition");let e=sI.get(t);return e?(co(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}IA.type="NONE";const aI=IA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t,e,n){return`firebase:${t}:${e}:${n}`}class pl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Df(this.userKey,i.apiKey,o),this.fullPersistenceKey=Df("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ks._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new pl(Yi(aI),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Yi(aI);const s=Df(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const d=Ks._fromJSON(e,c);u!==o&&(a=d),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new pl(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new pl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(bA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(RA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kA(e))return"Blackberry";if(AA(e))return"Webos";if(_w(e))return"Safari";if((e.includes("chrome/")||xA(e))&&!e.includes("edge/"))return"Chrome";if(PA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function RA(t=Zt()){return/firefox\//i.test(t)}function _w(t=Zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function xA(t=Zt()){return/crios\//i.test(t)}function bA(t=Zt()){return/iemobile/i.test(t)}function PA(t=Zt()){return/android/i.test(t)}function kA(t=Zt()){return/blackberry/i.test(t)}function AA(t=Zt()){return/webos/i.test(t)}function _g(t=Zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EW(t=Zt()){var e;return _g(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TW(){return O8()&&document.documentMode===10}function NA(t=Zt()){return _g(t)||PA(t)||AA(t)||kA(t)||/windows phone/i.test(t)||bA(t)}function SW(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OA(t,e=[]){let n;switch(t){case"Browser":n=lI(Zt());break;case"Worker":n=`${lI(Zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ms}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IW(t,e={}){return _o(t,"GET","/v2/passwordPolicy",gs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RW=6;class xW{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:RW,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bW{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uI(this),this.idTokenSubscription=new uI(this),this.beforeStateQueue=new CW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_A,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await pl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Pp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?yt(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await IW(this),n=new xW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await wW(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yi(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await pl.create(this,[Yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=OA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Z7(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ys(t){return yt(t)}class uI{constructor(e){this.auth=e,this.observer=null,this.addObserver=B8(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PW(t){wg=t}function DA(t){return wg.loadJS(t)}function kW(){return wg.recaptchaEnterpriseScript}function AW(){return wg.gapiScript}function NW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const OW="recaptcha-enterprise",DW="NO_RECAPTCHA";class MW{constructor(e){this.type=OW,this.auth=ys(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{uW(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new lW(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;oI(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(DW)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&oI(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=kW();l.length!==0&&(l+=a),DA(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function cI(t,e,n,r=!1){const i=new MW(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function W_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await cI(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await cI(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LW(t,e){const n=vg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(_d(o,e??{}))return i;qr(i,"already-initialized")}return n.initialize({options:e})}function $W(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function FW(t,e,n){const r=ys(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=MA(e),{host:s,port:a}=VW(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||UW()}function MA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function VW(t){const e=MA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:dI(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:dI(s)}}}function dI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function UW(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qi("not implemented")}_getIdTokenResponse(e){return Qi("not implemented")}_linkToIdToken(e,n){return Qi("not implemented")}_getReauthenticationResolver(e){return Qi("not implemented")}}async function jW(t,e){return _o(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BW(t,e){return Zd(t,"POST","/v1/accounts:signInWithPassword",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zW(t,e){return Zd(t,"POST","/v1/accounts:signInWithEmailLink",gs(t,e))}async function WW(t,e){return Zd(t,"POST","/v1/accounts:signInWithEmailLink",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends ww{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Td(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Td(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return W_(e,n,"signInWithPassword",BW);case"emailLink":return zW(e,{email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return W_(e,r,"signUpPassword",jW);case"emailLink":return WW(e,{idToken:n,email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(t,e){return Zd(t,"POST","/v1/accounts:signInWithIdp",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW="http://localhost";class la extends ww{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=mw(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new la(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ml(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ml(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ml(e,n)}buildRequest(){const e={requestUri:HW,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qW(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KW(t){const e=ac(lc(t)).link,n=e?ac(lc(e)).deep_link_id:null,r=ac(lc(t)).deep_link_id;return(r?ac(lc(r)).link:null)||r||n||e||t}class Ew{constructor(e){var n,r,i,o,s,a;const l=ac(lc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=qW((i=l.mode)!==null&&i!==void 0?i:null);me(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=KW(e);try{return new Ew(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(){this.providerId=uu.PROVIDER_ID}static credential(e,n){return Td._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ew.parseLink(n);return me(r,"argument-error"),Td._fromEmailAndCode(e,r.code,r.tenantId)}}uu.PROVIDER_ID="password";uu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh extends Tw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends eh{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:Ao.PROVIDER_ID,signInMethod:Ao.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ao.credentialFromTaggedObject(e)}static credentialFromError(e){return Ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ao.credential(e.oauthAccessToken)}catch{return null}}}Ao.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ao.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends eh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return la._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _i.credential(n,r)}catch{return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com";_i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends eh{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:No.PROVIDER_ID,signInMethod:No.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return No.credentialFromTaggedObject(e)}static credentialFromError(e){return No.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return No.credential(e.oauthAccessToken)}catch{return null}}}No.GITHUB_SIGN_IN_METHOD="github.com";No.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends eh{constructor(){super("twitter.com")}static credential(e,n){return la._fromParams({providerId:Oo.PROVIDER_ID,signInMethod:Oo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Oo.credentialFromTaggedObject(e)}static credentialFromError(e){return Oo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Oo.credential(n,r)}catch{return null}}}Oo.TWITTER_SIGN_IN_METHOD="twitter.com";Oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GW(t,e){return Zd(t,"POST","/v1/accounts:signUp",gs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Ks._fromIdTokenResponse(e,r,i),s=hI(r);return new ua({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=hI(r);return new ua({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function hI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp extends Ui{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,kp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new kp(e,n,r,i)}}function LA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?kp._fromErrorAndOperation(t,o,e,r):o})}async function QW(t,e,n=!1){const r=await Ll(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ua._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YW(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const o=await Ll(t,LA(r,i,e,t),n);me(o.idToken,r,"internal-error");const s=vw(o.idToken);me(s,r,"internal-error");const{sub:a}=s;return me(t.uid===a,r,"user-mismatch"),ua._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&qr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $A(t,e,n=!1){const r="signIn",i=await LA(t,r,e),o=await ua._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function XW(t,e){return $A(ys(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(t){const e=ys(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function JW(t,e,n){const r=ys(t),s=await W_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GW).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&FA(t),l}),a=await ua._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function ZW(t,e,n){return XW(yt(t),uu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&FA(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eH(t,e){return _o(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tH(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=yt(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await Ll(r,eH(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function nH(t,e,n,r){return yt(t).onIdTokenChanged(e,n,r)}function rH(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function iH(t,e,n,r){return yt(t).onAuthStateChanged(e,n,r)}function oH(t){return yt(t).signOut()}const Ap="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ap,"1"),this.storage.removeItem(Ap),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sH(){const t=Zt();return _w(t)||_g(t)}const aH=1e3,lH=10;class UA extends VA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=sH()&&SW(),this.fallbackToPolling=NA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);TW()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,lH):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},aH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UA.type="LOCAL";const uH=UA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA extends VA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}jA.type="SESSION";const BA=jA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Eg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await cH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=Sw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return window}function hH(t){ki().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function fH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mH(){return zA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="firebaseLocalStorageDb",gH=1,Np="firebaseLocalStorage",HA="fbase_key";class th{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Tg(t,e){return t.transaction([Np],e?"readwrite":"readonly").objectStore(Np)}function yH(){const t=indexedDB.deleteDatabase(WA);return new th(t).toPromise()}function H_(){const t=indexedDB.open(WA,gH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Np,{keyPath:HA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Np)?e(r):(r.close(),await yH(),e(await H_()))})})}async function fI(t,e,n){const r=Tg(t,!0).put({[HA]:e,value:n});return new th(r).toPromise()}async function vH(t,e){const n=Tg(t,!1).get(e),r=await new th(n).toPromise();return r===void 0?null:r.value}function pI(t,e){const n=Tg(t,!0).delete(e);return new th(n).toPromise()}const _H=800,wH=3;class qA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await H_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>wH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eg._getInstance(mH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await fH(),!this.activeServiceWorker)return;this.sender=new dH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await H_();return await fI(e,Ap,"1"),await pI(e,Ap),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Tg(i,!1).getAll();return new th(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_H)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qA.type="LOCAL";const EH=qA;new Jd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(t,e){return e?Yi(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw extends ww{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TH(t){return $A(t.auth,new Cw(t),t.bypassAuthState)}function SH(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),YW(n,new Cw(t),t.bypassAuthState)}async function CH(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),QW(n,new Cw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TH;case"linkViaPopup":case"linkViaRedirect":return CH;case"reauthViaPopup":case"reauthViaRedirect":return SH;default:qr(this.auth,"internal-error")}}resolve(e){co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){co(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH=new Jd(2e3,1e4);async function QA(t,e,n){const r=ys(t);eW(t,e,Tw);const i=KA(r,n);return new Fs(r,"signInViaPopup",e,i).executeNotNull()}class Fs extends GA{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Fs.currentPopupAction&&Fs.currentPopupAction.cancel(),Fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){co(this.filter.length===1,"Popup operations only handle one event");const e=Sw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,IH.get())};e()}}Fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH="pendingRedirect",Mf=new Map;class xH extends GA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Mf.get(this.auth._key());if(!e){try{const r=await bH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Mf.set(this.auth._key(),e)}return this.bypassAuthState||Mf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bH(t,e){const n=AH(e),r=kH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function PH(t,e){Mf.set(t._key(),e)}function kH(t){return Yi(t._redirectPersistence)}function AH(t){return Df(RH,t.config.apiKey,t.name)}async function NH(t,e,n=!1){const r=ys(t),i=KA(r,e),s=await new xH(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OH=10*60*1e3;class DH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!YA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OH&&this.cachedEventUids.clear(),this.cachedEventUids.has(mI(e))}saveEventToCache(e){this.cachedEventUids.add(mI(e)),this.lastProcessedEventTime=Date.now()}}function mI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function YA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LH(t,e={}){return _o(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $H=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FH=/^https?/;async function VH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LH(t);for(const n of e)try{if(UH(n))return}catch{}qr(t,"unauthorized-domain")}function UH(t){const e=z_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!FH.test(n))return!1;if($H.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH=new Jd(3e4,6e4);function gI(){const t=ki().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BH(t){return new Promise((e,n)=>{var r,i,o;function s(){gI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gI(),n(Pi(t,"network-request-failed"))},timeout:jH.get()})}if(!((i=(r=ki().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ki().gapi)===null||o===void 0)&&o.load)s();else{const a=NW("iframefcb");return ki()[a]=()=>{gapi.load?s():n(Pi(t,"network-request-failed"))},DA(`${AW()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Lf=null,e})}let Lf=null;function zH(t){return Lf=Lf||BH(t),Lf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WH=new Jd(5e3,15e3),HH="__/auth/iframe",qH="emulator/auth/iframe",KH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QH(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?yw(e,qH):`https://${t.config.authDomain}/${HH}`,r={apiKey:e.apiKey,appName:t.name,v:ms},i=GH.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${lu(r).slice(1)}`}async function YH(t){const e=await zH(t),n=ki().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:QH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KH,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Pi(t,"network-request-failed"),a=ki().setTimeout(()=>{o(s)},WH.get());function l(){ki().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JH=500,ZH=600,eq="_blank",tq="http://localhost";class yI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nq(t,e,n,r=JH,i=ZH){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},XH),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Zt().toLowerCase();n&&(a=xA(u)?eq:n),RA(u)&&(e=e||tq,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(EW(u)&&a!=="_self")return rq(e||"",a),new yI(null);const d=window.open(e||"",a,c);me(d,t,"popup-blocked");try{d.focus()}catch{}return new yI(d)}function rq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq="__/auth/handler",oq="emulator/auth/handler",sq=encodeURIComponent("fac");async function vI(t,e,n,r,i,o){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ms,eventId:i};if(e instanceof Tw){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",$_(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(o||{}))s[c]=d}if(e instanceof eh){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${sq}=${encodeURIComponent(l)}`:"";return`${aq(t)}?${lu(a).slice(1)}${u}`}function aq({config:t}){return t.emulator?yw(t,oq):`https://${t.authDomain}/${iq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="webStorageSupport";class lq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BA,this._completeRedirectFn=NH,this._overrideRedirectResult=PH}async _openPopup(e,n,r,i){var o;co((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await vI(e,n,r,z_(),i);return nq(e,s,Sw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await vI(e,n,r,z_(),i);return hH(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(co(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await YH(e),r=new DH(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Jy,{type:Jy},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[Jy];s!==void 0&&n(!!s),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=VH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NA()||_w()||_g()}}const uq=lq;var _I="@firebase/auth",wI="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hq(t){rs(new uo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;me(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:OA(t)},u=new bW(r,i,o,l);return $W(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),rs(new uo("auth-internal",e=>{const n=ys(e.getProvider("auth").getImmediate());return(r=>new cq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(_I,wI,dq(t)),Ur(_I,wI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq=5*60,pq=aA("authIdTokenMaxAge")||fq;let EI=null;const mq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pq)return;const i=n==null?void 0:n.token;EI!==i&&(EI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function gq(t=pw()){const e=vg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=LW(t,{popupRedirectResolver:uq,persistence:[EH,uH,BA]}),r=aA("authTokenSyncURL");if(r){const o=mq(r);rH(n,o,()=>o(n.currentUser)),nH(n,s=>o(s))}const i=iA("auth");return i&&FW(n,`http://${i}`),n}function yq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}PW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Pi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",yq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hq("Browser");var vq="firebase",_q="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur(vq,_q,"app");var wq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q,Iw=Iw||{},ye=wq||self;function Sg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function nh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Eq(t){return Object.prototype.hasOwnProperty.call(t,Zy)&&t[Zy]||(t[Zy]=++Tq)}var Zy="closure_uid_"+(1e9*Math.random()>>>0),Tq=0;function Sq(t,e,n){return t.call.apply(t.bind,arguments)}function Cq(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function jn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?jn=Sq:jn=Cq,jn.apply(null,arguments)}function tf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function vn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[i].apply(r,s)}}function vs(){this.s=this.s,this.o=this.o}var Iq=0;vs.prototype.s=!1;vs.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Iq!=0)&&Eq(this)};vs.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const XA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Rw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function TI(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Sg(r)){const i=t.length||0,o=r.length||0;t.length=i+o;for(let s=0;s<o;s++)t[i+s]=r[s]}else t.push(r)}}function Bn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Bn.prototype.h=function(){this.defaultPrevented=!0};var Rq=function(){if(!ye.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ye.addEventListener("test",n,e),ye.removeEventListener("test",n,e)}catch{}return t}();function Sd(t){return/^[\s\xa0]*$/.test(t)}function Cg(){var t=ye.navigator;return t&&(t=t.userAgent)?t:""}function wi(t){return Cg().indexOf(t)!=-1}function xw(t){return xw[" "](t),t}xw[" "]=function(){};function xq(t,e){var n=_K;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var bq=wi("Opera"),$l=wi("Trident")||wi("MSIE"),JA=wi("Edge"),q_=JA||$l,ZA=wi("Gecko")&&!(Cg().toLowerCase().indexOf("webkit")!=-1&&!wi("Edge"))&&!(wi("Trident")||wi("MSIE"))&&!wi("Edge"),Pq=Cg().toLowerCase().indexOf("webkit")!=-1&&!wi("Edge");function e2(){var t=ye.document;return t?t.documentMode:void 0}var K_;e:{var ev="",tv=function(){var t=Cg();if(ZA)return/rv:([^\);]+)(\)|;)/.exec(t);if(JA)return/Edge\/([\d\.]+)/.exec(t);if($l)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Pq)return/WebKit\/(\S+)/.exec(t);if(bq)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(tv&&(ev=tv?tv[1]:""),$l){var nv=e2();if(nv!=null&&nv>parseFloat(ev)){K_=String(nv);break e}}K_=ev}var G_;if(ye.document&&$l){var SI=e2();G_=SI||parseInt(K_,10)||void 0}else G_=void 0;var kq=G_;function Cd(t,e){if(Bn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ZA){e:{try{xw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Aq[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Cd.$.h.call(this)}}vn(Cd,Bn);var Aq={2:"touch",3:"pen",4:"mouse"};Cd.prototype.h=function(){Cd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var rh="closure_listenable_"+(1e6*Math.random()|0),Nq=0;function Oq(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Nq,this.fa=this.ia=!1}function Ig(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function bw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Dq(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function t2(t){const e={};for(const n in t)e[n]=t[n];return e}const CI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function n2(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let o=0;o<CI.length;o++)n=CI[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Rg(t){this.src=t,this.g={},this.h=0}Rg.prototype.add=function(t,e,n,r,i){var o=t.toString();t=this.g[o],t||(t=this.g[o]=[],this.h++);var s=Y_(t,e,r,i);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new Oq(e,this.src,o,!!r,i),e.ia=n,t.push(e)),e};function Q_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=XA(r,e),o;(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Ig(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Y_(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.fa&&o.listener==e&&o.capture==!!n&&o.la==r)return i}return-1}var Pw="closure_lm_"+(1e6*Math.random()|0),rv={};function r2(t,e,n,r,i){if(r&&r.once)return o2(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)r2(t,e[o],n,r,i);return null}return n=Nw(n),t&&t[rh]?t.O(e,n,nh(r)?!!r.capture:!!r,i):i2(t,e,n,!1,r,i)}function i2(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=nh(i)?!!i.capture:!!i,a=Aw(t);if(a||(t[Pw]=a=new Rg(t)),n=a.add(e,n,r,s,o),n.proxy)return n;if(r=Mq(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Rq||(i=s),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(a2(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Mq(){function t(n){return e.call(t.src,t.listener,n)}const e=Lq;return t}function o2(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)o2(t,e[o],n,r,i);return null}return n=Nw(n),t&&t[rh]?t.P(e,n,nh(r)?!!r.capture:!!r,i):i2(t,e,n,!0,r,i)}function s2(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)s2(t,e[o],n,r,i);else r=nh(r)?!!r.capture:!!r,n=Nw(n),t&&t[rh]?(t=t.i,e=String(e).toString(),e in t.g&&(o=t.g[e],n=Y_(o,n,r,i),-1<n&&(Ig(o[n]),Array.prototype.splice.call(o,n,1),o.length==0&&(delete t.g[e],t.h--)))):t&&(t=Aw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Y_(e,n,r,i)),(n=-1<t?e[t]:null)&&kw(n))}function kw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[rh])Q_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(a2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Aw(e))?(Q_(n,t),n.h==0&&(n.src=null,e[Pw]=null)):Ig(t)}}}function a2(t){return t in rv?rv[t]:rv[t]="on"+t}function Lq(t,e){if(t.fa)t=!0;else{e=new Cd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&kw(t),t=n.call(r,e)}return t}function Aw(t){return t=t[Pw],t instanceof Rg?t:null}var iv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nw(t){return typeof t=="function"?t:(t[iv]||(t[iv]=function(e){return t.handleEvent(e)}),t[iv])}function gn(){vs.call(this),this.i=new Rg(this),this.S=this,this.J=null}vn(gn,vs);gn.prototype[rh]=!0;gn.prototype.removeEventListener=function(t,e,n,r){s2(this,t,e,n,r)};function bn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Bn(e,t);else if(e instanceof Bn)e.target=e.target||t;else{var i=e;e=new Bn(r,t),n2(e,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.g=n[o];i=nf(s,r,!0,e)&&i}if(s=e.g=t,i=nf(s,r,!0,e)&&i,i=nf(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)s=e.g=n[o],i=nf(s,r,!1,e)&&i}gn.prototype.N=function(){if(gn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ig(n[r]);delete t.g[e],t.h--}}this.J=null};gn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};gn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function nf(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Q_(t.i,s),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Ow=ye.JSON.stringify;class $q{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Fq(){var t=Dw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Vq{constructor(){this.h=this.g=null}add(e,n){const r=l2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var l2=new $q(()=>new Uq,t=>t.reset());class Uq{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function jq(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Bq(t){ye.setTimeout(()=>{throw t},0)}let Id,Rd=!1,Dw=new Vq,u2=()=>{const t=ye.Promise.resolve(void 0);Id=()=>{t.then(zq)}};var zq=()=>{for(var t;t=Fq();){try{t.h.call(t.g)}catch(n){Bq(n)}var e=l2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Rd=!1};function xg(t,e){gn.call(this),this.h=t||1,this.g=e||ye,this.j=jn(this.qb,this),this.l=Date.now()}vn(xg,gn);Q=xg.prototype;Q.ga=!1;Q.T=null;Q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),bn(this,"tick"),this.ga&&(Mw(this),this.start()))}};Q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Mw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Q.N=function(){xg.$.N.call(this),Mw(this),delete this.g};function Lw(t,e,n){if(typeof t=="function")n&&(t=jn(t,n));else if(t&&typeof t.handleEvent=="function")t=jn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ye.setTimeout(t,e||0)}function c2(t){t.g=Lw(()=>{t.g=null,t.i&&(t.i=!1,c2(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Wq extends vs{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:c2(this)}N(){super.N(),this.g&&(ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xd(t){vs.call(this),this.h=t,this.g={}}vn(xd,vs);var II=[];function d2(t,e,n,r){Array.isArray(n)||(n&&(II[0]=n.toString()),n=II);for(var i=0;i<n.length;i++){var o=r2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function h2(t){bw(t.g,function(e,n){this.g.hasOwnProperty(n)&&kw(e)},t),t.g={}}xd.prototype.N=function(){xd.$.N.call(this),h2(this)};xd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function bg(){this.g=!0}bg.prototype.Ea=function(){this.g=!1};function Hq(t,e,n,r,i,o){t.info(function(){if(t.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+s})}function qq(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+o+" "+s})}function rl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Gq(t,n)+(r?" "+r:"")})}function Kq(t,e){t.info(function(){return"TIMEOUT: "+e})}bg.prototype.info=function(){};function Gq(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if(o!="noop"&&o!="stop"&&o!="close")for(var s=1;s<i.length;s++)i[s]=""}}}}return Ow(n)}catch{return e}}var Ta={},RI=null;function Pg(){return RI=RI||new gn}Ta.Ta="serverreachability";function f2(t){Bn.call(this,Ta.Ta,t)}vn(f2,Bn);function bd(t){const e=Pg();bn(e,new f2(e))}Ta.STAT_EVENT="statevent";function p2(t,e){Bn.call(this,Ta.STAT_EVENT,t),this.stat=e}vn(p2,Bn);function Gn(t){const e=Pg();bn(e,new p2(e,t))}Ta.Ua="timingevent";function m2(t,e){Bn.call(this,Ta.Ua,t),this.size=e}vn(m2,Bn);function ih(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ye.setTimeout(function(){t()},e)}var kg={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},g2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function $w(){}$w.prototype.h=null;function xI(t){return t.h||(t.h=t.i())}function y2(){}var oh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Fw(){Bn.call(this,"d")}vn(Fw,Bn);function Vw(){Bn.call(this,"c")}vn(Vw,Bn);var X_;function Ag(){}vn(Ag,$w);Ag.prototype.g=function(){return new XMLHttpRequest};Ag.prototype.i=function(){return{}};X_=new Ag;function sh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new xd(this),this.P=Qq,t=q_?125:void 0,this.V=new xg(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new v2}function v2(){this.i=null,this.g="",this.h=!1}var Qq=45e3,_2={},J_={};Q=sh.prototype;Q.setTimeout=function(t){this.P=t};function Z_(t,e,n){t.L=1,t.A=Og(ho(e)),t.u=n,t.S=!0,w2(t,null)}function w2(t,e){t.G=Date.now(),ah(t),t.B=ho(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),b2(n.i,"t",r),t.o=0,n=t.l.J,t.h=new v2,t.g=Q2(t.l,n?e:null,!t.u),0<t.O&&(t.M=new Wq(jn(t.Pa,t,t.g),t.O)),d2(t.U,t.g,"readystatechange",t.nb),e=t.I?t2(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),bd(),Hq(t.j,t.v,t.B,t.m,t.W,t.u)}Q.nb=function(t){t=t.target;const e=this.M;e&&Ei(t)==3?e.l():this.Pa(t)};Q.Pa=function(t){try{if(t==this.g)e:{const c=Ei(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||q_||this.g&&(this.h.h||this.g.ja()||AI(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?bd(3):bd(2)),Ng(this);var n=this.g.da();this.ca=n;t:if(E2(this)){var r=AI(this.g);t="";var i=r.length,o=Ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vs(this),Oc(this);var s="";break t}this.h.i=new ye.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,qq(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sd(a)){var u=a;break t}}u=null}if(n=u)rl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,e0(this,n);else{this.i=!1,this.s=3,Gn(12),Vs(this),Oc(this);break e}}this.S?(T2(this,c,s),q_&&this.i&&c==3&&(d2(this.U,this.V,"tick",this.mb),this.V.start())):(rl(this.j,this.m,s,null),e0(this,s)),c==4&&Vs(this),this.i&&!this.J&&(c==4?H2(this.l,this):(this.i=!1,ah(this)))}else gK(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Gn(12)):(this.s=0,Gn(13)),Vs(this),Oc(this)}}}catch{}finally{}};function E2(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function T2(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=Yq(t,n),i==J_){e==4&&(t.s=4,Gn(14),r=!1),rl(t.j,t.m,null,"[Incomplete Response]");break}else if(i==_2){t.s=4,Gn(15),rl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else rl(t.j,t.m,i,null),e0(t,i);E2(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Gn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hw(e),e.M=!0,Gn(11))):(rl(t.j,t.m,n,"[Invalid Chunked Response]"),Vs(t),Oc(t))}Q.mb=function(){if(this.g){var t=Ei(this.g),e=this.g.ja();this.o<e.length&&(Ng(this),T2(this,t,e),this.i&&t!=4&&ah(this))}};function Yq(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?J_:(n=Number(e.substring(n,r)),isNaN(n)?_2:(r+=1,r+n>e.length?J_:(e=e.slice(r,r+n),t.o=r+n,e)))}Q.cancel=function(){this.J=!0,Vs(this)};function ah(t){t.Y=Date.now()+t.P,S2(t,t.P)}function S2(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ih(jn(t.lb,t),e)}function Ng(t){t.C&&(ye.clearTimeout(t.C),t.C=null)}Q.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(Kq(this.j,this.B),this.L!=2&&(bd(),Gn(17)),Vs(this),this.s=2,Oc(this)):S2(this,this.Y-t)};function Oc(t){t.l.H==0||t.J||H2(t.l,t)}function Vs(t){Ng(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Mw(t.V),h2(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function e0(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||t0(n.i,t))){if(!t.K&&t0(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Mp(n),$g(n);else break e;Ww(n),Gn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ih(jn(n.ib,n),6e3));if(1>=A2(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Us(n,11)}else if((t.K||n.g==t)&&Mp(n),!Sd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var o=r.i;o.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(o.j=o.l,o.g=new Set,o.h&&(Uw(o,o.h),o.h=null))}if(r.F){const v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,pt(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=G2(r,r.J?r.pa:null,r.Y),s.K){N2(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(Ng(a),ah(a)),r.g=s}else z2(r);0<n.j.length&&Fg(n)}else u[0]!="stop"&&u[0]!="close"||Us(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Us(n,7):zw(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}bd(4)}catch{}}function Xq(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Sg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Jq(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Sg(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function C2(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Sg(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Jq(t),r=Xq(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}var I2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zq(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Gs(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Gs){this.h=t.h,Op(this,t.j),this.s=t.s,this.g=t.g,Dp(this,t.m),this.l=t.l;var e=t.i,n=new Pd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),bI(this,n),this.o=t.o}else t&&(e=String(t).match(I2))?(this.h=!1,Op(this,e[1]||"",!0),this.s=uc(e[2]||""),this.g=uc(e[3]||"",!0),Dp(this,e[4]),this.l=uc(e[5]||"",!0),bI(this,e[6]||"",!0),this.o=uc(e[7]||"")):(this.h=!1,this.i=new Pd(null,this.h))}Gs.prototype.toString=function(){var t=[],e=this.j;e&&t.push(cc(e,PI,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(cc(e,PI,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(cc(n,n.charAt(0)=="/"?nK:tK,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",cc(n,iK)),t.join("")};function ho(t){return new Gs(t)}function Op(t,e,n){t.j=n?uc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Dp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function bI(t,e,n){e instanceof Pd?(t.i=e,oK(t.i,t.h)):(n||(e=cc(e,rK)),t.i=new Pd(e,t.h))}function pt(t,e,n){t.i.set(e,n)}function Og(t){return pt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function uc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function cc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,eK),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function eK(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var PI=/[#\/\?@]/g,tK=/[#\?:]/g,nK=/[#\?]/g,rK=/[#\?@]/g,iK=/#/g;function Pd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function _s(t){t.g||(t.g=new Map,t.h=0,t.i&&Zq(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Q=Pd.prototype;Q.add=function(t,e){_s(this),this.i=null,t=cu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function R2(t,e){_s(t),e=cu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function x2(t,e){return _s(t),e=cu(t,e),t.g.has(e)}Q.forEach=function(t,e){_s(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Q.ta=function(){_s(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let o=0;o<i.length;o++)n.push(e[r])}return n};Q.Z=function(t){_s(this);let e=[];if(typeof t=="string")x2(this,t)&&(e=e.concat(this.g.get(cu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Q.set=function(t,e){return _s(this),this.i=null,t=cu(this,t),x2(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function b2(t,e,n){R2(t,e),0<n.length&&(t.i=null,t.g.set(cu(t,e),Rw(n)),t.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var i=o;s[r]!==""&&(i+="="+encodeURIComponent(String(s[r]))),t.push(i)}}return this.i=t.join("&")};function cu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function oK(t,e){e&&!t.j&&(_s(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(R2(this,r),b2(this,i,n))},t)),t.j=e}var sK=class{constructor(t,e){this.g=t,this.map=e}};function P2(t){this.l=t||aK,ye.PerformanceNavigationTiming?(t=ye.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ye.g&&ye.g.Ka&&ye.g.Ka()&&ye.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var aK=10;function k2(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function A2(t){return t.h?1:t.g?t.g.size:0}function t0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Uw(t,e){t.g?t.g.add(e):t.h=e}function N2(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}P2.prototype.cancel=function(){if(this.i=O2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function O2(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Rw(t.i)}var lK=class{stringify(t){return ye.JSON.stringify(t,void 0)}parse(t){return ye.JSON.parse(t,void 0)}};function uK(){this.g=new lK}function cK(t,e,n){const r=n||"";try{C2(t,function(i,o){let s=i;nh(i)&&(s=Ow(i)),e.push(r+o+"="+encodeURIComponent(s))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function dK(t,e){const n=new bg;if(ye.Image){const r=new Image;r.onload=tf(rf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=tf(rf,n,r,"TestLoadImage: error",!1,e),r.onabort=tf(rf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=tf(rf,n,r,"TestLoadImage: timeout",!1,e),ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function rf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Dg(t){this.l=t.ec||null,this.j=t.ob||!1}vn(Dg,$w);Dg.prototype.g=function(){return new Mg(this.l,this.j)};Dg.prototype.i=function(t){return function(){return t}}({});function Mg(t,e){gn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=jw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vn(Mg,gn);var jw=0;Q=Mg.prototype;Q.open=function(t,e){if(this.readyState!=jw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,kd(this)};Q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ye).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,lh(this)),this.readyState=jw};Q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,kd(this)),this.g&&(this.readyState=3,kd(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ye.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;D2(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function D2(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?lh(this):kd(this),this.readyState==3&&D2(this)}};Q.Za=function(t){this.g&&(this.response=this.responseText=t,lh(this))};Q.Ya=function(t){this.g&&(this.response=t,lh(this))};Q.ka=function(){this.g&&lh(this)};function lh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,kd(t)}Q.setRequestHeader=function(t,e){this.v.append(t,e)};Q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function kd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Mg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var hK=ye.JSON.parse;function jt(t){gn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=M2,this.L=this.M=!1}vn(jt,gn);var M2="",fK=/^https?$/i,pK=["POST","PUT"];Q=jt.prototype;Q.Oa=function(t){this.M=t};Q.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():X_.g(),this.C=this.u?xI(this.u):xI(X_),this.g.onreadystatechange=jn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(o){kI(this,o);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const o of r.keys())n.set(o,r.get(o));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(o=>o.toLowerCase()=="content-type"),i=ye.FormData&&t instanceof ye.FormData,!(0<=XA(pK,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of n)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{F2(this),0<this.B&&((this.L=mK(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jn(this.ua,this)):this.A=Lw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){kI(this,o)}};function mK(t){return $l&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Q.ua=function(){typeof Iw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bn(this,"timeout"),this.abort(8))};function kI(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,L2(t),Lg(t)}function L2(t){t.F||(t.F=!0,bn(t,"complete"),bn(t,"error"))}Q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,bn(this,"complete"),bn(this,"abort"),Lg(this))};Q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lg(this,!0)),jt.$.N.call(this)};Q.La=function(){this.s||(this.G||this.v||this.l?$2(this):this.kb())};Q.kb=function(){$2(this)};function $2(t){if(t.h&&typeof Iw<"u"&&(!t.C[1]||Ei(t)!=4||t.da()!=2)){if(t.v&&Ei(t)==4)Lw(t.La,0,t);else if(bn(t,"readystatechange"),Ei(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var i=String(t.I).match(I2)[1]||null;!i&&ye.self&&ye.self.location&&(i=ye.self.location.protocol.slice(0,-1)),r=!fK.test(i?i.toLowerCase():"")}n=r}if(n)bn(t,"complete"),bn(t,"success");else{t.m=6;try{var o=2<Ei(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.da()+"]",L2(t)}}finally{Lg(t)}}}}function Lg(t,e){if(t.g){F2(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||bn(t,"ready");try{n.onreadystatechange=r}catch{}}}function F2(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ye.clearTimeout(t.A),t.A=null)}Q.isActive=function(){return!!this.g};function Ei(t){return t.g?t.g.readyState:0}Q.da=function(){try{return 2<Ei(this)?this.g.status:-1}catch{return-1}};Q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),hK(e)}};function AI(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case M2:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function gK(t){const e={};t=(t.g&&2<=Ei(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Sd(t[r]))continue;var n=jq(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const o=e[i]||[];e[i]=o,o.push(n)}Dq(e,function(r){return r.join(", ")})}Q.Ia=function(){return this.m};Q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function V2(t){let e="";return bw(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Bw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=V2(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):pt(t,e,n))}function Wu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function U2(t){this.Ga=0,this.j=[],this.l=new bg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wu("baseRetryDelayMs",5e3,t),this.hb=Wu("retryDelaySeedMs",1e4,t),this.eb=Wu("forwardChannelMaxRetries",2,t),this.xa=Wu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new P2(t&&t.concurrentRequestLimit),this.Ja=new uK,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Q=U2.prototype;Q.ra=8;Q.H=1;function zw(t){if(j2(t),t.H==3){var e=t.W++,n=ho(t.I);if(pt(n,"SID",t.K),pt(n,"RID",e),pt(n,"TYPE","terminate"),uh(t,n),e=new sh(t,t.l,e),e.L=2,e.A=Og(ho(n)),n=!1,ye.navigator&&ye.navigator.sendBeacon)try{n=ye.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ye.Image&&(new Image().src=e.A,n=!0),n||(e.g=Q2(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ah(e)}K2(t)}function $g(t){t.g&&(Hw(t),t.g.cancel(),t.g=null)}function j2(t){$g(t),t.u&&(ye.clearTimeout(t.u),t.u=null),Mp(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ye.clearTimeout(t.m),t.m=null)}function Fg(t){if(!k2(t.i)&&!t.m){t.m=!0;var e=t.Na;Id||u2(),Rd||(Id(),Rd=!0),Dw.add(e,t),t.C=0}}function yK(t,e){return A2(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ih(jn(t.Na,t,e),q2(t,t.C)),t.C++,!0)}Q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new sh(this,this.l,t);let o=this.s;if(this.U&&(o?(o=t2(o),n2(o,this.U)):o=this.U),this.o!==null||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=B2(this,i,e),n=ho(this.I),pt(n,"RID",t),pt(n,"CVER",22),this.F&&pt(n,"X-HTTP-Session-Id",this.F),uh(this,n),o&&(this.O?e="headers="+encodeURIComponent(String(V2(o)))+"&"+e:this.o&&Bw(n,this.o,o)),Uw(this.i,i),this.bb&&pt(n,"TYPE","init"),this.P?(pt(n,"$req",e),pt(n,"SID","null"),i.aa=!0,Z_(i,n,null)):Z_(i,n,e),this.H=2}}else this.H==3&&(t?NI(this,t):this.j.length==0||k2(this.i)||NI(this))};function NI(t,e){var n;e?n=e.m:n=t.W++;const r=ho(t.I);pt(r,"SID",t.K),pt(r,"RID",n),pt(r,"AID",t.V),uh(t,r),t.o&&t.s&&Bw(r,t.o,t.s),n=new sh(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=B2(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Uw(t.i,n),Z_(n,r,e)}function uh(t,e){t.na&&bw(t.na,function(n,r){pt(e,r,n)}),t.h&&C2({},function(n,r){pt(e,r,n)})}function B2(t,e,n){n=Math.min(t.j.length,n);var r=t.h?jn(t.h.Va,t.h,t):null;e:{var i=t.j;let o=-1;for(;;){const s=["count="+n];o==-1?0<n?(o=i[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=o,0>u)o=Math.max(0,i[l].g-100),a=!1;else try{cK(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function z2(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Id||u2(),Rd||(Id(),Rd=!0),Dw.add(e,t),t.A=0}}function Ww(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ih(jn(t.Ma,t),q2(t,t.A)),t.A++,!0)}Q.Ma=function(){if(this.u=null,W2(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ih(jn(this.jb,this),t)}};Q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gn(10),$g(this),W2(this))};function Hw(t){t.B!=null&&(ye.clearTimeout(t.B),t.B=null)}function W2(t){t.g=new sh(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ho(t.wa);pt(e,"RID","rpc"),pt(e,"SID",t.K),pt(e,"AID",t.V),pt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&pt(e,"TO",t.qa),pt(e,"TYPE","xmlhttp"),uh(t,e),t.o&&t.s&&Bw(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Og(ho(e)),n.u=null,n.S=!0,w2(n,t)}Q.ib=function(){this.v!=null&&(this.v=null,$g(this),Ww(this),Gn(19))};function Mp(t){t.v!=null&&(ye.clearTimeout(t.v),t.v=null)}function H2(t,e){var n=null;if(t.g==e){Mp(t),Hw(t),t.g=null;var r=2}else if(t0(t.i,e))n=e.F,N2(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Pg(),bn(r,new m2(r,n)),Fg(t)}else z2(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&yK(t,e)||r==2&&Ww(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Us(t,5);break;case 4:Us(t,10);break;case 3:Us(t,6);break;default:Us(t,2)}}}function q2(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Us(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=jn(t.pb,t);n||(n=new Gs("//www.google.com/images/cleardot.gif"),ye.location&&ye.location.protocol=="http"||Op(n,"https"),Og(n)),dK(n.toString(),r)}else Gn(2);t.H=0,t.h&&t.h.za(e),K2(t),j2(t)}Q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Gn(2)):(this.l.info("Failed to ping google.com"),Gn(1))};function K2(t){if(t.H=0,t.ma=[],t.h){const e=O2(t.i);(e.length!=0||t.j.length!=0)&&(TI(t.ma,e),TI(t.ma,t.j),t.i.i.length=0,Rw(t.j),t.j.length=0),t.h.ya()}}function G2(t,e,n){var r=n instanceof Gs?ho(n):new Gs(n);if(r.g!="")e&&(r.g=e+"."+r.g),Dp(r,r.m);else{var i=ye.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Gs(null);r&&Op(o,r),e&&(o.g=e),i&&Dp(o,i),n&&(o.l=n),r=o}return n=t.F,e=t.Da,n&&e&&pt(r,n,e),pt(r,"VER",t.ra),uh(t,r),r}function Q2(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new jt(new Dg({ob:n})):new jt(t.va),e.Oa(t.J),e}Q.isActive=function(){return!!this.h&&this.h.isActive(this)};function Y2(){}Q=Y2.prototype;Q.Ba=function(){};Q.Aa=function(){};Q.za=function(){};Q.ya=function(){};Q.isActive=function(){return!0};Q.Va=function(){};function Lp(){if($l&&!(10<=Number(kq)))throw Error("Environmental error: no available transport.")}Lp.prototype.g=function(t,e){return new Tr(t,e)};function Tr(t,e){gn.call(this),this.g=new U2(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Sd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Sd(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new du(this)}vn(Tr,gn);Tr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Gn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=G2(t,null,t.Y),Fg(t)};Tr.prototype.close=function(){zw(this.g)};Tr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Ow(t),t=n);e.j.push(new sK(e.fb++,t)),e.H==3&&Fg(e)};Tr.prototype.N=function(){this.g.h=null,delete this.j,zw(this.g),delete this.g,Tr.$.N.call(this)};function X2(t){Fw.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}vn(X2,Fw);function J2(){Vw.call(this),this.status=1}vn(J2,Vw);function du(t){this.g=t}vn(du,Y2);du.prototype.Ba=function(){bn(this.g,"a")};du.prototype.Aa=function(t){bn(this.g,new X2(t))};du.prototype.za=function(t){bn(this.g,new J2)};du.prototype.ya=function(){bn(this.g,"b")};function vK(){this.blockSize=-1}function ui(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}vn(ui,vK);ui.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ov(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var o=t.g[3],s=e+(o^n&(i^o))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[2]+606105819&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[3]+3250441966&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[6]+2821735955&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[7]+4249261313&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[10]+4294925233&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[11]+2304563134&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(o^n&(i^o))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=o+(i^e&(n^i))+r[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=i+(n^o&(e^n))+r[14]+2792965006&4294967295,i=o+(s<<17&4294967295|s>>>15),s=n+(e^i&(o^e))+r[15]+1236535329&4294967295,n=i+(s<<22&4294967295|s>>>10),s=e+(i^o&(n^i))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[11]+643717713&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[0]+3921069994&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[15]+3634488961&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[4]+3889429448&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[3]+4107603335&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[8]+1163531501&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(i^o&(n^i))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=o+(n^i&(e^n))+r[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=i+(e^n&(o^e))+r[7]+1735328473&4294967295,i=o+(s<<14&4294967295|s>>>18),s=n+(o^e&(i^o))+r[12]+2368359562&4294967295,n=i+(s<<20&4294967295|s>>>12),s=e+(n^i^o)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[11]+1839030562&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[14]+4259657740&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[7]+4139469664&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[10]+3200236656&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[3]+3572445317&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[6]+76029189&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(n^i^o)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=o+(e^n^i)+r[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=i+(o^e^n)+r[15]+530742520&4294967295,i=o+(s<<16&4294967295|s>>>16),s=n+(i^o^e)+r[2]+3299628645&4294967295,n=i+(s<<23&4294967295|s>>>9),s=e+(i^(n|~o))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[14]+2878612391&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[5]+4237533241&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[10]+4293915773&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[1]+2240044497&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[6]+2734768916&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[13]+1309151649&4294967295,n=i+(s<<21&4294967295|s>>>11),s=e+(i^(n|~o))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=o+(n^(e|~i))+r[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=i+(e^(o|~n))+r[2]+718787259&4294967295,i=o+(s<<15&4294967295|s>>>17),s=n+(o^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+o&4294967295}ui.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(i==0)for(;o<=n;)ov(this,t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<e;)if(r[i++]=t.charCodeAt(o++),i==this.blockSize){ov(this,r),i=0;break}}else for(;o<e;)if(r[i++]=t[o++],i==this.blockSize){ov(this,r),i=0;break}}this.h=i,this.i+=e};ui.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ze(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var o=t[i]|0;r&&o==e||(n[i]=o,r=!1)}this.g=n}var _K={};function qw(t){return-128<=t&&128>t?xq(t,function(e){return new Ze([e|0],0>e?-1:0)}):new Ze([t|0],0>t?-1:0)}function Ti(t){if(isNaN(t)||!isFinite(t))return gl;if(0>t)return Cn(Ti(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=n0;return new Ze(e,0)}function Z2(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Cn(Z2(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ti(Math.pow(e,8)),r=gl,i=0;i<t.length;i+=8){var o=Math.min(8,t.length-i),s=parseInt(t.substring(i,i+o),e);8>o?(o=Ti(Math.pow(e,o)),r=r.R(o).add(Ti(s))):(r=r.R(n),r=r.add(Ti(s)))}return r}var n0=4294967296,gl=qw(0),r0=qw(1),OI=qw(16777216);Q=Ze.prototype;Q.ea=function(){if(Nr(this))return-Cn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:n0+r)*e,e*=n0}return t};Q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Xi(this))return"0";if(Nr(this))return"-"+Cn(this).toString(t);for(var e=Ti(Math.pow(t,6)),n=this,r="";;){var i=Fp(n,e).g;n=$p(n,i.R(e));var o=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Xi(n))return o+r;for(;6>o.length;)o="0"+o;r=o+r}};Q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Xi(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Nr(t){return t.h==-1}Q.X=function(t){return t=$p(this,t),Nr(t)?-1:Xi(t)?0:1};function Cn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ze(n,~t.h).add(r0)}Q.abs=function(){return Nr(this)?Cn(this):this};Q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var o=r+(this.D(i)&65535)+(t.D(i)&65535),s=(o>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=s>>>16,o&=65535,s&=65535,n[i]=s<<16|o}return new Ze(n,n[n.length-1]&-2147483648?-1:0)};function $p(t,e){return t.add(Cn(e))}Q.R=function(t){if(Xi(this)||Xi(t))return gl;if(Nr(this))return Nr(t)?Cn(this).R(Cn(t)):Cn(Cn(this).R(t));if(Nr(t))return Cn(this.R(Cn(t)));if(0>this.X(OI)&&0>t.X(OI))return Ti(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var o=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=s*l,of(n,2*r+2*i),n[2*r+2*i+1]+=o*l,of(n,2*r+2*i+1),n[2*r+2*i+1]+=s*a,of(n,2*r+2*i+1),n[2*r+2*i+2]+=o*a,of(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ze(n,0)};function of(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Hu(t,e){this.g=t,this.h=e}function Fp(t,e){if(Xi(e))throw Error("division by zero");if(Xi(t))return new Hu(gl,gl);if(Nr(t))return e=Fp(Cn(t),e),new Hu(Cn(e.g),Cn(e.h));if(Nr(e))return e=Fp(t,Cn(e)),new Hu(Cn(e.g),e.h);if(30<t.g.length){if(Nr(t)||Nr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=r0,r=e;0>=r.X(t);)n=DI(n),r=DI(r);var i=Ma(n,1),o=Ma(r,1);for(r=Ma(r,2),n=Ma(n,2);!Xi(r);){var s=o.add(r);0>=s.X(t)&&(i=i.add(n),o=s),r=Ma(r,1),n=Ma(n,1)}return e=$p(t,i.R(e)),new Hu(i,e)}for(i=gl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),o=Ti(n),s=o.R(e);Nr(s)||0<s.X(t);)n-=r,o=Ti(n),s=o.R(e);Xi(o)&&(o=r0),i=i.add(o),t=$p(t,s)}return new Hu(i,t)}Q.gb=function(t){return Fp(this,t).h};Q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ze(n,this.h&t.h)};Q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ze(n,this.h|t.h)};Q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ze(n,this.h^t.h)};function DI(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ze(n,t.h)}function Ma(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],o=0;o<r;o++)i[o]=0<e?t.D(o+n)>>>e|t.D(o+n+1)<<32-e:t.D(o+n);return new Ze(i,t.h)}Lp.prototype.createWebChannel=Lp.prototype.g;Tr.prototype.send=Tr.prototype.u;Tr.prototype.open=Tr.prototype.m;Tr.prototype.close=Tr.prototype.close;kg.NO_ERROR=0;kg.TIMEOUT=8;kg.HTTP_ERROR=6;g2.COMPLETE="complete";y2.EventType=oh;oh.OPEN="a";oh.CLOSE="b";oh.ERROR="c";oh.MESSAGE="d";gn.prototype.listen=gn.prototype.O;jt.prototype.listenOnce=jt.prototype.P;jt.prototype.getLastError=jt.prototype.Sa;jt.prototype.getLastErrorCode=jt.prototype.Ia;jt.prototype.getStatus=jt.prototype.da;jt.prototype.getResponseJson=jt.prototype.Wa;jt.prototype.getResponseText=jt.prototype.ja;jt.prototype.send=jt.prototype.ha;jt.prototype.setWithCredentials=jt.prototype.Oa;ui.prototype.digest=ui.prototype.l;ui.prototype.reset=ui.prototype.reset;ui.prototype.update=ui.prototype.j;Ze.prototype.add=Ze.prototype.add;Ze.prototype.multiply=Ze.prototype.R;Ze.prototype.modulo=Ze.prototype.gb;Ze.prototype.compare=Ze.prototype.X;Ze.prototype.toNumber=Ze.prototype.ea;Ze.prototype.toString=Ze.prototype.toString;Ze.prototype.getBits=Ze.prototype.D;Ze.fromNumber=Ti;Ze.fromString=Z2;var wK=function(){return new Lp},EK=function(){return Pg()},sv=kg,TK=g2,SK=Ta,MI={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},sf=y2,CK=jt,IK=ui,yl=Ze;const LI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new yg("@firebase/firestore");function qu(){return ca.logLevel}function K(t,...e){if(ca.logLevel<=Ne.DEBUG){const n=e.map(Kw);ca.debug(`Firestore (${hu}): ${t}`,...n)}}function $i(t,...e){if(ca.logLevel<=Ne.ERROR){const n=e.map(Kw);ca.error(`Firestore (${hu}): ${t}`,...n)}}function Fl(t,...e){if(ca.logLevel<=Ne.WARN){const n=e.map(Kw);ca.warn(`Firestore (${hu}): ${t}`,...n)}}function Kw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${hu}) INTERNAL ASSERTION FAILED: `+t;throw $i(e),new Error(e)}function ut(t,e){t||ge()}function Se(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mn.UNAUTHENTICATED))}shutdown(){}}class xK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class bK{constructor(e){this.t=e,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ai;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ai,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ai)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string"),new eN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string"),new Mn(e)}}class PK{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kK{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new PK(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AK{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NK{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,K("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ut(typeof n.token=="string"),this.R=n.token,new AK(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=OK(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function Vl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new kt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new kt(0,0))}static max(){return new we(new kt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ad.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ad?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class mt extends Ad{construct(e,n,r){return new mt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new mt(n)}static emptyPath(){return new mt([])}}const DK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends Ad{construct(e,n,r){return new Rn(e,n,r)}static isValidIdentifier(e){return DK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new X(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new X(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new X(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(n)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(mt.fromString(e))}static fromName(e){return new ue(mt.fromString(e).popFirst(5))}static empty(){return new ue(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new mt(e.slice()))}}function MK(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new kt(n+1,0):new kt(n,r));return new is(i,ue.empty(),e)}function LK(t){return new is(t.readTime,t.key,-1)}class is{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new is(we.min(),ue.empty(),-1)}static max(){return new is(we.max(),ue.empty(),-1)}}function $K(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==FK)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new $((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ai,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Dc(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Qw(r.target.error);this.V.reject(new Dc(e,i))}}static open(e,n,r,i){try{return new Gw(n,e.transaction(i,r))}catch(o){throw new Dc(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(K("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new jK(n)}}class js{constructor(e,n,r){this.name=e,this.version=n,this.p=r,js.S(Zt())===12.2&&$i("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return K("SimpleDb","Removing database:",e),ks(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!dA())return!1;if(js.C())return!0;const e=Zt(),n=js.S(e),r=0<n&&n<10,i=js.v(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(K("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new Dc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new X(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new X(L.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Dc(e,s))},i.onupgradeneeded=o=>{K("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.N(s,i.transaction,o.oldVersion,this.version).next(()=>{K("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const a=Gw.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),$.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(K("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class UK{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ks(this.k.delete())}}class Dc extends X{constructor(e,n){super(L.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function dh(t){return t.name==="IndexedDbTransactionError"}class jK{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(K("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(K("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ks(r)}add(e){return K("SimpleDb","ADD",this.store.name,e,e),ks(this.store.add(e))}get(e){return ks(this.store.get(e)).next(n=>(n===void 0&&(n=null),K("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return K("SimpleDb","DELETE",this.store.name,e),ks(this.store.delete(e))}count(){return K("SimpleDb","COUNT",this.store.name),ks(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new $((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.G(o,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new $((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}H(e,n){K("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(o,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new $((r,i)=>{n.onerror=o=>{const s=Qw(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new $((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new UK(a),u=n(a.primaryKey,a.value,l);if(u instanceof $){const c=u.catch(d=>(l.done(),$.reject(d)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>$.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ks(t){return new $((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Qw(r.target.error);n(i)}})}let $I=!1;function Qw(t){const e=js.S(Zt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new X("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $I||($I=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Yw._e=-1;function Vg(t){return t==null}function Vp(t){return t===0&&1/t==-1/0}function BK(t){return typeof t=="number"&&Number.isInteger(t)&&!Vp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Sa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let en=class i0{constructor(e,n){this.comparator=e,this.root=n||Qo.EMPTY}insert(e,n){return new i0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qo.BLACK,null,null))}remove(e){return new i0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qo.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new af(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new af(this.root,e,this.comparator,!1)}getReverseIterator(){return new af(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new af(this.root,e,this.comparator,!0)}},af=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Qo=class Wi{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Wi.RED,this.left=i??Wi.EMPTY,this.right=o??Wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Wi(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Wi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}};Qo.EMPTY=null,Qo.RED=!0,Qo.BLACK=!1;Qo.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Qo(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VI(this.data.getIterator())}getIteratorFrom(e){return new VI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pn(this.comparator);return n.data=e,n}}class VI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new mr([])}unionWith(e){let n=new Pn(Rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new rN("Invalid base64 string: "+o):o}}(e);return new Hn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const zK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(t){if(ut(!!t),typeof t=="string"){let e=0;const n=zK.exec(t);if(ut(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function da(t){return typeof t=="string"?Hn.fromBase64String(t):Hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Jw(t){const e=t.mapValue.fields.__previous_value__;return Xw(e)?Jw(e):e}function Nd(t){const e=os(t.mapValue.fields.__local_write_time__.timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WK{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Od{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Od("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Od&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ha(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Xw(t)?4:HK(t)?9007199254740991:10:ge()}function Fi(t,e){if(t===e)return!0;const n=ha(t);if(n!==ha(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nd(t).isEqual(Nd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=os(i.timestampValue),a=os(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return da(i.bytesValue).isEqual(da(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Qt(i.geoPointValue.latitude)===Qt(o.geoPointValue.latitude)&&Qt(i.geoPointValue.longitude)===Qt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Qt(i.integerValue)===Qt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Qt(i.doubleValue),a=Qt(o.doubleValue);return s===a?Vp(s)===Vp(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Vl(t.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(FI(s)!==FI(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Fi(s[l],a[l])))return!1;return!0}(t,e);default:return ge()}}function Dd(t,e){return(t.values||[]).find(n=>Fi(n,e))!==void 0}function Ul(t,e){if(t===e)return 0;const n=ha(t),r=ha(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Qt(o.integerValue||o.doubleValue),l=Qt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return UI(t.timestampValue,e.timestampValue);case 4:return UI(Nd(t),Nd(e));case 5:return Qe(t.stringValue,e.stringValue);case 6:return function(o,s){const a=da(o),l=da(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Qe(a[u],l[u]);if(c!==0)return c}return Qe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Qe(Qt(o.latitude),Qt(s.latitude));return a!==0?a:Qe(Qt(o.longitude),Qt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Ul(a[u],l[u]);if(c)return c}return Qe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===lf.mapValue&&s===lf.mapValue)return 0;if(o===lf.mapValue)return 1;if(s===lf.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Qe(l[d],c[d]);if(h!==0)return h;const p=Ul(a[l[d]],u[c[d]]);if(p!==0)return p}return Qe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ge()}}function UI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=os(t),r=os(e),i=Qe(n.seconds,r.seconds);return i!==0?i:Qe(n.nanos,r.nanos)}function jl(t){return o0(t)}function o0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=os(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return da(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=o0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${o0(n.fields[s])}`;return i+"}"}(t.mapValue):ge()}function jI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function s0(t){return!!t&&"integerValue"in t}function Zw(t){return!!t&&"arrayValue"in t}function BI(t){return!!t&&"nullValue"in t}function zI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function $f(t){return!!t&&"mapValue"in t}function Mc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Sa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Mc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HK(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.value=e}static empty(){return new nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!$f(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mc(n)}setAll(e){let n=Rn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Mc(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());$f(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];$f(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Sa(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new nr(Mc(this.value))}}function iN(t){const e=[];return Sa(t.fields,(n,r)=>{const i=new Rn([n]);if($f(r)){const o=iN(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new $n(e,0,we.min(),we.min(),we.min(),nr.empty(),0)}static newFoundDocument(e,n,r,i){return new $n(e,1,n,we.min(),r,i,0)}static newNoDocument(e,n){return new $n(e,2,n,we.min(),we.min(),nr.empty(),0)}static newUnknownDocument(e,n){return new $n(e,3,n,we.min(),we.min(),nr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n){this.position=e,this.inclusive=n}}function WI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ue.comparator(ue.fromName(s.referenceValue),n.key):r=Ul(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function HI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n="asc"){this.field=e,this.dir=n}}function qK(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{}class Jt extends oN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new GK(e,n,r):n==="array-contains"?new XK(e,r):n==="in"?new JK(e,r):n==="not-in"?new ZK(e,r):n==="array-contains-any"?new eG(e,r):new Jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new QK(e,r):new YK(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ul(n,this.value)):n!==null&&ha(this.value)===ha(n)&&this.matchesComparison(Ul(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends oN{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new ci(e,n)}matches(e){return sN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function sN(t){return t.op==="and"}function aN(t){return KK(t)&&sN(t)}function KK(t){for(const e of t.filters)if(e instanceof ci)return!1;return!0}function a0(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+jl(t.value);if(aN(t))return t.filters.map(e=>a0(e)).join(",");{const e=t.filters.map(n=>a0(n)).join(",");return`${t.op}(${e})`}}function lN(t,e){return t instanceof Jt?function(r,i){return i instanceof Jt&&r.op===i.op&&r.field.isEqual(i.field)&&Fi(r.value,i.value)}(t,e):t instanceof ci?function(r,i){return i instanceof ci&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&lN(s,i.filters[a]),!0):!1}(t,e):void ge()}function uN(t){return t instanceof Jt?function(n){return`${n.field.canonicalString()} ${n.op} ${jl(n.value)}`}(t):t instanceof ci?function(n){return n.op.toString()+" {"+n.getFilters().map(uN).join(" ,")+"}"}(t):"Filter"}class GK extends Jt{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class QK extends Jt{constructor(e,n){super(e,"in",n),this.keys=cN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class YK extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=cN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class XK extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Zw(n)&&Dd(n.arrayValue,this.value)}}class JK extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dd(this.value.arrayValue,n)}}class ZK extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Dd(this.value.arrayValue,n)}}class eG extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Zw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Dd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function qI(t,e=null,n=[],r=[],i=null,o=null,s=null){return new tG(t,e,n,r,i,o,s)}function eE(t){const e=Se(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>a0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Vg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>jl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>jl(r)).join(",")),e.ce=n}return e.ce}function tE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qK(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!HI(t.startAt,e.startAt)&&HI(t.endAt,e.endAt)}function l0(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function nG(t,e,n,r,i,o,s,a){return new hh(t,e,n,r,i,o,s,a)}function Ug(t){return new hh(t)}function KI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dN(t){return t.collectionGroup!==null}function Lc(t){const e=Se(t);if(e.le===null){e.le=[];const n=new Set;for(const o of e.explicitOrderBy)e.le.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Pn(Rn.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.le.push(new jp(o,r))}),n.has(Rn.keyField().canonicalString())||e.le.push(new jp(Rn.keyField(),r))}return e.le}function Ni(t){const e=Se(t);return e.he||(e.he=rG(e,Lc(t))),e.he}function rG(t,e){if(t.limitType==="F")return qI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new jp(i.field,o)});const n=t.endAt?new Up(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Up(t.startAt.position,t.startAt.inclusive):null;return qI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function u0(t,e){const n=t.filters.concat([e]);return new hh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function c0(t,e,n){return new hh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jg(t,e){return tE(Ni(t),Ni(e))&&t.limitType===e.limitType}function hN(t){return`${eE(Ni(t))}|lt:${t.limitType}`}function Va(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>uN(i)).join(", ")}]`),Vg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>jl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>jl(i)).join(",")),`Target(${r})`}(Ni(t))}; limitType=${t.limitType})`}function Bg(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ue.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Lc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=WI(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Lc(r),i)||r.endAt&&!function(s,a,l){const u=WI(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Lc(r),i))}(t,e)}function iG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fN(t){return(e,n)=>{let r=!1;for(const i of Lc(t)){const o=oG(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function oG(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?Ul(l,u):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sa(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return nN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG=new en(ue.comparator);function fo(){return sG}const pN=new en(ue.comparator);function dc(...t){let e=pN;for(const n of t)e=e.insert(n.key,n);return e}function mN(t){let e=pN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bs(){return $c()}function gN(){return $c()}function $c(){return new fu(t=>t.toString(),(t,e)=>t.isEqual(e))}const aG=new en(ue.comparator),lG=new Pn(ue.comparator);function Oe(...t){let e=lG;for(const n of t)e=e.add(n);return e}const uG=new Pn(Qe);function cG(){return uG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vp(e)?"-0":e}}function vN(t){return{integerValue:""+t}}function dG(t,e){return BK(e)?vN(e):yN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(){this._=void 0}}function hG(t,e,n){return t instanceof Bp?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Xw(o)&&(o=Jw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Bl?wN(t,e):t instanceof Md?EN(t,e):function(i,o){const s=_N(i,o),a=GI(s)+GI(i.Ie);return s0(s)&&s0(i.Ie)?vN(a):yN(i.serializer,a)}(t,e)}function fG(t,e,n){return t instanceof Bl?wN(t,e):t instanceof Md?EN(t,e):n}function _N(t,e){return t instanceof zp?function(r){return s0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Bp extends zg{}class Bl extends zg{constructor(e){super(),this.elements=e}}function wN(t,e){const n=TN(e);for(const r of t.elements)n.some(i=>Fi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Md extends zg{constructor(e){super(),this.elements=e}}function EN(t,e){let n=TN(e);for(const r of t.elements)n=n.filter(i=>!Fi(i,r));return{arrayValue:{values:n}}}class zp extends zg{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function GI(t){return Qt(t.integerValue||t.doubleValue)}function TN(t){return Zw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{constructor(e,n){this.field=e,this.transform=n}}function mG(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Bl&&i instanceof Bl||r instanceof Md&&i instanceof Md?Vl(r.elements,i.elements,Fi):r instanceof zp&&i instanceof zp?Fi(r.Ie,i.Ie):r instanceof Bp&&i instanceof Bp}(t.transform,e.transform)}class gG{constructor(e,n){this.version=e,this.transformResults=n}}class Oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ff(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Wg{}function SN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new IN(t.key,Oi.none()):new fh(t.key,t.data,Oi.none());{const n=t.data,r=nr.empty();let i=new Pn(Rn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ws(t.key,r,new mr(i.toArray()),Oi.none())}}function yG(t,e,n){t instanceof fh?function(i,o,s){const a=i.value.clone(),l=YI(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ws?function(i,o,s){if(!Ff(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=YI(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(CN(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Fc(t,e,n,r){return t instanceof fh?function(o,s,a,l){if(!Ff(o.precondition,s))return a;const u=o.value.clone(),c=XI(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ws?function(o,s,a,l){if(!Ff(o.precondition,s))return a;const u=XI(o.fieldTransforms,l,s),c=s.data;return c.setAll(CN(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(o,s,a){return Ff(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function vG(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=_N(r.transform,i||null);o!=null&&(n===null&&(n=nr.empty()),n.set(r.field,o))}return n||null}function QI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vl(r,i,(o,s)=>mG(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class fh extends Wg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ws extends Wg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function CN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function YI(t,e,n){const r=new Map;ut(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,fG(s,a,n[i]))}return r}function XI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,hG(o,s,e))}return r}class IN extends Wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _G extends Wg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wG{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&yG(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gN();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=SN(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&Vl(this.mutations,e.mutations,(n,r)=>QI(n,r))&&Vl(this.baseMutations,e.baseMutations,(n,r)=>QI(n,r))}}class nE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ut(e.mutations.length===r.length);let i=function(){return aG}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new nE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EG{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TG{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,Ue;function SG(t){switch(t){default:return ge();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function RN(t){if(t===void 0)return $i("GRPC error has no .code"),L.UNKNOWN;switch(t){case Gt.OK:return L.OK;case Gt.CANCELLED:return L.CANCELLED;case Gt.UNKNOWN:return L.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return L.INTERNAL;case Gt.UNAVAILABLE:return L.UNAVAILABLE;case Gt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Gt.NOT_FOUND:return L.NOT_FOUND;case Gt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Gt.ABORTED:return L.ABORTED;case Gt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Gt.DATA_LOSS:return L.DATA_LOSS;default:return ge()}}(Ue=Gt||(Gt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IG=new yl([4294967295,4294967295],0);function JI(t){const e=CG().encode(t),n=new IK;return n.update(e),new Uint8Array(n.digest())}function ZI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new yl([n,r],0),new yl([i,o],0)]}class rE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hc(`Invalid padding: ${n}`);if(r<0)throw new hc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=yl.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(yl.fromNumber(r)));return i.compare(IG)===1&&(i=new yl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=JI(e),[r,i]=ZI(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new rE(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=JI(e),[r,i]=ZI(n);for(let o=0;o<this.hashCount;o++){const s=this.de(r,i,o);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ph.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hg(we.min(),i,new en(Qe),fo(),Oe())}}class ph{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ph(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class xN{constructor(e,n){this.targetId=e,this.fe=n}}class bN{constructor(e,n,r=Hn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class eR{constructor(){this.ge=0,this.pe=nR(),this.ye=Hn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Oe(),n=Oe(),r=Oe();return this.pe.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new ph(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=nR()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ut(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class RG{constructor(e){this.Le=e,this.ke=new Map,this.qe=fo(),this.Qe=tR(),this.Ke=new en(Qe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const o=i.target;if(l0(o))if(r===0){const s=new ue(o.path);this.We(n,s,$n.newNoDocument(s,we.min()))}else ut(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=da(r).toUint8Array()}catch(l){if(l instanceof rN)return Fl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new rE(s,i,o)}catch(l){return Fl(l instanceof hc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&l0(a.target)){const l=new ue(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,$n.newNoDocument(l,e))}o.De&&(n.set(s,o.ve()),o.Fe())}});let r=Oe();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const i=new Hg(e,n,this.Ke,this.qe,r);return this.qe=fo(),this.Qe=tR(),this.Ke=new en(Qe),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new eR,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Pn(Qe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new eR),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function tR(){return new en(ue.comparator)}function nR(){return new en(ue.comparator)}const xG={asc:"ASCENDING",desc:"DESCENDING"},bG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PG={and:"AND",or:"OR"};class kG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function d0(t,e){return t.useProto3Json||Vg(e)?e:{value:e}}function Wp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function PN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function AG(t,e){return Wp(t,e.toTimestamp())}function Di(t){return ut(!!t),we.fromTimestamp(function(n){const r=os(n);return new kt(r.seconds,r.nanos)}(t))}function iE(t,e){return h0(t,e).canonicalString()}function h0(t,e){const n=function(i){return new mt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function kN(t){const e=mt.fromString(t);return ut(MN(e)),e}function f0(t,e){return iE(t.databaseId,e.path)}function av(t,e){const n=kN(e);if(n.get(1)!==t.databaseId.projectId)throw new X(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(NN(n))}function AN(t,e){return iE(t.databaseId,e)}function NG(t){const e=kN(t);return e.length===4?mt.emptyPath():NN(e)}function p0(t){return new mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function NN(t){return ut(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function rR(t,e,n){return{name:f0(t,e),fields:n.value.mapValue.fields}}function OG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(ut(c===void 0||typeof c=="string"),Hn.fromBase64String(c||"")):(ut(c===void 0||c instanceof Uint8Array),Hn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?L.UNKNOWN:RN(u.code);return new X(c,u.message||"")}(s);n=new bN(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=av(t,r.document.name),o=Di(r.document.updateTime),s=r.document.createTime?Di(r.document.createTime):we.min(),a=new nr({mapValue:{fields:r.document.fields}}),l=$n.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Vf(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=av(t,r.document),o=r.readTime?Di(r.readTime):we.min(),s=$n.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Vf([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=av(t,r.document),o=r.removedTargetIds||[];n=new Vf([],o,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new TG(i,o),a=r.targetId;n=new xN(a,s)}}return n}function DG(t,e){let n;if(e instanceof fh)n={update:rR(t,e.key,e.value)};else if(e instanceof IN)n={delete:f0(t,e.key)};else if(e instanceof ws)n={update:rR(t,e.key,e.data),updateMask:zG(e.fieldMask)};else{if(!(e instanceof _G))return ge();n={verify:f0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Bp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Md)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof zp)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:AG(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ge()}(t,e.precondition)),n}function MG(t,e){return t&&t.length>0?(ut(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Di(i.updateTime):Di(o);return s.isEqual(we.min())&&(s=Di(o)),new gG(s,i.transformResults||[])}(n,e))):[]}function LG(t,e){return{documents:[AN(t,e.path)]}}function $G(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AN(t,i);const o=function(u){if(u.length!==0)return DN(ci.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Ua(h.field),direction:UG(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=d0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function FG(t){let e=NG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ut(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(d){const h=ON(d);return h instanceof ci&&aN(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(m){return new jp(ja(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Vg(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new Up(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new Up(p,h)}(n.endAt)),nG(e,i,s,o,a,"F",l,u)}function VG(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ON(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ja(n.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ja(n.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ja(n.unaryFilter.field);return Jt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ja(n.unaryFilter.field);return Jt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return Jt.create(ja(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ci.create(n.compositeFilter.filters.map(r=>ON(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function UG(t){return xG[t]}function jG(t){return bG[t]}function BG(t){return PG[t]}function Ua(t){return{fieldPath:t.canonicalString()}}function ja(t){return Rn.fromServerFormat(t.fieldPath)}function DN(t){return t instanceof Jt?function(n){if(n.op==="=="){if(zI(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NAN"}};if(BI(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zI(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NAN"}};if(BI(n.value))return{unaryFilter:{field:Ua(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ua(n.field),op:jG(n.op),value:n.value}}}(t):t instanceof ci?function(n){const r=n.getFilters().map(i=>DN(i));return r.length===1?r[0]:{compositeFilter:{op:BG(n.op),filters:r}}}(t):ge()}function zG(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function MN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n,r,i,o=we.min(),s=we.min(),a=Hn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Fo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Fo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WG{constructor(e){this.ct=e}}function HG(t){const e=FG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?c0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(){this._n=new KG}addToCollectionParentIndex(e,n){return this._n.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(is.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(is.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class KG{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pn(mt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pn(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new zl(0)}static Bn(){return new zl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(){this.changes=new fu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QG{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YG{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fc(r.mutation,i,mr.empty(),kt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const i=Bs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=dc();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Bs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=fo();const s=$c(),a=function(){return $c()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ws)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Fc(c.mutation,u,c.mutation.getFieldMask(),kt.now())):s.set(u.key,mr.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new QG(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=$c();let i=new en((s,a)=>s-a),o=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||mr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Oe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=gN();c.forEach(h=>{if(!o.has(h)){const p=SN(n.get(h),r.get(h));p!==null&&d.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return $.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ue.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):$.resolve(Bs());let a=-1,l=o;return s.next(u=>$.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(c)?$.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Oe())).next(c=>({batchId:a,changes:mN(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let i=dc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=dc();return this.indexManager.getCollectionParents(e,o).next(a=>$.forEach(a,l=>{const u=function(d,h){return new hh(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,$n.newInvalidDocument(c)))});let a=dc();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Fc(c.mutation,u,mr.empty(),kt.now()),Bg(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XG{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return $.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Di(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:HG(i.bundledQuery),readTime:Di(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JG{constructor(){this.overlays=new en(ue.comparator),this.hr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bs();return $.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=Bs(),o=n.length+1,s=new ue(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new en((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Bs(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Bs(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return $.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new EG(n,r));let o=this.hr.get(n);o===void 0&&(o=Oe(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.Pr=new Pn(cn.Ir),this.Tr=new Pn(cn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new cn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new cn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ue(new mt([])),r=new cn(n,e),i=new cn(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ue(new mt([])),r=new cn(n,e),i=new cn(n,e+1);let o=Oe();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new cn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class cn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ue.comparator(e.key,n.key)||Qe(e.pr,n.pr)}static Er(e,n){return Qe(e.pr,n.pr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Pn(cn.Ir)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new wG(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.wr=this.wr.add(new cn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(s)}lookupMutationBatch(e,n){return $.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return $.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new cn(n,0),i=new cn(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const a=this.Sr(s.pr);o.push(a)}),$.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pn(Qe);return n.forEach(i=>{const o=new cn(i,0),s=new cn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],a=>{r=r.add(a.pr)})}),$.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ue.isDocumentKey(o)||(o=o.child(""));const s=new cn(new ue(o),0);let a=new Pn(Qe);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},s),$.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ut(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return $.forEach(n.mutations,i=>{const o=new cn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new cn(n,0),i=this.wr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eQ{constructor(e){this.vr=e,this.docs=function(){return new en(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():$n.newInvalidDocument(n))}getEntries(e,n){let r=fo();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():$n.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=fo();const s=n.path,a=new ue(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||$K(LK(c),r)<=0||(i.has(c.key)||Bg(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return $.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ge()}Fr(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tQ(this)}getSize(e){return $.resolve(this.size)}}class tQ extends GG{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nQ{constructor(e){this.persistence=e,this.Mr=new fu(n=>eE(n),tE),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Or=0,this.Nr=new oE,this.targetCount=0,this.Br=zl.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),$.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new zl(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.qn(n),$.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(o).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),$.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rQ{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Yw(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new nQ(this),this.indexManager=new qG,this.remoteDocumentCache=function(i){return new eQ(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new WG(n),this.$r=new XG(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JG,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new ZG(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new iQ(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return $.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class iQ extends VK{constructor(e){super(),this.currentSequenceNumber=e}}class sE{constructor(e){this.persistence=e,this.zr=new oE,this.jr=null}static Hr(e){return new sE(e)}get Jr(){if(this.jr)return this.jr;throw ge()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),$.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Jr,r=>{const i=ue.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,we.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return $.or([()=>$.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Oe(),i=Oe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new aE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sQ{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return D8()?8:js.v(Zt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new oQ;return this.Ji(e,n,s).next(a=>{if(o.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(qu()<=Ne.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Va(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),$.resolve()):(qu()<=Ne.DEBUG&&K("QueryEngine","Query:",Va(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(qu()<=Ne.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Va(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(n))):$.resolve())}ji(e,n){if(KI(n))return $.resolve(null);let r=Ni(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=c0(n,null,"F"),r=Ni(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Oe(...o);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,c0(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return KI(n)||i.isEqual(we.min())?$.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?$.resolve(null):(qu()<=Ne.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Va(n)),this.es(e,s,n,MK(i,-1)).next(a=>a))})}Zi(e,n){let r=new Pn(fN(e));return n.forEach((i,o)=>{Bg(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return qu()<=Ne.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Va(n)),this.zi.getDocumentsMatchingQuery(e,n,is.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aQ{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new en(Qe),this.rs=new fu(o=>eE(o),tE),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new YG(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function lQ(t,e,n,r){return new aQ(t,e,n,r)}async function LN(t,e){const n=Se(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Oe();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function uQ(t,e){const n=Se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let p=$.resolve();return h.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(v=>{const _=u.docVersions.get(m);ut(_!==null),v.version.compareTo(_)<0&&(d.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function $N(t){const e=Se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function cQ(t,e){const n=Se(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(o,c.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(o,c.addedDocuments,d)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Hn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(v,_,f){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size>0}(h,p,c)&&a.push(n.Qr.updateTargetData(o,p))});let l=fo(),u=Oe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(dQ(o,s,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(we.min())){const c=n.Qr.getLastRemoteSnapshotVersion(o).next(d=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return $.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.ns=i,o))}function dQ(t,e,n){let r=Oe(),i=Oe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=fo();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:i}})}function hQ(t,e){const n=Se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fQ(t,e){const n=Se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,$.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new Fo(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function m0(t,e,n){const r=Se(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!dh(s))throw s;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function iR(t,e,n){const r=Se(t);let i=we.min(),o=Oe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=Se(l),h=d.rs.get(c);return h!==void 0?$.resolve(d.ns.get(h)):d.Qr.getTargetData(u,c)}(r,s,Ni(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:we.min(),n?o:Oe())).next(a=>(pQ(r,iG(e),a),{documents:a,hs:o})))}function pQ(t,e,n){let r=t.ss.get(e)||we.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class oR{constructor(){this.activeTargetIds=cG()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mQ{constructor(){this.no=new oR,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new oR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf=null;function lv(){return uf===null?uf=function(){return 268435456+Math.round(2147483648*Math.random())}():uf++,"0x"+uf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vQ{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class _Q extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${o}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get wo(){return!1}So(n,r,i,o,s){const a=lv(),l=this.bo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,o,s),this.Co(n,l,u,i).then(c=>(K("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Fl("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,o,s,a){return this.So(n,r,i,o,s)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}bo(n,r){const i=yQ[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const o=lv();return new Promise((s,a)=>{const l=new CK;l.setWithCredentials(!0),l.listenOnce(TK.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case sv.NO_ERROR:const c=l.getResponseJson();K(On,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case sv.TIMEOUT:K(On,`RPC '${e}' ${o} timed out`),a(new X(L.DEADLINE_EXCEEDED,"Request time out"));break;case sv.HTTP_ERROR:const d=l.getStatus();if(K(On,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(_){const f=_.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(f)>=0?f:L.UNKNOWN}(p.status);a(new X(m,p.message))}else a(new X(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X(L.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{K(On,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);K(On,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=lv(),o=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=wK(),a=EK(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");K(On,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=s.createWebChannel(c,l);let h=!1,p=!1;const m=new vQ({lo:_=>{p?K(On,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(K(On,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),K(On,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},ho:()=>d.close()}),v=(_,f,g)=>{_.listen(f,y=>{try{g(y)}catch(T){setTimeout(()=>{throw T},0)}})};return v(d,sf.EventType.OPEN,()=>{p||K(On,`RPC '${e}' stream ${i} transport opened.`)}),v(d,sf.EventType.CLOSE,()=>{p||(p=!0,K(On,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),v(d,sf.EventType.ERROR,_=>{p||(p=!0,Fl(On,`RPC '${e}' stream ${i} transport errored:`,_),m.Vo(new X(L.UNAVAILABLE,"The operation could not be completed")))}),v(d,sf.EventType.MESSAGE,_=>{var f;if(!p){const g=_.data[0];ut(!!g);const y=g,T=y.error||((f=y[0])===null||f===void 0?void 0:f.error);if(T){K(On,`RPC '${e}' stream ${i} received error:`,T);const I=T.status;let E=function(P){const k=Gt[P];if(k!==void 0)return RN(k)}(I),C=T.message;E===void 0&&(E=L.INTERNAL,C="Unknown error status: "+I+" with message "+T.message),p=!0,m.Vo(new X(E,C)),d.close()}else K(On,`RPC '${e}' stream ${i} received:`,g),m.mo(g)}}),v(a,SK.STAT_EVENT,_=>{_.stat===MI.PROXY?K(On,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===MI.NOPROXY&&K(On,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}function uv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(t){return new kG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=o,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n,r,i,o,s,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new FN(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===L.RESOURCE_EXHAUSTED?($i(n.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new X(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wQ extends VN{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=OG(this.serializer,e),r=function(o){if(!("targetChange"in o))return we.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?we.min():s.readTime?Di(s.readTime):we.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=p0(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=l0(l)?{documents:LG(o,l)}:{query:$G(o,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=PN(o,s.resumeToken);const u=d0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(we.min())>0){a.readTime=Wp(o,s.snapshotVersion.toTimestamp());const u=d0(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=VG(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=p0(this.serializer),n.removeTarget=e,this.t_(n)}}class EQ extends VN{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=MG(e.writeResults,e.commitTime),r=Di(e.commitTime);return this.listener.T_(r,n)}return ut(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=p0(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>DG(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new X(L.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,h0(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(L.UNKNOWN,o.toString())})}vo(e,n,r,i,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,h0(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(L.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class SQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?($i(n),this.g_=!1):K("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CQ{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=o,this.M_.io(s=>{r.enqueueAndForget(async()=>{Ca(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Se(l);u.v_.add(4),await mh(u),u.x_.set("Unknown"),u.v_.delete(4),await Kg(u)}(this))})}),this.x_=new SQ(r,i)}}async function Kg(t){if(Ca(t))for(const e of t.F_)await e(!0)}async function mh(t){for(const e of t.F_)await e(!1)}function UN(t,e){const n=Se(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),cE(n)?uE(n):pu(n).Jo()&&lE(n,e))}function jN(t,e){const n=Se(t),r=pu(n);n.C_.delete(e),r.Jo()&&BN(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Ca(n)&&n.x_.set("Unknown"))}function lE(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pu(t).c_(e)}function BN(t,e){t.O_.Oe(e),pu(t).l_(e)}function uE(t){t.O_=new RG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),pu(t).start(),t.x_.p_()}function cE(t){return Ca(t)&&!pu(t).Ho()&&t.C_.size>0}function Ca(t){return Se(t).v_.size===0}function zN(t){t.O_=void 0}async function IQ(t){t.C_.forEach((e,n)=>{lE(t,e)})}async function RQ(t,e){zN(t),cE(t)?(t.x_.S_(e),uE(t)):t.x_.set("Unknown")}async function xQ(t,e,n){if(t.x_.set("Online"),e instanceof bN&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Hp(t,r)}else if(e instanceof Vf?t.O_.$e(e):e instanceof xN?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(we.min()))try{const r=await $N(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.C_.get(u);c&&o.C_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.C_.get(l);if(!c)return;o.C_.set(l,c.withResumeToken(Hn.EMPTY_BYTE_STRING,c.snapshotVersion)),BN(o,l);const d=new Fo(c.target,l,u,c.sequenceNumber);lE(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await Hp(t,r)}}async function Hp(t,e,n){if(!dh(e))throw e;t.v_.add(1),await mh(t),t.x_.set("Offline"),n||(n=()=>$N(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Kg(t)})}function WN(t,e){return e().catch(n=>Hp(t,n,e))}async function Gg(t){const e=Se(t),n=ss(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;bQ(e);)try{const i=await hQ(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,PQ(e,i)}catch(i){await Hp(e,i)}HN(e)&&qN(e)}function bQ(t){return Ca(t)&&t.D_.length<10}function PQ(t,e){t.D_.push(e);const n=ss(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function HN(t){return Ca(t)&&!ss(t).Ho()&&t.D_.length>0}function qN(t){ss(t).start()}async function kQ(t){ss(t).d_()}async function AQ(t){const e=ss(t);for(const n of t.D_)e.I_(n.mutations)}async function NQ(t,e,n){const r=t.D_.shift(),i=nE.from(r,e,n);await WN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Gg(t)}async function OQ(t,e){e&&ss(t).P_&&await async function(r,i){if(function(s){return SG(s)&&s!==L.ABORTED}(i.code)){const o=r.D_.shift();ss(r).Zo(),await WN(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Gg(r)}}(t,e),HN(t)&&qN(t)}async function aR(t,e){const n=Se(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=Ca(n);n.v_.add(3),await mh(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Kg(n)}async function DQ(t,e){const n=Se(t);e?(n.v_.delete(2),await Kg(n)):e||(n.v_.add(2),await mh(n),n.x_.set("Unknown"))}function pu(t){return t.N_||(t.N_=function(n,r,i){const o=Se(n);return o.R_(),new wQ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:IQ.bind(null,t),To:RQ.bind(null,t),u_:xQ.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),cE(t)?uE(t):t.x_.set("Unknown")):(await t.N_.stop(),zN(t))})),t.N_}function ss(t){return t.B_||(t.B_=function(n,r,i){const o=Se(n);return o.R_(),new EQ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:kQ.bind(null,t),To:OQ.bind(null,t),E_:AQ.bind(null,t),T_:NQ.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Gg(t)):(await t.B_.stop(),t.D_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new dE(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hE(t,e){if($i("AsyncQueue",`${e}: ${t}`),dh(t))return new X(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=dc(),this.sortedSet=new en(this.comparator)}static emptySet(e){return new vl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new vl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.L_=new en(ue.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):ge():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Wl{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Wl(e,n,vl.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MQ{constructor(){this.q_=void 0,this.Q_=[]}}class LQ{constructor(){this.queries=new fu(e=>hN(e),jg),this.onlineState="Unknown",this.K_=new Set}}async function fE(t,e){const n=Se(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new MQ),i)try{o.q_=await n.onListen(r)}catch(s){const a=hE(s,`Initialization of query '${Va(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,o),o.Q_.push(e),e.U_(n.onlineState),o.q_&&e.W_(o.q_)&&mE(n)}async function pE(t,e){const n=Se(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const s=o.Q_.indexOf(e);s>=0&&(o.Q_.splice(s,1),i=o.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function $Q(t,e){const n=Se(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.Q_)a.W_(i)&&(r=!0);s.q_=i}}r&&mE(n)}function FQ(t,e,n){const r=Se(t),i=r.queries.get(e);if(i)for(const o of i.Q_)o.onError(n);r.queries.delete(e)}function mE(t){t.K_.forEach(e=>{e.next()})}class gE{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Wl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Wl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.key=e}}class GN{constructor(e){this.key=e}}class VQ{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Oe(),this.mutatedKeys=Oe(),this.ua=fN(e),this.ca=new vl(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new lR,i=n?n.ca:this.ca;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=Bg(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let _=!1;h&&p?h.data.isEqual(p.data)?m!==v&&(r.track({type:3,doc:p}),_=!0):this.Ia(h,p)||(r.track({type:2,doc:p}),_=!0,(l&&this.ua(p,l)>0||u&&this.ua(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),_=!0):h&&!p&&(r.track({type:1,doc:h}),_=!0,(l||u)&&(a=!0)),_&&(p?(s=s.add(p),o=v?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{ca:s,Pa:r,Xi:a,mutatedKeys:o}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const s=e.Pa.k_();s.sort((c,d)=>function(p,m){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return v(p)-v(m)}(c.type,d.type)||this.ua(c.doc,d.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,s.length!==0||u?{snapshot:new Wl(this.query,e.ca,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new lR,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Oe(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new GN(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new KN(r))}),n}Ra(e){this.oa=e.hs,this.aa=Oe();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Wl.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class UQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class jQ{constructor(e){this.key=e,this.ma=!1}}class BQ{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.fa={},this.ga=new fu(a=>hN(a),jg),this.pa=new Map,this.ya=new Set,this.wa=new en(ue.comparator),this.Sa=new Map,this.ba=new oE,this.Da={},this.Ca=new Map,this.va=zl.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function zQ(t,e){const n=ZQ(t);let r,i;const o=n.ga.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Va();else{const s=await fQ(n.localStore,Ni(e)),a=n.sharedClientState.addLocalQueryTarget(s.targetId);r=s.targetId,i=await WQ(n,e,r,a==="current",s.resumeToken),n.isPrimaryClient&&UN(n.remoteStore,s)}return i}async function WQ(t,e,n,r,i){t.Ma=(d,h,p)=>async function(v,_,f,g){let y=_.view.ha(f);y.Xi&&(y=await iR(v.localStore,_.query,!1).then(({documents:C})=>_.view.ha(C,y)));const T=g&&g.targetChanges.get(_.targetId),I=g&&g.targetMismatches.get(_.targetId)!=null,E=_.view.applyChanges(y,v.isPrimaryClient,T,I);return cR(v,_.targetId,E.da),E.snapshot}(t,d,h,p);const o=await iR(t.localStore,e,!0),s=new VQ(e,o.hs),a=s.ha(o.documents),l=ph.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);cR(t,n,u.da);const c=new UQ(e,n,s);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function HQ(t,e){const n=Se(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(o=>!jg(o,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await m0(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),jN(n.remoteStore,r.targetId),g0(n,r.targetId)}).catch(ch)):(g0(n,r.targetId),await m0(n.localStore,r.targetId,!0))}async function qQ(t,e,n){const r=eY(t);try{const i=await function(s,a){const l=Se(s),u=kt.now(),c=a.reduce((p,m)=>p.add(m.key),Oe());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=fo(),v=Oe();return l.os.getEntries(p,c).next(_=>{m=_,m.forEach((f,g)=>{g.isValidDocument()||(v=v.add(f))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(_=>{d=_;const f=[];for(const g of a){const y=vG(g,d.get(g.key).overlayedDocument);y!=null&&f.push(new ws(g.key,y,iN(y.value.mapValue),Oi.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,f,a)}).next(_=>{h=_;const f=_.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(p,_.batchId,f)})}).then(()=>({batchId:h.batchId,changes:mN(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Da[s.currentUser.toKey()];u||(u=new en(Qe)),u=u.insert(a,l),s.Da[s.currentUser.toKey()]=u}(r,i.batchId,n),await gh(r,i.changes),await Gg(r.remoteStore)}catch(i){const o=hE(i,"Failed to persist write");n.reject(o)}}async function QN(t,e){const n=Se(t);try{const r=await cQ(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Sa.get(o);s&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.ma=!0:i.modifiedDocuments.size>0?ut(s.ma):i.removedDocuments.size>0&&(ut(s.ma),s.ma=!1))}),await gh(n,r,e)}catch(r){await ch(r)}}function uR(t,e,n){const r=Se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((o,s)=>{const a=s.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=Se(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.Q_)h.U_(a)&&(u=!0)}),u&&mE(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function KQ(t,e,n){const r=Se(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),o=i&&i.key;if(o){let s=new en(ue.comparator);s=s.insert(o,$n.newNoDocument(o,we.min()));const a=Oe().add(o),l=new Hg(we.min(),new Map,new en(Qe),s,a);await QN(r,l),r.wa=r.wa.remove(o),r.Sa.delete(e),yE(r)}else await m0(r.localStore,e,!1).then(()=>g0(r,e,n)).catch(ch)}async function GQ(t,e){const n=Se(t),r=e.batch.batchId;try{const i=await uQ(n.localStore,e);XN(n,r,null),YN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gh(n,i)}catch(i){await ch(i)}}async function QQ(t,e,n){const r=Se(t);try{const i=await function(s,a){const l=Se(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(ut(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);XN(r,e,n),YN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gh(r,i)}catch(i){await ch(i)}}function YN(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function XN(t,e,n){const r=Se(t);let i=r.Da[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function g0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||JN(t,r)})}function JN(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(jN(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),yE(t))}function cR(t,e,n){for(const r of n)r instanceof KN?(t.ba.addReference(r.key,e),YQ(t,r)):r instanceof GN?(K("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||JN(t,r.key)):ge()}function YQ(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(K("SyncEngine","New document in limbo: "+n),t.ya.add(r),yE(t))}function yE(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new ue(mt.fromString(e)),r=t.va.next();t.Sa.set(r,new jQ(n)),t.wa=t.wa.insert(n,r),UN(t.remoteStore,new Fo(Ni(Ug(n.path)),r,"TargetPurposeLimboResolution",Yw._e))}}async function gh(t,e,n){const r=Se(t),i=[],o=[],s=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{s.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=aE.Ki(l.targetId,u);o.push(c)}}))}),await Promise.all(s),r.fa.u_(i),await async function(l,u){const c=Se(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>$.forEach(u,h=>$.forEach(h.qi,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>$.forEach(h.Qi,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!dh(d))throw d;K("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.ns.get(h),m=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(m);c.ns=c.ns.insert(h,v)}}}(r.localStore,o))}async function XQ(t,e){const n=Se(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await LN(n.localStore,e);n.currentUser=e,function(o,s){o.Ca.forEach(a=>{a.forEach(l=>{l.reject(new X(L.CANCELLED,s))})}),o.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gh(n,r.us)}}function JQ(t,e){const n=Se(t),r=n.Sa.get(e);if(r&&r.ma)return Oe().add(r.key);{let i=Oe();const o=n.pa.get(e);if(!o)return i;for(const s of o){const a=n.ga.get(s);i=i.unionWith(a.view.la)}return i}}function ZQ(t){const e=Se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=QN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=KQ.bind(null,e),e.fa.u_=$Q.bind(null,e.eventManager),e.fa.xa=FQ.bind(null,e.eventManager),e}function eY(t){const e=Se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QQ.bind(null,e),e}class dR{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=qg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return lQ(this.persistence,new sQ,e.initialUser,this.serializer)}createPersistence(e){return new rQ(sE.Hr,this.serializer)}createSharedClientState(e){return new mQ}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class tY{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XQ.bind(null,this.syncEngine),await DQ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LQ}()}createDatastore(e){const n=qg(e.databaseInfo.databaseId),r=function(o){return new _Q(o)}(e.databaseInfo);return function(o,s,a,l){return new TQ(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new CQ(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>uR(this.syncEngine,n,0),function(){return sR.D()?new sR:new gQ}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const d=new BQ(i,o,s,a,l,u);return c&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Se(r);K("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await mh(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nY{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mn.UNAUTHENTICATED,this.clientId=tN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{K("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(K("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cv(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await LN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await iY(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>aR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>aR(e.remoteStore,i)),t._onlineComponents=e}function rY(t){return t.name==="FirebaseError"?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function iY(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await cv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!rY(n))throw n;Fl("Error using user provided cache. Falling back to memory cache: "+n),await cv(t,new dR)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await cv(t,new dR);return t._offlineComponents}async function ZN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await hR(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await hR(t,new tY))),t._onlineComponents}function oY(t){return ZN(t).then(e=>e.syncEngine)}async function qp(t){const e=await ZN(t),n=e.eventManager;return n.onListen=zQ.bind(null,e.syncEngine),n.onUnlisten=HQ.bind(null,e.syncEngine),n}function sY(t,e,n={}){const r=new Ai;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new vE({next:h=>{s.enqueueAndForget(()=>pE(o,d));const p=h.docs.has(a);!p&&h.fromCache?u.reject(new X(L.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new X(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new gE(Ug(a.path),c,{includeMetadataChanges:!0,Z_:!0});return fE(o,d)}(await qp(t),t.asyncQueue,e,n,r)),r.promise}function aY(t,e,n={}){const r=new Ai;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new vE({next:h=>{s.enqueueAndForget(()=>pE(o,d)),h.fromCache&&l.source==="server"?u.reject(new X(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new gE(a,c,{includeMetadataChanges:!0,Z_:!0});return fE(o,d)}(await qp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(t,e,n){if(!n)throw new X(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lY(t,e,n,r){if(e===!0&&r===!0)throw new X(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pR(t){if(!ue.isDocumentKey(t))throw new X(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mR(t){if(ue.isDocumentKey(t))throw new X(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function jr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qg(t);throw new X(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new X(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new X(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new X(L.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gR(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new RK;switch(r.type){case"firstParty":return new kK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fR.get(n);r&&(K("ComponentProvider","Removing Datastore"),fR.delete(n),r.terminate())}(this),Promise.resolve()}}function uY(t,e,n,r={}){var i;const o=(t=jr(t,Yg))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Fl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Mn.MOCK_USER;else{a=lA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new X(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Mn(u)}t._authCredentials=new xK(new eN(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ia(this.firestore,e,this._query)}}class zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class Yo extends Ia{constructor(e,n,r){super(e,n,Ug(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new ue(e))}withConverter(e){return new Yo(this.firestore,e,this._path)}}function cY(t,e,...n){if(t=yt(t),tO("collection","path",e),t instanceof Yg){const r=mt.fromString(e,...n);return mR(r),new Yo(t,null,r)}{if(!(t instanceof zn||t instanceof Yo))throw new X(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mt.fromString(e,...n));return mR(r),new Yo(t.firestore,null,r)}}function ni(t,e,...n){if(t=yt(t),arguments.length===1&&(e=tN.newId()),tO("doc","path",e),t instanceof Yg){const r=mt.fromString(e,...n);return pR(r),new zn(t,null,new ue(r))}{if(!(t instanceof zn||t instanceof Yo))throw new X(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mt.fromString(e,...n));return pR(r),new zn(t.firestore,t instanceof Yo?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dY{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new FN(this,"async_queue_retry"),this._u=()=>{const n=uv();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=uv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=uv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Ai;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!dh(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw $i("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=dE.createAndSchedule(this,e,n,r,o=>this.lu(o));return this.nu.push(i),i}au(){this.ru&&ge()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function yR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class fa extends Yg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new dY}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||nO(this),this._firestoreClient.terminate()}}function hY(t,e){const n=typeof t=="object"?t:pw(),r=typeof t=="string"?t:e||"(default)",i=vg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=oA("firestore");o&&uY(i,...o)}return i}function Xg(t){return t._firestoreClient||nO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function nO(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new WK(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,eO(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new nY(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hl(Hn.fromBase64String(e))}catch(n){throw new X(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hl(Hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fY=/^__.*__$/;class pY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new fh(e,this.data,n,this.fieldTransforms)}}class rO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ws(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class ey{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Eu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new ey(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Kp(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(iO(this.du)&&fY.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class mY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||qg(e)}Su(e,n,r,i=!1){return new ey({du:e,methodName:n,wu:r,path:Rn.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function wE(t){const e=t._freezeSettings(),n=qg(t._databaseId);return new mY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gY(t,e,n,r,i,o={}){const s=t.Su(o.merge||o.mergeFields?2:0,e,n,i);TE("Data must be an object, but it was:",s,r);const a=oO(r,s);let l,u;if(o.merge)l=new mr(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const d of o.mergeFields){const h=y0(e,d,n);if(!s.contains(h))throw new X(L.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);aO(c,h)||c.push(h)}l=new mr(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new pY(new nr(a),l,u)}class ty extends Zg{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ty}}function yY(t,e,n){return new ey({du:3,wu:e.settings.wu,methodName:t._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class EE extends Zg{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=yY(this,e,!0),r=this.bu.map(o=>mu(o,n)),i=new Bl(r);return new pG(e.path,i)}isEqual(e){return e instanceof EE&&_d(this.bu,e.bu)}}function vY(t,e,n,r){const i=t.Su(1,e,n);TE("Data must be an object, but it was:",i,r);const o=[],s=nr.empty();Sa(r,(l,u)=>{const c=SE(e,l,n);u=yt(u);const d=i.fu(c);if(u instanceof ty)o.push(c);else{const h=mu(u,d);h!=null&&(o.push(c),s.set(c,h))}});const a=new mr(o);return new rO(s,a,i.fieldTransforms)}function _Y(t,e,n,r,i,o){const s=t.Su(1,e,n),a=[y0(e,r,n)],l=[i];if(o.length%2!=0)throw new X(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(y0(e,o[h])),l.push(o[h+1]);const u=[],c=nr.empty();for(let h=a.length-1;h>=0;--h)if(!aO(u,a[h])){const p=a[h];let m=l[h];m=yt(m);const v=s.fu(p);if(m instanceof ty)u.push(p);else{const _=mu(m,v);_!=null&&(u.push(p),c.set(p,_))}}const d=new mr(u);return new rO(c,d,s.fieldTransforms)}function wY(t,e,n,r=!1){return mu(n,t.Su(r?4:3,e))}function mu(t,e){if(sO(t=yt(t)))return TE("Unsupported field value:",e,t),oO(t,e);if(t instanceof Zg)return function(r,i){if(!iO(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=mu(a,i.gu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=kt.fromDate(r);return{timestampValue:Wp(i.serializer,o)}}if(r instanceof kt){const o=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Wp(i.serializer,o)}}if(r instanceof _E)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hl)return{bytesValue:PN(i.serializer,r._byteString)};if(r instanceof zn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.pu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:iE(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Qg(r)}`)}(t,e)}function oO(t,e){const n={};return nN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sa(t,(r,i)=>{const o=mu(i,e.Ru(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function sO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kt||t instanceof _E||t instanceof Hl||t instanceof zn||t instanceof Zg)}function TE(t,e,n){if(!sO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Qg(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function y0(t,e,n){if((e=yt(e))instanceof Jg)return e._internalPath;if(typeof e=="string")return SE(t,e);throw Kp("Field path arguments must be of type string or ",t,!1,void 0,n)}const EY=new RegExp("[~\\*/\\[\\]]");function SE(t,e,n){if(e.search(EY)>=0)throw Kp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jg(...e.split("."))._internalPath}catch{throw Kp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Kp(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new X(L.INVALID_ARGUMENT,a+t+l)}function aO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(CE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TY extends lO{data(){return super.data()}}function CE(t,e){return typeof e=="string"?SE(t,e):e instanceof Jg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class IE{}class SY extends IE{}function CY(t,e,...n){let r=[];e instanceof IE&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof RE).length,a=o.filter(l=>l instanceof ny).length;if(s>1||s>0&&a>0)throw new X(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ny extends SY{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ny(e,n,r)}_apply(e){const n=this._parse(e);return cO(e._query,n),new Ia(e.firestore,e.converter,u0(e._query,n))}_parse(e){const n=wE(e.firestore);return function(o,s,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new X(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){_R(d,c);const p=[];for(const m of d)p.push(vR(l,o,m));h={arrayValue:{values:p}}}else h=vR(l,o,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||_R(d,c),h=wY(a,s,d,c==="in"||c==="not-in");return Jt.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function IY(t,e,n){const r=e,i=CE("where",t);return ny._create(i,r,n)}class RE extends IE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new RE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)cO(s,l),s=u0(s,l)}(e._query,n),new Ia(e.firestore,e.converter,u0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function vR(t,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new X(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dN(e)&&n.indexOf("/")!==-1)throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(mt.fromString(n));if(!ue.isDocumentKey(r))throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return jI(t,new ue(r))}if(n instanceof zn)return jI(t,n._key);throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qg(n)}.`)}function _R(t,e){if(!Array.isArray(t)||t.length===0)throw new X(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cO(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class RY{convertValue(e,n="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Sa(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new _E(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Jw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Nd(e));default:return null}}convertTimestamp(e){const n=os(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=mt.fromString(e);ut(MN(r));const i=new Od(r.get(1),r.get(3)),o=new ue(r.popFirst(5));return i.isEqual(n)||$i(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xY(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dO extends lO{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(CE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Uf extends dO{data(e={}){return super.data(e)}}class hO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Uf(this._firestore,this._userDataWriter,r.key,r,new fc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Uf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Uf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:bY(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t){t=jr(t,zn);const e=jr(t.firestore,fa);return sY(Xg(e),t._key).then(n=>mO(e,t,n))}class xE extends RY{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function PY(t){t=jr(t,Ia);const e=jr(t.firestore,fa),n=Xg(e),r=new xE(e);return uO(t._query),aY(n,t._query).then(i=>new hO(e,r,t,i))}function Gp(t,e,n){t=jr(t,zn);const r=jr(t.firestore,fa),i=xY(t.converter,e,n);return pO(r,[gY(wE(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Oi.none())])}function pc(t,e,n,...r){t=jr(t,zn);const i=jr(t.firestore,fa),o=wE(i);let s;return s=typeof(e=yt(e))=="string"||e instanceof Jg?_Y(o,"updateDoc",t._key,e,n,r):vY(o,"updateDoc",t._key,e),pO(i,[s.toMutation(t._key,Oi.exists(!0))])}function fO(t,...e){var n,r,i;t=yt(t);let o={includeMetadataChanges:!1},s=0;typeof e[s]!="object"||yR(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(yR(e[s])){const d=e[s];e[s]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[s+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[s+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof zn)u=jr(t.firestore,fa),c=Ug(t._key.path),l={next:d=>{e[s]&&e[s](mO(u,t,d))},error:e[s+1],complete:e[s+2]};else{const d=jr(t,Ia);u=jr(d.firestore,fa),c=d._query;const h=new xE(u);l={next:p=>{e[s]&&e[s](new hO(u,h,d,p))},error:e[s+1],complete:e[s+2]},uO(t._query)}return function(h,p,m,v){const _=new vE(v),f=new gE(p,_,m);return h.asyncQueue.enqueueAndForget(async()=>fE(await qp(h),f)),()=>{_.La(),h.asyncQueue.enqueueAndForget(async()=>pE(await qp(h),f))}}(Xg(u),c,a,l)}function pO(t,e){return function(r,i){const o=new Ai;return r.asyncQueue.enqueueAndForget(async()=>qQ(await oY(r),i,o)),o.promise}(Xg(t),e)}function mO(t,e,n){const r=n.docs.get(e._key),i=new xE(t);return new dO(t,i,e._key,r,new fc(n.hasPendingWrites,n.fromCache),e.converter)}function ER(...t){return new EE("arrayUnion",t)}(function(e,n=!0){(function(i){hu=i})(ms),rs(new uo("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new fa(new bK(r.getProvider("auth-internal")),new NK(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Od(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ur(LI,"4.4.2",e),Ur(LI,"4.4.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO="firebasestorage.googleapis.com",yO="storageBucket",kY=2*60*1e3,AY=10*60*1e3,NY=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot extends Ui{constructor(e,n,r=0){super(dv(e),`Firebase Storage: ${n} (${dv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return dv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vt||(vt={}));function dv(t){return"storage/"+t}function bE(){const t="An unknown error occurred, please check the error payload for server response.";return new Ot(vt.UNKNOWN,t)}function OY(t){return new Ot(vt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function DY(t){return new Ot(vt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function MY(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ot(vt.UNAUTHENTICATED,t)}function LY(){return new Ot(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function $Y(t){return new Ot(vt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function vO(){return new Ot(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _O(){return new Ot(vt.CANCELED,"User canceled the upload/download.")}function FY(t){return new Ot(vt.INVALID_URL,"Invalid URL '"+t+"'.")}function VY(t){return new Ot(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function UY(){return new Ot(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+yO+"' property when initializing the app?")}function wO(){return new Ot(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function jY(){return new Ot(vt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function BY(){return new Ot(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function zY(t){return new Ot(vt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function v0(t){return new Ot(vt.INVALID_ARGUMENT,t)}function EO(){return new Ot(vt.APP_DELETED,"The Firebase app was deleted.")}function WY(t){return new Ot(vt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vc(t,e){return new Ot(vt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ku(t){throw new Ot(vt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=gr.makeFromUrl(e,n)}catch{return new gr(e,"")}if(r.path==="")return r;throw VY(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},v=n===gO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",f=new RegExp(`^https?://${v}/${i}/${_}`,"i"),y=[{regex:a,indices:l,postModify:o},{regex:p,indices:m,postModify:u},{regex:f,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<y.length;T++){const I=y[T],E=I.regex.exec(e);if(E){const C=E[I.indices.bucket];let x=E[I.indices.path];x||(x=""),r=new gr(C,x),I.postModify(r);break}}if(r==null)throw FY(e);return r}}class HY{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qY(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(..._){u||(u=!0,e.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,t(p,l())},_)}function h(){o&&clearTimeout(o)}function p(_,...f){if(u){h();return}if(_){h(),c.call(null,_,...f);return}if(l()||s){h(),c.call(null,_,...f);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,d(y)}let m=!1;function v(_){m||(m=!0,h(),!u&&(i!==null?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,v(!0)},n),v}function KY(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GY(t){return t!==void 0}function QY(t){return typeof t=="function"}function YY(t){return typeof t=="object"&&!Array.isArray(t)}function ry(t){return typeof t=="string"||t instanceof String}function TR(t){return PE()&&t instanceof Blob}function PE(){return typeof Blob<"u"}function SR(t,e,n,r){if(r<e)throw v0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw v0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function TO(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Qs||(Qs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SO(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XY{constructor(e,n,r,i,o,s,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new cf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Qs.NO_ERROR,l=o.getStatus();if(!a||SO(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===Qs.ABORT;r(!1,new cf(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new cf(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());GY(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=bE();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?EO():_O();s(l)}else{const l=vO();s(l)}};this.canceled_?n(!1,new cf(!1,null,!0)):this.backoffId_=qY(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&KY(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function JY(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function ZY(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function eX(t,e){e&&(t["X-Firebase-GMPID"]=e)}function tX(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function nX(t,e,n,r,i,o,s=!0){const a=TO(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return eX(u,e),JY(u,n),ZY(u,o),tX(u,r),new XY(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rX(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function iX(...t){const e=rX();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(PE())return new Blob(t);throw new Ot(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function oX(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sX(t){if(typeof atob>"u")throw zY("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hv{constructor(e,n){this.data=e,this.contentType=n||null}}function aX(t,e){switch(t){case Si.RAW:return new hv(CO(e));case Si.BASE64:case Si.BASE64URL:return new hv(IO(t,e));case Si.DATA_URL:return new hv(uX(e),cX(e))}throw bE()}function CO(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function lX(t){let e;try{e=decodeURIComponent(t)}catch{throw Vc(Si.DATA_URL,"Malformed data URL.")}return CO(e)}function IO(t,e){switch(t){case Si.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Vc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Si.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Vc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=sX(e)}catch(i){throw i.message.includes("polyfill")?i:Vc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class RO{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Vc(Si.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=dX(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function uX(t){const e=new RO(t);return e.base64?IO(Si.BASE64,e.rest):lX(e.rest)}function cX(t){return new RO(t).contentType}function dX(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,n){let r=0,i="";TR(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(TR(this.data_)){const r=this.data_,i=oX(r,e,n);return i===null?null:new Do(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Do(r,!0)}}static getBlob(...e){if(PE()){const n=e.map(r=>r instanceof Do?r.data_:r);return new Do(iX.apply(null,n))}else{const n=e.map(s=>ry(s)?aX(Si.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new Do(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xO(t){let e;try{e=JSON.parse(t)}catch{return null}return YY(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hX(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function fX(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function bO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pX(t,e){return e}class qn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||pX}}let df=null;function mX(t){return!ry(t)||t.length<2?t:bO(t)}function PO(){if(df)return df;const t=[];t.push(new qn("bucket")),t.push(new qn("generation")),t.push(new qn("metageneration")),t.push(new qn("name","fullPath",!0));function e(o,s){return mX(s)}const n=new qn("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new qn("size");return i.xform=r,t.push(i),t.push(new qn("timeCreated")),t.push(new qn("updated")),t.push(new qn("md5Hash",null,!0)),t.push(new qn("cacheControl",null,!0)),t.push(new qn("contentDisposition",null,!0)),t.push(new qn("contentEncoding",null,!0)),t.push(new qn("contentLanguage",null,!0)),t.push(new qn("contentType",null,!0)),t.push(new qn("metadata","customMetadata",!0)),df=t,df}function gX(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new gr(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function yX(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return gX(r,t),r}function kO(t,e,n){const r=xO(e);return r===null?null:yX(t,r,n)}function vX(t,e,n,r){const i=xO(e);if(i===null||!ry(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+s(c)+"/o/"+s(d),p=yh(h,n,r),m=TO({alt:"media",token:u});return p+m})[0]}function AO(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class gu{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(t){if(!t)throw bE()}function kE(t,e){function n(r,i){const o=kO(t,i,e);return to(o!==null),o}return n}function _X(t,e){function n(r,i){const o=kO(t,i,e);return to(o!==null),vX(o,i,t.host,t._protocol)}return n}function vh(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=LY():i=MY():n.getStatus()===402?i=DY(t.bucket):n.getStatus()===403?i=$Y(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function NO(t){const e=vh(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=OY(t.path)),o.serverResponse=i.serverResponse,o}return n}function wX(t,e,n){const r=e.fullServerUrl(),i=yh(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new gu(i,o,kE(t,n),s);return a.errorHandler=NO(e),a}function EX(t,e,n){const r=e.fullServerUrl(),i=yh(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new gu(i,o,_X(t,n),s);return a.errorHandler=NO(e),a}function TX(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function OO(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=TX(null,e)),r}function SX(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let T=0;T<2;T++)y=y+Math.random().toString().slice(2);return y}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=OO(e,r,i),c=AO(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Do.getBlob(d,r,h);if(p===null)throw wO();const m={name:u.fullPath},v=yh(o,t.host,t._protocol),_="POST",f=t.maxUploadRetryTime,g=new gu(v,_,kE(t,n),f);return g.urlParams=m,g.headers=s,g.body=p.uploadData(),g.errorHandler=vh(e),g}class Qp{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function AE(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{to(!1)}return to(!!n&&(e||["active"]).indexOf(n)!==-1),n}function CX(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=OO(e,r,i),a={name:s.fullPath},l=yh(o,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},d=AO(s,n),h=t.maxUploadRetryTime;function p(v){AE(v);let _;try{_=v.getResponseHeader("X-Goog-Upload-URL")}catch{to(!1)}return to(ry(_)),_}const m=new gu(l,u,p,h);return m.urlParams=a,m.headers=c,m.body=d,m.errorHandler=vh(e),m}function IX(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function o(u){const c=AE(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{to(!1)}d||to(!1);const h=Number(d);return to(!isNaN(h)),new Qp(h,r.size(),c==="final")}const s="POST",a=t.maxUploadRetryTime,l=new gu(n,s,o,a);return l.headers=i,l.errorHandler=vh(e),l}const CR=256*1024;function RX(t,e,n,r,i,o,s,a){const l=new Qp(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw jY();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,h=d+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const m={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},v=r.slice(d,h);if(v===null)throw wO();function _(T,I){const E=AE(T,["active","final"]),C=l.current+c,x=r.size();let P;return E==="final"?P=kE(e,o)(T,I):P=null,new Qp(C,x,E==="final",P)}const f="POST",g=e.maxUploadRetryTime,y=new gu(n,f,_,g);return y.headers=m,y.body=v.uploadData(),y.progressCallback=a||null,y.errorHandler=vh(t),y}const er={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function fv(t){switch(t){case"running":case"pausing":case"canceling":return er.RUNNING;case"paused":return er.PAUSED;case"success":return er.SUCCESS;case"canceled":return er.CANCELED;case"error":return er.ERROR;default:return er.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xX{constructor(e,n,r){if(QY(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class bX{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Qs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Qs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Qs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ku("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ku("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ku("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ku("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ku("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class PX extends bX{initXhr(){this.xhr_.responseType="text"}}function Ba(){return new PX}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kX{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=PO(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(vt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(SO(i.status,[]))if(o)i=vO();else{this.sleepTime=Math.max(this.sleepTime*2,NY),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(vt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=CX(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ba,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=IX(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,Ba,n,r);this._request=o,o.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=CR*this._chunkMultiplier,n=new Qp(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=RX(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(s,Ba,i,o,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){CR*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=wX(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ba,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=SX(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ba,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=_O(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=fv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new xX(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(fv(this._state)){case er.SUCCESS:La(this._resolve.bind(null,this.snapshot))();break;case er.CANCELED:case er.ERROR:const n=this._reject;La(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(fv(this._state)){case er.RUNNING:case er.PAUSED:e.next&&La(e.next.bind(e,this.snapshot))();break;case er.SUCCESS:e.complete&&La(e.complete.bind(e))();break;case er.CANCELED:case er.ERROR:e.error&&La(e.error.bind(e,this._error))();break;default:e.error&&La(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this._service=e,n instanceof gr?this._location=n:this._location=gr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new pa(e,n)}get root(){const e=new gr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return bO(this._location.path)}get storage(){return this._service}get parent(){const e=hX(this._location.path);if(e===null)return null;const n=new gr(this._location.bucket,e);return new pa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw WY(e)}}function AX(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new kX(t,new Do(e),n)}function NX(t){t._throwIfRoot("getDownloadURL");const e=EX(t.storage,t._location,PO());return t.storage.makeRequestWithTokens(e,Ba).then(n=>{if(n===null)throw BY();return n})}function OX(t,e){const n=fX(t._location.path,e),r=new gr(t._location.bucket,n);return new pa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DX(t){return/^[A-Za-z]+:\/\//.test(t)}function MX(t,e){return new pa(t,e)}function DO(t,e){if(t instanceof NE){const n=t;if(n._bucket==null)throw UY();const r=new pa(n,n._bucket);return e!=null?DO(r,e):r}else return e!==void 0?OX(t,e):t}function LX(t,e){if(e&&DX(e)){if(t instanceof NE)return MX(t,e);throw v0("To use ref(service, url), the first argument must be a Storage instance.")}else return DO(t,e)}function IR(t,e){const n=e==null?void 0:e[yO];return n==null?null:gr.makeFromBucketSpec(n,t)}function $X(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:lA(i,t.app.options.projectId))}class NE{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=gO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kY,this._maxUploadRetryTime=AY,this._requests=new Set,i!=null?this._bucket=gr.makeFromBucketSpec(i,this._host):this._bucket=IR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gr.makeFromBucketSpec(this._url,e):this._bucket=IR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pa(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new HY(EO());{const s=nX(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const RR="@firebase/storage",xR="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="storage";function LO(t,e,n){return t=yt(t),AX(t,e,n)}function $O(t){return t=yt(t),NX(t)}function FO(t,e){return t=yt(t),LX(t,e)}function VO(t=pw(),e){t=yt(t);const r=vg(t,MO).getImmediate({identifier:e}),i=oA("storage");return i&&FX(r,...i),r}function FX(t,e,n,r={}){$X(t,e,n,r)}function VX(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new NE(n,r,i,e,ms)}function UX(){rs(new uo(MO,VX,"PUBLIC").setMultipleInstances(!0)),Ur(RR,xR,""),Ur(RR,xR,"esm2017")}UX();const jX={apiKey:"AIzaSyDqHW7C7SIvkp_Bp9pJrWSHONl181jPSdo",authDomain:"pract-chat.firebaseapp.com",databaseURL:"https://pract-chat-default-rtdb.firebaseio.com",projectId:"pract-chat",storageBucket:"pract-chat.appspot.com",messagingSenderId:"828679656058",appId:"1:828679656058:web:a62aff6d72a5cf8ec2e1c3",measurementId:"G-LYH1TBF56B"};mA(jX);const ql=gq(),BX=VO(),Or=hY(),UO=w.createContext(null),zX=({children:t})=>{const[e,n]=w.useState(null),[r,i]=w.useState(!1);w.useEffect(()=>{iH(ql,s=>{n(s),i(!0)})},[]);const o=()=>{oH(ql)};return console.log(e),S.jsx(UO.Provider,{value:{user:e,logOut:o,isInitialized:r},children:t})},yu=()=>w.useContext(UO);var OE={},jO={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(jO);var _h=jO.exports,pv={};const WX=lM(KU);var bR;function wh(){return bR||(bR=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=WX}(pv)),pv}var HX=_h;Object.defineProperty(OE,"__esModule",{value:!0});var BO=OE.default=void 0,qX=HX(wh()),KX=S;BO=OE.default=(0,qX.default)((0,KX.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout");var DE={},GX=_h;Object.defineProperty(DE,"__esModule",{value:!0});var zO=DE.default=void 0,QX=GX(wh()),YX=S;zO=DE.default=(0,QX.default)((0,YX.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"}),"Circle");var ME={},XX=_h;Object.defineProperty(ME,"__esModule",{value:!0});var WO=ME.default=void 0,JX=XX(wh()),ZX=S;WO=ME.default=(0,JX.default)((0,ZX.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 11c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1m1 4h-2v-2h2z"}),"ErrorRounded");var HO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},PR=pn.createContext&&pn.createContext(HO),eJ=["attr","size","title"];function tJ(t,e){if(t==null)return{};var n=nJ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Yp(){return Yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yp.apply(this,arguments)}function kR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kR(Object(n),!0).forEach(function(r){rJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rJ(t,e,n){return e=iJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iJ(t){var e=oJ(t,"string");return typeof e=="symbol"?e:String(e)}function oJ(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qO(t){return t&&t.map((e,n)=>pn.createElement(e.tag,Xp({key:n},e.attr),qO(e.child)))}function Es(t){return e=>pn.createElement(sJ,Yp({attr:Xp({},t.attr)},e),qO(t.child))}function sJ(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=tJ(t,eJ),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),pn.createElement("svg",Yp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:Xp(Xp({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),o&&pn.createElement("title",null,o),t.children)};return PR!==void 0?pn.createElement(PR.Consumer,null,n=>e(n)):e(HO)}function aJ(t){return Es({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z"},child:[]}]})(t)}function lJ(t){return Es({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,80a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160Zm88-29.84q.06-2.16,0-4.32l14.92-18.64a8,8,0,0,0,1.48-7.06,107.21,107.21,0,0,0-10.88-26.25,8,8,0,0,0-6-3.93l-23.72-2.64q-1.48-1.56-3-3L186,40.54a8,8,0,0,0-3.94-6,107.71,107.71,0,0,0-26.25-10.87,8,8,0,0,0-7.06,1.49L130.16,40Q128,40,125.84,40L107.2,25.11a8,8,0,0,0-7.06-1.48A107.6,107.6,0,0,0,73.89,34.51a8,8,0,0,0-3.93,6L67.32,64.27q-1.56,1.49-3,3L40.54,70a8,8,0,0,0-6,3.94,107.71,107.71,0,0,0-10.87,26.25,8,8,0,0,0,1.49,7.06L40,125.84Q40,128,40,130.16L25.11,148.8a8,8,0,0,0-1.48,7.06,107.21,107.21,0,0,0,10.88,26.25,8,8,0,0,0,6,3.93l23.72,2.64q1.49,1.56,3,3L70,215.46a8,8,0,0,0,3.94,6,107.71,107.71,0,0,0,26.25,10.87,8,8,0,0,0,7.06-1.49L125.84,216q2.16.06,4.32,0l18.64,14.92a8,8,0,0,0,7.06,1.48,107.21,107.21,0,0,0,26.25-10.88,8,8,0,0,0,3.93-6l2.64-23.72q1.56-1.48,3-3L215.46,186a8,8,0,0,0,6-3.94,107.71,107.71,0,0,0,10.87-26.25,8,8,0,0,0-1.49-7.06Zm-16.1-6.5a73.93,73.93,0,0,1,0,8.68,8,8,0,0,0,1.74,5.48l14.19,17.73a91.57,91.57,0,0,1-6.23,15L187,173.11a8,8,0,0,0-5.1,2.64,74.11,74.11,0,0,1-6.14,6.14,8,8,0,0,0-2.64,5.1l-2.51,22.58a91.32,91.32,0,0,1-15,6.23l-17.74-14.19a8,8,0,0,0-5-1.75h-.48a73.93,73.93,0,0,1-8.68,0,8,8,0,0,0-5.48,1.74L100.45,215.8a91.57,91.57,0,0,1-15-6.23L82.89,187a8,8,0,0,0-2.64-5.1,74.11,74.11,0,0,1-6.14-6.14,8,8,0,0,0-5.1-2.64L46.43,170.6a91.32,91.32,0,0,1-6.23-15l14.19-17.74a8,8,0,0,0,1.74-5.48,73.93,73.93,0,0,1,0-8.68,8,8,0,0,0-1.74-5.48L40.2,100.45a91.57,91.57,0,0,1,6.23-15L69,82.89a8,8,0,0,0,5.1-2.64,74.11,74.11,0,0,1,6.14-6.14A8,8,0,0,0,82.89,69L85.4,46.43a91.32,91.32,0,0,1,15-6.23l17.74,14.19a8,8,0,0,0,5.48,1.74,73.93,73.93,0,0,1,8.68,0,8,8,0,0,0,5.48-1.74L155.55,40.2a91.57,91.57,0,0,1,15,6.23L173.11,69a8,8,0,0,0,2.64,5.1,74.11,74.11,0,0,1,6.14,6.14,8,8,0,0,0,5.1,2.64l22.58,2.51a91.32,91.32,0,0,1,6.23,15l-14.19,17.74A8,8,0,0,0,199.87,123.66Z"},child:[]}]})(t)}function uJ(t){return Es({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,152H168V104h48a8,8,0,0,0,0-16H168V40a8,8,0,0,0-16,0V88H104V40a8,8,0,0,0-16,0V88H40a8,8,0,0,0,0,16H88v48H40a8,8,0,0,0,0,16H88v48a8,8,0,0,0,16,0V168h48v48a8,8,0,0,0,16,0V168h48a8,8,0,0,0,0-16Zm-112,0V104h48v48Z"},child:[]}]})(t)}function cJ(t){return Es({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.404 14.596A6.5 6.5 0 1116.5 10a1.25 1.25 0 01-2.5 0 4 4 0 10-.571 2.06A2.75 2.75 0 0018 10a8 8 0 10-2.343 5.657.75.75 0 00-1.06-1.06 6.5 6.5 0 01-9.193 0zM10 7.5a2.5 2.5 0 100 5 2.5 2.5 0 000-5z",clipRule:"evenodd"},child:[]}]})(t)}const dJ=()=>{const[t,e]=w.useState(!1),{user:n,logOut:r}=yu(),i=()=>{e(!0),navigator.clipboard.writeText(n.uid),setTimeout(()=>{e(!1)},5e3)};return S.jsxs("div",{style:Ct.container,children:[S.jsx(o8,{open:t,message:"Copied!",anchorOrigin:{vertical:"top",horizontal:"right"},ContentProps:{style:{backgroundColor:"#222222",color:"#ffffff",marginTop:"-10px",padding:"10px",paddingLeft:"20px",paddingRight:"0px",borderRadius:"15px"}}}),S.jsxs("div",{style:Ct.section,children:[S.jsxs("div",{style:Ct.userContainer,children:[S.jsx(yd,{src:n.photoURL,sx:{width:46,height:46,fontSize:27}}),S.jsxs("div",{style:Ct.userContainer.info,children:[S.jsx("h1",{style:Ct.displayName,children:n.displayName}),S.jsxs("p",{children:[S.jsx(zO,{sx:{width:12,height:12,color:"rgba(167, 255, 0, 1)"}})," Online"]})]})]}),S.jsxs("div",{style:Ct.userInfoContainer,children:[S.jsx(cJ,{style:{marginTop:"5px"},size:25}),S.jsxs("div",{style:Ct.infoSectionContainer,children:[S.jsx("p",{style:Ct.infoSectionItem,children:n.email}),S.jsx("p",{style:Ct.infoSectionItem.label,children:"Email"})]})]}),S.jsx(m8,{title:"Copy",placement:"right",children:S.jsxs("div",{style:Ct.userInfoContainer,onClick:i,children:[S.jsx(uJ,{style:{marginTop:"5px"},size:25}),S.jsxs("div",{style:Ct.infoSectionContainer,children:[S.jsx("p",{style:Ct.infoSectionItem,children:n.uid}),S.jsx("p",{style:Ct.infoSectionItem.label,children:"User ID"})]})]})}),S.jsx(D_,{variant:"middle"}),S.jsxs(OS,{to:"/pract-chat/chat",style:Ct.userInfoContainer,children:[S.jsx(aJ,{style:{marginTop:"5px"},size:20}),S.jsx("div",{style:Ct.infoSectionContainer,children:S.jsx("p",{style:Ct.infoSectionItem,children:"Messages"})})]}),S.jsxs(OS,{to:"/pract-chat/settings",style:Ct.userInfoContainer,children:[S.jsx(lJ,{style:{marginTop:"5px"},size:24}),S.jsx("div",{style:Ct.infoSectionContainer,children:S.jsx("p",{style:Ct.infoSectionItem,children:"Settings"})})]}),S.jsxs("div",{style:Ct.bottom,children:[S.jsxs("div",{style:Ct.warningContainer,children:[S.jsx(WO,{sx:{fontSize:"30px"}}),S.jsx("div",{style:Ct.warningContainer.info,children:S.jsx("p",{style:Ct.warningContainer.info.item,children:"This is a practice project, let's keep it appropriate"})})]}),S.jsxs("button",{style:Ct.logOutBtn,onClick:r,children:[S.jsx(BO,{sx:{color:"white",fontSize:"21px",position:"absolute",left:"20px",top:"13px"}})," Log Out"]})]})]})]})},Ct={container:{display:"flex",alignItems:"flex-start",paddingLeft:"20px",paddingTop:"20px",color:"#222222"},section:{display:"flex",flexDirection:"column",maxWidth:"260px",height:"95vh",paddingRight:"45px",borderRight:"1px solid rgba(0, 0, 0, 0.12)"},userContainer:{display:"flex",alignItems:"center",info:{marginLeft:"20px"}},displayName:{textAlign:"left",fontSize:"21px",marginBottom:"-15px"},userInfoContainer:{display:"flex",alignItems:"center",textDecoration:"none",color:"#222222"},infoSectionContainer:{marginLeft:"10px",cursor:"pointer",width:"100%",marginTop:"5px"},infoSectionItem:{fontWeight:"600",maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",label:{color:"#6B6B6B",marginTop:"-10px"}},bottom:{display:"flex",flexDirection:"column",maxWidth:"260px",position:"absolute",bottom:"10px"},warningContainer:{display:"flex",alignItems:"center",paddingLeft:"15px",paddingRight:"15px",borderRadius:"15px",marginBottom:"10px",backgroundImage:"linear-gradient(100.72deg, #A3FEB9 7.96%, #FAEF5C 88.59%)",info:{marginLeft:"10px"}},logOutBtn:{padding:"15px",backgroundColor:"#222222",border:"none",outline:"none",borderRadius:"15px",color:"white",fontSize:"16px",fontWeight:"600",cursor:"pointer",position:"relative"}};function hJ(t){return Es({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},child:[]}]})(t)}var AR={};const NR="@firebase/database",OR="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KO="";function fJ(t){KO=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pJ{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),In(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:vd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mJ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return vo(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new pJ(e)}}catch{}return new mJ},zs=GO("localStorage"),_0=GO("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l=new yg("@firebase/database"),gJ=function(){let t=1;return function(){return t++}}(),QO=function(t){const e=q8(t),n=new j8;n.update(e);const r=n.digest();return cw.encodeByteArray(r)},Eh=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Eh.apply(null,r):typeof r=="object"?e+=In(r):e+=r,e+=" "}return e};let Ys=null,DR=!0;const yJ=function(t,e){G(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(_l.logLevel=Ne.VERBOSE,Ys=_l.log.bind(_l),e&&_0.set("logging_enabled",!0)):typeof t=="function"?Ys=t:(Ys=null,_0.remove("logging_enabled"))},Fn=function(...t){if(DR===!0&&(DR=!1,Ys===null&&_0.get("logging_enabled")===!0&&yJ(!0)),Ys){const e=Eh.apply(null,t);Ys(e)}},Th=function(t){return function(...e){Fn(t,...e)}},w0=function(...t){const e="FIREBASE INTERNAL ERROR: "+Eh(...t);_l.error(e)},ma=function(...t){const e=`FIREBASE FATAL ERROR: ${Eh(...t)}`;throw _l.error(e),new Error(e)},_r=function(...t){const e="FIREBASE WARNING: "+Eh(...t);_l.warn(e)},vJ=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&_r("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},YO=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},_J=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Kl="[MIN_NAME]",ga="[MAX_NAME]",vu=function(t,e){if(t===e)return 0;if(t===Kl||e===ga)return-1;if(e===Kl||t===ga)return 1;{const n=MR(t),r=MR(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},wJ=function(t,e){return t===e?0:t<e?-1:1},Gu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+In(e))},LE=function(t){if(typeof t!="object"||t===null)return In(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=In(e[r]),n+=":",n+=LE(t[e[r]]);return n+="}",n},XO=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Kr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const JO=function(t){G(!YO(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,o,s,a,l;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},EJ=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},TJ=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},SJ=new RegExp("^-?(0*)\\d{1,10}$"),CJ=-2147483648,IJ=2147483647,MR=function(t){if(SJ.test(t)){const e=Number(t);if(e>=CJ&&e<=IJ)return e}return null},Sh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw _r("Exception was thrown by user callback.",n),e},Math.floor(0))}},RJ=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Uc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xJ{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){_r(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bJ{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Fn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',_r(e)}}class E0{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}E0.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="5",ZO="v",eD="s",tD="r",nD="f",rD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,iD="ls",oD="p",T0="ac",sD="websocket",aD="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PJ{constructor(e,n,r,i,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&zs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function kJ(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function lD(t,e,n){G(typeof e=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");let r;if(e===sD)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===aD)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);kJ(t)&&(n.ns=t.namespace);const i=[];return Kr(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJ{constructor(){this.counters_={}}incrementCounter(e,n=1){vo(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return I8(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv={},gv={};function FE(t){const e=t.toString();return mv[e]||(mv[e]=new AJ),mv[e]}function NJ(t,e){const n=t.toString();return gv[n]||(gv[n]=e()),gv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OJ{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Sh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="start",DJ="close",MJ="pLPCommand",LJ="pRTLPCB",uD="id",cD="pw",dD="ser",$J="cb",FJ="seg",VJ="ts",UJ="d",jJ="dframe",hD=1870,fD=30,BJ=hD-fD,zJ=25e3,WJ=3e4;class il{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Th(e),this.stats_=FE(n),this.urlFn=l=>(this.appCheckToken&&(l[T0]=this.appCheckToken),lD(n,aD,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new OJ(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(WJ)),_J(()=>{if(this.isClosed_)return;this.scriptTagHolder=new VE((...o)=>{const[s,a,l,u,c]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===LR)this.id=a,this.password=l;else if(s===DJ)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[LR]="t",r[dD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[$J]=this.scriptTagHolder.uniqueCallbackIdentifier),r[ZO]=$E,this.transportSessionId&&(r[eD]=this.transportSessionId),this.lastSessionId&&(r[iD]=this.lastSessionId),this.applicationId&&(r[oD]=this.applicationId),this.appCheckToken&&(r[T0]=this.appCheckToken),typeof location<"u"&&location.hostname&&rD.test(location.hostname)&&(r[tD]=nD);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){il.forceAllow_=!0}static forceDisallow(){il.forceDisallow_=!0}static isAvailable(){return il.forceAllow_?!0:!il.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!EJ()&&!TJ()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=In(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=nA(n),i=XO(r,BJ);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[jJ]="t",r[uD]=e,r[cD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=In(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class VE{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=gJ(),window[MJ+this.uniqueCallbackIdentifier]=e,window[LJ+this.uniqueCallbackIdentifier]=n,this.myIFrame=VE.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Fn("frame writing exception"),a.stack&&Fn(a.stack),Fn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Fn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[uD]=this.myID,e[cD]=this.myPW,e[dD]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+fD+r.length<=hD;){const s=this.pendingSegs.shift();r=r+"&"+FJ+i+"="+s.seg+"&"+VJ+i+"="+s.ts+"&"+UJ+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(zJ)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Fn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HJ=16384,qJ=45e3;let Jp=null;typeof MozWebSocket<"u"?Jp=MozWebSocket:typeof WebSocket<"u"&&(Jp=WebSocket);class ri{constructor(e,n,r,i,o,s,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Th(this.connId),this.stats_=FE(n),this.connURL=ri.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,o){const s={};return s[ZO]=$E,typeof location<"u"&&location.hostname&&rD.test(location.hostname)&&(s[tD]=nD),n&&(s[eD]=n),r&&(s[iD]=r),i&&(s[T0]=i),o&&(s[oD]=o),lD(e,sD,s)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zs.set("previous_websocket_failure",!0);try{let r;cA(),this.mySock=new Jp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ri.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Jp!==null&&!ri.forceDisallow_}static previouslyFailed(){return zs.isInMemoryStorage||zs.get("previous_websocket_failure")===!0}markConnectionHealthy(){zs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=vd(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=In(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=XO(n,HJ);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(qJ))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ri.responsesRequiredToBeHealthy=2;ri.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[il,ri]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ri&&ri.isAvailable();let r=n&&!ri.previouslyFailed();if(e.webSocketOnly&&(n||_r("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ri];else{const i=this.transports_=[];for(const o of Ld.ALL_TRANSPORTS)o&&o.isAvailable()&&i.push(o);Ld.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ld.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KJ=6e4,GJ=5e3,QJ=10*1024,YJ=100*1024,yv="t",$R="d",XJ="s",FR="r",JJ="e",VR="o",UR="a",jR="n",BR="p",ZJ="h";class eZ{constructor(e,n,r,i,o,s,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Th("c:"+this.id+":"),this.transportManager_=new Ld(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Uc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>YJ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>QJ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(yv in e){const n=e[yv];n===UR?this.upgradeIfSecondaryHealthy_():n===FR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===VR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Gu("t",e),r=Gu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:BR,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:UR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:jR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Gu("t",e),r=Gu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Gu(yv,e);if($R in e){const r=e[$R];if(n===ZJ){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===jR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===XJ?this.onConnectionShutdown_(r):n===FR?this.onReset_(r):n===JJ?w0("Server Error: "+r):n===VR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):w0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),$E!==r&&_r("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Uc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(KJ))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Uc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(GJ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:BR,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){G(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp extends mD{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!hw()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Zp}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=32,WR=768;class _t{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function it(){return new _t("")}function je(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function as(t){return t.pieces_.length-t.pieceNum_}function ft(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new _t(t.pieces_,e)}function gD(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function tZ(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function yD(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function vD(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new _t(e,0)}function fn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof _t)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new _t(n,0)}function Ve(t){return t.pieceNum_>=t.pieces_.length}function Lr(t,e){const n=je(t),r=je(e);if(n===null)return e;if(n===r)return Lr(ft(t),ft(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function _D(t,e){if(as(t)!==as(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ii(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(as(t)>as(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class nZ{constructor(e,n){this.errorPrefix_=n,this.parts_=yD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=gg(this.parts_[r]);wD(this)}}function rZ(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=gg(e),wD(t)}function iZ(t){const e=t.parts_.pop();t.byteLength_-=gg(e),t.parts_.length>0&&(t.byteLength_-=1)}function wD(t){if(t.byteLength_>WR)throw new Error(t.errorPrefix_+"has a key path longer than "+WR+" bytes ("+t.byteLength_+").");if(t.parts_.length>zR)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+zR+") or object contains a cycle "+Ps(t))}function Ps(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE extends mD{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new UE}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=1e3,oZ=60*5*1e3,HR=30*1e3,sZ=1.3,aZ=3e4,lZ="server_kill",qR=3;class no extends pD{constructor(e,n,r,i,o,s,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=no.nextPersistentConnectionId_++,this.log_=Th("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Qu,this.maxReconnectDelay_=oZ,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!cA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");UE.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Zp.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,o={r:i,a:e,b:n};this.log_(In(o)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new dw,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:s=>{const a=s.d;s.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,r,i){this.initConnection_();const o=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+o),this.listens.has(s)||this.listens.set(s,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(s).has(o),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(s).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r},s="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(s,o,a=>{const l=a.d,u=a.s;no.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&vo(e,"w")){const r=Ml(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();_r(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||U8(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=HR)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=V8(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const o=i.s,s=i.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,s))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const o={p:e},s="n";i&&(o.q=r,o.t=i),this.sendRequest(s,o)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const o={p:n,d:r};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,s=>{i&&setTimeout(()=>{i(s.s,s.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,o){this.initConnection_();const s={p:n,d:r};o!==void 0&&(s.h=o),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+In(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):w0("Unrecognized action received from server: "+In(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Qu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Qu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>aZ&&(this.reconnectDelay_=Qu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*sZ)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+no.nextConnectionId_++,o=this.lastSessionId;let s=!1,a=null;const l=function(){a?a.close():(s=!0,r())},u=function(d){G(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?Fn("getToken() completed but was canceled"):(Fn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new eZ(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{_r(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(lZ)},o))}catch(d){this.log_("Failed to get token: "+d),s||(this.repoInfo_.nodeAdmin&&_r(d),l())}}}interrupt(e){Fn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Fn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],$_(this.interruptReasons_)&&(this.reconnectDelay_=Qu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(o=>LE(o)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new _t(e).toString();let i;if(this.listens.has(r)){const o=this.listens.get(r);i=o.get(n),o.delete(n),o.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Fn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=qR&&(this.reconnectDelay_=HR,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Fn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=qR&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+KO.replace(/\./g,"-")]=1,hw()?e["framework.cordova"]=1:uA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Zp.getInstance().currentlyOnline();return $_(this.interruptReasons_)&&e}}no.nextPersistentConnectionId_=0;no.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Be(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Be(Kl,e),i=new Be(Kl,n);return this.compare(r,i)!==0}minPost(){return Be.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hf;class ED extends iy{static get __EMPTY_NODE(){return hf}static set __EMPTY_NODE(e){hf=e}compare(e,n){return vu(e.name,n.name)}isDefinedOn(e){throw au("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Be.MIN}maxPost(){return new Be(ga,hf)}makePost(e,n){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new Be(e,hf)}toString(){return".key"}}const wl=new ED;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class hn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??hn.RED,this.left=i??ir.EMPTY_NODE,this.right=o??ir.EMPTY_NODE}copy(e,n,r,i,o){return new hn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return o<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ir.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ir.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}hn.RED=!0;hn.BLACK=!1;class uZ{copy(e,n,r,i,o){return this}insert(e,n,r){return new hn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ir{constructor(e,n=ir.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ir(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,hn.BLACK,null,null))}remove(e){return new ir(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,hn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ff(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ff(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ff(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ff(this.root_,null,this.comparator_,!0,e)}}ir.EMPTY_NODE=new uZ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cZ(t,e){return vu(t.name,e.name)}function jE(t,e){return vu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S0;function dZ(t){S0=t}const TD=function(t){return typeof t=="number"?"number:"+JO(t):"string:"+t},SD=function(t){if(t.isLeafNode()){const e=t.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&vo(e,".sv"),"Priority must be a string or number.")}else G(t===S0||t.isEmpty(),"priority of unexpected type.");G(t===S0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KR;class un{constructor(e,n=un.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),SD(this.priorityNode_)}static set __childrenNodeConstructor(e){KR=e}static get __childrenNodeConstructor(){return KR}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new un(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:un.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ve(e)?this:je(e)===".priority"?this.priorityNode_:un.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:un.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=je(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(G(r!==".priority"||as(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,un.__childrenNodeConstructor.EMPTY_NODE.updateChild(ft(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+TD(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=JO(this.value_):e+=this.value_,this.lazyHash_=QO(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===un.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof un.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=un.VALUE_TYPE_ORDER.indexOf(n),o=un.VALUE_TYPE_ORDER.indexOf(r);return G(i>=0,"Unknown leaf type: "+n),G(o>=0,"Unknown leaf type: "+r),i===o?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}un.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let CD,ID;function hZ(t){CD=t}function fZ(t){ID=t}class pZ extends iy{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?vu(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Be.MIN}maxPost(){return new Be(ga,new un("[PRIORITY-POST]",ID))}makePost(e,n){const r=CD(e);return new Be(n,new un("[PRIORITY-POST]",r))}toString(){return".priority"}}const Un=new pZ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mZ=Math.log(2);class gZ{constructor(e){const n=o=>parseInt(Math.log(o)/mZ,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const em=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new hn(h,d.node,hn.BLACK,null,null);{const p=parseInt(c/2,10)+l,m=i(l,p),v=i(p+1,u);return d=t[p],h=n?n(d):d,new hn(h,d.node,hn.BLACK,m,v)}},o=function(l){let u=null,c=null,d=t.length;const h=function(m,v){const _=d-m,f=d;d-=m;const g=i(_+1,f),y=t[_],T=n?n(y):y;p(new hn(T,y.node,v,null,g))},p=function(m){u?(u.left=m,u=m):(c=m,u=m)};for(let m=0;m<l.count;++m){const v=l.nextBitIsOne(),_=Math.pow(2,l.count-(m+1));v?h(_,hn.BLACK):(h(_,hn.BLACK),h(_,hn.RED))}return c},s=new gZ(t.length),a=o(s);return new ir(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vv;const $a={};class Ji{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return G($a&&Un,"ChildrenNode.ts has not been loaded"),vv=vv||new Ji({".priority":$a},{".priority":Un}),vv}get(e){const n=Ml(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ir?n:null}hasIndex(e){return vo(this.indexSet_,e.toString())}addIndex(e,n){G(e!==wl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const o=n.getIterator(Be.Wrap);let s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=em(r,e.getCompare()):a=$a;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Ji(c,u)}addToIndexes(e,n){const r=Rp(this.indexes_,(i,o)=>{const s=Ml(this.indexSet_,o);if(G(s,"Missing index implementation for "+o),i===$a)if(s.isDefinedOn(e.node)){const a=[],l=n.getIterator(Be.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),em(a,s.getCompare())}else return $a;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Be(e.name,a))),l.insert(e,e.node)}});return new Ji(r,this.indexSet_)}removeFromIndexes(e,n){const r=Rp(this.indexes_,i=>{if(i===$a)return i;{const o=n.get(e.name);return o?i.remove(new Be(e.name,o)):i}});return new Ji(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu;class Ye{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&SD(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Yu||(Yu=new Ye(new ir(jE),null,Ji.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Yu}updatePriority(e){return this.children_.isEmpty()?this:new Ye(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Yu:n}}getChild(e){const n=je(e);return n===null?this:this.getImmediateChild(n).getChild(ft(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(G(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Be(e,n);let i,o;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?Yu:this.priorityNode_;return new Ye(i,s,o)}}updateChild(e,n){const r=je(e);if(r===null)return n;{G(je(e)!==".priority"||as(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ft(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(Un,(s,a)=>{n[s]=a.val(e),r++,o&&Ye.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!e&&o&&i<2*r){const s=[];for(const a in n)s[a]=n[a];return s}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+TD(this.getPriority().val())+":"),this.forEachChild(Un,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":QO(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const o=i.getPredecessorKey(new Be(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Be(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Be(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Be.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)<0;)i.getNext(),o=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Be.Wrap);let o=i.peek();for(;o!=null&&n.compare(o,e)>0;)i.getNext(),o=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ch?-1:0}withIndex(e){if(e===wl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ye(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===wl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Un),i=n.getIterator(Un);let o=r.getNext(),s=i.getNext();for(;o&&s;){if(o.name!==s.name||!o.node.equals(s.node))return!1;o=r.getNext(),s=i.getNext()}return o===null&&s===null}else return!1;else return!1}}resolveIndex_(e){return e===wl?null:this.indexMap_.get(e.toString())}}Ye.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class yZ extends Ye{constructor(){super(new ir(jE),Ye.EMPTY_NODE,Ji.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ye.EMPTY_NODE}isEmpty(){return!1}}const Ch=new yZ;Object.defineProperties(Be,{MIN:{value:new Be(Kl,Ye.EMPTY_NODE)},MAX:{value:new Be(ga,Ch)}});ED.__EMPTY_NODE=Ye.EMPTY_NODE;un.__childrenNodeConstructor=Ye;dZ(Ch);fZ(Ch);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vZ=!0;function Vn(t,e=null){if(t===null)return Ye.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new un(n,Vn(e))}if(!(t instanceof Array)&&vZ){const n=[];let r=!1;if(Kr(t,(s,a)=>{if(s.substring(0,1)!=="."){const l=Vn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Be(s,l)))}}),n.length===0)return Ye.EMPTY_NODE;const o=em(n,cZ,s=>s.name,jE);if(r){const s=em(n,Un.getCompare());return new Ye(o,Vn(e),new Ji({".priority":s},{".priority":Un}))}else return new Ye(o,Vn(e),Ji.Default)}else{let n=Ye.EMPTY_NODE;return Kr(t,(r,i)=>{if(vo(t,r)&&r.substring(0,1)!=="."){const o=Vn(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Vn(e))}}hZ(Vn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z extends iy{constructor(e){super(),this.indexPath_=e,G(!Ve(e)&&je(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?vu(e.name,n.name):o}makePost(e,n){const r=Vn(e),i=Ye.EMPTY_NODE.updateChild(this.indexPath_,r);return new Be(n,i)}maxPost(){const e=Ye.EMPTY_NODE.updateChild(this.indexPath_,Ch);return new Be(ga,e)}toString(){return yD(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZ extends iy{compare(e,n){const r=e.node.compareTo(n.node);return r===0?vu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Be.MIN}maxPost(){return Be.MAX}makePost(e,n){const r=Vn(e);return new Be(n,r)}toString(){return".value"}}const EZ=new wZ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TZ(t){return{type:"value",snapshotNode:t}}function SZ(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function CZ(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function GR(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function IZ(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Un}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Kl}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ga}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Un}copy(){const e=new BE;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function QR(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Un?n="$priority":t.index_===EZ?n="$value":t.index_===wl?n="$key":(G(t.index_ instanceof _Z,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=In(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=In(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+In(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=In(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+In(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function YR(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Un&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm extends pD{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Th("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=tm.getListenId_(e,r),a={};this.listens_[s]=a;const l=QR(e._queryParams);this.restRequest_(o+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(o,d,!1,r),Ml(this.listens_,s)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=tm.getListenId_(e,n);delete this.listens_[r]}get(e){const n=QR(e._queryParams),r=e._path.toString(),i=new dw;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+lu(n);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=vd(a.responseText)}catch{_r("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&_r("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RZ{constructor(){this.rootNode_=Ye.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nm(){return{value:null,children:new Map}}function RD(t,e,n){if(Ve(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=je(e);t.children.has(r)||t.children.set(r,nm());const i=t.children.get(r);e=ft(e),RD(i,e,n)}}function C0(t,e,n){t.value!==null?n(e,t.value):xZ(t,(r,i)=>{const o=new _t(e.toString()+"/"+r);C0(i,o,n)})}function xZ(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bZ{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Kr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=10*1e3,PZ=30*1e3,kZ=5*60*1e3;class AZ{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new bZ(e);const r=XR+(PZ-XR)*Math.random();Uc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Kr(e,(i,o)=>{o>0&&vo(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Uc(this.reportStats_.bind(this),Math.floor(Math.random()*2*kZ))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ci;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ci||(Ci={}));function xD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function bD(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function PD(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ci.ACK_USER_WRITE,this.source=xD()}operationForChild(e){if(Ve(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new _t(e));return new rm(it(),n,this.revert)}}else return G(je(this.path)===e,"operationForChild called for unrelated child."),new rm(ft(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ci.OVERWRITE}operationForChild(e){return Ve(this.path)?new ya(this.source,it(),this.snap.getImmediateChild(e)):new ya(this.source,ft(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ci.MERGE}operationForChild(e){if(Ve(this.path)){const n=this.children.subtree(new _t(e));return n.isEmpty()?null:n.value?new ya(this.source,it(),n.value):new $d(this.source,it(),n)}else return G(je(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new $d(this.source,ft(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ve(e))return this.isFullyInitialized()&&!this.filtered_;const n=je(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function NZ(t,e,n,r){const i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(IZ(s.childName,s.snapshotNode))}),Xu(t,i,"child_removed",e,r,n),Xu(t,i,"child_added",e,r,n),Xu(t,i,"child_moved",o,r,n),Xu(t,i,"child_changed",e,r,n),Xu(t,i,"value",e,r,n),i}function Xu(t,e,n,r,i,o){const s=r.filter(a=>a.type===n);s.sort((a,l)=>DZ(t,a,l)),s.forEach(a=>{const l=OZ(t,a,o);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function OZ(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function DZ(t,e,n){if(e.childName==null||n.childName==null)throw au("Should only compare child_ events.");const r=new Be(e.childName,e.snapshotNode),i=new Be(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t,e){return{eventCache:t,serverCache:e}}function jc(t,e,n,r){return kD(new zE(e,n,r),t.serverCache)}function AD(t,e,n,r){return kD(t.eventCache,new zE(e,n,r))}function I0(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function va(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _v;const MZ=()=>(_v||(_v=new ir(wJ)),_v);class ht{constructor(e,n=MZ()){this.value=e,this.children=n}static fromObject(e){let n=new ht(null);return Kr(e,(r,i)=>{n=n.set(new _t(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:it(),value:this.value};if(Ve(e))return null;{const r=je(e),i=this.children.get(r);if(i!==null){const o=i.findRootMostMatchingPathAndValue(ft(e),n);return o!=null?{path:fn(new _t(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ve(e))return this;{const n=je(e),r=this.children.get(n);return r!==null?r.subtree(ft(e)):new ht(null)}}set(e,n){if(Ve(e))return new ht(n,this.children);{const r=je(e),o=(this.children.get(r)||new ht(null)).set(ft(e),n),s=this.children.insert(r,o);return new ht(this.value,s)}}remove(e){if(Ve(e))return this.children.isEmpty()?new ht(null):new ht(null,this.children);{const n=je(e),r=this.children.get(n);if(r){const i=r.remove(ft(e));let o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new ht(null):new ht(this.value,o)}else return this}}get(e){if(Ve(e))return this.value;{const n=je(e),r=this.children.get(n);return r?r.get(ft(e)):null}}setTree(e,n){if(Ve(e))return n;{const r=je(e),o=(this.children.get(r)||new ht(null)).setTree(ft(e),n);let s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new ht(this.value,s)}}fold(e){return this.fold_(it(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(fn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,it(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Ve(e))return null;{const o=je(e),s=this.children.get(o);return s?s.findOnPath_(ft(e),fn(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,it(),n)}foreachOnPath_(e,n,r){if(Ve(e))return this;{this.value&&r(n,this.value);const i=je(e),o=this.children.get(i);return o?o.foreachOnPath_(ft(e),fn(n,i),r):new ht(null)}}foreach(e){this.foreach_(it(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(fn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.writeTree_=e}static empty(){return new ai(new ht(null))}}function Bc(t,e,n){if(Ve(e))return new ai(new ht(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let o=r.value;const s=Lr(i,e);return o=o.updateChild(s,n),new ai(t.writeTree_.set(i,o))}else{const i=new ht(n),o=t.writeTree_.setTree(e,i);return new ai(o)}}}function JR(t,e,n){let r=t;return Kr(n,(i,o)=>{r=Bc(r,fn(e,i),o)}),r}function ZR(t,e){if(Ve(e))return ai.empty();{const n=t.writeTree_.setTree(e,new ht(null));return new ai(n)}}function R0(t,e){return Ra(t,e)!=null}function Ra(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Lr(n.path,e)):null}function ex(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Un,(r,i)=>{e.push(new Be(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Be(r,i.value))}),e}function Xo(t,e){if(Ve(e))return t;{const n=Ra(t,e);return n!=null?new ai(new ht(n)):new ai(t.writeTree_.subtree(e))}}function x0(t){return t.writeTree_.isEmpty()}function Gl(t,e){return ND(it(),t.writeTree_,e)}function ND(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(G(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=ND(fn(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(fn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(t,e){return FD(e,t)}function LZ(t,e,n,r,i){G(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Bc(t.visibleWrites,e,n)),t.lastWriteId=r}function $Z(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function FZ(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);G(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){const a=t.allWrites[s];a.visible&&(s>=n&&VZ(a,r.path)?i=!1:ii(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return UZ(t),!0;if(r.snap)t.visibleWrites=ZR(t.visibleWrites,r.path);else{const a=r.children;Kr(a,l=>{t.visibleWrites=ZR(t.visibleWrites,fn(r.path,l))})}return!0}else return!1}function VZ(t,e){if(t.snap)return ii(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ii(fn(t.path,n),e))return!0;return!1}function UZ(t){t.visibleWrites=DD(t.allWrites,jZ,it()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function jZ(t){return t.visible}function DD(t,e,n){let r=ai.empty();for(let i=0;i<t.length;++i){const o=t[i];if(e(o)){const s=o.path;let a;if(o.snap)ii(n,s)?(a=Lr(n,s),r=Bc(r,a,o.snap)):ii(s,n)&&(a=Lr(s,n),r=Bc(r,it(),o.snap.getChild(a)));else if(o.children){if(ii(n,s))a=Lr(n,s),r=JR(r,a,o.children);else if(ii(s,n))if(a=Lr(s,n),Ve(a))r=JR(r,it(),o.children);else{const l=Ml(o.children,je(a));if(l){const u=l.getChild(ft(a));r=Bc(r,it(),u)}}}else throw au("WriteRecord should have .snap or .children")}}return r}function MD(t,e,n,r,i){if(!r&&!i){const o=Ra(t.visibleWrites,e);if(o!=null)return o;{const s=Xo(t.visibleWrites,e);if(x0(s))return n;if(n==null&&!R0(s,it()))return null;{const a=n||Ye.EMPTY_NODE;return Gl(s,a)}}}else{const o=Xo(t.visibleWrites,e);if(!i&&x0(o))return n;if(!i&&n==null&&!R0(o,it()))return null;{const s=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(ii(u.path,e)||ii(e,u.path))},a=DD(t.allWrites,s,e),l=n||Ye.EMPTY_NODE;return Gl(a,l)}}}function BZ(t,e,n){let r=Ye.EMPTY_NODE;const i=Ra(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Un,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){const o=Xo(t.visibleWrites,e);return n.forEachChild(Un,(s,a)=>{const l=Gl(Xo(o,new _t(s)),a);r=r.updateImmediateChild(s,l)}),ex(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{const o=Xo(t.visibleWrites,e);return ex(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function zZ(t,e,n,r,i){G(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=fn(e,n);if(R0(t.visibleWrites,o))return null;{const s=Xo(t.visibleWrites,o);return x0(s)?i.getChild(n):Gl(s,i.getChild(n))}}function WZ(t,e,n,r){const i=fn(e,n),o=Ra(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){const s=Xo(t.visibleWrites,i);return Gl(s,r.getNode().getImmediateChild(n))}else return null}function HZ(t,e){return Ra(t.visibleWrites,e)}function qZ(t,e,n,r,i,o,s){let a;const l=Xo(t.visibleWrites,e),u=Ra(l,it());if(u!=null)a=u;else if(n!=null)a=Gl(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let p=h.getNext();for(;p&&c.length<i;)d(p,r)!==0&&c.push(p),p=h.getNext();return c}else return[]}function KZ(){return{visibleWrites:ai.empty(),allWrites:[],lastWriteId:-1}}function b0(t,e,n,r){return MD(t.writeTree,t.treePath,e,n,r)}function LD(t,e){return BZ(t.writeTree,t.treePath,e)}function tx(t,e,n,r){return zZ(t.writeTree,t.treePath,e,n,r)}function im(t,e){return HZ(t.writeTree,fn(t.treePath,e))}function GZ(t,e,n,r,i,o){return qZ(t.writeTree,t.treePath,e,n,r,i,o)}function WE(t,e,n){return WZ(t.writeTree,t.treePath,e,n)}function $D(t,e){return FD(fn(t.treePath,e),t.writeTree)}function FD(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QZ{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,GR(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,CZ(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,SZ(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,GR(r,e.snapshotNode,i.oldSnap));else throw au("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YZ{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const VD=new YZ;class HE{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new zE(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return WE(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:va(this.viewCache_),o=GZ(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}}function XZ(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function JZ(t,e,n,r,i){const o=new QZ;let s,a;if(n.type===Ci.OVERWRITE){const u=n;u.source.fromUser?s=P0(t,e,u.path,u.snap,r,i,o):(G(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Ve(u.path),s=om(t,e,u.path,u.snap,r,i,a,o))}else if(n.type===Ci.MERGE){const u=n;u.source.fromUser?s=eee(t,e,u.path,u.children,r,i,o):(G(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),s=k0(t,e,u.path,u.children,r,i,a,o))}else if(n.type===Ci.ACK_USER_WRITE){const u=n;u.revert?s=ree(t,e,u.path,r,i,o):s=tee(t,e,u.path,u.affectedTree,r,i,o)}else if(n.type===Ci.LISTEN_COMPLETE)s=nee(t,e,n.path,r,o);else throw au("Unknown operation type: "+n.type);const l=o.getChanges();return ZZ(e,s,l),{viewCache:s,changes:l}}function ZZ(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=I0(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(TZ(I0(e)))}}function UD(t,e,n,r,i,o){const s=e.eventCache;if(im(r,n)!=null)return e;{let a,l;if(Ve(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=va(e),c=u instanceof Ye?u:Ye.EMPTY_NODE,d=LD(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const u=b0(r,va(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,o)}else{const u=je(n);if(u===".priority"){G(as(n)===1,"Can't have a priority with additional path components");const c=s.getNode();l=e.serverCache.getNode();const d=tx(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=s.getNode()}else{const c=ft(n);let d;if(s.isCompleteForChild(u)){l=e.serverCache.getNode();const h=tx(r,n,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(u).updateChild(c,h):d=s.getNode().getImmediateChild(u)}else d=WE(r,u,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),u,d,c,i,o):a=s.getNode()}}return jc(e,a,s.isFullyInitialized()||Ve(n),t.filter.filtersNodes())}}function om(t,e,n,r,i,o,s,a){const l=e.serverCache;let u;const c=s?t.filter:t.filter.getIndexedFilter();if(Ve(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=je(n);if(!l.isCompleteForPath(n)&&as(n)>1)return e;const m=ft(n),_=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?u=c.updatePriority(l.getNode(),_):u=c.updateChild(l.getNode(),p,_,m,VD,null)}const d=AD(e,u,l.isFullyInitialized()||Ve(n),c.filtersNodes()),h=new HE(i,d,o);return UD(t,d,n,i,h,a)}function P0(t,e,n,r,i,o,s){const a=e.eventCache;let l,u;const c=new HE(i,e,o);if(Ve(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,s),l=jc(e,u,!0,t.filter.filtersNodes());else{const d=je(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=jc(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=ft(n),p=a.getNode().getImmediateChild(d);let m;if(Ve(h))m=r;else{const v=c.getCompleteChild(d);v!=null?gD(h)===".priority"&&v.getChild(vD(h)).isEmpty()?m=v:m=v.updateChild(h,r):m=Ye.EMPTY_NODE}if(p.equals(m))l=e;else{const v=t.filter.updateChild(a.getNode(),d,m,h,c,s);l=jc(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function nx(t,e){return t.eventCache.isCompleteForChild(e)}function eee(t,e,n,r,i,o,s){let a=e;return r.foreach((l,u)=>{const c=fn(n,l);nx(e,je(c))&&(a=P0(t,a,c,u,i,o,s))}),r.foreach((l,u)=>{const c=fn(n,l);nx(e,je(c))||(a=P0(t,a,c,u,i,o,s))}),a}function rx(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function k0(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Ve(n)?u=r:u=new ht(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),m=rx(t,p,h);l=om(t,l,new _t(d),m,i,o,s,a)}}),u.children.inorderTraversal((d,h)=>{const p=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!p){const m=e.serverCache.getNode().getImmediateChild(d),v=rx(t,m,h);l=om(t,l,new _t(d),v,i,o,s,a)}}),l}function tee(t,e,n,r,i,o,s){if(im(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Ve(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return om(t,e,n,l.getNode().getChild(n),i,o,a,s);if(Ve(n)){let u=new ht(null);return l.getNode().forEachChild(wl,(c,d)=>{u=u.set(new _t(c),d)}),k0(t,e,n,u,i,o,a,s)}else return e}else{let u=new ht(null);return r.foreach((c,d)=>{const h=fn(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),k0(t,e,n,u,i,o,a,s)}}function nee(t,e,n,r,i){const o=e.serverCache,s=AD(e,o.getNode(),o.isFullyInitialized()||Ve(n),o.isFiltered());return UD(t,s,n,r,VD,i)}function ree(t,e,n,r,i,o){let s;if(im(r,n)!=null)return e;{const a=new HE(r,e,i),l=e.eventCache.getNode();let u;if(Ve(n)||je(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=b0(r,va(e));else{const d=e.serverCache.getNode();G(d instanceof Ye,"serverChildren would be complete if leaf node"),c=LD(r,d)}c=c,u=t.filter.updateFullNode(l,c,o)}else{const c=je(n);let d=WE(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,ft(n),a,o):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Ye.EMPTY_NODE,ft(n),a,o):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=b0(r,va(e)),s.isLeafNode()&&(u=t.filter.updateFullNode(u,s,o)))}return s=e.serverCache.isFullyInitialized()||im(r,it())!=null,jc(e,u,s,t.filter.filtersNodes())}}function iee(t,e){const n=va(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ve(e)&&!n.getImmediateChild(je(e)).isEmpty())?n.getChild(e):null}function ix(t,e,n,r){e.type===Ci.MERGE&&e.source.queryId!==null&&(G(va(t.viewCache_),"We should always have a full cache before handling merges"),G(I0(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,o=JZ(t.processor_,i,e,n,r);return XZ(t.processor_,o.viewCache),G(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,oee(t,o.changes,o.viewCache.eventCache.getNode(),null)}function oee(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return NZ(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ox;function see(t){G(!ox,"__referenceConstructor has already been defined"),ox=t}function qE(t,e,n,r){const i=e.source.queryId;if(i!==null){const o=t.views.get(i);return G(o!=null,"SyncTree gave us an op for an invalid query."),ix(o,e,n,r)}else{let o=[];for(const s of t.views.values())o=o.concat(ix(s,e,n,r));return o}}function KE(t,e){let n=null;for(const r of t.views.values())n=n||iee(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sx;function aee(t){G(!sx,"__referenceConstructor has already been defined"),sx=t}class ax{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ht(null),this.pendingWriteTree_=KZ(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function lee(t,e,n,r,i){return LZ(t.pendingWriteTree_,e,n,r,i),i?sy(t,new ya(xD(),e,n)):[]}function ol(t,e,n=!1){const r=$Z(t.pendingWriteTree_,e);if(FZ(t.pendingWriteTree_,e)){let o=new ht(null);return r.snap!=null?o=o.set(it(),!0):Kr(r.children,s=>{o=o.set(new _t(s),!0)}),sy(t,new rm(r.path,o,n))}else return[]}function oy(t,e,n){return sy(t,new ya(bD(),e,n))}function uee(t,e,n){const r=ht.fromObject(n);return sy(t,new $d(bD(),e,r))}function cee(t,e,n,r){const i=WD(t,r);if(i!=null){const o=HD(i),s=o.path,a=o.queryId,l=Lr(s,e),u=new ya(PD(a),l,n);return qD(t,s,u)}else return[]}function dee(t,e,n,r){const i=WD(t,r);if(i){const o=HD(i),s=o.path,a=o.queryId,l=Lr(s,e),u=ht.fromObject(n),c=new $d(PD(a),l,u);return qD(t,s,c)}else return[]}function jD(t,e,n){const i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{const l=Lr(s,e),u=KE(a,l);if(u)return u});return MD(i,e,o,n,!0)}function sy(t,e){return BD(e,t.syncPointTree_,null,OD(t.pendingWriteTree_,it()))}function BD(t,e,n,r){if(Ve(t.path))return zD(t,e,n,r);{const i=e.get(it());n==null&&i!=null&&(n=KE(i,it()));let o=[];const s=je(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){const u=n?n.getImmediateChild(s):null,c=$D(r,s);o=o.concat(BD(a,l,u,c))}return i&&(o=o.concat(qE(i,t,r,n))),o}}function zD(t,e,n,r){const i=e.get(it());n==null&&i!=null&&(n=KE(i,it()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=n?n.getImmediateChild(s):null,u=$D(r,s),c=t.operationForChild(s);c&&(o=o.concat(zD(c,a,l,u)))}),i&&(o=o.concat(qE(i,t,r,n))),o}function WD(t,e){return t.tagToQueryMap.get(e)}function HD(t){const e=t.indexOf("$");return G(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new _t(t.substr(0,e))}}function qD(t,e,n){const r=t.syncPointTree_.get(e);G(r,"Missing sync point for query tag that we're tracking");const i=OD(t.pendingWriteTree_,e);return qE(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new GE(n)}node(){return this.node_}}class QE{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=fn(this.path_,e);return new QE(this.syncTree_,n)}node(){return jD(this.syncTree_,this.path_)}}const hee=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},lx=function(t,e,n){if(!t||typeof t!="object")return t;if(G(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return fee(t[".sv"],e,n);if(typeof t[".sv"]=="object")return pee(t[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},fee=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+t)}},pee=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&G(!1,"Unexpected increment value: "+r);const i=e.node();if(G(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return typeof s!="number"?r:s+r},mee=function(t,e,n,r){return YE(e,new QE(n,t),r)},gee=function(t,e,n){return YE(t,new GE(e),n)};function YE(t,e,n){const r=t.getPriority().val(),i=lx(r,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const s=t,a=lx(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new un(a,Vn(i)):t}else{const s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new un(i))),s.forEachChild(Un,(a,l)=>{const u=YE(l,e.getImmediateChild(a),n);u!==l&&(o=o.updateImmediateChild(a,u))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function JE(t,e){let n=e instanceof _t?e:new _t(e),r=t,i=je(n);for(;i!==null;){const o=Ml(r.node.children,i)||{children:{},childCount:0};r=new XE(i,r,o),n=ft(n),i=je(n)}return r}function _u(t){return t.node.value}function KD(t,e){t.node.value=e,A0(t)}function GD(t){return t.node.childCount>0}function yee(t){return _u(t)===void 0&&!GD(t)}function ay(t,e){Kr(t.node.children,(n,r)=>{e(new XE(n,t,r))})}function QD(t,e,n,r){n&&!r&&e(t),ay(t,i=>{QD(i,e,!0,r)}),n&&r&&e(t)}function vee(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ih(t){return new _t(t.parent===null?t.name:Ih(t.parent)+"/"+t.name)}function A0(t){t.parent!==null&&_ee(t.parent,t.name,t)}function _ee(t,e,n){const r=yee(n),i=vo(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,A0(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,A0(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wee=/[\[\].#$\/\u0000-\u001F\u007F]/,Eee=/[\[\].#$\u0000-\u001F\u007F]/,wv=10*1024*1024,YD=function(t){return typeof t=="string"&&t.length!==0&&!wee.test(t)},Tee=function(t){return typeof t=="string"&&t.length!==0&&!Eee.test(t)},See=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Tee(t)},XD=function(t,e,n){const r=n instanceof _t?new nZ(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ps(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ps(r)+" with contents = "+e.toString());if(YO(e))throw new Error(t+"contains "+e.toString()+" "+Ps(r));if(typeof e=="string"&&e.length>wv/3&&gg(e)>wv)throw new Error(t+"contains a string greater than "+wv+" utf8 bytes "+Ps(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Kr(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!YD(s)))throw new Error(t+" contains an invalid key ("+s+") "+Ps(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);rZ(r,s),XD(t,a,r),iZ(r)}),i&&o)throw new Error(t+' contains ".value" child '+Ps(r)+" in addition to actual children.")}},Cee=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!YD(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!See(n))throw new Error(H8(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iee{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ree(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],o=i.getPath();n!==null&&!_D(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function xa(t,e,n){Ree(t,n),xee(t,r=>ii(r,e)||ii(e,r))}function xee(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const o=i.path;e(o)?(bee(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function bee(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ys&&Fn("event: "+n.toString()),Sh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pee="repo_interrupt",kee=25;class Aee{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Iee,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nm(),this.transactionQueueTree_=new XE,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Nee(t,e,n){if(t.stats_=FE(t.repoInfo_),t.forceRestClient_||RJ())t.server_=new tm(t.repoInfo_,(r,i,o,s)=>{ux(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>cx(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{In(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new no(t.repoInfo_,e,(r,i,o,s)=>{ux(t,r,i,o,s)},r=>{cx(t,r)},r=>{Dee(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=NJ(t.repoInfo_,()=>new AZ(t.stats_,t.server_)),t.infoData_=new RZ,t.infoSyncTree_=new ax({startListening:(r,i,o,s)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=oy(t.infoSyncTree_,r._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),ZE(t,"connected",!1),t.serverSyncTree_=new ax({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,l)=>{const u=s(a,l);xa(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Oee(t){const n=t.infoData_.getNode(new _t(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function JD(t){return hee({timestamp:Oee(t)})}function ux(t,e,n,r,i){t.dataUpdateCount++;const o=new _t(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){const l=Rp(n,u=>Vn(u));s=dee(t.serverSyncTree_,o,l,i)}else{const l=Vn(n);s=cee(t.serverSyncTree_,o,l,i)}else if(r){const l=Rp(n,u=>Vn(u));s=uee(t.serverSyncTree_,o,l)}else{const l=Vn(n);s=oy(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=tT(t,o)),xa(t.eventQueue_,a,s)}function cx(t,e){ZE(t,"connected",e),e===!1&&Lee(t)}function Dee(t,e){Kr(e,(n,r)=>{ZE(t,n,r)})}function ZE(t,e,n){const r=new _t("/.info/"+e),i=Vn(n);t.infoData_.updateSnapshot(r,i);const o=oy(t.infoSyncTree_,r,i);xa(t.eventQueue_,r,o)}function Mee(t){return t.nextWriteId_++}function Lee(t){ZD(t,"onDisconnectEvents");const e=JD(t),n=nm();C0(t.onDisconnect_,it(),(i,o)=>{const s=mee(i,o,t.serverSyncTree_,e);RD(n,i,s)});let r=[];C0(n,it(),(i,o)=>{r=r.concat(oy(t.serverSyncTree_,i,o));const s=Uee(t,i);tT(t,s)}),t.onDisconnect_=nm(),xa(t.eventQueue_,it(),r)}function $ee(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Pee)}function ZD(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Fn(n,...e)}function eM(t,e,n){return jD(t.serverSyncTree_,e,n)||Ye.EMPTY_NODE}function eT(t,e=t.transactionQueueTree_){if(e||ly(t,e),_u(e)){const n=nM(t,e);G(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Fee(t,Ih(e),n)}else GD(e)&&ay(e,n=>{eT(t,n)})}function Fee(t,e,n){const r=n.map(u=>u.currentWriteId),i=eM(t,e,r);let o=i;const s=i.hash();for(let u=0;u<n.length;u++){const c=n[u];G(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Lr(e,c.path);o=o.updateChild(d,c.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;t.server_.put(l.toString(),a,u=>{ZD(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(ol(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();ly(t,JE(t.transactionQueueTree_,e)),eT(t,t.transactionQueueTree_),xa(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)Sh(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{_r("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}tT(t,e)}},s)}function tT(t,e){const n=tM(t,e),r=Ih(n),i=nM(t,n);return Vee(t,i,r),r}function Vee(t,e,n){if(e.length===0)return;const r=[];let i=[];const s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Lr(n,l.path);let c=!1,d;if(G(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(ol(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=kee)c=!0,d="maxretry",i=i.concat(ol(t.serverSyncTree_,l.currentWriteId,!0));else{const h=eM(t,l.path,s);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){XD("transaction failed: Data returned ",p,l.path);let m=Vn(p);typeof p=="object"&&p!=null&&vo(p,".priority")||(m=m.updatePriority(h.getPriority()));const _=l.currentWriteId,f=JD(t),g=gee(m,h,f);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=g,l.currentWriteId=Mee(t),s.splice(s.indexOf(_),1),i=i.concat(lee(t.serverSyncTree_,l.path,g,l.currentWriteId,l.applyLocally)),i=i.concat(ol(t.serverSyncTree_,_,!0))}else c=!0,d="nodata",i=i.concat(ol(t.serverSyncTree_,l.currentWriteId,!0))}xa(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}ly(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Sh(r[a]);eT(t,t.transactionQueueTree_)}function tM(t,e){let n,r=t.transactionQueueTree_;for(n=je(e);n!==null&&_u(r)===void 0;)r=JE(r,n),e=ft(e),n=je(e);return r}function nM(t,e){const n=[];return rM(t,e,n),n.sort((r,i)=>r.order-i.order),n}function rM(t,e,n){const r=_u(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ay(e,i=>{rM(t,i,n)})}function ly(t,e){const n=_u(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,KD(e,n.length>0?n:void 0)}ay(e,r=>{ly(t,r)})}function Uee(t,e){const n=Ih(tM(t,e)),r=JE(t.transactionQueueTree_,e);return vee(r,i=>{Ev(t,i)}),Ev(t,r),QD(r,i=>{Ev(t,i)}),n}function Ev(t,e){const n=_u(e);if(n){const r=[];let i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(G(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(G(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ol(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?KD(e,void 0):n.length=o+1,xa(t.eventQueue_,Ih(e),i);for(let s=0;s<r.length;s++)Sh(r[s])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jee(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Bee(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):_r(`Invalid query segment '${n}' in query '${t}'`)}return e}const dx=function(t,e){const n=zee(t),r=n.namespace;n.domain==="firebase.com"&&ma(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ma("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||vJ();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new PJ(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new _t(n.pathString)}},zee=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=jee(t.substring(c,d)));const h=Bee(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),o=r}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ve(this._path)?null:gD(this._path)}get ref(){return new wu(this._repo,this._path)}get _queryIdentifier(){const e=YR(this._queryParams),n=LE(e);return n==="{}"?"default":n}get _queryObject(){return YR(this._queryParams)}isEqual(e){if(e=yt(e),!(e instanceof nT))return!1;const n=this._repo===e._repo,r=_D(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+tZ(this._path)}}class wu extends nT{constructor(e,n){super(e,n,new BE,!1)}get parent(){const e=vD(this._path);return e===null?null:new wu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}see(wu);aee(wu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wee="FIREBASE_DATABASE_EMULATOR_HOST",N0={};let Hee=!1;function qee(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||ma("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fn("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=dx(o,i),a=s.repoInfo,l,u;typeof process<"u"&&AR&&(u=AR[Wee]),u?(l=!0,o=`http://${u}?ns=${a.namespace}`,s=dx(o,i),a=s.repoInfo):l=!s.repoInfo.secure;const c=i&&l?new E0(E0.OWNER):new bJ(t.name,t.options,e);Cee("Invalid Firebase Database URL",s),Ve(s.path)||ma("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Gee(a,t,c,new xJ(t.name,n));return new Qee(d,t)}function Kee(t,e){const n=N0[e];(!n||n[t.key]!==t)&&ma(`Database ${e}(${t.repoInfo_}) has already been deleted.`),$ee(t),delete n[t.key]}function Gee(t,e,n,r){let i=N0[e.name];i||(i={},N0[e.name]=i);let o=i[t.toURLString()];return o&&ma("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Aee(t,Hee,n,r),i[t.toURLString()]=o,o}class Qee{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Nee(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wu(this._repo,it())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Kee(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ma("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yee(t){fJ(ms),rs(new uo("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return qee(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Ur(NR,OR,t),Ur(NR,OR,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xee={".sv":"timestamp"};function Jee(){return Xee}no.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};no.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Yee();const iM=w.createContext(),Zee=({children:t})=>{const{user:e}=yu(),n={chatId:null,otherUser:{}},r=(s,a)=>{switch(a.type){case"CHANGE_USER":return{otherUser:a.payload,chatId:e.uid>a.payload.uid?e.uid+a.payload.uid:a.payload.uid+e.uid};default:return s}},[i,o]=w.useReducer(r,n);return w.useEffect(()=>{e&&o({type:"CHANGE_USER",payload:i.otherUser})},[e]),S.jsx(iM.Provider,{value:{data:i,dispatch:o},children:t})},oM=()=>w.useContext(iM);function ete(t){return Es({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"},child:[]}]})(t)}function tte(t){return Es({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(t)}let pf;const nte=new Uint8Array(16);function rte(){if(!pf&&(pf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!pf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return pf(nte)}const En=[];for(let t=0;t<256;++t)En.push((t+256).toString(16).slice(1));function ite(t,e=0){return En[t[e+0]]+En[t[e+1]]+En[t[e+2]]+En[t[e+3]]+"-"+En[t[e+4]]+En[t[e+5]]+"-"+En[t[e+6]]+En[t[e+7]]+"-"+En[t[e+8]]+En[t[e+9]]+"-"+En[t[e+10]]+En[t[e+11]]+En[t[e+12]]+En[t[e+13]]+En[t[e+14]]+En[t[e+15]]}const ote=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),hx={randomUUID:ote};function Tv(t,e,n){if(hx.randomUUID&&!e&&!t)return hx.randomUUID();t=t||{};const r=t.random||(t.rng||rte)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return ite(r)}const ste="/assets/chatImgNoMessages-kTNKWbDn.png",ate=()=>{const{data:t}=oM(),{user:e}=yu(),[n,r]=w.useState([]),[i,o]=w.useState(""),[s,a]=w.useState(null),l=w.useRef(null),[u,c]=w.useState(null),d=VO();w.useEffect(()=>{if(t.chatId){const f=fO(ni(Or,"chats",t.chatId),g=>{if(g.exists()){const y=g.data();r(y.messages)}});return()=>{f()}}},[t.chatId]),w.useEffect(()=>{h()},[n]);const h=()=>{var f;(f=l.current)==null||f.scrollIntoView({behavior:"smooth"})},p=async()=>{if(i.trim()||s)if(s){const f=FO(d,`images/${Tv()}`),g=LO(f,s);g.on("state_changed",y=>{const T=y.bytesTransferred/y.totalBytes*100;console.log("Upload is "+T+"% done"),c(T)},y=>{console.error("Upload error:",y)},()=>{$O(g.snapshot.ref).then(async y=>{await pc(ni(Or,"chats",t.chatId),{messages:ER({id:Tv(),senderId:e.uid,date:kt.now(),img:y})}),c(null),a(null)})})}else await pc(ni(Or,"chats",t.chatId),{messages:ER({id:Tv(),text:i,senderId:e.uid,date:kt.now()})}),o("");await pc(ni(Or,"userChats",e.uid),{[t.chatId+".lastMessage"]:{text:i},[t.chatId+".date"]:kt.now()}),await pc(ni(Or,"userChats",t.otherUser.uid),{[t.chatId+".lastMessage"]:{text:i},[t.chatId+".date"]:kt.now()}),o(""),a(null)};console.log(d);const m=f=>{const g=f.target.files[0];a(g)},v=f=>{f.key==="Enter"&&p()},_=f=>{const g=f.toDate(),y=g.getHours(),T=g.getMinutes(),I=y>=12?"PM":"AM",E=y%12===0?12:y%12,C=T<10?`0${T}`:T;return`${E}:${C} ${I}`};return console.log(t),t&&t.otherUser&&t.otherUser.displayName&&t.otherUser.displayName[0].toUpperCase(),S.jsxs("div",{style:Kt.container,children:[S.jsxs("div",{style:Kt.userInfoContainer,children:[S.jsx(yd,{src:t.otherUser.photoURL}),S.jsxs("div",{style:Kt.userInfo,children:[S.jsx("h1",{style:Kt.displayName,children:t.otherUser.displayName}),S.jsx("p",{style:Kt.email,children:t.otherUser.email})]})]}),n.length===0?S.jsxs("div",{style:Kt.noMessagesContainer,children:[S.jsx("h1",{children:"Looks like it's nothing here."}),S.jsx("p",{style:{marginTop:"-15px"},children:"Send a message to start chhatting!"}),S.jsx("img",{style:Kt.noMessagesContainer.img,src:ste,alt:""})]}):S.jsxs("div",{style:Kt.messagesContainer,children:[n.map(f=>S.jsxs(pn.Fragment,{children:[f.text&&S.jsx("div",{style:{...Kt.messagesContainer.message,...f.senderId===e.uid?Kt.ownMessage:Kt.otherMessage},children:S.jsxs("p",{children:[f.text,S.jsx("span",{style:{marginLeft:"10px",fontSize:"11px"},children:_(f.date)})]})}),f.img&&S.jsxs("div",{style:{...Kt.messagesContainer.imMessage,...f.senderId===e.uid?Kt.ownImgMessage:Kt.otherImgMessage},children:[S.jsx("img",{style:Kt.img,src:f.img,alt:"Attached"}),S.jsx("span",{style:{marginLeft:"10px",marginTop:"10px",fontSize:"11px"},children:_(f.date)})]})]},f.id)),S.jsx("div",{ref:l})]}),S.jsxs("div",{style:Kt.typeMessage,children:[u>0?S.jsx(L9,{sx:{zIndex:1e3,position:"absolute",top:"-10px",left:0,width:"830px",height:"5px",borderRadius:"50px"},variant:"determinate",value:u,color:"secondary"}):null,S.jsx("label",{htmlFor:"file-upload",children:S.jsx(ete,{style:Kt.icon})}),S.jsx("input",{id:"file-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:m}),S.jsx("input",{onChange:f=>o(f.target.value),onKeyPress:v,style:Kt.messageInput,type:"text",placeholder:"Enter Text",value:i}),S.jsxs("button",{onClick:p,style:Kt.sendBtn,children:["Send ",S.jsx(tte,{style:Kt.sendBtn.icon})]})]})]})},Kt={container:{paddingLeft:"20px",display:"flex",flexDirection:"column",width:"100%",overflowY:"hidden"},userInfoContainer:{borderBottom:"1px solid #d6d6d6",display:"flex",minWidth:"848px",maxWidth:"100%",alignItems:"center"},userInfo:{marginLeft:"20px"},displayName:{fontSize:"21px"},email:{marginTop:"-10px"},typeMessage:{display:"flex",alignItems:"center",position:"fixed",bottom:"10px",width:"100%"},messageInput:{marginLeft:"10px",paddingLeft:"10px",padding:"15px",backgroundColor:"white",border:"1px solid #d6d6d6",outline:"none",borderRadius:"15px",color:"#222222",fontSize:"16px",fontWeight:"400",width:"610px"},icon:{fontSize:"16px",position:"relative",top:"1px",padding:"16px",backgroundColor:"white",border:"1px solid #d6d6d6",outline:"none",borderRadius:"15px",color:"#222222",fontWeight:"600",cursor:"pointer"},sendBtn:{padding:"15px",backgroundColor:"#222222",border:"none",outline:"none",borderRadius:"15px",color:"white",fontSize:"16px",fontWeight:"600",cursor:"pointer",position:"relative",width:"120px",paddingRight:"55px",marginLeft:"10px",icon:{position:"absolute",right:"22px",top:"15px",fontSize:"18px"}},messagesContainer:{display:"flex",flexDirection:"column",alignItems:"flex-end",paddingRight:"20px",paddingBottom:"20px",maxWidth:"calc(100% - 40px)",height:"calc(100vh - 180px)",overflow:"hidden",overflowY:"scroll",borderBottom:"1px solid #d6d6d6"},message:{backgroundColor:"#e0e0e0",borderRadius:"10px",padding:"10px",marginTop:"10px",maxWidth:"70%",alignSelf:"flex-end"},ownMessage:{backgroundColor:"#222222",color:"white",paddingLeft:"25px",paddingRight:"25px",marginTop:"10px",maxWidth:"70%",borderRadius:"10px"},otherMessage:{backgroundColor:"#d9d9d9",alignSelf:"flex-start",paddingLeft:"25px",paddingRight:"25px",marginTop:"10px",maxWidth:"70%",borderRadius:"10px"},ownImgMessage:{display:"flex",flexDirection:"column",alignItems:"end",maxWidth:"70%",marginTop:"10px"},otherImgMessage:{display:"flex",flexDirection:"column",alignItems:"flex-start",maxWidth:"70%",marginTop:"10px",alignSelf:"flex-start"},img:{maxWidth:"400px",borderRadius:"10px"},noMessagesContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:"10%",img:{maxWidth:"70%"}}},lte="/assets/NoChats-VzLtQHpE.png",ute=()=>{var v;const[t,e]=w.useState(""),[n,r]=w.useState(null),{user:i}=yu(),{dispatch:o}=oM(),[s,a]=w.useState([]),[l,u]=w.useState(null);w.useEffect(()=>{const _=()=>{const f=fO(ni(Or,"userChats",i.uid),g=>{a(g.data())});return()=>{f()}};i.uid&&_()},[i.uid]);const c=async()=>{if(t.trim()!==""){const _=CY(cY(Or,"users"),IY("uid","==",t.trim()));try{const f=await PY(_);if(f.empty)r(null),console.log("no user");else{const g=f.docs.map(y=>y.data());r(g),console.log("user found "+t)}}catch(f){console.error("Error searching user:",f)}}},d=_=>{_.code==="Enter"&&c(),e(null)},h=async()=>{if(n&&n.length>0){const _=n[0],f=i.uid>_.uid?i.uid+_.uid:_.uid+i.uid;try{const g=ni(Or,"chats",f);(await wR(g)).exists()||await Gp(g,{messages:[]});const T=async(I,E)=>{const C=ni(Or,"userChats",I);(await wR(C)).exists()||await Gp(C,{}),await pc(ni(Or,"userChats",I),{[f+".userInfo"]:{uid:E.uid,displayName:E.displayName,email:E.email,photoURL:E.photoURL},[f+".date"]:Jee()})};r(null),e(""),await T(_.uid,i),await T(i.uid,_)}catch(g){console.error("Error selecting chat:",g)}}},p=_=>{o({type:"CHANGE_USER",payload:_}),u(_)},m=_=>{if(_&&_.toDate){const f=_.toDate(),g=f.getHours(),y=f.getMinutes(),T=g>=12?"PM":"AM",I=g%12===0?12:g%12,E=y<10?`0${y}`:y;return`${I}:${E} ${T}`.toString()}else return""};return S.jsxs("div",{style:wn.container,children:[S.jsxs("section",{style:wn.section,children:[S.jsxs("div",{style:wn.searchContainer,children:[S.jsx(hJ,{style:wn.searchBtn}),S.jsx("input",{onKeyDown:d,value:t,onChange:_=>e(_.target.value),placeholder:"Search",style:wn.search,type:"text"})]}),t!==""&&S.jsxs("div",{style:{textAlign:"start",marginLeft:"20px",color:"grey"},children:["Please enter user's exact ID ",S.jsx("br",{})," and then press Enter to find a user"]}),n&&S.jsxs("div",{children:[S.jsxs("div",{onClick:h,style:wn.messageContainer,children:[S.jsx(yd,{src:n[0].photoURL,sx:{width:46,height:46,fontSize:27}}),S.jsxs("div",{style:wn.messageContainer.infoContainer,children:[S.jsx("h1",{style:wn.displayName,children:n[0].displayName}),S.jsx("p",{style:wn.lastMessage,children:"Click to chat"})]})]}),S.jsx(D_,{variant:"middle"})]}),t===""&&s&&((v=Object.entries(s))==null?void 0:v.sort((_,f)=>f[1].date-_[1].date).map((_,f)=>S.jsx(Uk,{in:!0,style:{transitionDelay:`${f*200}ms`},children:S.jsxs("div",{onClick:()=>p(_[1].userInfo),children:[S.jsxs("div",{onClick:h,style:{...wn.messageContainer,backgroundColor:l&&_[1].userInfo.uid===l.uid?"rgba(167, 255, 0, 0.3)":"white",borderLeft:l&&_[1].userInfo.uid===l.uid?"3px solid rgba(167, 255, 0, 1)":"3px solid rgba(167, 255, 0, 0)"},children:[S.jsx(yd,{src:_[1].userInfo.photoURL,sx:{width:46,height:46,fontSize:27}}),S.jsxs("div",{style:wn.messageContainer.infoContainer,children:[S.jsxs("h1",{style:wn.displayName,children:[_[1].userInfo.displayName,S.jsx("span",{style:wn.lastMessage.date,children:_[1].lastMessage?m(_[1].date):""})]}),S.jsx("div",{style:wn.LastMessageContainer,children:_[1].lastMessage&&_[1].lastMessage.text?S.jsx("p",{style:wn.lastMessage,children:_[1].lastMessage.text}):S.jsx("p",{style:wn.lastMessage,children:_[1].lastMessage&&_[1].lastMessage.type!=="text"?"File sent":"Click to chat"})})]})]}),S.jsx(D_,{variant:"middle"})]},_[0])})))]}),l?S.jsx(ate,{}):S.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"90vh"},children:[S.jsx("h1",{children:"You have no active chats yet."}),S.jsx("p",{style:{marginTop:"-15px"},children:"Find a friend and start the dialog!"}),S.jsx("img",{style:wn.NoChats,src:lte,alt:"No chats"})]})]})},wn={container:{display:"flex",color:"#222222"},section:{display:"flex",flexDirection:"column",maxWidth:"400px",minWidth:"300px",height:"100vh",borderRight:"1px solid rgba(0, 0, 0, 0.12)",overflow:"hidden",overflowY:"scroll"},searchContainer:{display:"flex",position:"sticky",top:"0",backgroundColor:"white",paddingBottom:"10px",paddingLeft:"20px",paddingRight:"20px",paddingTop:"20px",zIndex:2},search:{height:"32px",border:"1px solid #d6d6d6",borderRadius:"10px",paddingLeft:"10px",color:"#222222",marginLeft:"10px",width:"80%"},searchBtn:{height:"18px",width:"18px",border:"1px solid #d6d6d6",borderRadius:"10px",padding:"8px",cursor:"pointer"},messageContainer:{display:"flex",cursor:"pointer",paddingTop:"20px",paddingBottom:"10px",paddingLeft:"20px",paddingRight:"20px",infoContainer:{marginLeft:"20px"}},displayName:{fontSize:"16px",marginBottom:"-15px",marginTop:"0px",maxWidth:"190px",minWidth:"190px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},LastMessageContainer:{display:"flex",justifyContent:"space-between",alignItems:"center",maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"#6B6B6B",position:"relative"},lastMessage:{flex:"1",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:"400",date:{marginLeft:"10px",color:"black",fontSize:"12px",fontWeight:"400",float:"right"}},NoChats:{maxWidth:"70%",marginTop:"50px"}},cte=()=>S.jsxs("div",{style:{display:"flex",margin:"auto",maxWidth:"1480px"},children:[S.jsx(dJ,{}),S.jsx(ute,{})]});function dte(){const t=Ea(),e=eu();return w.useEffect(()=>{e.pathname==="/"&&t("/pract-chat/chat")},[t,e]),S.jsx("div",{children:S.jsx(UU,{theme:T8,children:S.jsx(P1,{})})})}var rT={},hte=_h;Object.defineProperty(rT,"__esModule",{value:!0});var iT=rT.default=void 0,fte=hte(wh()),pte=S;iT=rT.default=(0,fte.default)((0,pte.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7"}),"VisibilityOutlined");var oT={},mte=_h;Object.defineProperty(oT,"__esModule",{value:!0});var sT=oT.default=void 0,gte=mte(wh()),yte=S;sT=oT.default=(0,gte.default)((0,yte.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6m-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14M2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45zm7.5 7.5 2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13m-3.4-3.4 1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53"}),"VisibilityOffOutlined");function sM(t){return Es({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}const vte=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(!1),[i,o]=w.useState(""),[s,a]=w.useState(""),[l,u]=w.useState(!1),[c,d]=w.useState(""),[h,p]=w.useState(!1),[m,v]=w.useState(!1),_=Ea(),f=async C=>{C.preventDefault(),(!n||!l)&&ZW(ql,t,s).then(()=>{_("/pract-chat/chat")}).catch(x=>{x.code,x.message,console.log(x),p(!0)})},g=C=>{const x=/^[^]+@[^]+\.[a-z]{2,3}$/,P=C.target.value;e(P),P===""||!P.match(x)?(r(!0),o("Please enter a valid email address")):(r(!1),o(""))},y=C=>{const x=C.target.value;a(x),x===""||x.length<6?(u(!0),d("You must have at least 6 characters")):(u(!1),d(""))},T=()=>{v(!m)},I=()=>{const C=new _i;QA(ql,C).then(x=>{console.log("Google Sign-In successful:",x.user),_("/pract-chat/chat")}).catch(x=>{console.error("Google Sign-In failed:",x),p(!0)})},E={container:{maxWidth:"400px",margin:"auto",padding:"50px",textAlign:"center"},p:{marginTop:"-10px",color:"#6B6B6B"},inputContainer:{margin:"0 auto",marginTop:"50px",alignItems:"center",justifyContent:"center"},btn:{width:"70%",padding:"10px",border:"none",outline:"none",backgroundColor:"black",color:"white",borderRadius:"50px",marginTop:"20px",cursor:"pointer",height:"45px",fontWeight:"600"},googleBtn:{display:"flex",alignItems:"center",justifyContent:"center",width:"70%",padding:"10px",border:"none",outline:"none",backgroundColor:"#D9D9D9",color:"black",borderRadius:"50px",marginTop:"20px",cursor:"pointer",height:"45px",fontWeight:"600",marginLeft:"60px",icon:{paddingRight:"10px"}},suggestion:{color:"#6B6B6B",marginTop:"50px"},link:{textDecoration:"none",color:"black",fontWeight:"500",cursor:"pointer"}};return S.jsxs("div",{style:E.container,children:[h?S.jsx(Ik,{severity:"error",children:"Your email or password is incorrect."}):null,S.jsx("h1",{children:"Welcome Back!"}),S.jsx("p",{style:E.p,children:"Please enter your information"}),S.jsxs("div",{style:E.inputContainer,children:[S.jsx(Ac,{color:"primary",error:n,helperText:i,onChange:g,value:t,sx:{width:"70%"},id:"standard-basic",label:"Email",variant:"standard"}),S.jsxs(vk,{sx:{alignItems:"center",position:"relative"},children:[S.jsx(Ac,{error:l,helperText:c,onChange:y,sx:{width:"70%",marginTop:"20px"},id:"standard-password-input",label:"Password",type:m?"text":"password",autoComplete:"current-password",variant:"standard"}),m?S.jsx(iT,{onClick:T,sx:{marginTop:"40px",marginLeft:"-25px",position:"absolute",cursor:"pointer"}}):S.jsx(sT,{onClick:T,sx:{marginTop:"40px",marginLeft:"-25px",position:"absolute",cursor:"pointer"}})]}),S.jsx("button",{onClick:f,style:E.btn,children:"Log In"}),S.jsxs("button",{onClick:I,style:E.googleBtn,children:[S.jsx(sM,{style:E.googleBtn.icon,size:20})," Log In with Google"]})]}),S.jsxs("p",{style:E.suggestion,children:["Don't Have an account? ",S.jsx("a",{style:E.link,onClick:()=>{_("/pract-chat/sign-up")},children:"Sign Up"})]})]})},_te=()=>{const{user:t}=yu();return console.log(t),t?S.jsx(P1,{}):alert("You have to be logged in to get access to the chat")||S.jsx(j$,{to:"log-in"})},wte=()=>{const{isInitialized:t}=yu();return t?S.jsx(P1,{}):S.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:S.jsx(PB,{style:{color:"darkgray"}})})};function Ete(){const[t,e]=w.useState(""),[n,r]=w.useState(!1),[i,o]=w.useState(""),[s,a]=w.useState(""),[l,u]=w.useState(!1),[c,d]=w.useState(""),[h,p]=w.useState(""),[m,v]=w.useState(!1),[_,f]=w.useState(""),[g,y]=w.useState(!1),[T,I]=w.useState(!1),[E,C]=w.useState(""),[x,P]=w.useState(null),[k,D]=w.useState(null),F=Ea(),M=async J=>{if(J.preventDefault(),!n&&!l&&!m&&x)try{const Y=(await JW(ql,t,s)).user,he=new Date().getTime(),ce=FO(BX,`${h+he}`);await LO(ce,x).then(()=>{$O(ce).then(async Me=>{await tH(Y,{displayName:h,photoURL:Me});const Le=ni(Or,"users",Y.uid);await Gp(Le,{uid:Y.uid,displayName:h,email:t,photoURL:Me}),await Gp(ni(Or,"userChats",Y.uid),{}),F("/pract-chat/chat")})})}catch(ne){console.error("Error creating user:",ne),y(!0),C("The user with this email already exists, try again.")}else n?(y(!0),C("Email address is not valid or already being used.")):(y(!1),C("")),l?(y(!0),C("Please enter a valid password.")):(y(!1),C("")),m?(y(!0),C("Please enter a valid display name.")):(y(!1),C(""))},j=J=>{const ne=J.target.files[0];P(ne),D(URL.createObjectURL(ne))},z=J=>{const ne=/^[^]+@[^]+\.[a-z]{2,3}$/,Y=J.target.value;e(Y),Y===""||!Y.match(ne)?(r(!0),o("Please enter a valid email address")):(r(!1),o(""))},U=J=>{const ne=J.target.value;a(ne),ne===""||ne.length<6?(u(!0),d("You must have at least 6 characters")):(u(!1),d(""))},V=J=>{const ne=J.target.value;p(ne),ne===""?(v(!0),f("You must enter your full name.")):(v(!1),f(""))},N=()=>{I(!T)},B=()=>{const J=new _i;QA(ql,J).then(ne=>{console.log("Google Sign-In successful:",ne.user),F("/pract-chat/chat")}).catch(ne=>{console.error("Google Sign-In failed:",ne),y(!0)})},W={container:{maxWidth:"400px",margin:"auto",padding:"50px",textAlign:"center",marginTop:"-25px"},p:{marginTop:"-10px",color:"#6B6B6B"},photoUpload:{margin:"auto",width:"102px",height:"102px",marginBottom:"30px"},photoUploadButton:{paddingLeft:"20px",paddingRight:"20px",paddingTop:"5px",paddingBottom:"5px",borderRadius:"20px",border:"1px solid black",outline:"none",cursor:"pointer",backgroundColor:"white"},inputContainer:{margin:"0 auto",marginTop:"30px",alignItems:"center",justifyContent:"center"},btn:{width:"70%",padding:"10px",border:"none",outline:"none",backgroundColor:"black",color:"white",borderRadius:"50px",marginTop:"20px",cursor:"pointer",height:"45px",fontWeight:"600"},googleBtn:{display:"flex",alignItems:"center",justifyContent:"center",width:"70%",padding:"10px",border:"none",outline:"none",backgroundColor:"#D9D9D9",color:"black",borderRadius:"50px",marginTop:"10px",cursor:"pointer",height:"45px",fontWeight:"600",marginLeft:"60px",icon:{paddingRight:"10px"}},suggestion:{color:"#6B6B6B",marginTop:"50px"},link:{textDecoration:"none",color:"black",fontWeight:"500"}},ae=()=>{F("/pract-chat/log-in")};return S.jsxs("div",{style:W.container,children:[g?S.jsx(Ik,{severity:"error",children:E}):null,S.jsx("h1",{children:"Welcome!"}),S.jsx("p",{style:W.p,children:"Please enter your information"}),S.jsxs("div",{style:W.inputContainer,children:[S.jsx(yd,{src:k,style:W.photoUpload}),S.jsxs("div",{style:{marginBottom:"20px"},children:[S.jsx("input",{type:"file",accept:"image/*",onChange:j,style:{display:"none"},id:"fileInput"}),S.jsx("label",{htmlFor:"fileInput",style:W.photoUploadButton,children:"Upload a photo"})]}),S.jsx(Ac,{color:"primary",error:m,helperText:_,onChange:V,value:h,sx:{width:"70%"},id:"standard-basic",label:"Display Name",variant:"standard"}),S.jsx(Ac,{color:"primary",error:n,helperText:i,onChange:z,value:t,sx:{width:"70%",marginTop:"20px"},id:"standard-basic",label:"Email",variant:"standard"}),S.jsxs(vk,{sx:{alignItems:"center",position:"relative"},children:[S.jsx(Ac,{error:l,helperText:c,onChange:U,sx:{width:"70%",marginTop:"20px"},id:"standard-password-input",label:"Password",type:T?"text":"password",autoComplete:"current-password",variant:"standard"}),T?S.jsx(iT,{onClick:N,sx:{marginTop:"40px",marginLeft:"-25px",position:"absolute",cursor:"pointer"}}):S.jsx(sT,{onClick:N,sx:{marginTop:"40px",marginLeft:"-25px",position:"absolute",cursor:"pointer"}})]}),S.jsx("button",{onClick:M,style:W.btn,children:"Sign Up"}),S.jsxs("button",{onClick:B,style:W.googleBtn,children:[S.jsx(sM,{style:W.googleBtn.icon,size:20}),"Sign Up with Google"]})]}),S.jsxs("p",{style:W.suggestion,children:["Already Have an account? ",S.jsx("button",{style:W.link,onClick:ae,children:"Log In"})]})]})}class Tte extends w.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error("Error caught by ErrorBoundary:",e,n)}render(){return this.state.hasError?S.jsx("div",{}):this.props.children}}const Ste="/assets/404-avyOQv9o.png",fx=()=>{const t=Ea(),e=()=>{t("/pract-chat/chat")};return S.jsxs("div",{style:Ju.container,children:[S.jsx("img",{style:Ju.img,src:Ste,alt:"404 not found"}),S.jsx("h1",{style:Ju.h1,children:"Oops! We've wandered off the trail!"}),S.jsx("p",{style:Ju.p,children:"Seems like the path you're seeking doesn't exist. Let's find our way back together!"}),S.jsx("button",{onClick:e,style:Ju.btn,children:"Go Back"})]})},Ju={container:{margin:"auto",textAlign:"center",marginTop:"5%"},img:{maxWidth:"600px"},h1:{color:"#222222"},p:{marginTop:"-10px",marginBottom:"40px",color:"darkgrey"},btn:{padding:"15px",paddingLeft:"35px",paddingRight:"35px",backgroundColor:"#222222",border:"none",outline:"none",borderRadius:"15px",color:"white",fontSize:"16px",fontWeight:"600",cursor:"pointer",textDecoration:"none"}},Cte="/assets/working-rFq9V_P3.png",Ite=()=>{const t=Ea(),e=()=>{t("/pract-chat/chat")};return S.jsxs("div",{style:Zu.container,children:[S.jsx("img",{style:Zu.img,src:Cte,alt:"working"}),S.jsx("h1",{style:Zu.h1,children:"Oops!.. Still Under Construction"}),S.jsx("p",{style:Zu.p,children:"Excuse the dust! We're sprucing things up."}),S.jsx("button",{onClick:e,style:Zu.btn,children:"Go Back"})]})},Zu={container:{margin:"auto",textAlign:"center",marginTop:"5%"},img:{maxWidth:"600px"},h1:{color:"#222222"},p:{marginTop:"-10px",marginBottom:"40px",color:"darkgrey"},btn:{padding:"15px",paddingLeft:"35px",paddingRight:"35px",backgroundColor:"#222222",border:"none",outline:"none",borderRadius:"15px",color:"white",fontSize:"16px",fontWeight:"600",cursor:"pointer",textDecoration:"none"}},Rte=Q$(w_(S.jsx(zi,{path:"/pract-chat/",element:S.jsx(dte,{}),children:S.jsxs(zi,{element:S.jsx(wte,{}),children:[S.jsx(zi,{path:"/pract-chat/log-in",element:S.jsx(vte,{})}),S.jsx(zi,{path:"/pract-chat/sign-up",element:S.jsx(Ete,{})}),S.jsx(zi,{path:"/pract-chat/*",element:S.jsx(fx,{}),errorElement:S.jsx(fx,{})}),S.jsx(zi,{path:"/pract-chat/settings",element:S.jsx(Ite,{})}),S.jsx(zi,{element:S.jsx(_te,{}),children:S.jsx(zi,{path:"/pract-chat/chat",element:S.jsx(cte,{})})})]})}))),xte=Sv.createRoot(document.getElementById("root"));xte.render(S.jsx(zX,{children:S.jsx(Zee,{children:S.jsx(Tte,{children:S.jsx(iF,{router:Rte})})})}));
