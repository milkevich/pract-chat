function yb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function vb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fM(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var _b={exports:{}},am={},wb={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fd=Symbol.for("react.element"),pM=Symbol.for("react.portal"),mM=Symbol.for("react.fragment"),gM=Symbol.for("react.strict_mode"),yM=Symbol.for("react.profiler"),vM=Symbol.for("react.provider"),_M=Symbol.for("react.context"),wM=Symbol.for("react.forward_ref"),EM=Symbol.for("react.suspense"),TM=Symbol.for("react.memo"),SM=Symbol.for("react.lazy"),lT=Symbol.iterator;function CM(t){return t===null||typeof t!="object"?null:(t=lT&&t[lT]||t["@@iterator"],typeof t=="function"?t:null)}var Eb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tb=Object.assign,Sb={};function Xl(t,e,n){this.props=t,this.context=e,this.refs=Sb,this.updater=n||Eb}Xl.prototype.isReactComponent={};Xl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Xl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Cb(){}Cb.prototype=Xl.prototype;function D0(t,e,n){this.props=t,this.context=e,this.refs=Sb,this.updater=n||Eb}var M0=D0.prototype=new Cb;M0.constructor=D0;Tb(M0,Xl.prototype);M0.isPureReactComponent=!0;var uT=Array.isArray,Ib=Object.prototype.hasOwnProperty,L0={current:null},Rb={key:!0,ref:!0,__self:!0,__source:!0};function bb(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ib.call(e,r)&&!Rb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Fd,type:t,key:s,ref:o,props:i,_owner:L0.current}}function IM(t,e){return{$$typeof:Fd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fd}function RM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var cT=/\/+/g;function dy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?RM(""+t.key):e.toString(36)}function pf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fd:case pM:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+dy(o,0):r,uT(i)?(n="",t!=null&&(n=t.replace(cT,"$&/")+"/"),pf(i,e,n,"",function(u){return u})):i!=null&&($0(i)&&(i=IM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(cT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",uT(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+dy(s,a);o+=pf(s,e,n,l,i)}else if(l=CM(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+dy(s,a++),o+=pf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ah(t,e,n){if(t==null)return t;var r=[],i=0;return pf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function bM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yn={current:null},mf={transition:null},xM={ReactCurrentDispatcher:Yn,ReactCurrentBatchConfig:mf,ReactCurrentOwner:L0};De.Children={map:Ah,forEach:function(t,e,n){Ah(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ah(t,function(){e++}),e},toArray:function(t){return Ah(t,function(e){return e})||[]},only:function(t){if(!$0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=Xl;De.Fragment=mM;De.Profiler=yM;De.PureComponent=D0;De.StrictMode=gM;De.Suspense=EM;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xM;De.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Tb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=L0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ib.call(e,l)&&!Rb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Fd,type:t.type,key:i,ref:s,props:r,_owner:o}};De.createContext=function(t){return t={$$typeof:_M,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vM,_context:t},t.Consumer=t};De.createElement=bb;De.createFactory=function(t){var e=bb.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:wM,render:t}};De.isValidElement=$0;De.lazy=function(t){return{$$typeof:SM,_payload:{_status:-1,_result:t},_init:bM}};De.memo=function(t,e){return{$$typeof:TM,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=mf.transition;mf.transition={};try{t()}finally{mf.transition=e}};De.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};De.useCallback=function(t,e){return Yn.current.useCallback(t,e)};De.useContext=function(t){return Yn.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return Yn.current.useDeferredValue(t)};De.useEffect=function(t,e){return Yn.current.useEffect(t,e)};De.useId=function(){return Yn.current.useId()};De.useImperativeHandle=function(t,e,n){return Yn.current.useImperativeHandle(t,e,n)};De.useInsertionEffect=function(t,e){return Yn.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return Yn.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return Yn.current.useMemo(t,e)};De.useReducer=function(t,e,n){return Yn.current.useReducer(t,e,n)};De.useRef=function(t){return Yn.current.useRef(t)};De.useState=function(t){return Yn.current.useState(t)};De.useSyncExternalStore=function(t,e,n){return Yn.current.useSyncExternalStore(t,e,n)};De.useTransition=function(){return Yn.current.useTransition()};De.version="18.2.0";wb.exports=De;var w=wb.exports;const pn=vb(w),Uf=yb({__proto__:null,default:pn},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PM=w,kM=Symbol.for("react.element"),AM=Symbol.for("react.fragment"),NM=Object.prototype.hasOwnProperty,OM=PM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DM={key:!0,ref:!0,__self:!0,__source:!0};function xb(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)NM.call(e,r)&&!DM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:kM,type:t,key:s,ref:o,props:i,_owner:OM.current}}am.Fragment=AM;am.jsx=xb;am.jsxs=xb;_b.exports=am;var S=_b.exports,Cv={},Pb={exports:{}},Cr={},kb={exports:{}},Ab={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,B){var W=N.length;N.push(B);e:for(;0<W;){var ae=W-1>>>1,J=N[ae];if(0<i(J,B))N[ae]=B,N[W]=J,W=ae;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var B=N[0],W=N.pop();if(W!==B){N[0]=W;e:for(var ae=0,J=N.length,ne=J>>>1;ae<ne;){var Y=2*(ae+1)-1,fe=N[Y],ce=Y+1,Me=N[ce];if(0>i(fe,W))ce<J&&0>i(Me,fe)?(N[ae]=Me,N[ce]=W,ae=ce):(N[ae]=fe,N[Y]=W,ae=Y);else if(ce<J&&0>i(Me,W))N[ae]=Me,N[ce]=W,ae=ce;else break e}}return B}function i(N,B){var W=N.sortIndex-B.sortIndex;return W!==0?W:N.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,m=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=N)r(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(u)}}function E(N){if(v=!1,y(N),!m)if(n(l)!==null)m=!0,j(R);else{var B=n(u);B!==null&&U(E,B.startTime-N)}}function R(N,B){m=!1,v&&(v=!1,f(b),b=-1),p=!0;var W=h;try{for(y(B),d=n(l);d!==null&&(!(d.expirationTime>B)||N&&!O());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,h=d.priorityLevel;var J=ae(d.expirationTime<=B);B=t.unstable_now(),typeof J=="function"?d.callback=J:d===n(l)&&r(l),y(B)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var Y=n(u);Y!==null&&U(E,Y.startTime-B),ne=!1}return ne}finally{d=null,h=W,p=!1}}var T=!1,C=null,b=-1,k=5,x=-1;function O(){return!(t.unstable_now()-x<k)}function F(){if(C!==null){var N=t.unstable_now();x=N;var B=!0;try{B=C(!0,N)}finally{B?M():(T=!1,C=null)}}else T=!1}var M;if(typeof g=="function")M=function(){g(F)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,z=V.port2;V.port1.onmessage=F,M=function(){z.postMessage(null)}}else M=function(){_(F,0)};function j(N){C=N,T||(T=!0,M())}function U(N,B){b=_(function(){N(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,j(R))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var W=h;h=B;try{return N()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,B){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var W=h;h=N;try{return B()}finally{h=W}},t.unstable_scheduleCallback=function(N,B,W){var ae=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ae+W:ae):W=ae,N){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=W+J,N={id:c++,callback:B,priorityLevel:N,startTime:W,expirationTime:J,sortIndex:-1},W>ae?(N.sortIndex=W,e(u,N),n(l)===null&&N===n(u)&&(v?(f(b),b=-1):v=!0,U(E,W-ae))):(N.sortIndex=J,e(l,N),m||p||(m=!0,j(R))),N},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(N){var B=h;return function(){var W=h;h=B;try{return N.apply(this,arguments)}finally{h=W}}}})(Ab);kb.exports=Ab;var MM=kb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb=w,Er=MM;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ob=new Set,zc={};function _a(t,e){Sl(t,e),Sl(t+"Capture",e)}function Sl(t,e){for(zc[t]=e,t=0;t<e.length;t++)Ob.add(e[t])}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Iv=Object.prototype.hasOwnProperty,LM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dT={},hT={};function $M(t){return Iv.call(hT,t)?!0:Iv.call(dT,t)?!1:LM.test(t)?hT[t]=!0:(dT[t]=!0,!1)}function FM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function VM(t,e,n,r){if(e===null||typeof e>"u"||FM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Pn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pn[t]=new Xn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pn[e]=new Xn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pn[t]=new Xn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pn[t]=new Xn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pn[t]=new Xn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pn[t]=new Xn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pn[t]=new Xn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pn[t]=new Xn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pn[t]=new Xn(t,5,!1,t.toLowerCase(),null,!1,!1)});var F0=/[\-:]([a-z])/g;function V0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(F0,V0);Pn[e]=new Xn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(F0,V0);Pn[e]=new Xn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(F0,V0);Pn[e]=new Xn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pn[t]=new Xn(t,1,!1,t.toLowerCase(),null,!1,!1)});Pn.xlinkHref=new Xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pn[t]=new Xn(t,1,!1,t.toLowerCase(),null,!0,!0)});function U0(t,e,n,r){var i=Pn.hasOwnProperty(e)?Pn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(VM(e,n,i,r)&&(n=null),r||i===null?$M(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ps=Nb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nh=Symbol.for("react.element"),Ha=Symbol.for("react.portal"),qa=Symbol.for("react.fragment"),j0=Symbol.for("react.strict_mode"),Rv=Symbol.for("react.profiler"),Db=Symbol.for("react.provider"),Mb=Symbol.for("react.context"),B0=Symbol.for("react.forward_ref"),bv=Symbol.for("react.suspense"),xv=Symbol.for("react.suspense_list"),z0=Symbol.for("react.memo"),Rs=Symbol.for("react.lazy"),Lb=Symbol.for("react.offscreen"),fT=Symbol.iterator;function Cu(t){return t===null||typeof t!="object"?null:(t=fT&&t[fT]||t["@@iterator"],typeof t=="function"?t:null)}var Nt=Object.assign,hy;function ec(t){if(hy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hy=e&&e[1]||""}return`
`+hy+t}var fy=!1;function py(t,e){if(!t||fy)return"";fy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{fy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ec(t):""}function UM(t){switch(t.tag){case 5:return ec(t.type);case 16:return ec("Lazy");case 13:return ec("Suspense");case 19:return ec("SuspenseList");case 0:case 2:case 15:return t=py(t.type,!1),t;case 11:return t=py(t.type.render,!1),t;case 1:return t=py(t.type,!0),t;default:return""}}function Pv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qa:return"Fragment";case Ha:return"Portal";case Rv:return"Profiler";case j0:return"StrictMode";case bv:return"Suspense";case xv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Mb:return(t.displayName||"Context")+".Consumer";case Db:return(t._context.displayName||"Context")+".Provider";case B0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case z0:return e=t.displayName||null,e!==null?e:Pv(t.type)||"Memo";case Rs:e=t._payload,t=t._init;try{return Pv(t(e))}catch{}}return null}function jM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pv(e);case 8:return e===j0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $b(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BM(t){var e=$b(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Oh(t){t._valueTracker||(t._valueTracker=BM(t))}function Fb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$b(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kv(t,e){var n=e.checked;return Nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function pT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vb(t,e){e=e.checked,e!=null&&U0(t,"checked",e,!1)}function Av(t,e){Vb(t,e);var n=Xs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nv(t,e.type,Xs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function mT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Nv(t,e,n){(e!=="number"||jf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tc=Array.isArray;function ll(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ov(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(tc(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xs(n)}}function Ub(t,e){var n=Xs(e.value),r=Xs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function yT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dh,Bb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Dh=Dh||document.createElement("div"),Dh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var mc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zM=["Webkit","ms","Moz","O"];Object.keys(mc).forEach(function(t){zM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mc[e]=mc[t]})});function zb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||mc.hasOwnProperty(t)&&mc[t]?(""+e).trim():e+"px"}function Wb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var WM=Nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Mv(t,e){if(e){if(WM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Lv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $v=null;function W0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fv=null,ul=null,cl=null;function vT(t){if(t=jd(t)){if(typeof Fv!="function")throw Error(H(280));var e=t.stateNode;e&&(e=hm(e),Fv(t.stateNode,t.type,e))}}function Hb(t){ul?cl?cl.push(t):cl=[t]:ul=t}function qb(){if(ul){var t=ul,e=cl;if(cl=ul=null,vT(t),e)for(t=0;t<e.length;t++)vT(e[t])}}function Kb(t,e){return t(e)}function Gb(){}var my=!1;function Qb(t,e,n){if(my)return t(e,n);my=!0;try{return Kb(t,e,n)}finally{my=!1,(ul!==null||cl!==null)&&(Gb(),qb())}}function Hc(t,e){var n=t.stateNode;if(n===null)return null;var r=hm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Vv=!1;if(is)try{var Iu={};Object.defineProperty(Iu,"passive",{get:function(){Vv=!0}}),window.addEventListener("test",Iu,Iu),window.removeEventListener("test",Iu,Iu)}catch{Vv=!1}function HM(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var gc=!1,Bf=null,zf=!1,Uv=null,qM={onError:function(t){gc=!0,Bf=t}};function KM(t,e,n,r,i,s,o,a,l){gc=!1,Bf=null,HM.apply(qM,arguments)}function GM(t,e,n,r,i,s,o,a,l){if(KM.apply(this,arguments),gc){if(gc){var u=Bf;gc=!1,Bf=null}else throw Error(H(198));zf||(zf=!0,Uv=u)}}function wa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Yb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _T(t){if(wa(t)!==t)throw Error(H(188))}function QM(t){var e=t.alternate;if(!e){if(e=wa(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return _T(i),t;if(s===r)return _T(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function Xb(t){return t=QM(t),t!==null?Jb(t):null}function Jb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jb(t);if(e!==null)return e;t=t.sibling}return null}var Zb=Er.unstable_scheduleCallback,wT=Er.unstable_cancelCallback,YM=Er.unstable_shouldYield,XM=Er.unstable_requestPaint,Wt=Er.unstable_now,JM=Er.unstable_getCurrentPriorityLevel,H0=Er.unstable_ImmediatePriority,ex=Er.unstable_UserBlockingPriority,Wf=Er.unstable_NormalPriority,ZM=Er.unstable_LowPriority,tx=Er.unstable_IdlePriority,lm=null,Ii=null;function eL(t){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(lm,t,void 0,(t.current.flags&128)===128)}catch{}}var si=Math.clz32?Math.clz32:rL,tL=Math.log,nL=Math.LN2;function rL(t){return t>>>=0,t===0?32:31-(tL(t)/nL|0)|0}var Mh=64,Lh=4194304;function nc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Hf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=nc(a):(s&=o,s!==0&&(r=nc(s)))}else o=n&~i,o!==0?r=nc(o):s!==0&&(r=nc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-si(e),i=1<<n,r|=t[n],e&=~i;return r}function iL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-si(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=iL(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function jv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nx(){var t=Mh;return Mh<<=1,!(Mh&4194240)&&(Mh=64),t}function gy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-si(e),t[e]=n}function oL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-si(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function q0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-si(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Je=0;function rx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ix,K0,sx,ox,ax,Bv=!1,$h=[],Fs=null,Vs=null,Us=null,qc=new Map,Kc=new Map,xs=[],aL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ET(t,e){switch(t){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":qc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kc.delete(e.pointerId)}}function Ru(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=jd(e),e!==null&&K0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function lL(t,e,n,r,i){switch(e){case"focusin":return Fs=Ru(Fs,t,e,n,r,i),!0;case"dragenter":return Vs=Ru(Vs,t,e,n,r,i),!0;case"mouseover":return Us=Ru(Us,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return qc.set(s,Ru(qc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Kc.set(s,Ru(Kc.get(s)||null,t,e,n,r,i)),!0}return!1}function lx(t){var e=Ao(t.target);if(e!==null){var n=wa(e);if(n!==null){if(e=n.tag,e===13){if(e=Yb(n),e!==null){t.blockedOn=e,ax(t.priority,function(){sx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$v=r,n.target.dispatchEvent(r),$v=null}else return e=jd(n),e!==null&&K0(e),t.blockedOn=n,!1;e.shift()}return!0}function TT(t,e,n){gf(t)&&n.delete(e)}function uL(){Bv=!1,Fs!==null&&gf(Fs)&&(Fs=null),Vs!==null&&gf(Vs)&&(Vs=null),Us!==null&&gf(Us)&&(Us=null),qc.forEach(TT),Kc.forEach(TT)}function bu(t,e){t.blockedOn===e&&(t.blockedOn=null,Bv||(Bv=!0,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,uL)))}function Gc(t){function e(i){return bu(i,t)}if(0<$h.length){bu($h[0],t);for(var n=1;n<$h.length;n++){var r=$h[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fs!==null&&bu(Fs,t),Vs!==null&&bu(Vs,t),Us!==null&&bu(Us,t),qc.forEach(e),Kc.forEach(e),n=0;n<xs.length;n++)r=xs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xs.length&&(n=xs[0],n.blockedOn===null);)lx(n),n.blockedOn===null&&xs.shift()}var dl=ps.ReactCurrentBatchConfig,qf=!0;function cL(t,e,n,r){var i=Je,s=dl.transition;dl.transition=null;try{Je=1,G0(t,e,n,r)}finally{Je=i,dl.transition=s}}function dL(t,e,n,r){var i=Je,s=dl.transition;dl.transition=null;try{Je=4,G0(t,e,n,r)}finally{Je=i,dl.transition=s}}function G0(t,e,n,r){if(qf){var i=zv(t,e,n,r);if(i===null)Ry(t,e,r,Kf,n),ET(t,r);else if(lL(i,t,e,n,r))r.stopPropagation();else if(ET(t,r),e&4&&-1<aL.indexOf(t)){for(;i!==null;){var s=jd(i);if(s!==null&&ix(s),s=zv(t,e,n,r),s===null&&Ry(t,e,r,Kf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ry(t,e,r,null,n)}}var Kf=null;function zv(t,e,n,r){if(Kf=null,t=W0(r),t=Ao(t),t!==null)if(e=wa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Yb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Kf=t,null}function ux(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(JM()){case H0:return 1;case ex:return 4;case Wf:case ZM:return 16;case tx:return 536870912;default:return 16}default:return 16}}var Ds=null,Q0=null,yf=null;function cx(){if(yf)return yf;var t,e=Q0,n=e.length,r,i="value"in Ds?Ds.value:Ds.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return yf=i.slice(t,1<r?1-r:void 0)}function vf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fh(){return!0}function ST(){return!1}function Ir(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Fh:ST,this.isPropagationStopped=ST,this}return Nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fh)},persist:function(){},isPersistent:Fh}),e}var Jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Y0=Ir(Jl),Ud=Nt({},Jl,{view:0,detail:0}),hL=Ir(Ud),yy,vy,xu,um=Nt({},Ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:X0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xu&&(xu&&t.type==="mousemove"?(yy=t.screenX-xu.screenX,vy=t.screenY-xu.screenY):vy=yy=0,xu=t),yy)},movementY:function(t){return"movementY"in t?t.movementY:vy}}),CT=Ir(um),fL=Nt({},um,{dataTransfer:0}),pL=Ir(fL),mL=Nt({},Ud,{relatedTarget:0}),_y=Ir(mL),gL=Nt({},Jl,{animationName:0,elapsedTime:0,pseudoElement:0}),yL=Ir(gL),vL=Nt({},Jl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_L=Ir(vL),wL=Nt({},Jl,{data:0}),IT=Ir(wL),EL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=SL[t])?!!e[t]:!1}function X0(){return CL}var IL=Nt({},Ud,{key:function(t){if(t.key){var e=EL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?TL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:X0,charCode:function(t){return t.type==="keypress"?vf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RL=Ir(IL),bL=Nt({},um,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RT=Ir(bL),xL=Nt({},Ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:X0}),PL=Ir(xL),kL=Nt({},Jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),AL=Ir(kL),NL=Nt({},um,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OL=Ir(NL),DL=[9,13,27,32],J0=is&&"CompositionEvent"in window,yc=null;is&&"documentMode"in document&&(yc=document.documentMode);var ML=is&&"TextEvent"in window&&!yc,dx=is&&(!J0||yc&&8<yc&&11>=yc),bT=" ",xT=!1;function hx(t,e){switch(t){case"keyup":return DL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ka=!1;function LL(t,e){switch(t){case"compositionend":return fx(e);case"keypress":return e.which!==32?null:(xT=!0,bT);case"textInput":return t=e.data,t===bT&&xT?null:t;default:return null}}function $L(t,e){if(Ka)return t==="compositionend"||!J0&&hx(t,e)?(t=cx(),yf=Q0=Ds=null,Ka=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dx&&e.locale!=="ko"?null:e.data;default:return null}}var FL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!FL[t.type]:e==="textarea"}function px(t,e,n,r){Hb(r),e=Gf(e,"onChange"),0<e.length&&(n=new Y0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vc=null,Qc=null;function VL(t){Ix(t,0)}function cm(t){var e=Ya(t);if(Fb(e))return t}function UL(t,e){if(t==="change")return e}var mx=!1;if(is){var wy;if(is){var Ey="oninput"in document;if(!Ey){var kT=document.createElement("div");kT.setAttribute("oninput","return;"),Ey=typeof kT.oninput=="function"}wy=Ey}else wy=!1;mx=wy&&(!document.documentMode||9<document.documentMode)}function AT(){vc&&(vc.detachEvent("onpropertychange",gx),Qc=vc=null)}function gx(t){if(t.propertyName==="value"&&cm(Qc)){var e=[];px(e,Qc,t,W0(t)),Qb(VL,e)}}function jL(t,e,n){t==="focusin"?(AT(),vc=e,Qc=n,vc.attachEvent("onpropertychange",gx)):t==="focusout"&&AT()}function BL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return cm(Qc)}function zL(t,e){if(t==="click")return cm(e)}function WL(t,e){if(t==="input"||t==="change")return cm(e)}function HL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var li=typeof Object.is=="function"?Object.is:HL;function Yc(t,e){if(li(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Iv.call(e,i)||!li(t[i],e[i]))return!1}return!0}function NT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function OT(t,e){var n=NT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=NT(n)}}function yx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vx(){for(var t=window,e=jf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jf(t.document)}return e}function Z0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qL(t){var e=vx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yx(n.ownerDocument.documentElement,n)){if(r!==null&&Z0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=OT(n,s);var o=OT(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var KL=is&&"documentMode"in document&&11>=document.documentMode,Ga=null,Wv=null,_c=null,Hv=!1;function DT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hv||Ga==null||Ga!==jf(r)||(r=Ga,"selectionStart"in r&&Z0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_c&&Yc(_c,r)||(_c=r,r=Gf(Wv,"onSelect"),0<r.length&&(e=new Y0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ga)))}function Vh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qa={animationend:Vh("Animation","AnimationEnd"),animationiteration:Vh("Animation","AnimationIteration"),animationstart:Vh("Animation","AnimationStart"),transitionend:Vh("Transition","TransitionEnd")},Ty={},_x={};is&&(_x=document.createElement("div").style,"AnimationEvent"in window||(delete Qa.animationend.animation,delete Qa.animationiteration.animation,delete Qa.animationstart.animation),"TransitionEvent"in window||delete Qa.transitionend.transition);function dm(t){if(Ty[t])return Ty[t];if(!Qa[t])return t;var e=Qa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _x)return Ty[t]=e[n];return t}var wx=dm("animationend"),Ex=dm("animationiteration"),Tx=dm("animationstart"),Sx=dm("transitionend"),Cx=new Map,MT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ao(t,e){Cx.set(t,e),_a(e,[t])}for(var Sy=0;Sy<MT.length;Sy++){var Cy=MT[Sy],GL=Cy.toLowerCase(),QL=Cy[0].toUpperCase()+Cy.slice(1);ao(GL,"on"+QL)}ao(wx,"onAnimationEnd");ao(Ex,"onAnimationIteration");ao(Tx,"onAnimationStart");ao("dblclick","onDoubleClick");ao("focusin","onFocus");ao("focusout","onBlur");ao(Sx,"onTransitionEnd");Sl("onMouseEnter",["mouseout","mouseover"]);Sl("onMouseLeave",["mouseout","mouseover"]);Sl("onPointerEnter",["pointerout","pointerover"]);Sl("onPointerLeave",["pointerout","pointerover"]);_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_a("onBeforeInput",["compositionend","keypress","textInput","paste"]);_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YL=new Set("cancel close invalid load scroll toggle".split(" ").concat(rc));function LT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,GM(r,e,void 0,t),t.currentTarget=null}function Ix(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;LT(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;LT(i,a,u),s=l}}}if(zf)throw t=Uv,zf=!1,Uv=null,t}function dt(t,e){var n=e[Yv];n===void 0&&(n=e[Yv]=new Set);var r=t+"__bubble";n.has(r)||(Rx(e,t,2,!1),n.add(r))}function Iy(t,e,n){var r=0;e&&(r|=4),Rx(n,t,r,e)}var Uh="_reactListening"+Math.random().toString(36).slice(2);function Xc(t){if(!t[Uh]){t[Uh]=!0,Ob.forEach(function(n){n!=="selectionchange"&&(YL.has(n)||Iy(n,!1,t),Iy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uh]||(e[Uh]=!0,Iy("selectionchange",!1,e))}}function Rx(t,e,n,r){switch(ux(e)){case 1:var i=cL;break;case 4:i=dL;break;default:i=G0}n=i.bind(null,e,n,t),i=void 0,!Vv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ry(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ao(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Qb(function(){var u=s,c=W0(n),d=[];e:{var h=Cx.get(t);if(h!==void 0){var p=Y0,m=t;switch(t){case"keypress":if(vf(n)===0)break e;case"keydown":case"keyup":p=RL;break;case"focusin":m="focus",p=_y;break;case"focusout":m="blur",p=_y;break;case"beforeblur":case"afterblur":p=_y;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=CT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=pL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=PL;break;case wx:case Ex:case Tx:p=yL;break;case Sx:p=AL;break;case"scroll":p=hL;break;case"wheel":p=OL;break;case"copy":case"cut":case"paste":p=_L;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=RT}var v=(e&4)!==0,_=!v&&t==="scroll",f=v?h!==null?h+"Capture":null:h;v=[];for(var g=u,y;g!==null;){y=g;var E=y.stateNode;if(y.tag===5&&E!==null&&(y=E,f!==null&&(E=Hc(g,f),E!=null&&v.push(Jc(g,E,y)))),_)break;g=g.return}0<v.length&&(h=new p(h,m,null,n,c),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==$v&&(m=n.relatedTarget||n.fromElement)&&(Ao(m)||m[ss]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Ao(m):null,m!==null&&(_=wa(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(v=CT,E="onMouseLeave",f="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(v=RT,E="onPointerLeave",f="onPointerEnter",g="pointer"),_=p==null?h:Ya(p),y=m==null?h:Ya(m),h=new v(E,g+"leave",p,n,c),h.target=_,h.relatedTarget=y,E=null,Ao(c)===u&&(v=new v(f,g+"enter",m,n,c),v.target=y,v.relatedTarget=_,E=v),_=E,p&&m)t:{for(v=p,f=m,g=0,y=v;y;y=Aa(y))g++;for(y=0,E=f;E;E=Aa(E))y++;for(;0<g-y;)v=Aa(v),g--;for(;0<y-g;)f=Aa(f),y--;for(;g--;){if(v===f||f!==null&&v===f.alternate)break t;v=Aa(v),f=Aa(f)}v=null}else v=null;p!==null&&$T(d,h,p,v,!1),m!==null&&_!==null&&$T(d,_,m,v,!0)}}e:{if(h=u?Ya(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var R=UL;else if(PT(h))if(mx)R=WL;else{R=BL;var T=jL}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(R=zL);if(R&&(R=R(t,u))){px(d,R,n,c);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Nv(h,"number",h.value)}switch(T=u?Ya(u):window,t){case"focusin":(PT(T)||T.contentEditable==="true")&&(Ga=T,Wv=u,_c=null);break;case"focusout":_c=Wv=Ga=null;break;case"mousedown":Hv=!0;break;case"contextmenu":case"mouseup":case"dragend":Hv=!1,DT(d,n,c);break;case"selectionchange":if(KL)break;case"keydown":case"keyup":DT(d,n,c)}var C;if(J0)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ka?hx(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(dx&&n.locale!=="ko"&&(Ka||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ka&&(C=cx()):(Ds=c,Q0="value"in Ds?Ds.value:Ds.textContent,Ka=!0)),T=Gf(u,b),0<T.length&&(b=new IT(b,t,null,n,c),d.push({event:b,listeners:T}),C?b.data=C:(C=fx(n),C!==null&&(b.data=C)))),(C=ML?LL(t,n):$L(t,n))&&(u=Gf(u,"onBeforeInput"),0<u.length&&(c=new IT("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}Ix(d,e)})}function Jc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Hc(t,n),s!=null&&r.unshift(Jc(t,s,i)),s=Hc(t,e),s!=null&&r.push(Jc(t,s,i))),t=t.return}return r}function Aa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $T(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Hc(n,s),l!=null&&o.unshift(Jc(n,l,a))):i||(l=Hc(n,s),l!=null&&o.push(Jc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var XL=/\r\n?/g,JL=/\u0000|\uFFFD/g;function FT(t){return(typeof t=="string"?t:""+t).replace(XL,`
`).replace(JL,"")}function jh(t,e,n){if(e=FT(e),FT(t)!==e&&n)throw Error(H(425))}function Qf(){}var qv=null,Kv=null;function Gv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Qv=typeof setTimeout=="function"?setTimeout:void 0,ZL=typeof clearTimeout=="function"?clearTimeout:void 0,VT=typeof Promise=="function"?Promise:void 0,e4=typeof queueMicrotask=="function"?queueMicrotask:typeof VT<"u"?function(t){return VT.resolve(null).then(t).catch(t4)}:Qv;function t4(t){setTimeout(function(){throw t})}function by(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Gc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Gc(e)}function js(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function UT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zl=Math.random().toString(36).slice(2),vi="__reactFiber$"+Zl,Zc="__reactProps$"+Zl,ss="__reactContainer$"+Zl,Yv="__reactEvents$"+Zl,n4="__reactListeners$"+Zl,r4="__reactHandles$"+Zl;function Ao(t){var e=t[vi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ss]||n[vi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=UT(t);t!==null;){if(n=t[vi])return n;t=UT(t)}return e}t=n,n=t.parentNode}return null}function jd(t){return t=t[vi]||t[ss],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ya(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function hm(t){return t[Zc]||null}var Xv=[],Xa=-1;function lo(t){return{current:t}}function gt(t){0>Xa||(t.current=Xv[Xa],Xv[Xa]=null,Xa--)}function lt(t,e){Xa++,Xv[Xa]=t.current,t.current=e}var Js={},Wn=lo(Js),sr=lo(!1),Xo=Js;function Cl(t,e){var n=t.type.contextTypes;if(!n)return Js;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function or(t){return t=t.childContextTypes,t!=null}function Yf(){gt(sr),gt(Wn)}function jT(t,e,n){if(Wn.current!==Js)throw Error(H(168));lt(Wn,e),lt(sr,n)}function bx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,jM(t)||"Unknown",i));return Nt({},n,r)}function Xf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Js,Xo=Wn.current,lt(Wn,t),lt(sr,sr.current),!0}function BT(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=bx(t,e,Xo),r.__reactInternalMemoizedMergedChildContext=t,gt(sr),gt(Wn),lt(Wn,t)):gt(sr),lt(sr,n)}var qi=null,fm=!1,xy=!1;function xx(t){qi===null?qi=[t]:qi.push(t)}function i4(t){fm=!0,xx(t)}function uo(){if(!xy&&qi!==null){xy=!0;var t=0,e=Je;try{var n=qi;for(Je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}qi=null,fm=!1}catch(i){throw qi!==null&&(qi=qi.slice(t+1)),Zb(H0,uo),i}finally{Je=e,xy=!1}}return null}var Ja=[],Za=0,Jf=null,Zf=0,kr=[],Ar=0,Jo=null,Gi=1,Qi="";function So(t,e){Ja[Za++]=Zf,Ja[Za++]=Jf,Jf=t,Zf=e}function Px(t,e,n){kr[Ar++]=Gi,kr[Ar++]=Qi,kr[Ar++]=Jo,Jo=t;var r=Gi;t=Qi;var i=32-si(r)-1;r&=~(1<<i),n+=1;var s=32-si(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Gi=1<<32-si(e)+i|n<<i|r,Qi=s+t}else Gi=1<<s|n<<i|r,Qi=t}function e1(t){t.return!==null&&(So(t,1),Px(t,1,0))}function t1(t){for(;t===Jf;)Jf=Ja[--Za],Ja[Za]=null,Zf=Ja[--Za],Ja[Za]=null;for(;t===Jo;)Jo=kr[--Ar],kr[Ar]=null,Qi=kr[--Ar],kr[Ar]=null,Gi=kr[--Ar],kr[Ar]=null}var vr=null,mr=null,Ct=!1,ti=null;function kx(t,e){var n=Mr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vr=t,mr=js(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vr=t,mr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jo!==null?{id:Gi,overflow:Qi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vr=t,mr=null,!0):!1;default:return!1}}function Jv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Zv(t){if(Ct){var e=mr;if(e){var n=e;if(!zT(t,e)){if(Jv(t))throw Error(H(418));e=js(n.nextSibling);var r=vr;e&&zT(t,e)?kx(r,n):(t.flags=t.flags&-4097|2,Ct=!1,vr=t)}}else{if(Jv(t))throw Error(H(418));t.flags=t.flags&-4097|2,Ct=!1,vr=t}}}function WT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vr=t}function Bh(t){if(t!==vr)return!1;if(!Ct)return WT(t),Ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gv(t.type,t.memoizedProps)),e&&(e=mr)){if(Jv(t))throw Ax(),Error(H(418));for(;e;)kx(t,e),e=js(e.nextSibling)}if(WT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mr=js(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mr=null}}else mr=vr?js(t.stateNode.nextSibling):null;return!0}function Ax(){for(var t=mr;t;)t=js(t.nextSibling)}function Il(){mr=vr=null,Ct=!1}function n1(t){ti===null?ti=[t]:ti.push(t)}var s4=ps.ReactCurrentBatchConfig;function Jr(t,e){if(t&&t.defaultProps){e=Nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ep=lo(null),tp=null,el=null,r1=null;function i1(){r1=el=tp=null}function s1(t){var e=ep.current;gt(ep),t._currentValue=e}function e_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function hl(t,e){tp=t,r1=el=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rr=!0),t.firstContext=null)}function Br(t){var e=t._currentValue;if(r1!==t)if(t={context:t,memoizedValue:e,next:null},el===null){if(tp===null)throw Error(H(308));el=t,tp.dependencies={lanes:0,firstContext:t}}else el=el.next=t;return e}var No=null;function o1(t){No===null?No=[t]:No.push(t)}function Nx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,o1(e)):(n.next=i.next,i.next=n),e.interleaved=n,os(t,r)}function os(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bs=!1;function a1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ox(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function es(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,He&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,os(t,n)}return i=r.interleaved,i===null?(e.next=e,o1(r)):(e.next=i.next,i.next=e),r.interleaved=e,os(t,n)}function _f(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,q0(t,n)}}function HT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function np(t,e,n,r){var i=t.updateQueue;bs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,v=a;switch(h=e,p=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=Nt({},d,h);break e;case 2:bs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ea|=o,t.lanes=o,t.memoizedState=d}}function qT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Dx=new Nb.Component().refs;function t_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var pm={isMounted:function(t){return(t=t._reactInternals)?wa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qn(),i=Ws(t),s=es(r,i);s.payload=e,n!=null&&(s.callback=n),e=Bs(t,s,i),e!==null&&(oi(e,t,i,r),_f(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qn(),i=Ws(t),s=es(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Bs(t,s,i),e!==null&&(oi(e,t,i,r),_f(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qn(),r=Ws(t),i=es(n,r);i.tag=2,e!=null&&(i.callback=e),e=Bs(t,i,r),e!==null&&(oi(e,t,r,n),_f(e,t,r))}};function KT(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Yc(n,r)||!Yc(i,s):!0}function Mx(t,e,n){var r=!1,i=Js,s=e.contextType;return typeof s=="object"&&s!==null?s=Br(s):(i=or(e)?Xo:Wn.current,r=e.contextTypes,s=(r=r!=null)?Cl(t,i):Js),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function GT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&pm.enqueueReplaceState(e,e.state,null)}function n_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Dx,a1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Br(s):(s=or(e)?Xo:Wn.current,i.context=Cl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(t_(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&pm.enqueueReplaceState(i,i.state,null),np(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Pu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Dx&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function zh(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function QT(t){var e=t._init;return e(t._payload)}function Lx(t){function e(f,g){if(t){var y=f.deletions;y===null?(f.deletions=[g],f.flags|=16):y.push(g)}}function n(f,g){if(!t)return null;for(;g!==null;)e(f,g),g=g.sibling;return null}function r(f,g){for(f=new Map;g!==null;)g.key!==null?f.set(g.key,g):f.set(g.index,g),g=g.sibling;return f}function i(f,g){return f=Hs(f,g),f.index=0,f.sibling=null,f}function s(f,g,y){return f.index=y,t?(y=f.alternate,y!==null?(y=y.index,y<g?(f.flags|=2,g):y):(f.flags|=2,g)):(f.flags|=1048576,g)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function a(f,g,y,E){return g===null||g.tag!==6?(g=My(y,f.mode,E),g.return=f,g):(g=i(g,y),g.return=f,g)}function l(f,g,y,E){var R=y.type;return R===qa?c(f,g,y.props.children,E,y.key):g!==null&&(g.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Rs&&QT(R)===g.type)?(E=i(g,y.props),E.ref=Pu(f,g,y),E.return=f,E):(E=If(y.type,y.key,y.props,null,f.mode,E),E.ref=Pu(f,g,y),E.return=f,E)}function u(f,g,y,E){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Ly(y,f.mode,E),g.return=f,g):(g=i(g,y.children||[]),g.return=f,g)}function c(f,g,y,E,R){return g===null||g.tag!==7?(g=Ho(y,f.mode,E,R),g.return=f,g):(g=i(g,y),g.return=f,g)}function d(f,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=My(""+g,f.mode,y),g.return=f,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Nh:return y=If(g.type,g.key,g.props,null,f.mode,y),y.ref=Pu(f,null,g),y.return=f,y;case Ha:return g=Ly(g,f.mode,y),g.return=f,g;case Rs:var E=g._init;return d(f,E(g._payload),y)}if(tc(g)||Cu(g))return g=Ho(g,f.mode,y,null),g.return=f,g;zh(f,g)}return null}function h(f,g,y,E){var R=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return R!==null?null:a(f,g,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Nh:return y.key===R?l(f,g,y,E):null;case Ha:return y.key===R?u(f,g,y,E):null;case Rs:return R=y._init,h(f,g,R(y._payload),E)}if(tc(y)||Cu(y))return R!==null?null:c(f,g,y,E,null);zh(f,y)}return null}function p(f,g,y,E,R){if(typeof E=="string"&&E!==""||typeof E=="number")return f=f.get(y)||null,a(g,f,""+E,R);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Nh:return f=f.get(E.key===null?y:E.key)||null,l(g,f,E,R);case Ha:return f=f.get(E.key===null?y:E.key)||null,u(g,f,E,R);case Rs:var T=E._init;return p(f,g,y,T(E._payload),R)}if(tc(E)||Cu(E))return f=f.get(y)||null,c(g,f,E,R,null);zh(g,E)}return null}function m(f,g,y,E){for(var R=null,T=null,C=g,b=g=0,k=null;C!==null&&b<y.length;b++){C.index>b?(k=C,C=null):k=C.sibling;var x=h(f,C,y[b],E);if(x===null){C===null&&(C=k);break}t&&C&&x.alternate===null&&e(f,C),g=s(x,g,b),T===null?R=x:T.sibling=x,T=x,C=k}if(b===y.length)return n(f,C),Ct&&So(f,b),R;if(C===null){for(;b<y.length;b++)C=d(f,y[b],E),C!==null&&(g=s(C,g,b),T===null?R=C:T.sibling=C,T=C);return Ct&&So(f,b),R}for(C=r(f,C);b<y.length;b++)k=p(C,f,b,y[b],E),k!==null&&(t&&k.alternate!==null&&C.delete(k.key===null?b:k.key),g=s(k,g,b),T===null?R=k:T.sibling=k,T=k);return t&&C.forEach(function(O){return e(f,O)}),Ct&&So(f,b),R}function v(f,g,y,E){var R=Cu(y);if(typeof R!="function")throw Error(H(150));if(y=R.call(y),y==null)throw Error(H(151));for(var T=R=null,C=g,b=g=0,k=null,x=y.next();C!==null&&!x.done;b++,x=y.next()){C.index>b?(k=C,C=null):k=C.sibling;var O=h(f,C,x.value,E);if(O===null){C===null&&(C=k);break}t&&C&&O.alternate===null&&e(f,C),g=s(O,g,b),T===null?R=O:T.sibling=O,T=O,C=k}if(x.done)return n(f,C),Ct&&So(f,b),R;if(C===null){for(;!x.done;b++,x=y.next())x=d(f,x.value,E),x!==null&&(g=s(x,g,b),T===null?R=x:T.sibling=x,T=x);return Ct&&So(f,b),R}for(C=r(f,C);!x.done;b++,x=y.next())x=p(C,f,b,x.value,E),x!==null&&(t&&x.alternate!==null&&C.delete(x.key===null?b:x.key),g=s(x,g,b),T===null?R=x:T.sibling=x,T=x);return t&&C.forEach(function(F){return e(f,F)}),Ct&&So(f,b),R}function _(f,g,y,E){if(typeof y=="object"&&y!==null&&y.type===qa&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Nh:e:{for(var R=y.key,T=g;T!==null;){if(T.key===R){if(R=y.type,R===qa){if(T.tag===7){n(f,T.sibling),g=i(T,y.props.children),g.return=f,f=g;break e}}else if(T.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Rs&&QT(R)===T.type){n(f,T.sibling),g=i(T,y.props),g.ref=Pu(f,T,y),g.return=f,f=g;break e}n(f,T);break}else e(f,T);T=T.sibling}y.type===qa?(g=Ho(y.props.children,f.mode,E,y.key),g.return=f,f=g):(E=If(y.type,y.key,y.props,null,f.mode,E),E.ref=Pu(f,g,y),E.return=f,f=E)}return o(f);case Ha:e:{for(T=y.key;g!==null;){if(g.key===T)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){n(f,g.sibling),g=i(g,y.children||[]),g.return=f,f=g;break e}else{n(f,g);break}else e(f,g);g=g.sibling}g=Ly(y,f.mode,E),g.return=f,f=g}return o(f);case Rs:return T=y._init,_(f,g,T(y._payload),E)}if(tc(y))return m(f,g,y,E);if(Cu(y))return v(f,g,y,E);zh(f,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(n(f,g.sibling),g=i(g,y),g.return=f,f=g):(n(f,g),g=My(y,f.mode,E),g.return=f,f=g),o(f)):n(f,g)}return _}var Rl=Lx(!0),$x=Lx(!1),Bd={},Ri=lo(Bd),ed=lo(Bd),td=lo(Bd);function Oo(t){if(t===Bd)throw Error(H(174));return t}function l1(t,e){switch(lt(td,e),lt(ed,t),lt(Ri,Bd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Dv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Dv(e,t)}gt(Ri),lt(Ri,e)}function bl(){gt(Ri),gt(ed),gt(td)}function Fx(t){Oo(td.current);var e=Oo(Ri.current),n=Dv(e,t.type);e!==n&&(lt(ed,t),lt(Ri,n))}function u1(t){ed.current===t&&(gt(Ri),gt(ed))}var Pt=lo(0);function rp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Py=[];function c1(){for(var t=0;t<Py.length;t++)Py[t]._workInProgressVersionPrimary=null;Py.length=0}var wf=ps.ReactCurrentDispatcher,ky=ps.ReactCurrentBatchConfig,Zo=0,At=null,rn=null,dn=null,ip=!1,wc=!1,nd=0,o4=0;function kn(){throw Error(H(321))}function d1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!li(t[n],e[n]))return!1;return!0}function h1(t,e,n,r,i,s){if(Zo=s,At=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wf.current=t===null||t.memoizedState===null?c4:d4,t=n(r,i),wc){s=0;do{if(wc=!1,nd=0,25<=s)throw Error(H(301));s+=1,dn=rn=null,e.updateQueue=null,wf.current=h4,t=n(r,i)}while(wc)}if(wf.current=sp,e=rn!==null&&rn.next!==null,Zo=0,dn=rn=At=null,ip=!1,e)throw Error(H(300));return t}function f1(){var t=nd!==0;return nd=0,t}function mi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?At.memoizedState=dn=t:dn=dn.next=t,dn}function zr(){if(rn===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=rn.next;var e=dn===null?At.memoizedState:dn.next;if(e!==null)dn=e,rn=t;else{if(t===null)throw Error(H(310));rn=t,t={memoizedState:rn.memoizedState,baseState:rn.baseState,baseQueue:rn.baseQueue,queue:rn.queue,next:null},dn===null?At.memoizedState=dn=t:dn=dn.next=t}return dn}function rd(t,e){return typeof e=="function"?e(t):e}function Ay(t){var e=zr(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=rn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Zo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,At.lanes|=c,ea|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,li(r,e.memoizedState)||(rr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,At.lanes|=s,ea|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ny(t){var e=zr(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);li(s,e.memoizedState)||(rr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Vx(){}function Ux(t,e){var n=At,r=zr(),i=e(),s=!li(r.memoizedState,i);if(s&&(r.memoizedState=i,rr=!0),r=r.queue,p1(zx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||dn!==null&&dn.memoizedState.tag&1){if(n.flags|=2048,id(9,Bx.bind(null,n,r,i,e),void 0,null),mn===null)throw Error(H(349));Zo&30||jx(n,e,i)}return i}function jx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Bx(t,e,n,r){e.value=n,e.getSnapshot=r,Wx(e)&&Hx(t)}function zx(t,e,n){return n(function(){Wx(e)&&Hx(t)})}function Wx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!li(t,n)}catch{return!0}}function Hx(t){var e=os(t,1);e!==null&&oi(e,t,1,-1)}function YT(t){var e=mi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rd,lastRenderedState:t},e.queue=t,t=t.dispatch=u4.bind(null,At,t),[e.memoizedState,t]}function id(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qx(){return zr().memoizedState}function Ef(t,e,n,r){var i=mi();At.flags|=t,i.memoizedState=id(1|e,n,void 0,r===void 0?null:r)}function mm(t,e,n,r){var i=zr();r=r===void 0?null:r;var s=void 0;if(rn!==null){var o=rn.memoizedState;if(s=o.destroy,r!==null&&d1(r,o.deps)){i.memoizedState=id(e,n,s,r);return}}At.flags|=t,i.memoizedState=id(1|e,n,s,r)}function XT(t,e){return Ef(8390656,8,t,e)}function p1(t,e){return mm(2048,8,t,e)}function Kx(t,e){return mm(4,2,t,e)}function Gx(t,e){return mm(4,4,t,e)}function Qx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Yx(t,e,n){return n=n!=null?n.concat([t]):null,mm(4,4,Qx.bind(null,e,t),n)}function m1(){}function Xx(t,e){var n=zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&d1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Jx(t,e){var n=zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&d1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Zx(t,e,n){return Zo&21?(li(n,e)||(n=nx(),At.lanes|=n,ea|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rr=!0),t.memoizedState=n)}function a4(t,e){var n=Je;Je=n!==0&&4>n?n:4,t(!0);var r=ky.transition;ky.transition={};try{t(!1),e()}finally{Je=n,ky.transition=r}}function eP(){return zr().memoizedState}function l4(t,e,n){var r=Ws(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tP(t))nP(e,n);else if(n=Nx(t,e,n,r),n!==null){var i=Qn();oi(n,t,r,i),rP(n,e,r)}}function u4(t,e,n){var r=Ws(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tP(t))nP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,li(a,o)){var l=e.interleaved;l===null?(i.next=i,o1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Nx(t,e,i,r),n!==null&&(i=Qn(),oi(n,t,r,i),rP(n,e,r))}}function tP(t){var e=t.alternate;return t===At||e!==null&&e===At}function nP(t,e){wc=ip=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,q0(t,n)}}var sp={readContext:Br,useCallback:kn,useContext:kn,useEffect:kn,useImperativeHandle:kn,useInsertionEffect:kn,useLayoutEffect:kn,useMemo:kn,useReducer:kn,useRef:kn,useState:kn,useDebugValue:kn,useDeferredValue:kn,useTransition:kn,useMutableSource:kn,useSyncExternalStore:kn,useId:kn,unstable_isNewReconciler:!1},c4={readContext:Br,useCallback:function(t,e){return mi().memoizedState=[t,e===void 0?null:e],t},useContext:Br,useEffect:XT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ef(4194308,4,Qx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ef(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ef(4,2,t,e)},useMemo:function(t,e){var n=mi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=l4.bind(null,At,t),[r.memoizedState,t]},useRef:function(t){var e=mi();return t={current:t},e.memoizedState=t},useState:YT,useDebugValue:m1,useDeferredValue:function(t){return mi().memoizedState=t},useTransition:function(){var t=YT(!1),e=t[0];return t=a4.bind(null,t[1]),mi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=At,i=mi();if(Ct){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),mn===null)throw Error(H(349));Zo&30||jx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,XT(zx.bind(null,r,s,t),[t]),r.flags|=2048,id(9,Bx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=mi(),e=mn.identifierPrefix;if(Ct){var n=Qi,r=Gi;n=(r&~(1<<32-si(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=nd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=o4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},d4={readContext:Br,useCallback:Xx,useContext:Br,useEffect:p1,useImperativeHandle:Yx,useInsertionEffect:Kx,useLayoutEffect:Gx,useMemo:Jx,useReducer:Ay,useRef:qx,useState:function(){return Ay(rd)},useDebugValue:m1,useDeferredValue:function(t){var e=zr();return Zx(e,rn.memoizedState,t)},useTransition:function(){var t=Ay(rd)[0],e=zr().memoizedState;return[t,e]},useMutableSource:Vx,useSyncExternalStore:Ux,useId:eP,unstable_isNewReconciler:!1},h4={readContext:Br,useCallback:Xx,useContext:Br,useEffect:p1,useImperativeHandle:Yx,useInsertionEffect:Kx,useLayoutEffect:Gx,useMemo:Jx,useReducer:Ny,useRef:qx,useState:function(){return Ny(rd)},useDebugValue:m1,useDeferredValue:function(t){var e=zr();return rn===null?e.memoizedState=t:Zx(e,rn.memoizedState,t)},useTransition:function(){var t=Ny(rd)[0],e=zr().memoizedState;return[t,e]},useMutableSource:Vx,useSyncExternalStore:Ux,useId:eP,unstable_isNewReconciler:!1};function xl(t,e){try{var n="",r=e;do n+=UM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Oy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function r_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var f4=typeof WeakMap=="function"?WeakMap:Map;function iP(t,e,n){n=es(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ap||(ap=!0,f_=r),r_(t,e)},n}function sP(t,e,n){n=es(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){r_(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){r_(t,e),typeof r!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function JT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new f4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=b4.bind(null,t,e,n),e.then(t,t))}function ZT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function eS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=es(-1,1),e.tag=2,Bs(n,e,1))),n.lanes|=1),t)}var p4=ps.ReactCurrentOwner,rr=!1;function Kn(t,e,n,r){e.child=t===null?$x(e,null,n,r):Rl(e,t.child,n,r)}function tS(t,e,n,r,i){n=n.render;var s=e.ref;return hl(e,i),r=h1(t,e,n,r,s,i),n=f1(),t!==null&&!rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,as(t,e,i)):(Ct&&n&&e1(e),e.flags|=1,Kn(t,e,r,i),e.child)}function nS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!S1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,oP(t,e,s,r,i)):(t=If(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Yc,n(o,r)&&t.ref===e.ref)return as(t,e,i)}return e.flags|=1,t=Hs(s,r),t.ref=e.ref,t.return=e,e.child=t}function oP(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Yc(s,r)&&t.ref===e.ref)if(rr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(rr=!0);else return e.lanes=t.lanes,as(t,e,i)}return i_(t,e,n,r,i)}function aP(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(nl,fr),fr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt(nl,fr),fr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,lt(nl,fr),fr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,lt(nl,fr),fr|=r;return Kn(t,e,i,n),e.child}function lP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function i_(t,e,n,r,i){var s=or(n)?Xo:Wn.current;return s=Cl(e,s),hl(e,i),n=h1(t,e,n,r,s,i),r=f1(),t!==null&&!rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,as(t,e,i)):(Ct&&r&&e1(e),e.flags|=1,Kn(t,e,n,i),e.child)}function rS(t,e,n,r,i){if(or(n)){var s=!0;Xf(e)}else s=!1;if(hl(e,i),e.stateNode===null)Tf(t,e),Mx(e,n,r),n_(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Br(u):(u=or(n)?Xo:Wn.current,u=Cl(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&GT(e,o,r,u),bs=!1;var h=e.memoizedState;o.state=h,np(e,r,o,i),l=e.memoizedState,a!==r||h!==l||sr.current||bs?(typeof c=="function"&&(t_(e,n,c,r),l=e.memoizedState),(a=bs||KT(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Ox(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Jr(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Br(l):(l=or(n)?Xo:Wn.current,l=Cl(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&GT(e,o,r,l),bs=!1,h=e.memoizedState,o.state=h,np(e,r,o,i);var m=e.memoizedState;a!==d||h!==m||sr.current||bs?(typeof p=="function"&&(t_(e,n,p,r),m=e.memoizedState),(u=bs||KT(e,n,u,r,h,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return s_(t,e,n,r,s,i)}function s_(t,e,n,r,i,s){lP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&BT(e,n,!1),as(t,e,s);r=e.stateNode,p4.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Rl(e,t.child,null,s),e.child=Rl(e,null,a,s)):Kn(t,e,a,s),e.memoizedState=r.state,i&&BT(e,n,!0),e.child}function uP(t){var e=t.stateNode;e.pendingContext?jT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jT(t,e.context,!1),l1(t,e.containerInfo)}function iS(t,e,n,r,i){return Il(),n1(i),e.flags|=256,Kn(t,e,n,r),e.child}var o_={dehydrated:null,treeContext:null,retryLane:0};function a_(t){return{baseLanes:t,cachePool:null,transitions:null}}function cP(t,e,n){var r=e.pendingProps,i=Pt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),lt(Pt,i&1),t===null)return Zv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=vm(o,r,0,null),t=Ho(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=a_(n),e.memoizedState=o_,t):g1(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return m4(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Hs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Hs(a,s):(s=Ho(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?a_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=o_,r}return s=t.child,t=s.sibling,r=Hs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function g1(t,e){return e=vm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wh(t,e,n,r){return r!==null&&n1(r),Rl(e,t.child,null,n),t=g1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function m4(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Oy(Error(H(422))),Wh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=vm({mode:"visible",children:r.children},i,0,null),s=Ho(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Rl(e,t.child,null,o),e.child.memoizedState=a_(o),e.memoizedState=o_,s);if(!(e.mode&1))return Wh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=Oy(s,r,void 0),Wh(t,e,o,r)}if(a=(o&t.childLanes)!==0,rr||a){if(r=mn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,os(t,i),oi(r,t,i,-1))}return T1(),r=Oy(Error(H(421))),Wh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=x4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,mr=js(i.nextSibling),vr=e,Ct=!0,ti=null,t!==null&&(kr[Ar++]=Gi,kr[Ar++]=Qi,kr[Ar++]=Jo,Gi=t.id,Qi=t.overflow,Jo=e),e=g1(e,r.children),e.flags|=4096,e)}function sS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),e_(t.return,e,n)}function Dy(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function dP(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Kn(t,e,r.children,n),r=Pt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sS(t,n,e);else if(t.tag===19)sS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lt(Pt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&rp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Dy(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&rp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Dy(e,!0,n,null,s);break;case"together":Dy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Tf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function as(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ea|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Hs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function g4(t,e,n){switch(e.tag){case 3:uP(e),Il();break;case 5:Fx(e);break;case 1:or(e.type)&&Xf(e);break;case 4:l1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;lt(ep,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lt(Pt,Pt.current&1),e.flags|=128,null):n&e.child.childLanes?cP(t,e,n):(lt(Pt,Pt.current&1),t=as(t,e,n),t!==null?t.sibling:null);lt(Pt,Pt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return dP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(Pt,Pt.current),r)break;return null;case 22:case 23:return e.lanes=0,aP(t,e,n)}return as(t,e,n)}var hP,l_,fP,pP;hP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};l_=function(){};fP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Oo(Ri.current);var s=null;switch(n){case"input":i=kv(t,i),r=kv(t,r),s=[];break;case"select":i=Nt({},i,{value:void 0}),r=Nt({},r,{value:void 0}),s=[];break;case"textarea":i=Ov(t,i),r=Ov(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qf)}Mv(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&dt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};pP=function(t,e,n,r){n!==r&&(e.flags|=4)};function ku(t,e){if(!Ct)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function An(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function y4(t,e,n){var r=e.pendingProps;switch(t1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(e),null;case 1:return or(e.type)&&Yf(),An(e),null;case 3:return r=e.stateNode,bl(),gt(sr),gt(Wn),c1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Bh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ti!==null&&(g_(ti),ti=null))),l_(t,e),An(e),null;case 5:u1(e);var i=Oo(td.current);if(n=e.type,t!==null&&e.stateNode!=null)fP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return An(e),null}if(t=Oo(Ri.current),Bh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[vi]=e,r[Zc]=s,t=(e.mode&1)!==0,n){case"dialog":dt("cancel",r),dt("close",r);break;case"iframe":case"object":case"embed":dt("load",r);break;case"video":case"audio":for(i=0;i<rc.length;i++)dt(rc[i],r);break;case"source":dt("error",r);break;case"img":case"image":case"link":dt("error",r),dt("load",r);break;case"details":dt("toggle",r);break;case"input":pT(r,s),dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},dt("invalid",r);break;case"textarea":gT(r,s),dt("invalid",r)}Mv(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&jh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&jh(r.textContent,a,t),i=["children",""+a]):zc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&dt("scroll",r)}switch(n){case"input":Oh(r),mT(r,s,!0);break;case"textarea":Oh(r),yT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Qf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vi]=e,t[Zc]=r,hP(t,e,!1,!1),e.stateNode=t;e:{switch(o=Lv(n,r),n){case"dialog":dt("cancel",t),dt("close",t),i=r;break;case"iframe":case"object":case"embed":dt("load",t),i=r;break;case"video":case"audio":for(i=0;i<rc.length;i++)dt(rc[i],t);i=r;break;case"source":dt("error",t),i=r;break;case"img":case"image":case"link":dt("error",t),dt("load",t),i=r;break;case"details":dt("toggle",t),i=r;break;case"input":pT(t,r),i=kv(t,r),dt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Nt({},r,{value:void 0}),dt("invalid",t);break;case"textarea":gT(t,r),i=Ov(t,r),dt("invalid",t);break;default:i=r}Mv(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Wb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Bb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Wc(t,l):typeof l=="number"&&Wc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&dt("scroll",t):l!=null&&U0(t,s,l,o))}switch(n){case"input":Oh(t),mT(t,r,!1);break;case"textarea":Oh(t),yT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ll(t,!!r.multiple,s,!1):r.defaultValue!=null&&ll(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Qf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return An(e),null;case 6:if(t&&e.stateNode!=null)pP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Oo(td.current),Oo(Ri.current),Bh(e)){if(r=e.stateNode,n=e.memoizedProps,r[vi]=e,(s=r.nodeValue!==n)&&(t=vr,t!==null))switch(t.tag){case 3:jh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&jh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vi]=e,e.stateNode=r}return An(e),null;case 13:if(gt(Pt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ct&&mr!==null&&e.mode&1&&!(e.flags&128))Ax(),Il(),e.flags|=98560,s=!1;else if(s=Bh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[vi]=e}else Il(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;An(e),s=!1}else ti!==null&&(g_(ti),ti=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pt.current&1?sn===0&&(sn=3):T1())),e.updateQueue!==null&&(e.flags|=4),An(e),null);case 4:return bl(),l_(t,e),t===null&&Xc(e.stateNode.containerInfo),An(e),null;case 10:return s1(e.type._context),An(e),null;case 17:return or(e.type)&&Yf(),An(e),null;case 19:if(gt(Pt),s=e.memoizedState,s===null)return An(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ku(s,!1);else{if(sn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=rp(t),o!==null){for(e.flags|=128,ku(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return lt(Pt,Pt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Wt()>Pl&&(e.flags|=128,r=!0,ku(s,!1),e.lanes=4194304)}else{if(!r)if(t=rp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ku(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ct)return An(e),null}else 2*Wt()-s.renderingStartTime>Pl&&n!==1073741824&&(e.flags|=128,r=!0,ku(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Wt(),e.sibling=null,n=Pt.current,lt(Pt,r?n&1|2:n&1),e):(An(e),null);case 22:case 23:return E1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fr&1073741824&&(An(e),e.subtreeFlags&6&&(e.flags|=8192)):An(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function v4(t,e){switch(t1(e),e.tag){case 1:return or(e.type)&&Yf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bl(),gt(sr),gt(Wn),c1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return u1(e),null;case 13:if(gt(Pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Il()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gt(Pt),null;case 4:return bl(),null;case 10:return s1(e.type._context),null;case 22:case 23:return E1(),null;case 24:return null;default:return null}}var Hh=!1,Ln=!1,_4=typeof WeakSet=="function"?WeakSet:Set,Z=null;function tl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Vt(t,e,r)}else n.current=null}function u_(t,e,n){try{n()}catch(r){Vt(t,e,r)}}var oS=!1;function w4(t,e){if(qv=qf,t=vx(),Z0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Kv={focusedElem:t,selectionRange:n},qf=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,_=m.memoizedState,f=e.stateNode,g=f.getSnapshotBeforeUpdate(e.elementType===e.type?v:Jr(e.type,v),_);f.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(E){Vt(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return m=oS,oS=!1,m}function Ec(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&u_(e,n,s)}i=i.next}while(i!==r)}}function gm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function c_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mP(t){var e=t.alternate;e!==null&&(t.alternate=null,mP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vi],delete e[Zc],delete e[Yv],delete e[n4],delete e[r4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gP(t){return t.tag===5||t.tag===3||t.tag===4}function aS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function d_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qf));else if(r!==4&&(t=t.child,t!==null))for(d_(t,e,n),t=t.sibling;t!==null;)d_(t,e,n),t=t.sibling}function h_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(h_(t,e,n),t=t.sibling;t!==null;)h_(t,e,n),t=t.sibling}var En=null,Zr=!1;function Es(t,e,n){for(n=n.child;n!==null;)yP(t,e,n),n=n.sibling}function yP(t,e,n){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(lm,n)}catch{}switch(n.tag){case 5:Ln||tl(n,e);case 6:var r=En,i=Zr;En=null,Es(t,e,n),En=r,Zr=i,En!==null&&(Zr?(t=En,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):En.removeChild(n.stateNode));break;case 18:En!==null&&(Zr?(t=En,n=n.stateNode,t.nodeType===8?by(t.parentNode,n):t.nodeType===1&&by(t,n),Gc(t)):by(En,n.stateNode));break;case 4:r=En,i=Zr,En=n.stateNode.containerInfo,Zr=!0,Es(t,e,n),En=r,Zr=i;break;case 0:case 11:case 14:case 15:if(!Ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&u_(n,e,o),i=i.next}while(i!==r)}Es(t,e,n);break;case 1:if(!Ln&&(tl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Vt(n,e,a)}Es(t,e,n);break;case 21:Es(t,e,n);break;case 22:n.mode&1?(Ln=(r=Ln)||n.memoizedState!==null,Es(t,e,n),Ln=r):Es(t,e,n);break;default:Es(t,e,n)}}function lS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _4),e.forEach(function(r){var i=P4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:En=a.stateNode,Zr=!1;break e;case 3:En=a.stateNode.containerInfo,Zr=!0;break e;case 4:En=a.stateNode.containerInfo,Zr=!0;break e}a=a.return}if(En===null)throw Error(H(160));yP(s,o,i),En=null,Zr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Vt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vP(e,t),e=e.sibling}function vP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xr(e,t),pi(t),r&4){try{Ec(3,t,t.return),gm(3,t)}catch(v){Vt(t,t.return,v)}try{Ec(5,t,t.return)}catch(v){Vt(t,t.return,v)}}break;case 1:Xr(e,t),pi(t),r&512&&n!==null&&tl(n,n.return);break;case 5:if(Xr(e,t),pi(t),r&512&&n!==null&&tl(n,n.return),t.flags&32){var i=t.stateNode;try{Wc(i,"")}catch(v){Vt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Vb(i,s),Lv(a,o);var u=Lv(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Wb(i,d):c==="dangerouslySetInnerHTML"?Bb(i,d):c==="children"?Wc(i,d):U0(i,c,d,u)}switch(a){case"input":Av(i,s);break;case"textarea":Ub(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ll(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?ll(i,!!s.multiple,s.defaultValue,!0):ll(i,!!s.multiple,s.multiple?[]:"",!1))}i[Zc]=s}catch(v){Vt(t,t.return,v)}}break;case 6:if(Xr(e,t),pi(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Vt(t,t.return,v)}}break;case 3:if(Xr(e,t),pi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gc(e.containerInfo)}catch(v){Vt(t,t.return,v)}break;case 4:Xr(e,t),pi(t);break;case 13:Xr(e,t),pi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(_1=Wt())),r&4&&lS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ln=(u=Ln)||c,Xr(e,t),Ln=u):Xr(e,t),pi(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Z=t,c=t.child;c!==null;){for(d=Z=c;Z!==null;){switch(h=Z,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ec(4,h,h.return);break;case 1:tl(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(v){Vt(r,n,v)}}break;case 5:tl(h,h.return);break;case 22:if(h.memoizedState!==null){cS(d);continue}}p!==null?(p.return=h,Z=p):cS(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zb("display",o))}catch(v){Vt(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Vt(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xr(e,t),pi(t),r&4&&lS(t);break;case 21:break;default:Xr(e,t),pi(t)}}function pi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gP(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Wc(i,""),r.flags&=-33);var s=aS(t);h_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=aS(t);d_(t,a,o);break;default:throw Error(H(161))}}catch(l){Vt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function E4(t,e,n){Z=t,_P(t)}function _P(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Hh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ln;a=Hh;var u=Ln;if(Hh=o,(Ln=l)&&!u)for(Z=i;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?dS(i):l!==null?(l.return=o,Z=l):dS(i);for(;s!==null;)Z=s,_P(s),s=s.sibling;Z=i,Hh=a,Ln=u}uS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):uS(t)}}function uS(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ln||gm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Jr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&qT(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}qT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Gc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ln||e.flags&512&&c_(e)}catch(h){Vt(e,e.return,h)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function cS(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function dS(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gm(4,e)}catch(l){Vt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Vt(e,i,l)}}var s=e.return;try{c_(e)}catch(l){Vt(e,s,l)}break;case 5:var o=e.return;try{c_(e)}catch(l){Vt(e,o,l)}}}catch(l){Vt(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var T4=Math.ceil,op=ps.ReactCurrentDispatcher,y1=ps.ReactCurrentOwner,Fr=ps.ReactCurrentBatchConfig,He=0,mn=null,Xt=null,Rn=0,fr=0,nl=lo(0),sn=0,sd=null,ea=0,ym=0,v1=0,Tc=null,tr=null,_1=0,Pl=1/0,Hi=null,ap=!1,f_=null,zs=null,qh=!1,Ms=null,lp=0,Sc=0,p_=null,Sf=-1,Cf=0;function Qn(){return He&6?Wt():Sf!==-1?Sf:Sf=Wt()}function Ws(t){return t.mode&1?He&2&&Rn!==0?Rn&-Rn:s4.transition!==null?(Cf===0&&(Cf=nx()),Cf):(t=Je,t!==0||(t=window.event,t=t===void 0?16:ux(t.type)),t):1}function oi(t,e,n,r){if(50<Sc)throw Sc=0,p_=null,Error(H(185));Vd(t,n,r),(!(He&2)||t!==mn)&&(t===mn&&(!(He&2)&&(ym|=n),sn===4&&Ps(t,Rn)),ar(t,r),n===1&&He===0&&!(e.mode&1)&&(Pl=Wt()+500,fm&&uo()))}function ar(t,e){var n=t.callbackNode;sL(t,e);var r=Hf(t,t===mn?Rn:0);if(r===0)n!==null&&wT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&wT(n),e===1)t.tag===0?i4(hS.bind(null,t)):xx(hS.bind(null,t)),e4(function(){!(He&6)&&uo()}),n=null;else{switch(rx(r)){case 1:n=H0;break;case 4:n=ex;break;case 16:n=Wf;break;case 536870912:n=tx;break;default:n=Wf}n=bP(n,wP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wP(t,e){if(Sf=-1,Cf=0,He&6)throw Error(H(327));var n=t.callbackNode;if(fl()&&t.callbackNode!==n)return null;var r=Hf(t,t===mn?Rn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=up(t,r);else{e=r;var i=He;He|=2;var s=TP();(mn!==t||Rn!==e)&&(Hi=null,Pl=Wt()+500,Wo(t,e));do try{I4();break}catch(a){EP(t,a)}while(!0);i1(),op.current=s,He=i,Xt!==null?e=0:(mn=null,Rn=0,e=sn)}if(e!==0){if(e===2&&(i=jv(t),i!==0&&(r=i,e=m_(t,i))),e===1)throw n=sd,Wo(t,0),Ps(t,r),ar(t,Wt()),n;if(e===6)Ps(t,r);else{if(i=t.current.alternate,!(r&30)&&!S4(i)&&(e=up(t,r),e===2&&(s=jv(t),s!==0&&(r=s,e=m_(t,s))),e===1))throw n=sd,Wo(t,0),Ps(t,r),ar(t,Wt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Co(t,tr,Hi);break;case 3:if(Ps(t,r),(r&130023424)===r&&(e=_1+500-Wt(),10<e)){if(Hf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Qv(Co.bind(null,t,tr,Hi),e);break}Co(t,tr,Hi);break;case 4:if(Ps(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-si(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Wt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*T4(r/1960))-r,10<r){t.timeoutHandle=Qv(Co.bind(null,t,tr,Hi),r);break}Co(t,tr,Hi);break;case 5:Co(t,tr,Hi);break;default:throw Error(H(329))}}}return ar(t,Wt()),t.callbackNode===n?wP.bind(null,t):null}function m_(t,e){var n=Tc;return t.current.memoizedState.isDehydrated&&(Wo(t,e).flags|=256),t=up(t,e),t!==2&&(e=tr,tr=n,e!==null&&g_(e)),t}function g_(t){tr===null?tr=t:tr.push.apply(tr,t)}function S4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!li(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ps(t,e){for(e&=~v1,e&=~ym,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-si(e),r=1<<n;t[n]=-1,e&=~r}}function hS(t){if(He&6)throw Error(H(327));fl();var e=Hf(t,0);if(!(e&1))return ar(t,Wt()),null;var n=up(t,e);if(t.tag!==0&&n===2){var r=jv(t);r!==0&&(e=r,n=m_(t,r))}if(n===1)throw n=sd,Wo(t,0),Ps(t,e),ar(t,Wt()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Co(t,tr,Hi),ar(t,Wt()),null}function w1(t,e){var n=He;He|=1;try{return t(e)}finally{He=n,He===0&&(Pl=Wt()+500,fm&&uo())}}function ta(t){Ms!==null&&Ms.tag===0&&!(He&6)&&fl();var e=He;He|=1;var n=Fr.transition,r=Je;try{if(Fr.transition=null,Je=1,t)return t()}finally{Je=r,Fr.transition=n,He=e,!(He&6)&&uo()}}function E1(){fr=nl.current,gt(nl)}function Wo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ZL(n)),Xt!==null)for(n=Xt.return;n!==null;){var r=n;switch(t1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yf();break;case 3:bl(),gt(sr),gt(Wn),c1();break;case 5:u1(r);break;case 4:bl();break;case 13:gt(Pt);break;case 19:gt(Pt);break;case 10:s1(r.type._context);break;case 22:case 23:E1()}n=n.return}if(mn=t,Xt=t=Hs(t.current,null),Rn=fr=e,sn=0,sd=null,v1=ym=ea=0,tr=Tc=null,No!==null){for(e=0;e<No.length;e++)if(n=No[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}No=null}return t}function EP(t,e){do{var n=Xt;try{if(i1(),wf.current=sp,ip){for(var r=At.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ip=!1}if(Zo=0,dn=rn=At=null,wc=!1,nd=0,y1.current=null,n===null||n.return===null){sn=1,sd=e,Xt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Rn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=ZT(o);if(p!==null){p.flags&=-257,eS(p,o,a,s,e),p.mode&1&&JT(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var v=new Set;v.add(l),e.updateQueue=v}else m.add(l);break e}else{if(!(e&1)){JT(s,u,e),T1();break e}l=Error(H(426))}}else if(Ct&&a.mode&1){var _=ZT(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),eS(_,o,a,s,e),n1(xl(l,a));break e}}s=l=xl(l,a),sn!==4&&(sn=2),Tc===null?Tc=[s]:Tc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var f=iP(s,l,e);HT(s,f);break e;case 1:a=l;var g=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(zs===null||!zs.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=sP(s,a,e);HT(s,E);break e}}s=s.return}while(s!==null)}CP(n)}catch(R){e=R,Xt===n&&n!==null&&(Xt=n=n.return);continue}break}while(!0)}function TP(){var t=op.current;return op.current=sp,t===null?sp:t}function T1(){(sn===0||sn===3||sn===2)&&(sn=4),mn===null||!(ea&268435455)&&!(ym&268435455)||Ps(mn,Rn)}function up(t,e){var n=He;He|=2;var r=TP();(mn!==t||Rn!==e)&&(Hi=null,Wo(t,e));do try{C4();break}catch(i){EP(t,i)}while(!0);if(i1(),He=n,op.current=r,Xt!==null)throw Error(H(261));return mn=null,Rn=0,sn}function C4(){for(;Xt!==null;)SP(Xt)}function I4(){for(;Xt!==null&&!YM();)SP(Xt)}function SP(t){var e=RP(t.alternate,t,fr);t.memoizedProps=t.pendingProps,e===null?CP(t):Xt=e,y1.current=null}function CP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=v4(n,e),n!==null){n.flags&=32767,Xt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{sn=6,Xt=null;return}}else if(n=y4(n,e,fr),n!==null){Xt=n;return}if(e=e.sibling,e!==null){Xt=e;return}Xt=e=t}while(e!==null);sn===0&&(sn=5)}function Co(t,e,n){var r=Je,i=Fr.transition;try{Fr.transition=null,Je=1,R4(t,e,n,r)}finally{Fr.transition=i,Je=r}return null}function R4(t,e,n,r){do fl();while(Ms!==null);if(He&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(oL(t,s),t===mn&&(Xt=mn=null,Rn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||qh||(qh=!0,bP(Wf,function(){return fl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Fr.transition,Fr.transition=null;var o=Je;Je=1;var a=He;He|=4,y1.current=null,w4(t,n),vP(n,t),qL(Kv),qf=!!qv,Kv=qv=null,t.current=n,E4(n),XM(),He=a,Je=o,Fr.transition=s}else t.current=n;if(qh&&(qh=!1,Ms=t,lp=i),s=t.pendingLanes,s===0&&(zs=null),eL(n.stateNode),ar(t,Wt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ap)throw ap=!1,t=f_,f_=null,t;return lp&1&&t.tag!==0&&fl(),s=t.pendingLanes,s&1?t===p_?Sc++:(Sc=0,p_=t):Sc=0,uo(),null}function fl(){if(Ms!==null){var t=rx(lp),e=Fr.transition,n=Je;try{if(Fr.transition=null,Je=16>t?16:t,Ms===null)var r=!1;else{if(t=Ms,Ms=null,lp=0,He&6)throw Error(H(331));var i=He;for(He|=4,Z=t.current;Z!==null;){var s=Z,o=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Z=u;Z!==null;){var c=Z;switch(c.tag){case 0:case 11:case 15:Ec(8,c,s)}var d=c.child;if(d!==null)d.return=c,Z=d;else for(;Z!==null;){c=Z;var h=c.sibling,p=c.return;if(mP(c),c===u){Z=null;break}if(h!==null){h.return=p,Z=h;break}Z=p}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var _=v.sibling;v.sibling=null,v=_}while(v!==null)}}Z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Z=o;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ec(9,s,s.return)}var f=s.sibling;if(f!==null){f.return=s.return,Z=f;break e}Z=s.return}}var g=t.current;for(Z=g;Z!==null;){o=Z;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,Z=y;else e:for(o=g;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gm(9,a)}}catch(R){Vt(a,a.return,R)}if(a===o){Z=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,Z=E;break e}Z=a.return}}if(He=i,uo(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(lm,t)}catch{}r=!0}return r}finally{Je=n,Fr.transition=e}}return!1}function fS(t,e,n){e=xl(n,e),e=iP(t,e,1),t=Bs(t,e,1),e=Qn(),t!==null&&(Vd(t,1,e),ar(t,e))}function Vt(t,e,n){if(t.tag===3)fS(t,t,n);else for(;e!==null;){if(e.tag===3){fS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zs===null||!zs.has(r))){t=xl(n,t),t=sP(e,t,1),e=Bs(e,t,1),t=Qn(),e!==null&&(Vd(e,1,t),ar(e,t));break}}e=e.return}}function b4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qn(),t.pingedLanes|=t.suspendedLanes&n,mn===t&&(Rn&n)===n&&(sn===4||sn===3&&(Rn&130023424)===Rn&&500>Wt()-_1?Wo(t,0):v1|=n),ar(t,e)}function IP(t,e){e===0&&(t.mode&1?(e=Lh,Lh<<=1,!(Lh&130023424)&&(Lh=4194304)):e=1);var n=Qn();t=os(t,e),t!==null&&(Vd(t,e,n),ar(t,n))}function x4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),IP(t,n)}function P4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),IP(t,n)}var RP;RP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sr.current)rr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rr=!1,g4(t,e,n);rr=!!(t.flags&131072)}else rr=!1,Ct&&e.flags&1048576&&Px(e,Zf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Tf(t,e),t=e.pendingProps;var i=Cl(e,Wn.current);hl(e,n),i=h1(null,e,r,t,i,n);var s=f1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,or(r)?(s=!0,Xf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,a1(e),i.updater=pm,e.stateNode=i,i._reactInternals=e,n_(e,r,t,n),e=s_(null,e,r,!0,s,n)):(e.tag=0,Ct&&s&&e1(e),Kn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Tf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=A4(r),t=Jr(r,t),i){case 0:e=i_(null,e,r,t,n);break e;case 1:e=rS(null,e,r,t,n);break e;case 11:e=tS(null,e,r,t,n);break e;case 14:e=nS(null,e,r,Jr(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jr(r,i),i_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jr(r,i),rS(t,e,r,i,n);case 3:e:{if(uP(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Ox(t,e),np(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=xl(Error(H(423)),e),e=iS(t,e,r,n,i);break e}else if(r!==i){i=xl(Error(H(424)),e),e=iS(t,e,r,n,i);break e}else for(mr=js(e.stateNode.containerInfo.firstChild),vr=e,Ct=!0,ti=null,n=$x(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Il(),r===i){e=as(t,e,n);break e}Kn(t,e,r,n)}e=e.child}return e;case 5:return Fx(e),t===null&&Zv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Gv(r,i)?o=null:s!==null&&Gv(r,s)&&(e.flags|=32),lP(t,e),Kn(t,e,o,n),e.child;case 6:return t===null&&Zv(e),null;case 13:return cP(t,e,n);case 4:return l1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Rl(e,null,r,n):Kn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jr(r,i),tS(t,e,r,i,n);case 7:return Kn(t,e,e.pendingProps,n),e.child;case 8:return Kn(t,e,e.pendingProps.children,n),e.child;case 12:return Kn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,lt(ep,r._currentValue),r._currentValue=o,s!==null)if(li(s.value,o)){if(s.children===i.children&&!sr.current){e=as(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=es(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),e_(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),e_(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Kn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,hl(e,n),i=Br(i),r=r(i),e.flags|=1,Kn(t,e,r,n),e.child;case 14:return r=e.type,i=Jr(r,e.pendingProps),i=Jr(r.type,i),nS(t,e,r,i,n);case 15:return oP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jr(r,i),Tf(t,e),e.tag=1,or(r)?(t=!0,Xf(e)):t=!1,hl(e,n),Mx(e,r,i),n_(e,r,i,n),s_(null,e,r,!0,t,n);case 19:return dP(t,e,n);case 22:return aP(t,e,n)}throw Error(H(156,e.tag))};function bP(t,e){return Zb(t,e)}function k4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(t,e,n,r){return new k4(t,e,n,r)}function S1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function A4(t){if(typeof t=="function")return S1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===B0)return 11;if(t===z0)return 14}return 2}function Hs(t,e){var n=t.alternate;return n===null?(n=Mr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function If(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")S1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qa:return Ho(n.children,i,s,e);case j0:o=8,i|=8;break;case Rv:return t=Mr(12,n,e,i|2),t.elementType=Rv,t.lanes=s,t;case bv:return t=Mr(13,n,e,i),t.elementType=bv,t.lanes=s,t;case xv:return t=Mr(19,n,e,i),t.elementType=xv,t.lanes=s,t;case Lb:return vm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Db:o=10;break e;case Mb:o=9;break e;case B0:o=11;break e;case z0:o=14;break e;case Rs:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Mr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ho(t,e,n,r){return t=Mr(7,t,r,e),t.lanes=n,t}function vm(t,e,n,r){return t=Mr(22,t,r,e),t.elementType=Lb,t.lanes=n,t.stateNode={isHidden:!1},t}function My(t,e,n){return t=Mr(6,t,null,e),t.lanes=n,t}function Ly(t,e,n){return e=Mr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function N4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gy(0),this.expirationTimes=gy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function C1(t,e,n,r,i,s,o,a,l){return t=new N4(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Mr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},a1(s),t}function O4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ha,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function xP(t){if(!t)return Js;t=t._reactInternals;e:{if(wa(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(or(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(or(n))return bx(t,n,e)}return e}function PP(t,e,n,r,i,s,o,a,l){return t=C1(n,r,!0,t,i,s,o,a,l),t.context=xP(null),n=t.current,r=Qn(),i=Ws(n),s=es(r,i),s.callback=e??null,Bs(n,s,i),t.current.lanes=i,Vd(t,i,r),ar(t,r),t}function _m(t,e,n,r){var i=e.current,s=Qn(),o=Ws(i);return n=xP(n),e.context===null?e.context=n:e.pendingContext=n,e=es(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bs(i,e,o),t!==null&&(oi(t,i,o,s),_f(t,i,o)),o}function cp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function pS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function I1(t,e){pS(t,e),(t=t.alternate)&&pS(t,e)}function D4(){return null}var kP=typeof reportError=="function"?reportError:function(t){console.error(t)};function R1(t){this._internalRoot=t}wm.prototype.render=R1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));_m(t,e,null,null)};wm.prototype.unmount=R1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ta(function(){_m(null,t,null,null)}),e[ss]=null}};function wm(t){this._internalRoot=t}wm.prototype.unstable_scheduleHydration=function(t){if(t){var e=ox();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xs.length&&e!==0&&e<xs[n].priority;n++);xs.splice(n,0,t),n===0&&lx(t)}};function b1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Em(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mS(){}function M4(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=cp(o);s.call(u)}}var o=PP(e,r,t,0,null,!1,!1,"",mS);return t._reactRootContainer=o,t[ss]=o.current,Xc(t.nodeType===8?t.parentNode:t),ta(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=cp(l);a.call(u)}}var l=C1(t,0,!1,null,null,!1,!1,"",mS);return t._reactRootContainer=l,t[ss]=l.current,Xc(t.nodeType===8?t.parentNode:t),ta(function(){_m(e,l,n,r)}),l}function Tm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=cp(o);a.call(l)}}_m(e,o,t,i)}else o=M4(n,e,t,i,r);return cp(o)}ix=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nc(e.pendingLanes);n!==0&&(q0(e,n|1),ar(e,Wt()),!(He&6)&&(Pl=Wt()+500,uo()))}break;case 13:ta(function(){var r=os(t,1);if(r!==null){var i=Qn();oi(r,t,1,i)}}),I1(t,1)}};K0=function(t){if(t.tag===13){var e=os(t,134217728);if(e!==null){var n=Qn();oi(e,t,134217728,n)}I1(t,134217728)}};sx=function(t){if(t.tag===13){var e=Ws(t),n=os(t,e);if(n!==null){var r=Qn();oi(n,t,e,r)}I1(t,e)}};ox=function(){return Je};ax=function(t,e){var n=Je;try{return Je=t,e()}finally{Je=n}};Fv=function(t,e,n){switch(e){case"input":if(Av(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=hm(r);if(!i)throw Error(H(90));Fb(r),Av(r,i)}}}break;case"textarea":Ub(t,n);break;case"select":e=n.value,e!=null&&ll(t,!!n.multiple,e,!1)}};Kb=w1;Gb=ta;var L4={usingClientEntryPoint:!1,Events:[jd,Ya,hm,Hb,qb,w1]},Au={findFiberByHostInstance:Ao,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},$4={bundleType:Au.bundleType,version:Au.version,rendererPackageName:Au.rendererPackageName,rendererConfig:Au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ps.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xb(t),t===null?null:t.stateNode},findFiberByHostInstance:Au.findFiberByHostInstance||D4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kh.isDisabled&&Kh.supportsFiber)try{lm=Kh.inject($4),Ii=Kh}catch{}}Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L4;Cr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!b1(e))throw Error(H(200));return O4(t,e,null,n)};Cr.createRoot=function(t,e){if(!b1(t))throw Error(H(299));var n=!1,r="",i=kP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=C1(t,1,!1,null,null,n,!1,r,i),t[ss]=e.current,Xc(t.nodeType===8?t.parentNode:t),new R1(e)};Cr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=Xb(e),t=t===null?null:t.stateNode,t};Cr.flushSync=function(t){return ta(t)};Cr.hydrate=function(t,e,n){if(!Em(e))throw Error(H(200));return Tm(null,t,e,!0,n)};Cr.hydrateRoot=function(t,e,n){if(!b1(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=kP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=PP(e,null,t,1,n??null,i,!1,s,o),t[ss]=e.current,Xc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new wm(e)};Cr.render=function(t,e,n){if(!Em(e))throw Error(H(200));return Tm(null,t,e,!1,n)};Cr.unmountComponentAtNode=function(t){if(!Em(t))throw Error(H(40));return t._reactRootContainer?(ta(function(){Tm(null,null,t,!1,function(){t._reactRootContainer=null,t[ss]=null})}),!0):!1};Cr.unstable_batchedUpdates=w1;Cr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Em(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Tm(t,e,n,!1,r)};Cr.version="18.2.0-next-9e3b772b8-20220608";function AP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AP)}catch(t){console.error(t)}}AP(),Pb.exports=Cr;var zd=Pb.exports;const ic=vb(zd),F4=yb({__proto__:null,default:ic},[zd]);var gS=zd;Cv.createRoot=gS.createRoot,Cv.hydrateRoot=gS.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ut(){return Ut=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ut.apply(this,arguments)}var zt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zt||(zt={}));const yS="popstate";function V4(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return od("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ra(i)}return j4(e,n,null,t)}function Se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function na(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function U4(){return Math.random().toString(36).substr(2,8)}function vS(t,e){return{usr:t.state,key:t.key,idx:e}}function od(t,e,n,r){return n===void 0&&(n=null),Ut({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ms(e):e,{state:n,key:e&&e.key||r||U4()})}function ra(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ms(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function j4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=zt.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Ut({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=zt.Pop;let _=c(),f=_==null?null:_-u;u=_,l&&l({action:a,location:v.location,delta:f})}function h(_,f){a=zt.Push;let g=od(v.location,_,f);n&&n(g,_),u=c()+1;let y=vS(g,u),E=v.createHref(g);try{o.pushState(y,"",E)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(E)}s&&l&&l({action:a,location:v.location,delta:1})}function p(_,f){a=zt.Replace;let g=od(v.location,_,f);n&&n(g,_),u=c();let y=vS(g,u),E=v.createHref(g);o.replaceState(y,"",E),s&&l&&l({action:a,location:v.location,delta:0})}function m(_){let f=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof _=="string"?_:ra(_);return Se(f,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,f)}let v={get action(){return a},get location(){return t(i,o)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(yS,d),l=_,()=>{i.removeEventListener(yS,d),l=null}},createHref(_){return e(i,_)},createURL:m,encodeLocation(_){let f=m(_);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:h,replace:p,go(_){return o.go(_)}};return v}var Ft;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ft||(Ft={}));const B4=new Set(["lazy","caseSensitive","path","id","index","children"]);function z4(t){return t.index===!0}function y_(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(Se(i.index!==!0||!i.children,"Cannot specify children on an index route"),Se(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),z4(i)){let l=Ut({},i,e(i),{id:a});return r[a]=l,l}else{let l=Ut({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=y_(i.children,e,o,r)),l}})}function rl(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ms(e):e,i=eu(r.pathname||"/",n);if(i==null)return null;let s=NP(t);H4(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=e$(s[a],n$(i));return o}function W4(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function NP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Se(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ts([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Se(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),NP(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:J4(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of OP(s.path))i(s,o,l)}),e}function OP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=OP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function H4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Z4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const q4=/^:[\w-]+$/,K4=3,G4=2,Q4=1,Y4=10,X4=-2,_S=t=>t==="*";function J4(t,e){let n=t.split("/"),r=n.length;return n.some(_S)&&(r+=X4),e&&(r+=G4),n.filter(i=>!_S(i)).reduce((i,s)=>i+(q4.test(s)?K4:s===""?Q4:Y4),r)}function Z4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function e$(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=DP({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:ts([i,c.pathname]),pathnameBase:o$(ts([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=ts([i,c.pathnameBase]))}return s}function DP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=t$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let v=a[d]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?u[h]=void 0:u[h]=r$(m||"",h),u},{}),pathname:s,pathnameBase:o,pattern:t}}function t$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),na(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function n$(t){try{return decodeURI(t)}catch(e){return na(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function r$(t,e){try{return decodeURIComponent(t)}catch(n){return na(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function eu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function i$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ms(t):t;return{pathname:n?n.startsWith("/")?n:s$(n,e):e,search:a$(r),hash:l$(i)}}function s$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $y(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function MP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sm(t,e){let n=MP(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Cm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ms(t):(i=Ut({},t),Se(!i.pathname||!i.pathname.includes("?"),$y("?","pathname","search",i)),Se(!i.pathname||!i.pathname.includes("#"),$y("#","pathname","hash",i)),Se(!i.search||!i.search.includes("#"),$y("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=i$(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ts=t=>t.join("/").replace(/\/\/+/g,"/"),o$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),a$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,l$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class x1{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function LP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $P=["post","put","patch","delete"],u$=new Set($P),c$=["get",...$P],d$=new Set(c$),h$=new Set([301,302,303,307,308]),f$=new Set([307,308]),Fy={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},p$={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Nu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},FP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,m$=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),VP="remix-router-transitions";function g$(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Se(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let P=t.detectErrorBoundary;i=A=>({hasErrorBoundary:P(A)})}else i=m$;let s={},o=y_(t.routes,i,void 0,s),a,l=t.basename||"/",u=Ut({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),c=null,d=new Set,h=null,p=null,m=null,v=t.hydrationData!=null,_=rl(o,t.history.location,l),f=null;if(_==null){let P=xr(404,{pathname:t.history.location.pathname}),{matches:A,route:D}=bS(o);_=A,f={[D.id]:P}}let g,y=_.some(P=>P.route.lazy),E=_.some(P=>P.route.loader);if(y)g=!1;else if(!E)g=!0;else if(u.v7_partialHydration){let P=t.hydrationData?t.hydrationData.loaderData:null,A=t.hydrationData?t.hydrationData.errors:null;g=_.every(D=>D.route.loader&&D.route.loader.hydrate!==!0&&(P&&P[D.route.id]!==void 0||A&&A[D.route.id]!==void 0))}else g=t.hydrationData!=null;let R,T={historyAction:t.history.action,location:t.history.location,matches:_,initialized:g,navigation:Fy,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||f,fetchers:new Map,blockers:new Map},C=zt.Pop,b=!1,k,x=!1,O=new Map,F=null,M=!1,V=!1,z=[],j=[],U=new Map,N=0,B=-1,W=new Map,ae=new Set,J=new Map,ne=new Map,Y=new Set,fe=new Map,ce=new Map,Me=!1;function Le(){if(c=t.history.listen(P=>{let{action:A,location:D,delta:q}=P;if(Me){Me=!1;return}na(ce.size===0||q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let te=hr({currentLocation:T.location,nextLocation:D,historyAction:A});if(te&&q!=null){Me=!0,t.history.go(q*-1),ot(te,{state:"blocked",location:D,proceed(){ot(te,{state:"proceeding",proceed:void 0,reset:void 0,location:D}),t.history.go(q)},reset(){let xe=new Map(T.blockers);xe.set(te,Nu),le({blockers:xe})}});return}return Ee(A,D)}),n){b$(e,O);let P=()=>x$(e,O);e.addEventListener("pagehide",P),F=()=>e.removeEventListener("pagehide",P)}return T.initialized||Ee(zt.Pop,T.location,{initialHydration:!0}),R}function $e(){c&&c(),F&&F(),d.clear(),k&&k.abort(),T.fetchers.forEach((P,A)=>Kt(A)),T.blockers.forEach((P,A)=>qe(A))}function It(P){return d.add(P),()=>d.delete(P)}function le(P,A){A===void 0&&(A={}),T=Ut({},T,P);let D=[],q=[];u.v7_fetcherPersist&&T.fetchers.forEach((te,xe)=>{te.state==="idle"&&(Y.has(xe)?q.push(xe):D.push(xe))}),[...d].forEach(te=>te(T,{deletedFetchers:q,unstable_viewTransitionOpts:A.viewTransitionOpts,unstable_flushSync:A.flushSync===!0})),u.v7_fetcherPersist&&(D.forEach(te=>T.fetchers.delete(te)),q.forEach(te=>Kt(te)))}function ze(P,A,D){var q,te;let{flushSync:xe}=D===void 0?{}:D,pe=T.actionData!=null&&T.navigation.formMethod!=null&&ei(T.navigation.formMethod)&&T.navigation.state==="loading"&&((q=P.state)==null?void 0:q._isRedirect)!==!0,de;A.actionData?Object.keys(A.actionData).length>0?de=A.actionData:de=null:pe?de=T.actionData:de=null;let ie=A.loaderData?RS(T.loaderData,A.loaderData,A.matches||[],A.errors):T.loaderData,ke=T.blockers;ke.size>0&&(ke=new Map(ke),ke.forEach((Pe,bt)=>ke.set(bt,Nu)));let wt=b===!0||T.navigation.formMethod!=null&&ei(T.navigation.formMethod)&&((te=P.state)==null?void 0:te._isRedirect)!==!0;a&&(o=a,a=void 0),M||C===zt.Pop||(C===zt.Push?t.history.push(P,P.state):C===zt.Replace&&t.history.replace(P,P.state));let _e;if(C===zt.Pop){let Pe=O.get(T.location.pathname);Pe&&Pe.has(P.pathname)?_e={currentLocation:T.location,nextLocation:P}:O.has(P.pathname)&&(_e={currentLocation:P,nextLocation:T.location})}else if(x){let Pe=O.get(T.location.pathname);Pe?Pe.add(P.pathname):(Pe=new Set([P.pathname]),O.set(T.location.pathname,Pe)),_e={currentLocation:T.location,nextLocation:P}}le(Ut({},A,{actionData:de,loaderData:ie,historyAction:C,location:P,initialized:!0,navigation:Fy,revalidation:"idle",restoreScrollPosition:xh(P,A.matches||T.matches),preventScrollReset:wt,blockers:ke}),{viewTransitionOpts:_e,flushSync:xe===!0}),C=zt.Pop,b=!1,x=!1,M=!1,V=!1,z=[],j=[]}async function ve(P,A){if(typeof P=="number"){t.history.go(P);return}let D=v_(T.location,T.matches,l,u.v7_prependBasename,P,u.v7_relativeSplatPath,A==null?void 0:A.fromRouteId,A==null?void 0:A.relative),{path:q,submission:te,error:xe}=wS(u.v7_normalizeFormMethod,!1,D,A),pe=T.location,de=od(T.location,q,A&&A.state);de=Ut({},de,t.history.encodeLocation(de));let ie=A&&A.replace!=null?A.replace:void 0,ke=zt.Push;ie===!0?ke=zt.Replace:ie===!1||te!=null&&ei(te.formMethod)&&te.formAction===T.location.pathname+T.location.search&&(ke=zt.Replace);let wt=A&&"preventScrollReset"in A?A.preventScrollReset===!0:void 0,_e=(A&&A.unstable_flushSync)===!0,Pe=hr({currentLocation:pe,nextLocation:de,historyAction:ke});if(Pe){ot(Pe,{state:"blocked",location:de,proceed(){ot(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:de}),ve(P,A)},reset(){let bt=new Map(T.blockers);bt.set(Pe,Nu),le({blockers:bt})}});return}return await Ee(ke,de,{submission:te,pendingError:xe,preventScrollReset:wt,replace:A&&A.replace,enableViewTransition:A&&A.unstable_viewTransition,flushSync:_e})}function Fe(){if(ct(),le({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){Ee(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}Ee(C||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation})}}async function Ee(P,A,D){k&&k.abort(),k=null,C=P,M=(D&&D.startUninterruptedRevalidation)===!0,cy(T.location,T.matches),b=(D&&D.preventScrollReset)===!0,x=(D&&D.enableViewTransition)===!0;let q=a||o,te=D&&D.overrideNavigation,xe=rl(q,A,l),pe=(D&&D.flushSync)===!0;if(!xe){let bt=xr(404,{pathname:A.pathname}),{matches:Zn,route:Et}=bS(q);ji(),ze(A,{matches:Zn,loaderData:{},errors:{[Et.id]:bt}},{flushSync:pe});return}if(T.initialized&&!V&&E$(T.location,A)&&!(D&&D.submission&&ei(D.submission.formMethod))){ze(A,{matches:xe},{flushSync:pe});return}k=new AbortController;let de=Du(t.history,A,k.signal,D&&D.submission),ie,ke;if(D&&D.pendingError)ke={[Cc(xe).route.id]:D.pendingError};else if(D&&D.submission&&ei(D.submission.formMethod)){let bt=await _n(de,A,D.submission,xe,{replace:D.replace,flushSync:pe});if(bt.shortCircuited)return;ie=bt.pendingActionData,ke=bt.pendingActionError,te=Vy(A,D.submission),pe=!1,de=new Request(de.url,{signal:de.signal})}let{shortCircuited:wt,loaderData:_e,errors:Pe}=await tn(de,A,xe,te,D&&D.submission,D&&D.fetcherSubmission,D&&D.replace,D&&D.initialHydration===!0,pe,ie,ke);wt||(k=null,ze(A,Ut({matches:xe},ie?{actionData:ie}:{},{loaderData:_e,errors:Pe})))}async function _n(P,A,D,q,te){te===void 0&&(te={}),ct();let xe=I$(A,D);le({navigation:xe},{flushSync:te.flushSync===!0});let pe,de=w_(q,A);if(!de.route.action&&!de.route.lazy)pe={type:Ft.error,error:xr(405,{method:P.method,pathname:A.pathname,routeId:de.route.id})};else if(pe=await Ou("action",P,de,q,s,i,l,u.v7_relativeSplatPath),P.signal.aborted)return{shortCircuited:!0};if(Mo(pe)){let ie;return te&&te.replace!=null?ie=te.replace:ie=pe.location===T.location.pathname+T.location.search,await Ae(T,pe,{submission:D,replace:ie}),{shortCircuited:!0}}if(il(pe)){let ie=Cc(q,de.route.id);return(te&&te.replace)!==!0&&(C=zt.Push),{pendingActionData:{},pendingActionError:{[ie.route.id]:pe.error}}}if(Do(pe))throw xr(400,{type:"defer-action"});return{pendingActionData:{[de.route.id]:pe.data}}}async function tn(P,A,D,q,te,xe,pe,de,ie,ke,wt){let _e=q||Vy(A,te),Pe=te||xe||kS(_e),bt=a||o,[Zn,Et]=ES(t.history,T,D,Pe,A,u.v7_partialHydration&&de===!0,V,z,j,Y,J,ae,bt,l,ke,wt);if(ji(Re=>!(D&&D.some(Tt=>Tt.route.id===Re))||Zn&&Zn.some(Tt=>Tt.route.id===Re)),B=++N,Zn.length===0&&Et.length===0){let Re=br();return ze(A,Ut({matches:D,loaderData:{},errors:wt||null},ke?{actionData:ke}:{},Re?{fetchers:new Map(T.fetchers)}:{}),{flushSync:ie}),{shortCircuited:!0}}if(!M&&(!u.v7_partialHydration||!de)){Et.forEach(Tt=>{let fi=T.fetchers.get(Tt.key),kh=Mu(void 0,fi?fi.data:void 0);T.fetchers.set(Tt.key,kh)});let Re=ke||T.actionData;le(Ut({navigation:_e},Re?Object.keys(Re).length===0?{actionData:null}:{actionData:Re}:{},Et.length>0?{fetchers:new Map(T.fetchers)}:{}),{flushSync:ie})}Et.forEach(Re=>{U.has(Re.key)&&re(Re.key),Re.controller&&U.set(Re.key,Re.controller)});let di=()=>Et.forEach(Re=>re(Re.key));k&&k.signal.addEventListener("abort",di);let{results:ka,loaderResults:Bi,fetcherResults:Yr}=await qt(T.matches,D,Zn,Et,P);if(P.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",di),Et.forEach(Re=>U.delete(Re.key));let hi=xS(ka);if(hi){if(hi.idx>=Zn.length){let Re=Et[hi.idx-Zn.length].key;ae.add(Re)}return await Ae(T,hi.result,{replace:pe}),{shortCircuited:!0}}let{loaderData:Eu,errors:Tu}=IS(T,D,Zn,Bi,wt,Et,Yr,fe);fe.forEach((Re,Tt)=>{Re.subscribe(fi=>{(fi||Re.done)&&fe.delete(Tt)})});let Su=br(),ws=Jn(B),Ie=Su||ws||Et.length>0;return Ut({loaderData:Eu,errors:Tu},Ie?{fetchers:new Map(T.fetchers)}:{})}function Dt(P,A,D,q){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");U.has(P)&&re(P);let te=(q&&q.unstable_flushSync)===!0,xe=a||o,pe=v_(T.location,T.matches,l,u.v7_prependBasename,D,u.v7_relativeSplatPath,A,q==null?void 0:q.relative),de=rl(xe,pe,l);if(!de){Rt(P,A,xr(404,{pathname:pe}),{flushSync:te});return}let{path:ie,submission:ke,error:wt}=wS(u.v7_normalizeFormMethod,!0,pe,q);if(wt){Rt(P,A,wt,{flushSync:te});return}let _e=w_(de,ie);if(b=(q&&q.preventScrollReset)===!0,ke&&ei(ke.formMethod)){ln(P,A,ie,_e,de,te,ke);return}J.set(P,{routeId:A,path:ie}),at(P,A,ie,_e,de,te,ke)}async function ln(P,A,D,q,te,xe,pe){if(ct(),J.delete(P),!q.route.action&&!q.route.lazy){let Tt=xr(405,{method:pe.formMethod,pathname:D,routeId:A});Rt(P,A,Tt,{flushSync:xe});return}let de=T.fetchers.get(P);be(P,R$(pe,de),{flushSync:xe});let ie=new AbortController,ke=Du(t.history,D,ie.signal,pe);U.set(P,ie);let wt=N,_e=await Ou("action",ke,q,te,s,i,l,u.v7_relativeSplatPath);if(ke.signal.aborted){U.get(P)===ie&&U.delete(P);return}if(u.v7_fetcherPersist&&Y.has(P)){if(Mo(_e)||il(_e)){be(P,Is(void 0));return}}else{if(Mo(_e))if(U.delete(P),B>wt){be(P,Is(void 0));return}else return ae.add(P),be(P,Mu(pe)),Ae(T,_e,{fetcherSubmission:pe});if(il(_e)){Rt(P,A,_e.error);return}}if(Do(_e))throw xr(400,{type:"defer-action"});let Pe=T.navigation.location||T.location,bt=Du(t.history,Pe,ie.signal),Zn=a||o,Et=T.navigation.state!=="idle"?rl(Zn,T.navigation.location,l):T.matches;Se(Et,"Didn't find any matches after fetcher action");let di=++N;W.set(P,di);let ka=Mu(pe,_e.data);T.fetchers.set(P,ka);let[Bi,Yr]=ES(t.history,T,Et,pe,Pe,!1,V,z,j,Y,J,ae,Zn,l,{[q.route.id]:_e.data},void 0);Yr.filter(Tt=>Tt.key!==P).forEach(Tt=>{let fi=Tt.key,kh=T.fetchers.get(fi),hM=Mu(void 0,kh?kh.data:void 0);T.fetchers.set(fi,hM),U.has(fi)&&re(fi),Tt.controller&&U.set(fi,Tt.controller)}),le({fetchers:new Map(T.fetchers)});let hi=()=>Yr.forEach(Tt=>re(Tt.key));ie.signal.addEventListener("abort",hi);let{results:Eu,loaderResults:Tu,fetcherResults:Su}=await qt(T.matches,Et,Bi,Yr,bt);if(ie.signal.aborted)return;ie.signal.removeEventListener("abort",hi),W.delete(P),U.delete(P),Yr.forEach(Tt=>U.delete(Tt.key));let ws=xS(Eu);if(ws){if(ws.idx>=Bi.length){let Tt=Yr[ws.idx-Bi.length].key;ae.add(Tt)}return Ae(T,ws.result)}let{loaderData:Ie,errors:Re}=IS(T,T.matches,Bi,Tu,void 0,Yr,Su,fe);if(T.fetchers.has(P)){let Tt=Is(_e.data);T.fetchers.set(P,Tt)}Jn(di),T.navigation.state==="loading"&&di>B?(Se(C,"Expected pending action"),k&&k.abort(),ze(T.navigation.location,{matches:Et,loaderData:Ie,errors:Re,fetchers:new Map(T.fetchers)})):(le({errors:Re,loaderData:RS(T.loaderData,Ie,Et,Re),fetchers:new Map(T.fetchers)}),V=!1)}async function at(P,A,D,q,te,xe,pe){let de=T.fetchers.get(P);be(P,Mu(pe,de?de.data:void 0),{flushSync:xe});let ie=new AbortController,ke=Du(t.history,D,ie.signal);U.set(P,ie);let wt=N,_e=await Ou("loader",ke,q,te,s,i,l,u.v7_relativeSplatPath);if(Do(_e)&&(_e=await BP(_e,ke.signal,!0)||_e),U.get(P)===ie&&U.delete(P),!ke.signal.aborted){if(Y.has(P)){be(P,Is(void 0));return}if(Mo(_e))if(B>wt){be(P,Is(void 0));return}else{ae.add(P),await Ae(T,_e);return}if(il(_e)){Rt(P,A,_e.error);return}Se(!Do(_e),"Unhandled fetcher deferred data"),be(P,Is(_e.data))}}async function Ae(P,A,D){let{submission:q,fetcherSubmission:te,replace:xe}=D===void 0?{}:D;A.revalidate&&(V=!0);let pe=od(P.location,A.location,{_isRedirect:!0});if(Se(pe,"Expected a location on the redirect navigation"),n){let Pe=!1;if(A.reloadDocument)Pe=!0;else if(FP.test(A.location)){const bt=t.history.createURL(A.location);Pe=bt.origin!==e.location.origin||eu(bt.pathname,l)==null}if(Pe){xe?e.location.replace(A.location):e.location.assign(A.location);return}}k=null;let de=xe===!0?zt.Replace:zt.Push,{formMethod:ie,formAction:ke,formEncType:wt}=P.navigation;!q&&!te&&ie&&ke&&wt&&(q=kS(P.navigation));let _e=q||te;if(f$.has(A.status)&&_e&&ei(_e.formMethod))await Ee(de,pe,{submission:Ut({},_e,{formAction:A.location}),preventScrollReset:b});else{let Pe=Vy(pe,q);await Ee(de,pe,{overrideNavigation:Pe,fetcherSubmission:te,preventScrollReset:b})}}async function qt(P,A,D,q,te){let xe=await Promise.all([...D.map(ie=>Ou("loader",te,ie,A,s,i,l,u.v7_relativeSplatPath)),...q.map(ie=>ie.matches&&ie.match&&ie.controller?Ou("loader",Du(t.history,ie.path,ie.controller.signal),ie.match,ie.matches,s,i,l,u.v7_relativeSplatPath):{type:Ft.error,error:xr(404,{pathname:ie.path})})]),pe=xe.slice(0,D.length),de=xe.slice(D.length);return await Promise.all([PS(P,D,pe,pe.map(()=>te.signal),!1,T.loaderData),PS(P,q.map(ie=>ie.match),de,q.map(ie=>ie.controller?ie.controller.signal:null),!0)]),{results:xe,loaderResults:pe,fetcherResults:de}}function ct(){V=!0,z.push(...ji()),J.forEach((P,A)=>{U.has(A)&&(j.push(A),re(A))})}function be(P,A,D){D===void 0&&(D={}),T.fetchers.set(P,A),le({fetchers:new Map(T.fetchers)},{flushSync:(D&&D.flushSync)===!0})}function Rt(P,A,D,q){q===void 0&&(q={});let te=Cc(T.matches,A);Kt(P),le({errors:{[te.route.id]:D},fetchers:new Map(T.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function nn(P){return u.v7_fetcherPersist&&(ne.set(P,(ne.get(P)||0)+1),Y.has(P)&&Y.delete(P)),T.fetchers.get(P)||p$}function Kt(P){let A=T.fetchers.get(P);U.has(P)&&!(A&&A.state==="loading"&&W.has(P))&&re(P),J.delete(P),W.delete(P),ae.delete(P),Y.delete(P),T.fetchers.delete(P)}function We(P){if(u.v7_fetcherPersist){let A=(ne.get(P)||0)-1;A<=0?(ne.delete(P),Y.add(P)):ne.set(P,A)}else Kt(P);le({fetchers:new Map(T.fetchers)})}function re(P){let A=U.get(P);Se(A,"Expected fetch controller: "+P),A.abort(),U.delete(P)}function Mt(P){for(let A of P){let D=nn(A),q=Is(D.data);T.fetchers.set(A,q)}}function br(){let P=[],A=!1;for(let D of ae){let q=T.fetchers.get(D);Se(q,"Expected fetcher: "+D),q.state==="loading"&&(ae.delete(D),P.push(D),A=!0)}return Mt(P),A}function Jn(P){let A=[];for(let[D,q]of W)if(q<P){let te=T.fetchers.get(D);Se(te,"Expected fetcher: "+D),te.state==="loading"&&(re(D),W.delete(D),A.push(D))}return Mt(A),A.length>0}function oe(P,A){let D=T.blockers.get(P)||Nu;return ce.get(P)!==A&&ce.set(P,A),D}function qe(P){T.blockers.delete(P),ce.delete(P)}function ot(P,A){let D=T.blockers.get(P)||Nu;Se(D.state==="unblocked"&&A.state==="blocked"||D.state==="blocked"&&A.state==="blocked"||D.state==="blocked"&&A.state==="proceeding"||D.state==="blocked"&&A.state==="unblocked"||D.state==="proceeding"&&A.state==="unblocked","Invalid blocker state transition: "+D.state+" -> "+A.state);let q=new Map(T.blockers);q.set(P,A),le({blockers:q})}function hr(P){let{currentLocation:A,nextLocation:D,historyAction:q}=P;if(ce.size===0)return;ce.size>1&&na(!1,"A router only supports one blocker at a time");let te=Array.from(ce.entries()),[xe,pe]=te[te.length-1],de=T.blockers.get(xe);if(!(de&&de.state==="proceeding")&&pe({currentLocation:A,nextLocation:D,historyAction:q}))return xe}function ji(P){let A=[];return fe.forEach((D,q)=>{(!P||P(q))&&(D.cancel(),A.push(q),fe.delete(q))}),A}function Rh(P,A,D){if(h=P,m=A,p=D||null,!v&&T.navigation===Fy){v=!0;let q=xh(T.location,T.matches);q!=null&&le({restoreScrollPosition:q})}return()=>{h=null,m=null,p=null}}function bh(P,A){return p&&p(P,A.map(q=>W4(q,T.loaderData)))||P.key}function cy(P,A){if(h&&m){let D=bh(P,A);h[D]=m()}}function xh(P,A){if(h){let D=bh(P,A),q=h[D];if(typeof q=="number")return q}return null}function Ph(P){s={},a=y_(P,i,void 0,s)}return R={get basename(){return l},get future(){return u},get state(){return T},get routes(){return o},get window(){return e},initialize:Le,subscribe:It,enableScrollRestoration:Rh,navigate:ve,fetch:Dt,revalidate:Fe,createHref:P=>t.history.createHref(P),encodeLocation:P=>t.history.encodeLocation(P),getFetcher:nn,deleteFetcher:We,dispose:$e,getBlocker:oe,deleteBlocker:qe,_internalFetchControllers:U,_internalActiveDeferreds:fe,_internalSetRoutes:Ph},R}function y$(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function v_(t,e,n,r,i,s,o,a){let l,u;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){u=d;break}}else l=e,u=e[e.length-1];let c=Cm(i||".",Sm(l,s),eu(t.pathname,n)||t.pathname,a==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!P1(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:ts([n,c.pathname])),ra(c)}function wS(t,e,n,r){if(!r||!y$(r))return{path:n};if(r.formMethod&&!C$(r.formMethod))return{path:n,error:xr(405,{method:r.formMethod})};let i=()=>({path:n,error:xr(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=jP(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ei(o))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,m)=>{let[v,_]=m;return""+p+v+"="+_+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!ei(o))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}Se(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=__(r.formData),u=r.formData;else if(r.body instanceof FormData)l=__(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=CS(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=CS(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(ei(c.formMethod))return{path:n,submission:c};let d=ms(n);return e&&d.search&&P1(d.search)&&l.append("index",""),d.search="?"+l,{path:ra(d),submission:c}}function v$(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function ES(t,e,n,r,i,s,o,a,l,u,c,d,h,p,m,v){let _=v?Object.values(v)[0]:m?Object.values(m)[0]:void 0,f=t.createURL(e.location),g=t.createURL(i),y=v?Object.keys(v)[0]:void 0,R=v$(n,y).filter((C,b)=>{let{route:k}=C;if(k.lazy)return!0;if(k.loader==null)return!1;if(s)return k.loader.hydrate?!0:e.loaderData[k.id]===void 0&&(!e.errors||e.errors[k.id]===void 0);if(_$(e.loaderData,e.matches[b],C)||a.some(F=>F===C.route.id))return!0;let x=e.matches[b],O=C;return TS(C,Ut({currentUrl:f,currentParams:x.params,nextUrl:g,nextParams:O.params},r,{actionResult:_,defaultShouldRevalidate:o||f.pathname+f.search===g.pathname+g.search||f.search!==g.search||UP(x,O)}))}),T=[];return c.forEach((C,b)=>{if(s||!n.some(M=>M.route.id===C.routeId)||u.has(b))return;let k=rl(h,C.path,p);if(!k){T.push({key:b,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let x=e.fetchers.get(b),O=w_(k,C.path),F=!1;d.has(b)?F=!1:l.includes(b)?F=!0:x&&x.state!=="idle"&&x.data===void 0?F=o:F=TS(O,Ut({currentUrl:f,currentParams:e.matches[e.matches.length-1].params,nextUrl:g,nextParams:n[n.length-1].params},r,{actionResult:_,defaultShouldRevalidate:o})),F&&T.push({key:b,routeId:C.routeId,path:C.path,matches:k,match:O,controller:new AbortController})}),[R,T]}function _$(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function UP(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function TS(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function SS(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Se(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";na(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!B4.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,Ut({},e(i),{lazy:void 0}))}async function Ou(t,e,n,r,i,s,o,a,l){l===void 0&&(l={});let u,c,d,h=v=>{let _,f=new Promise((g,y)=>_=y);return d=()=>_(),e.signal.addEventListener("abort",d),Promise.race([v({request:e,params:n.params,context:l.requestContext}),f])};try{let v=n.route[t];if(n.route.lazy)if(v){let _,f=await Promise.all([h(v).catch(g=>{_=g}),SS(n.route,s,i)]);if(_)throw _;c=f[0]}else if(await SS(n.route,s,i),v=n.route[t],v)c=await h(v);else if(t==="action"){let _=new URL(e.url),f=_.pathname+_.search;throw xr(405,{method:e.method,pathname:f,routeId:n.route.id})}else return{type:Ft.data,data:void 0};else if(v)c=await h(v);else{let _=new URL(e.url),f=_.pathname+_.search;throw xr(404,{pathname:f})}Se(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(v){u=Ft.error,c=v}finally{d&&e.signal.removeEventListener("abort",d)}if(S$(c)){let v=c.status;if(h$.has(v)){let f=c.headers.get("Location");if(Se(f,"Redirects returned/thrown from loaders/actions must have a Location header"),!FP.test(f))f=v_(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,f,a);else if(!l.isStaticRequest){let g=new URL(e.url),y=f.startsWith("//")?new URL(g.protocol+f):new URL(f),E=eu(y.pathname,o)!=null;y.origin===g.origin&&E&&(f=y.pathname+y.search+y.hash)}if(l.isStaticRequest)throw c.headers.set("Location",f),c;return{type:Ft.redirect,status:v,location:f,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===Ft.error?Ft.error:Ft.data,response:c};let _;try{let f=c.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?c.body==null?_=null:_=await c.json():_=await c.text()}catch(f){return{type:Ft.error,error:f}}return u===Ft.error?{type:u,error:new x1(v,c.statusText,_),headers:c.headers}:{type:Ft.data,data:_,statusCode:c.status,headers:c.headers}}if(u===Ft.error)return{type:u,error:c};if(T$(c)){var p,m;return{type:Ft.deferred,deferredData:c,statusCode:(p=c.init)==null?void 0:p.status,headers:((m=c.init)==null?void 0:m.headers)&&new Headers(c.init.headers)}}return{type:Ft.data,data:c}}function Du(t,e,n,r){let i=t.createURL(jP(e)).toString(),s={signal:n};if(r&&ei(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=__(r.formData):s.body=r.formData}return new Request(i,s)}function __(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function CS(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function w$(t,e,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,d)=>{let h=e[d].route.id;if(Se(!Mo(c),"Cannot handle redirect results in processLoaderData"),il(c)){let p=Cc(t,h),m=c.error;r&&(m=Object.values(r)[0],r=void 0),o=o||{},o[p.route.id]==null&&(o[p.route.id]=m),s[h]=void 0,l||(l=!0,a=LP(c.error)?c.error.status:500),c.headers&&(u[h]=c.headers)}else Do(c)?(i.set(h,c.deferredData),s[h]=c.deferredData.data):s[h]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[h]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function IS(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=w$(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:d,match:h,controller:p}=s[c];Se(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let m=o[c];if(!(p&&p.signal.aborted))if(il(m)){let v=Cc(t.matches,h==null?void 0:h.route.id);u&&u[v.route.id]||(u=Ut({},u,{[v.route.id]:m.error})),t.fetchers.delete(d)}else if(Mo(m))Se(!1,"Unhandled fetcher revalidation redirect");else if(Do(m))Se(!1,"Unhandled fetcher deferred data");else{let v=Is(m.data);t.fetchers.set(d,v)}}return{loaderData:l,errors:u}}function RS(t,e,n,r){let i=Ut({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Cc(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function bS(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function xr(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new x1(t||500,o,new Error(a),!0)}function xS(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Mo(n))return{result:n,idx:e}}}function jP(t){let e=typeof t=="string"?ms(t):t;return ra(Ut({},e,{hash:""}))}function E$(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Do(t){return t.type===Ft.deferred}function il(t){return t.type===Ft.error}function Mo(t){return(t&&t.type)===Ft.redirect}function T$(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function S$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function C$(t){return d$.has(t.toLowerCase())}function ei(t){return u$.has(t.toLowerCase())}async function PS(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!UP(u,l)&&(s&&s[l.route.id])!==void 0;if(Do(a)&&(i||c)){let d=r[o];Se(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await BP(a,d,i).then(h=>{h&&(n[o]=h||n[o])})}}}async function BP(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ft.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ft.error,error:i}}return{type:Ft.data,data:t.deferredData.data}}}function P1(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function w_(t,e){let n=typeof e=="string"?ms(e).search:e.search;if(t[t.length-1].route.index&&P1(n||""))return t[t.length-1];let r=MP(t);return r[r.length-1]}function kS(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Vy(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function I$(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Mu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function R$(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Is(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function b$(t,e){try{let n=t.sessionStorage.getItem(VP);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function x$(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(VP,JSON.stringify(n))}catch(r){na(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ad(){return ad=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ad.apply(this,arguments)}const Im=w.createContext(null),zP=w.createContext(null),co=w.createContext(null),Rm=w.createContext(null),gs=w.createContext({outlet:null,matches:[],isDataRoute:!1}),WP=w.createContext(null);function P$(t,e){let{relative:n}=e===void 0?{}:e;Ea()||Se(!1);let{basename:r,navigator:i}=w.useContext(co),{hash:s,pathname:o,search:a}=qP(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ts([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ea(){return w.useContext(Rm)!=null}function Ta(){return Ea()||Se(!1),w.useContext(Rm).location}function k$(t){Ea()||Se(!1);let{pathname:e}=Ta();return w.useMemo(()=>DP(t,e),[e,t])}function HP(t){w.useContext(co).static||w.useLayoutEffect(t)}function Sa(){let{isDataRoute:t}=w.useContext(gs);return t?W$():A$()}function A$(){Ea()||Se(!1);let t=w.useContext(Im),{basename:e,future:n,navigator:r}=w.useContext(co),{matches:i}=w.useContext(gs),{pathname:s}=Ta(),o=JSON.stringify(Sm(i,n.v7_relativeSplatPath)),a=w.useRef(!1);return HP(()=>{a.current=!0}),w.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=Cm(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ts([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}const N$=w.createContext(null);function O$(t){let e=w.useContext(gs).outlet;return e&&w.createElement(N$.Provider,{value:t},e)}function qP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(co),{matches:i}=w.useContext(gs),{pathname:s}=Ta(),o=JSON.stringify(Sm(i,r.v7_relativeSplatPath));return w.useMemo(()=>Cm(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function D$(t,e,n,r){Ea()||Se(!1);let{navigator:i}=w.useContext(co),{matches:s}=w.useContext(gs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ta(),c;if(e){var d;let _=typeof e=="string"?ms(e):e;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||Se(!1),c=_}else c=u;let h=c.pathname||"/",p=l==="/"?h:h.slice(l.length)||"/",m=rl(t,{pathname:p}),v=V$(m&&m.map(_=>Object.assign({},_,{params:Object.assign({},a,_.params),pathname:ts([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:ts([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&v?w.createElement(Rm.Provider,{value:{location:ad({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:zt.Pop}},v):v}function M$(){let t=z$(),e=LP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const L$=w.createElement(M$,null);class $$ extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(gs.Provider,{value:this.props.routeContext},w.createElement(WP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function F$(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(Im);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(gs.Provider,{value:e},r)}function V$(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||Se(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:p}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let p,m=!1,v=null,_=null;n&&(p=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||L$,l&&(u<0&&h===0?(H$("route-fallback",!1),m=!0,_=null):u===h&&(m=!0,_=d.route.hydrateFallbackElement||null)));let f=e.concat(o.slice(0,h+1)),g=()=>{let y;return p?y=v:m?y=_:d.route.Component?y=w.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=c,w.createElement(F$,{match:d,routeContext:{outlet:c,matches:f,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?w.createElement($$,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()},null)}var KP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(KP||{}),dp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(dp||{});function U$(t){let e=w.useContext(Im);return e||Se(!1),e}function j$(t){let e=w.useContext(zP);return e||Se(!1),e}function B$(t){let e=w.useContext(gs);return e||Se(!1),e}function GP(t){let e=B$(),n=e.matches[e.matches.length-1];return n.route.id||Se(!1),n.route.id}function z$(){var t;let e=w.useContext(WP),n=j$(dp.UseRouteError),r=GP(dp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function W$(){let{router:t}=U$(KP.UseNavigateStable),e=GP(dp.UseNavigateStable),n=w.useRef(!1);return HP(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ad({fromRouteId:e},s)))},[t,e])}const AS={};function H$(t,e,n){!e&&!AS[t]&&(AS[t]=!0)}function q$(t){let{to:e,replace:n,state:r,relative:i}=t;Ea()||Se(!1);let{future:s,static:o}=w.useContext(co),{matches:a}=w.useContext(gs),{pathname:l}=Ta(),u=Sa(),c=Cm(e,Sm(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return w.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function k1(t){return O$(t.context)}function zi(t){Se(!1)}function K$(t){let{basename:e="/",children:n=null,location:r,navigationType:i=zt.Pop,navigator:s,static:o=!1,future:a}=t;Ea()&&Se(!1);let l=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:s,static:o,future:ad({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ms(r));let{pathname:c="/",search:d="",hash:h="",state:p=null,key:m="default"}=r,v=w.useMemo(()=>{let _=eu(c,l);return _==null?null:{location:{pathname:_,search:d,hash:h,state:p,key:m},navigationType:i}},[l,c,d,h,p,m,i]);return v==null?null:w.createElement(co.Provider,{value:u},w.createElement(Rm.Provider,{children:n,value:v}))}new Promise(()=>{});function E_(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let s=[...e,i];if(r.type===w.Fragment){n.push.apply(n,E_(r.props.children,s));return}r.type!==zi&&Se(!1),!r.props.index||!r.props.children||Se(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=E_(r.props.children,s)),n.push(o)}),n}function G$(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:w.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:w.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:w.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ld.apply(this,arguments)}function Q$(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Y$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function X$(t,e){return t.button===0&&(!e||e==="_self")&&!Y$(t)}const J$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Z$="6";try{window.__reactRouterVersion=Z$}catch{}function eF(t,e){return g$({basename:e==null?void 0:e.basename,future:ld({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:V4({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||tF(),routes:t,mapRouteProperties:G$,window:e==null?void 0:e.window}).initialize()}function tF(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ld({},e,{errors:nF(e.errors)})),e}function nF(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new x1(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const rF=w.createContext({isTransitioning:!1}),iF=w.createContext(new Map),sF="startTransition",NS=Uf[sF],oF="flushSync",OS=F4[oF];function aF(t){NS?NS(t):t()}function Lu(t){OS?OS(t):t()}let lF=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function uF(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=w.useState(n.state),[o,a]=w.useState(),[l,u]=w.useState({isTransitioning:!1}),[c,d]=w.useState(),[h,p]=w.useState(),[m,v]=w.useState(),_=w.useRef(new Map),{v7_startTransition:f}=r||{},g=w.useCallback(C=>{f?aF(C):C()},[f]),y=w.useCallback((C,b)=>{let{deletedFetchers:k,unstable_flushSync:x,unstable_viewTransitionOpts:O}=b;k.forEach(M=>_.current.delete(M)),C.fetchers.forEach((M,V)=>{M.data!==void 0&&_.current.set(V,M.data)});let F=n.window==null||typeof n.window.document.startViewTransition!="function";if(!O||F){x?Lu(()=>s(C)):g(()=>s(C));return}if(x){Lu(()=>{h&&(c&&c.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let M=n.window.document.startViewTransition(()=>{Lu(()=>s(C))});M.finished.finally(()=>{Lu(()=>{d(void 0),p(void 0),a(void 0),u({isTransitioning:!1})})}),Lu(()=>p(M));return}h?(c&&c.resolve(),h.skipTransition(),v({state:C,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(a(C),u({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[n.window,h,c,_,g]);w.useLayoutEffect(()=>n.subscribe(y),[n,y]),w.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new lF)},[l]),w.useEffect(()=>{if(c&&o&&n.window){let C=o,b=c.promise,k=n.window.document.startViewTransition(async()=>{g(()=>s(C)),await b});k.finished.finally(()=>{d(void 0),p(void 0),a(void 0),u({isTransitioning:!1})}),p(k)}},[g,o,c,n.window]),w.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,h,i.location,o]),w.useEffect(()=>{!l.isTransitioning&&m&&(a(m.state),u({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),v(void 0))},[l.isTransitioning,m]),w.useEffect(()=>{},[]);let E=w.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:C=>n.navigate(C),push:(C,b,k)=>n.navigate(C,{state:b,preventScrollReset:k==null?void 0:k.preventScrollReset}),replace:(C,b,k)=>n.navigate(C,{replace:!0,state:b,preventScrollReset:k==null?void 0:k.preventScrollReset})}),[n]),R=n.basename||"/",T=w.useMemo(()=>({router:n,navigator:E,static:!1,basename:R}),[n,E,R]);return w.createElement(w.Fragment,null,w.createElement(Im.Provider,{value:T},w.createElement(zP.Provider,{value:i},w.createElement(iF.Provider,{value:_.current},w.createElement(rF.Provider,{value:l},w.createElement(K$,{basename:R,location:i.location,navigationType:i.historyAction,navigator:E,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?w.createElement(cF,{routes:n.routes,future:n.future,state:i}):e))))),null)}function cF(t){let{routes:e,future:n,state:r}=t;return D$(e,void 0,r,n)}const dF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DS=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,h=Q$(e,J$),{basename:p}=w.useContext(co),m,v=!1;if(typeof u=="string"&&hF.test(u)&&(m=u,dF))try{let y=new URL(window.location.href),E=u.startsWith("//")?new URL(y.protocol+u):new URL(u),R=eu(E.pathname,p);E.origin===y.origin&&R!=null?u=R+E.search+E.hash:v=!0}catch{}let _=P$(u,{relative:i}),f=fF(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function g(y){r&&r(y),y.defaultPrevented||f(y)}return w.createElement("a",ld({},h,{href:m||_,onClick:v||s?r:g,ref:n,target:l}))});var MS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(MS||(MS={}));var LS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(LS||(LS={}));function fF(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Sa(),u=Ta(),c=qP(t,{relative:o});return w.useCallback(d=>{if(X$(d,n)){d.preventDefault();let h=r!==void 0?r:ra(u)===ra(c);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}const pF={black:"#000",white:"#fff"},ud=pF,Io={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},mF={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Na=mF,gF={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Oa=gF,yF={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Da=yF,vF={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ma=vF,_F={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},$u=_F,wF={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},EF=wF;function Zs(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const kl="$$material";function I(){return I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I.apply(this,arguments)}function se(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function QP(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var TF=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,SF=QP(function(t){return TF.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function CF(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function IF(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var RF=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(IF(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=CF(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Dn="-ms-",hp="-moz-",Ke="-webkit-",YP="comm",A1="rule",N1="decl",bF="@import",XP="@keyframes",xF="@layer",PF=Math.abs,bm=String.fromCharCode,kF=Object.assign;function AF(t,e){return Tn(t,0)^45?(((e<<2^Tn(t,0))<<2^Tn(t,1))<<2^Tn(t,2))<<2^Tn(t,3):0}function JP(t){return t.trim()}function NF(t,e){return(t=e.exec(t))?t[0]:t}function Ge(t,e,n){return t.replace(e,n)}function T_(t,e){return t.indexOf(e)}function Tn(t,e){return t.charCodeAt(e)|0}function cd(t,e,n){return t.slice(e,n)}function gi(t){return t.length}function O1(t){return t.length}function Gh(t,e){return e.push(t),t}function OF(t,e){return t.map(e).join("")}var xm=1,Al=1,ZP=0,dr=0,Yt=0,tu="";function Pm(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:xm,column:Al,length:o,return:""}}function Fu(t,e){return kF(Pm("",null,null,"",null,null,0),t,{length:-t.length},e)}function DF(){return Yt}function MF(){return Yt=dr>0?Tn(tu,--dr):0,Al--,Yt===10&&(Al=1,xm--),Yt}function _r(){return Yt=dr<ZP?Tn(tu,dr++):0,Al++,Yt===10&&(Al=1,xm++),Yt}function bi(){return Tn(tu,dr)}function Rf(){return dr}function Wd(t,e){return cd(tu,t,e)}function dd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ek(t){return xm=Al=1,ZP=gi(tu=t),dr=0,[]}function tk(t){return tu="",t}function bf(t){return JP(Wd(dr-1,S_(t===91?t+2:t===40?t+1:t)))}function LF(t){for(;(Yt=bi())&&Yt<33;)_r();return dd(t)>2||dd(Yt)>3?"":" "}function $F(t,e){for(;--e&&_r()&&!(Yt<48||Yt>102||Yt>57&&Yt<65||Yt>70&&Yt<97););return Wd(t,Rf()+(e<6&&bi()==32&&_r()==32))}function S_(t){for(;_r();)switch(Yt){case t:return dr;case 34:case 39:t!==34&&t!==39&&S_(Yt);break;case 40:t===41&&S_(t);break;case 92:_r();break}return dr}function FF(t,e){for(;_r()&&t+Yt!==57;)if(t+Yt===84&&bi()===47)break;return"/*"+Wd(e,dr-1)+"*"+bm(t===47?t:_r())}function VF(t){for(;!dd(bi());)_r();return Wd(t,dr)}function UF(t){return tk(xf("",null,null,null,[""],t=ek(t),0,[0],t))}function xf(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,p=0,m=0,v=1,_=1,f=1,g=0,y="",E=i,R=s,T=r,C=y;_;)switch(m=g,g=_r()){case 40:if(m!=108&&Tn(C,d-1)==58){T_(C+=Ge(bf(g),"&","&\f"),"&\f")!=-1&&(f=-1);break}case 34:case 39:case 91:C+=bf(g);break;case 9:case 10:case 13:case 32:C+=LF(m);break;case 92:C+=$F(Rf()-1,7);continue;case 47:switch(bi()){case 42:case 47:Gh(jF(FF(_r(),Rf()),e,n),l);break;default:C+="/"}break;case 123*v:a[u++]=gi(C)*f;case 125*v:case 59:case 0:switch(g){case 0:case 125:_=0;case 59+c:f==-1&&(C=Ge(C,/\f/g,"")),p>0&&gi(C)-d&&Gh(p>32?FS(C+";",r,n,d-1):FS(Ge(C," ","")+";",r,n,d-2),l);break;case 59:C+=";";default:if(Gh(T=$S(C,e,n,u,c,i,a,y,E=[],R=[],d),s),g===123)if(c===0)xf(C,e,T,T,E,s,d,a,R);else switch(h===99&&Tn(C,3)===110?100:h){case 100:case 108:case 109:case 115:xf(t,T,T,r&&Gh($S(t,T,T,0,0,i,a,y,i,E=[],d),R),i,R,d,a,r?E:R);break;default:xf(C,T,T,T,[""],R,0,a,R)}}u=c=p=0,v=f=1,y=C="",d=o;break;case 58:d=1+gi(C),p=m;default:if(v<1){if(g==123)--v;else if(g==125&&v++==0&&MF()==125)continue}switch(C+=bm(g),g*v){case 38:f=c>0?1:(C+="\f",-1);break;case 44:a[u++]=(gi(C)-1)*f,f=1;break;case 64:bi()===45&&(C+=bf(_r())),h=bi(),c=d=gi(y=C+=VF(Rf())),g++;break;case 45:m===45&&gi(C)==2&&(v=0)}}return s}function $S(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],p=O1(h),m=0,v=0,_=0;m<r;++m)for(var f=0,g=cd(t,d+1,d=PF(v=o[m])),y=t;f<p;++f)(y=JP(v>0?h[f]+" "+g:Ge(g,/&\f/g,h[f])))&&(l[_++]=y);return Pm(t,e,n,i===0?A1:a,l,u,c)}function jF(t,e,n){return Pm(t,e,n,YP,bm(DF()),cd(t,2,-2),0)}function FS(t,e,n,r){return Pm(t,e,n,N1,cd(t,0,r),cd(t,r+1,-1),r)}function pl(t,e){for(var n="",r=O1(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function BF(t,e,n,r){switch(t.type){case xF:if(t.children.length)break;case bF:case N1:return t.return=t.return||t.value;case YP:return"";case XP:return t.return=t.value+"{"+pl(t.children,r)+"}";case A1:t.value=t.props.join(",")}return gi(n=pl(t.children,r))?t.return=t.value+"{"+n+"}":""}function zF(t){var e=O1(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function WF(t){return function(e){e.root||(e=e.return)&&t(e)}}var HF=function(e,n,r){for(var i=0,s=0;i=s,s=bi(),i===38&&s===12&&(n[r]=1),!dd(s);)_r();return Wd(e,dr)},qF=function(e,n){var r=-1,i=44;do switch(dd(i)){case 0:i===38&&bi()===12&&(n[r]=1),e[r]+=HF(dr-1,n,r);break;case 2:e[r]+=bf(i);break;case 4:if(i===44){e[++r]=bi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=bm(i)}while(i=_r());return e},KF=function(e,n){return tk(qF(ek(e),n))},VS=new WeakMap,GF=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!VS.get(r))&&!i){VS.set(e,!0);for(var s=[],o=KF(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},QF=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function nk(t,e){switch(AF(t,e)){case 5103:return Ke+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ke+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ke+t+hp+t+Dn+t+t;case 6828:case 4268:return Ke+t+Dn+t+t;case 6165:return Ke+t+Dn+"flex-"+t+t;case 5187:return Ke+t+Ge(t,/(\w+).+(:[^]+)/,Ke+"box-$1$2"+Dn+"flex-$1$2")+t;case 5443:return Ke+t+Dn+"flex-item-"+Ge(t,/flex-|-self/,"")+t;case 4675:return Ke+t+Dn+"flex-line-pack"+Ge(t,/align-content|flex-|-self/,"")+t;case 5548:return Ke+t+Dn+Ge(t,"shrink","negative")+t;case 5292:return Ke+t+Dn+Ge(t,"basis","preferred-size")+t;case 6060:return Ke+"box-"+Ge(t,"-grow","")+Ke+t+Dn+Ge(t,"grow","positive")+t;case 4554:return Ke+Ge(t,/([^-])(transform)/g,"$1"+Ke+"$2")+t;case 6187:return Ge(Ge(Ge(t,/(zoom-|grab)/,Ke+"$1"),/(image-set)/,Ke+"$1"),t,"")+t;case 5495:case 3959:return Ge(t,/(image-set\([^]*)/,Ke+"$1$`$1");case 4968:return Ge(Ge(t,/(.+:)(flex-)?(.*)/,Ke+"box-pack:$3"+Dn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ke+t+t;case 4095:case 3583:case 4068:case 2532:return Ge(t,/(.+)-inline(.+)/,Ke+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gi(t)-1-e>6)switch(Tn(t,e+1)){case 109:if(Tn(t,e+4)!==45)break;case 102:return Ge(t,/(.+:)(.+)-([^]+)/,"$1"+Ke+"$2-$3$1"+hp+(Tn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~T_(t,"stretch")?nk(Ge(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Tn(t,e+1)!==115)break;case 6444:switch(Tn(t,gi(t)-3-(~T_(t,"!important")&&10))){case 107:return Ge(t,":",":"+Ke)+t;case 101:return Ge(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ke+(Tn(t,14)===45?"inline-":"")+"box$3$1"+Ke+"$2$3$1"+Dn+"$2box$3")+t}break;case 5936:switch(Tn(t,e+11)){case 114:return Ke+t+Dn+Ge(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ke+t+Dn+Ge(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ke+t+Dn+Ge(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ke+t+Dn+t+t}return t}var YF=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case N1:e.return=nk(e.value,e.length);break;case XP:return pl([Fu(e,{value:Ge(e.value,"@","@"+Ke)})],i);case A1:if(e.length)return OF(e.props,function(s){switch(NF(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return pl([Fu(e,{props:[Ge(s,/:(read-\w+)/,":"+hp+"$1")]})],i);case"::placeholder":return pl([Fu(e,{props:[Ge(s,/:(plac\w+)/,":"+Ke+"input-$1")]}),Fu(e,{props:[Ge(s,/:(plac\w+)/,":"+hp+"$1")]}),Fu(e,{props:[Ge(s,/:(plac\w+)/,Dn+"input-$1")]})],i)}return""})}},XF=[YF],JF=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var _=v.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||XF,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var _=v.getAttribute("data-emotion").split(" "),f=1;f<_.length;f++)s[_[f]]=!0;a.push(v)});var l,u=[GF,QF];{var c,d=[BF,WF(function(v){c.insert(v)})],h=zF(u.concat(i,d)),p=function(_){return pl(UF(_),h)};l=function(_,f,g,y){c=g,p(_?_+"{"+f.styles+"}":f.styles),y&&(m.inserted[f.name]=!0)}}var m={key:n,sheet:new RF({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return m.sheet.hydrate(a),m},rk={exports:{}},et={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yn=typeof Symbol=="function"&&Symbol.for,D1=yn?Symbol.for("react.element"):60103,M1=yn?Symbol.for("react.portal"):60106,km=yn?Symbol.for("react.fragment"):60107,Am=yn?Symbol.for("react.strict_mode"):60108,Nm=yn?Symbol.for("react.profiler"):60114,Om=yn?Symbol.for("react.provider"):60109,Dm=yn?Symbol.for("react.context"):60110,L1=yn?Symbol.for("react.async_mode"):60111,Mm=yn?Symbol.for("react.concurrent_mode"):60111,Lm=yn?Symbol.for("react.forward_ref"):60112,$m=yn?Symbol.for("react.suspense"):60113,ZF=yn?Symbol.for("react.suspense_list"):60120,Fm=yn?Symbol.for("react.memo"):60115,Vm=yn?Symbol.for("react.lazy"):60116,e5=yn?Symbol.for("react.block"):60121,t5=yn?Symbol.for("react.fundamental"):60117,n5=yn?Symbol.for("react.responder"):60118,r5=yn?Symbol.for("react.scope"):60119;function Rr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case D1:switch(t=t.type,t){case L1:case Mm:case km:case Nm:case Am:case $m:return t;default:switch(t=t&&t.$$typeof,t){case Dm:case Lm:case Vm:case Fm:case Om:return t;default:return e}}case M1:return e}}}function ik(t){return Rr(t)===Mm}et.AsyncMode=L1;et.ConcurrentMode=Mm;et.ContextConsumer=Dm;et.ContextProvider=Om;et.Element=D1;et.ForwardRef=Lm;et.Fragment=km;et.Lazy=Vm;et.Memo=Fm;et.Portal=M1;et.Profiler=Nm;et.StrictMode=Am;et.Suspense=$m;et.isAsyncMode=function(t){return ik(t)||Rr(t)===L1};et.isConcurrentMode=ik;et.isContextConsumer=function(t){return Rr(t)===Dm};et.isContextProvider=function(t){return Rr(t)===Om};et.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===D1};et.isForwardRef=function(t){return Rr(t)===Lm};et.isFragment=function(t){return Rr(t)===km};et.isLazy=function(t){return Rr(t)===Vm};et.isMemo=function(t){return Rr(t)===Fm};et.isPortal=function(t){return Rr(t)===M1};et.isProfiler=function(t){return Rr(t)===Nm};et.isStrictMode=function(t){return Rr(t)===Am};et.isSuspense=function(t){return Rr(t)===$m};et.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===km||t===Mm||t===Nm||t===Am||t===$m||t===ZF||typeof t=="object"&&t!==null&&(t.$$typeof===Vm||t.$$typeof===Fm||t.$$typeof===Om||t.$$typeof===Dm||t.$$typeof===Lm||t.$$typeof===t5||t.$$typeof===n5||t.$$typeof===r5||t.$$typeof===e5)};et.typeOf=Rr;rk.exports=et;var i5=rk.exports,sk=i5,s5={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o5={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ok={};ok[sk.ForwardRef]=s5;ok[sk.Memo]=o5;var a5=!0;function l5(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var ak=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||a5===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},lk=function(e,n,r){ak(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function u5(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var c5={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},d5=/[A-Z]|^ms/g,h5=/_EMO_([^_]+?)_([^]*?)_EMO_/g,uk=function(e){return e.charCodeAt(1)===45},US=function(e){return e!=null&&typeof e!="boolean"},Uy=QP(function(t){return uk(t)?t:t.replace(d5,"-$&").toLowerCase()}),jS=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(h5,function(r,i,s){return yi={name:i,styles:s,next:yi},i})}return c5[e]!==1&&!uk(e)&&typeof n=="number"&&n!==0?n+"px":n};function hd(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return yi={name:n.name,styles:n.styles,next:yi},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)yi={name:r.name,styles:r.styles,next:yi},r=r.next;var i=n.styles+";";return i}return f5(t,e,n)}case"function":{if(t!==void 0){var s=yi,o=n(t);return yi=s,hd(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function f5(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=hd(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":US(o)&&(r+=Uy(s)+":"+jS(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)US(o[a])&&(r+=Uy(s)+":"+jS(s,o[a])+";");else{var l=hd(t,e,o);switch(s){case"animation":case"animationName":{r+=Uy(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var BS=/label:\s*([^\s;\n{]+)\s*(;|$)/g,yi,$1=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";yi=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=hd(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=hd(r,n,e[a]),i&&(s+=o[a]);BS.lastIndex=0;for(var l="",u;(u=BS.exec(s))!==null;)l+="-"+u[1];var c=u5(s)+l;return{name:c,styles:s,next:yi}},p5=function(e){return e()},ck=Uf.useInsertionEffect?Uf.useInsertionEffect:!1,m5=ck||p5,zS=ck||w.useLayoutEffect,dk=w.createContext(typeof HTMLElement<"u"?JF({key:"css"}):null);dk.Provider;var hk=function(e){return w.forwardRef(function(n,r){var i=w.useContext(dk);return e(n,i,r)})},Um=w.createContext({}),g5=hk(function(t,e){var n=t.styles,r=$1([n],void 0,w.useContext(Um)),i=w.useRef();return zS(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),zS(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&lk(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function nu(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return $1(e)}var ho=function(){var e=nu.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},y5=SF,v5=function(e){return e!=="theme"},WS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?y5:v5},HS=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},_5=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return ak(n,r,i),m5(function(){return lk(n,r,i)}),null},w5=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=HS(e,n,r),l=a||WS(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,p=1;p<h;p++)d.push(c[p],c[0][p])}var m=hk(function(v,_,f){var g=u&&v.as||i,y="",E=[],R=v;if(v.theme==null){R={};for(var T in v)R[T]=v[T];R.theme=w.useContext(Um)}typeof v.className=="string"?y=l5(_.registered,E,v.className):v.className!=null&&(y=v.className+" ");var C=$1(d.concat(E),_.registered,R);y+=_.key+"-"+C.name,o!==void 0&&(y+=" "+o);var b=u&&a===void 0?WS(g):l,k={};for(var x in v)u&&x==="as"||b(x)&&(k[x]=v[x]);return k.className=y,k.ref=f,w.createElement(w.Fragment,null,w.createElement(_5,{cache:_,serialized:C,isStringTag:typeof g=="string"}),w.createElement(g,k))});return m.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=d,m.__emotion_forwardProp=a,Object.defineProperty(m,"toString",{value:function(){return"."+o}}),m.withComponent=function(v,_){return t(v,I({},n,_,{shouldForwardProp:HS(m,_,!0)})).apply(void 0,d)},m}},E5=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],C_=w5.bind();E5.forEach(function(t){C_[t]=C_(t)});function T5(t){return t==null||Object.keys(t).length===0}function S5(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(T5(i)?n:i):e;return S.jsx(g5,{styles:r})}function fk(t,e){return C_(t,e)}const C5=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function Ki(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function pk(t){if(!Ki(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=pk(t[n])}),e}function lr(t,e,n={clone:!0}){const r=n.clone?I({},t):t;return Ki(t)&&Ki(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Ki(e[i])&&i in t&&Ki(t[i])?r[i]=lr(t[i],e[i],n):n.clone?r[i]=Ki(e[i])?pk(e[i]):e[i]:r[i]=e[i])}),r}function he(t){if(typeof t!="string")throw new Error(Zs(7));return t.charAt(0).toUpperCase()+t.slice(1)}function I_(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function F1(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function I5(t,e){return()=>null}function Pf(t,e){var n,r;return w.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function on(t){return t&&t.ownerDocument||document}function eo(t){return on(t).defaultView||window}function R5(t,e){return()=>null}function fp(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const Mi=typeof window<"u"?w.useLayoutEffect:w.useEffect;let qS=0;function b5(t){const[e,n]=w.useState(t),r=t||e;return w.useEffect(()=>{e==null&&(qS+=1,n(`mui-${qS}`))},[e]),r}const KS=Uf.useId;function jm(t){if(KS!==void 0){const e=KS();return t??e}return b5(t)}function x5(t,e,n,r,i){return null}function pp({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=w.useRef(t!==void 0),[s,o]=w.useState(e),a=i?t:s,l=w.useCallback(u=>{i||o(u)},[]);return[a,l]}function Lr(t){const e=w.useRef(t);return Mi(()=>{e.current=t}),w.useRef((...n)=>(0,e.current)(...n)).current}function an(...t){return w.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{fp(n,e)})},t)}const GS={};function P5(t,e){const n=w.useRef(GS);return n.current===GS&&(n.current=t(e)),n}const k5=[];function A5(t){w.useEffect(t,k5)}class Hd{constructor(){this.currentId=0,this.clear=()=>{this.currentId!==0&&(clearTimeout(this.currentId),this.currentId=0)},this.disposeEffect=()=>this.clear}static create(){return new Hd}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=0,n()},e)}}function Lo(){const t=P5(Hd.create).current;return A5(t.disposeEffect),t}let Bm=!0,R_=!1;const N5=new Hd,O5={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function D5(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&O5[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function M5(t){t.metaKey||t.altKey||t.ctrlKey||(Bm=!0)}function jy(){Bm=!1}function L5(){this.visibilityState==="hidden"&&R_&&(Bm=!0)}function $5(t){t.addEventListener("keydown",M5,!0),t.addEventListener("mousedown",jy,!0),t.addEventListener("pointerdown",jy,!0),t.addEventListener("touchstart",jy,!0),t.addEventListener("visibilitychange",L5,!0)}function F5(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Bm||D5(e)}function V1(){const t=w.useCallback(i=>{i!=null&&$5(i.ownerDocument)},[]),e=w.useRef(!1);function n(){return e.current?(R_=!0,N5.start(100,()=>{R_=!1}),e.current=!1,!0):!1}function r(i){return F5(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function mk(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function gk(t,e){const n=I({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=I({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=I({},s),Object.keys(i).forEach(o=>{n[r][o]=gk(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function tt(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const QS=t=>t,V5=()=>{let t=QS;return{configure(e){t=e},generate(e){return t(e)},reset(){t=QS}}},U5=V5(),U1=U5,yk={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function nt(t,e,n="Mui"){const r=yk[e];return r?`${n}-${r}`:`${U1.generate(t)}-${e}`}function Xe(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=nt(t,i,n)}),r}function j5(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const B5=["values","unit","step"],z5=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>I({},n,{[r.key]:r.val}),{})};function W5(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=se(t,B5),s=z5(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,p){const m=o.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(m!==-1&&typeof e[o[m]]=="number"?e[o[m]]:p)-r/100}${n})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const p=o.indexOf(h);return p===0?a(o[1]):p===o.length-1?l(o[p]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return I({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const H5={borderRadius:4},q5=H5;function Ic(t,e){return e?lr(t,e,{clone:!1}):t}const j1={xs:0,sm:600,md:900,lg:1200,xl:1536},YS={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${j1[t]}px)`};function ls(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||YS;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||YS;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||j1).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function K5(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function G5(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function zm(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function mp(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=zm(t,n)||r,e&&(i=e(i,r,t)),i}function Ht(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=zm(l,r)||{};return ls(o,a,d=>{let h=mp(u,i,d);return d===h&&typeof d=="string"&&(h=mp(u,i,`${e}${d==="default"?"":he(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function Q5(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Y5={m:"margin",p:"padding"},X5={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},XS={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},J5=Q5(t=>{if(t.length>2)if(XS[t])t=XS[t];else return[t];const[e,n]=t.split(""),r=Y5[e],i=X5[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),B1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],z1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...B1,...z1];function qd(t,e,n,r){var i;const s=(i=zm(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function vk(t){return qd(t,"spacing",8)}function Kd(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function Z5(t,e){return n=>t.reduce((r,i)=>(r[i]=Kd(e,n),r),{})}function eV(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=J5(n),s=Z5(i,r),o=t[n];return ls(t,o,s)}function _k(t,e){const n=vk(t.theme);return Object.keys(t).map(r=>eV(t,e,r,n)).reduce(Ic,{})}function Lt(t){return _k(t,B1)}Lt.propTypes={};Lt.filterProps=B1;function $t(t){return _k(t,z1)}$t.propTypes={};$t.filterProps=z1;function tV(t=8){if(t.mui)return t;const e=vk({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Wm(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Ic(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Nr(t){return typeof t!="number"?t:`${t}px solid`}function Gr(t,e){return Ht({prop:t,themeKey:"borders",transform:e})}const nV=Gr("border",Nr),rV=Gr("borderTop",Nr),iV=Gr("borderRight",Nr),sV=Gr("borderBottom",Nr),oV=Gr("borderLeft",Nr),aV=Gr("borderColor"),lV=Gr("borderTopColor"),uV=Gr("borderRightColor"),cV=Gr("borderBottomColor"),dV=Gr("borderLeftColor"),hV=Gr("outline",Nr),fV=Gr("outlineColor"),Hm=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=qd(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Kd(e,r)});return ls(t,t.borderRadius,n)}return null};Hm.propTypes={};Hm.filterProps=["borderRadius"];Wm(nV,rV,iV,sV,oV,aV,lV,uV,cV,dV,Hm,hV,fV);const qm=t=>{if(t.gap!==void 0&&t.gap!==null){const e=qd(t.theme,"spacing",8),n=r=>({gap:Kd(e,r)});return ls(t,t.gap,n)}return null};qm.propTypes={};qm.filterProps=["gap"];const Km=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=qd(t.theme,"spacing",8),n=r=>({columnGap:Kd(e,r)});return ls(t,t.columnGap,n)}return null};Km.propTypes={};Km.filterProps=["columnGap"];const Gm=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=qd(t.theme,"spacing",8),n=r=>({rowGap:Kd(e,r)});return ls(t,t.rowGap,n)}return null};Gm.propTypes={};Gm.filterProps=["rowGap"];const pV=Ht({prop:"gridColumn"}),mV=Ht({prop:"gridRow"}),gV=Ht({prop:"gridAutoFlow"}),yV=Ht({prop:"gridAutoColumns"}),vV=Ht({prop:"gridAutoRows"}),_V=Ht({prop:"gridTemplateColumns"}),wV=Ht({prop:"gridTemplateRows"}),EV=Ht({prop:"gridTemplateAreas"}),TV=Ht({prop:"gridArea"});Wm(qm,Km,Gm,pV,mV,gV,yV,vV,_V,wV,EV,TV);function ml(t,e){return e==="grey"?e:t}const SV=Ht({prop:"color",themeKey:"palette",transform:ml}),CV=Ht({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:ml}),IV=Ht({prop:"backgroundColor",themeKey:"palette",transform:ml});Wm(SV,CV,IV);function pr(t){return t<=1&&t!==0?`${t*100}%`:t}const RV=Ht({prop:"width",transform:pr}),W1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||j1[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:pr(n)}};return ls(t,t.maxWidth,e)}return null};W1.filterProps=["maxWidth"];const bV=Ht({prop:"minWidth",transform:pr}),xV=Ht({prop:"height",transform:pr}),PV=Ht({prop:"maxHeight",transform:pr}),kV=Ht({prop:"minHeight",transform:pr});Ht({prop:"size",cssProperty:"width",transform:pr});Ht({prop:"size",cssProperty:"height",transform:pr});const AV=Ht({prop:"boxSizing"});Wm(RV,W1,bV,xV,PV,kV,AV);const NV={border:{themeKey:"borders",transform:Nr},borderTop:{themeKey:"borders",transform:Nr},borderRight:{themeKey:"borders",transform:Nr},borderBottom:{themeKey:"borders",transform:Nr},borderLeft:{themeKey:"borders",transform:Nr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Nr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Hm},color:{themeKey:"palette",transform:ml},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:ml},backgroundColor:{themeKey:"palette",transform:ml},p:{style:$t},pt:{style:$t},pr:{style:$t},pb:{style:$t},pl:{style:$t},px:{style:$t},py:{style:$t},padding:{style:$t},paddingTop:{style:$t},paddingRight:{style:$t},paddingBottom:{style:$t},paddingLeft:{style:$t},paddingX:{style:$t},paddingY:{style:$t},paddingInline:{style:$t},paddingInlineStart:{style:$t},paddingInlineEnd:{style:$t},paddingBlock:{style:$t},paddingBlockStart:{style:$t},paddingBlockEnd:{style:$t},m:{style:Lt},mt:{style:Lt},mr:{style:Lt},mb:{style:Lt},ml:{style:Lt},mx:{style:Lt},my:{style:Lt},margin:{style:Lt},marginTop:{style:Lt},marginRight:{style:Lt},marginBottom:{style:Lt},marginLeft:{style:Lt},marginX:{style:Lt},marginY:{style:Lt},marginInline:{style:Lt},marginInlineStart:{style:Lt},marginInlineEnd:{style:Lt},marginBlock:{style:Lt},marginBlockStart:{style:Lt},marginBlockEnd:{style:Lt},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:qm},rowGap:{style:Gm},columnGap:{style:Km},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:pr},maxWidth:{style:W1},minWidth:{transform:pr},height:{transform:pr},maxHeight:{transform:pr},minHeight:{transform:pr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Qm=NV;function OV(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function DV(t,e){return typeof t=="function"?t(e):t}function MV(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=zm(i,u)||{};return d?d(o):ls(o,r,m=>{let v=mp(h,c,m);return m===v&&typeof m=="string"&&(v=mp(h,c,`${n}${m==="default"?"":he(m)}`,m)),l===!1?v:{[l]:v}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:Qm;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=K5(s.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(p=>{const m=DV(u[p],s);if(m!=null)if(typeof m=="object")if(o[p])h=Ic(h,t(p,m,s,o));else{const v=ls({theme:s},m,_=>({[p]:_}));OV(v,m)?h[p]=e({sx:m,theme:s}):h=Ic(h,v)}else h=Ic(h,t(p,m,s,o))}),G5(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const Gd=MV();Gd.filterProps=["sx"];function LV(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const $V=["breakpoints","palette","spacing","shape"];function H1(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=se(t,$V),a=W5(n),l=tV(i);let u=lr({breakpoints:a,direction:"ltr",components:{},palette:I({mode:"light"},r),spacing:l,shape:I({},q5,s)},o);return u.applyStyles=LV,u=e.reduce((c,d)=>lr(c,d),u),u.unstable_sxConfig=I({},Qm,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return Gd({sx:d,theme:this})},u}function FV(t){return Object.keys(t).length===0}function q1(t=null){const e=w.useContext(Um);return!e||FV(e)?t:e}const VV=H1();function Ym(t=VV){return q1(t)}function UV({styles:t,themeId:e,defaultTheme:n={}}){const r=Ym(n),i=typeof t=="function"?t(e&&r[e]||r):t;return S.jsx(S5,{styles:i})}const jV=["sx"],BV=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Qm;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function zV(t){const{sx:e}=t,n=se(t,jV),{systemProps:r,otherProps:i}=BV(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Ki(a)?I({},r,a):r}:s=I({},r,e),I({},i,{sx:s})}function wk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=wk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Te(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=wk(t))&&(r&&(r+=" "),r+=e);return r}const WV=["className","component"];function HV(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=fk("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Gd);return w.forwardRef(function(l,u){const c=Ym(n),d=zV(l),{className:h,component:p="div"}=d,m=se(d,WV);return S.jsx(s,I({as:p,ref:u,className:Te(h,i?i(r):r),theme:e&&c[e]||c},m))})}const qV=Xe("MuiBox",["root"]),KV=qV,GV=HV({defaultClassName:KV.root,generateClassName:U1.generate}),Ek=GV,QV=["variant"];function JS(t){return t.length===0}function Tk(t){const{variant:e}=t,n=se(t,QV);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=JS(r)?t[i]:he(t[i]):r+=`${JS(r)?i:he(i)}${he(t[i].toString())}`}),r}const YV=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function XV(t){return Object.keys(t).length===0}function JV(t){return typeof t=="string"&&t.charCodeAt(0)>96}const ZV=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,gp=t=>{let e=0;const n={};return t&&t.forEach(r=>{let i="";typeof r.props=="function"?(i=`callback${e}`,e+=1):i=Tk(r.props),n[i]=r.style}),n},eU=(t,e)=>{let n=[];return e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants),gp(n)},yp=(t,e,n)=>{const{ownerState:r={}}=t,i=[];let s=0;return n&&n.forEach(o=>{let a=!0;if(typeof o.props=="function"){const l=I({},t,r);a=o.props(l)}else Object.keys(o.props).forEach(l=>{r[l]!==o.props[l]&&t[l]!==o.props[l]&&(a=!1)});a&&(typeof o.props=="function"?i.push(e[`callback${s}`]):i.push(e[Tk(o.props)])),typeof o.props=="function"&&(s+=1)}),i},tU=(t,e,n,r)=>{var i;const s=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return yp(t,e,s)};function Rc(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const nU=H1(),rU=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function kf({defaultTheme:t,theme:e,themeId:n}){return XV(e)?t:e[n]||e}function iU(t){return t?(e,n)=>n[t]:null}const ZS=({styledArg:t,props:e,defaultTheme:n,themeId:r})=>{const i=t(I({},e,{theme:kf(I({},e,{defaultTheme:n,themeId:r}))}));let s;if(i&&i.variants&&(s=i.variants,delete i.variants),s){const o=yp(e,gp(s),s);return[i,...o]}return i};function sU(t={}){const{themeId:e,defaultTheme:n=nU,rootShouldForwardProp:r=Rc,slotShouldForwardProp:i=Rc}=t,s=o=>Gd(I({},o,{theme:kf(I({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{C5(o,E=>E.filter(R=>!(R!=null&&R.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h=iU(rU(u))}=a,p=se(a,YV),m=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,v=d||!1;let _,f=Rc;u==="Root"||u==="root"?f=r:u?f=i:JV(o)&&(f=void 0);const g=fk(o,I({shouldForwardProp:f,label:_},p)),y=(E,...R)=>{const T=R?R.map(x=>{if(typeof x=="function"&&x.__emotion_real!==x)return O=>ZS({styledArg:x,props:O,defaultTheme:n,themeId:e});if(Ki(x)){let O=x,F;return x&&x.variants&&(F=x.variants,delete O.variants,O=M=>{let V=x;return yp(M,gp(F),F).forEach(j=>{V=lr(V,j)}),V}),O}return x}):[];let C=E;if(Ki(E)){let x;E&&E.variants&&(x=E.variants,delete C.variants,C=O=>{let F=E;return yp(O,gp(x),x).forEach(V=>{F=lr(F,V)}),F})}else typeof E=="function"&&E.__emotion_real!==E&&(C=x=>ZS({styledArg:E,props:x,defaultTheme:n,themeId:e}));l&&h&&T.push(x=>{const O=kf(I({},x,{defaultTheme:n,themeId:e})),F=ZV(l,O);if(F){const M={};return Object.entries(F).forEach(([V,z])=>{M[V]=typeof z=="function"?z(I({},x,{theme:O})):z}),h(x,M)}return null}),l&&!m&&T.push(x=>{const O=kf(I({},x,{defaultTheme:n,themeId:e}));return tU(x,eU(l,O),O,l)}),v||T.push(s);const b=T.length-R.length;if(Array.isArray(E)&&b>0){const x=new Array(b).fill("");C=[...E,...x],C.raw=[...E.raw,...x]}const k=g(C,...T);return o.muiName&&(k.muiName=o.muiName),k};return g.withConfig&&(y.withConfig=g.withConfig),y}}function oU(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:gk(e.components[n].defaultProps,r)}function aU({props:t,name:e,defaultTheme:n,themeId:r}){let i=Ym(n);return r&&(i=i[r]||i),oU({theme:i,name:e,props:t})}function K1(t,e=0,n=1){return j5(t,e,n)}function lU(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ia(t){if(t.type)return t;if(t.charAt(0)==="#")return ia(lU(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Zs(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Zs(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function Xm(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function uU(t){t=ia(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Xm({type:a,values:l})}function b_(t){t=ia(t);let e=t.type==="hsl"||t.type==="hsla"?ia(uU(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function cU(t,e){const n=b_(t),r=b_(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function sa(t,e){return t=ia(t),e=K1(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Xm(t)}function fd(t,e){if(t=ia(t),e=K1(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Xm(t)}function pd(t,e){if(t=ia(t),e=K1(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Xm(t)}function dU(t,e=.15){return b_(t)>.5?fd(t,e):pd(t,e)}const hU=w.createContext(null),Sk=hU;function Ck(){return w.useContext(Sk)}const fU=typeof Symbol=="function"&&Symbol.for,pU=fU?Symbol.for("mui.nested"):"__THEME_NESTED__";function mU(t,e){return typeof e=="function"?e(t):I({},t,e)}function gU(t){const{children:e,theme:n}=t,r=Ck(),i=w.useMemo(()=>{const s=r===null?n:mU(r,n);return s!=null&&(s[pU]=r!==null),s},[n,r]);return S.jsx(Sk.Provider,{value:i,children:e})}const eC={};function tC(t,e,n,r=!1){return w.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const s=n(i),o=t?I({},e,{[t]:s}):s;return r?()=>o:o}return t?I({},e,{[t]:n}):I({},e,n)},[t,e,n,r])}function yU(t){const{children:e,theme:n,themeId:r}=t,i=q1(eC),s=Ck()||eC,o=tC(r,i,n),a=tC(r,s,n,!0);return S.jsx(gU,{theme:a,children:S.jsx(Um.Provider,{value:o,children:e})})}function vU(t,e){return I({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const _U=["mode","contrastThreshold","tonalOffset"],nC={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:ud.white,default:ud.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},By={text:{primary:ud.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:ud.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function rC(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=pd(t.main,i):e==="dark"&&(t.dark=fd(t.main,s)))}function wU(t="light"){return t==="dark"?{main:Oa[200],light:Oa[50],dark:Oa[400]}:{main:Oa[700],light:Oa[400],dark:Oa[800]}}function EU(t="light"){return t==="dark"?{main:Na[200],light:Na[50],dark:Na[400]}:{main:Na[500],light:Na[300],dark:Na[700]}}function TU(t="light"){return t==="dark"?{main:Io[500],light:Io[300],dark:Io[700]}:{main:Io[700],light:Io[400],dark:Io[800]}}function SU(t="light"){return t==="dark"?{main:Da[400],light:Da[300],dark:Da[700]}:{main:Da[700],light:Da[500],dark:Da[900]}}function CU(t="light"){return t==="dark"?{main:Ma[400],light:Ma[300],dark:Ma[700]}:{main:Ma[800],light:Ma[500],dark:Ma[900]}}function IU(t="light"){return t==="dark"?{main:$u[400],light:$u[300],dark:$u[700]}:{main:"#ed6c02",light:$u[500],dark:$u[900]}}function RU(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=se(t,_U),s=t.primary||wU(e),o=t.secondary||EU(e),a=t.error||TU(e),l=t.info||SU(e),u=t.success||CU(e),c=t.warning||IU(e);function d(v){return cU(v,By.text.primary)>=n?By.text.primary:nC.text.primary}const h=({color:v,name:_,mainShade:f=500,lightShade:g=300,darkShade:y=700})=>{if(v=I({},v),!v.main&&v[f]&&(v.main=v[f]),!v.hasOwnProperty("main"))throw new Error(Zs(11,_?` (${_})`:"",f));if(typeof v.main!="string")throw new Error(Zs(12,_?` (${_})`:"",JSON.stringify(v.main)));return rC(v,"light",g,r),rC(v,"dark",y,r),v.contrastText||(v.contrastText=d(v.main)),v},p={dark:By,light:nC};return lr(I({common:I({},ud),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:EF,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},p[e]),i)}const bU=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function xU(t){return Math.round(t*1e5)/1e5}const iC={textTransform:"uppercase"},sC='"Roboto", "Helvetica", "Arial", sans-serif';function PU(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=sC,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=se(n,bU),p=i/14,m=d||(f=>`${f/u*p}rem`),v=(f,g,y,E,R)=>I({fontFamily:r,fontWeight:f,fontSize:m(g),lineHeight:y},r===sC?{letterSpacing:`${xU(E/g)}em`}:{},R,c),_={h1:v(s,96,1.167,-1.5),h2:v(s,60,1.2,-.5),h3:v(o,48,1.167,0),h4:v(o,34,1.235,.25),h5:v(o,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(o,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(o,16,1.5,.15),body2:v(o,14,1.43,.15),button:v(a,14,1.75,.4,iC),caption:v(o,12,1.66,.4),overline:v(o,12,2.66,1,iC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return lr(I({htmlFontSize:u,pxToRem:m,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},_),h,{clone:!1})}const kU=.2,AU=.14,NU=.12;function St(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${kU})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${AU})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${NU})`].join(",")}const OU=["none",St(0,2,1,-1,0,1,1,0,0,1,3,0),St(0,3,1,-2,0,2,2,0,0,1,5,0),St(0,3,3,-2,0,3,4,0,0,1,8,0),St(0,2,4,-1,0,4,5,0,0,1,10,0),St(0,3,5,-1,0,5,8,0,0,1,14,0),St(0,3,5,-1,0,6,10,0,0,1,18,0),St(0,4,5,-2,0,7,10,1,0,2,16,1),St(0,5,5,-3,0,8,10,1,0,3,14,2),St(0,5,6,-3,0,9,12,1,0,3,16,2),St(0,6,6,-3,0,10,14,1,0,4,18,3),St(0,6,7,-4,0,11,15,1,0,4,20,3),St(0,7,8,-4,0,12,17,2,0,5,22,4),St(0,7,8,-4,0,13,19,2,0,5,24,4),St(0,7,9,-4,0,14,21,2,0,5,26,4),St(0,8,9,-5,0,15,22,2,0,6,28,5),St(0,8,10,-5,0,16,24,2,0,6,30,5),St(0,8,11,-5,0,17,26,2,0,6,32,5),St(0,9,11,-5,0,18,28,2,0,7,34,6),St(0,9,12,-6,0,19,29,2,0,7,36,6),St(0,10,13,-6,0,20,31,3,0,8,38,7),St(0,10,13,-6,0,21,33,3,0,8,40,7),St(0,10,14,-6,0,22,35,3,0,8,42,7),St(0,11,14,-7,0,23,36,3,0,9,44,8),St(0,11,15,-7,0,24,38,3,0,9,46,8)],DU=["duration","easing","delay"],MU={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},LU={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function oC(t){return`${Math.round(t)}ms`}function $U(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function FU(t){const e=I({},MU,t.easing),n=I({},LU,t.duration);return I({getAutoHeightDuration:$U,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return se(s,DU),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:oC(o)} ${a} ${typeof l=="string"?l:oC(l)}`).join(",")}},t,{easing:e,duration:n})}const VU={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},UU=VU,jU=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ik(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=se(t,jU);if(t.vars)throw new Error(Zs(18));const a=RU(r),l=H1(t);let u=lr(l,{mixins:vU(l.breakpoints,n),palette:a,shadows:OU.slice(),typography:PU(a,s),transitions:FU(i),zIndex:I({},UU)});return u=lr(u,o),u=e.reduce((c,d)=>lr(c,d),u),u.unstable_sxConfig=I({},Qm,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return Gd({sx:d,theme:this})},u}const BU=Ik(),Jm=BU;function ru(){const t=Ym(Jm);return t[kl]||t}function rt({props:t,name:e}){return aU({props:t,name:e,defaultTheme:Jm,themeId:kl})}const Vi=t=>Rc(t)&&t!=="classes",zU=Rc,ee=sU({themeId:kl,defaultTheme:Jm,rootShouldForwardProp:Vi}),WU=["theme"];function HU(t){let{theme:e}=t,n=se(t,WU);const r=e[kl];return S.jsx(yU,I({},n,{themeId:r?kl:void 0,theme:r||e}))}const qU=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},aC=qU;function KU(t){return nt("MuiSvgIcon",t)}Xe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const GU=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],QU=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${he(e)}`,`fontSize${he(n)}`]};return tt(i,KU,r)},YU=ee("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${he(n.color)}`],e[`fontSize${he(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,c,d,h,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(m=(t.vars||t).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[e.color]}}),x_=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,p=se(r,GU),m=w.isValidElement(i)&&i.type==="svg",v=I({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:m}),_={};c||(_.viewBox=h);const f=QU(v);return S.jsxs(YU,I({as:a,className:Te(f.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},_,p,m&&i.props,{ownerState:v,children:[m?i.props.children:i,d?S.jsx("title",{children:d}):null]}))});x_.muiName="SvgIcon";function fo(t,e){function n(r,i){return S.jsx(x_,I({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=x_.muiName,w.memo(w.forwardRef(n))}const XU={configure:t=>{U1.configure(t)}},JU=Object.freeze(Object.defineProperty({__proto__:null,capitalize:he,createChainedFunction:I_,createSvgIcon:fo,debounce:F1,deprecatedPropType:I5,isMuiElement:Pf,ownerDocument:on,ownerWindow:eo,requirePropFactory:R5,setRef:fp,unstable_ClassNameGenerator:XU,unstable_useEnhancedEffect:Mi,unstable_useId:jm,unsupportedProp:x5,useControlled:pp,useEventCallback:Lr,useForkRef:an,useIsFocusVisible:V1},Symbol.toStringTag,{value:"Module"}));var st={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G1=Symbol.for("react.element"),Q1=Symbol.for("react.portal"),Zm=Symbol.for("react.fragment"),eg=Symbol.for("react.strict_mode"),tg=Symbol.for("react.profiler"),ng=Symbol.for("react.provider"),rg=Symbol.for("react.context"),ZU=Symbol.for("react.server_context"),ig=Symbol.for("react.forward_ref"),sg=Symbol.for("react.suspense"),og=Symbol.for("react.suspense_list"),ag=Symbol.for("react.memo"),lg=Symbol.for("react.lazy"),e3=Symbol.for("react.offscreen"),Rk;Rk=Symbol.for("react.module.reference");function Qr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case G1:switch(t=t.type,t){case Zm:case tg:case eg:case sg:case og:return t;default:switch(t=t&&t.$$typeof,t){case ZU:case rg:case ig:case lg:case ag:case ng:return t;default:return e}}case Q1:return e}}}st.ContextConsumer=rg;st.ContextProvider=ng;st.Element=G1;st.ForwardRef=ig;st.Fragment=Zm;st.Lazy=lg;st.Memo=ag;st.Portal=Q1;st.Profiler=tg;st.StrictMode=eg;st.Suspense=sg;st.SuspenseList=og;st.isAsyncMode=function(){return!1};st.isConcurrentMode=function(){return!1};st.isContextConsumer=function(t){return Qr(t)===rg};st.isContextProvider=function(t){return Qr(t)===ng};st.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===G1};st.isForwardRef=function(t){return Qr(t)===ig};st.isFragment=function(t){return Qr(t)===Zm};st.isLazy=function(t){return Qr(t)===lg};st.isMemo=function(t){return Qr(t)===ag};st.isPortal=function(t){return Qr(t)===Q1};st.isProfiler=function(t){return Qr(t)===tg};st.isStrictMode=function(t){return Qr(t)===eg};st.isSuspense=function(t){return Qr(t)===sg};st.isSuspenseList=function(t){return Qr(t)===og};st.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Zm||t===tg||t===eg||t===sg||t===og||t===e3||typeof t=="object"&&t!==null&&(t.$$typeof===lg||t.$$typeof===ag||t.$$typeof===ng||t.$$typeof===rg||t.$$typeof===ig||t.$$typeof===Rk||t.getModuleId!==void 0)};st.typeOf=Qr;function P_(t,e){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P_(t,e)}function bk(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,P_(t,e)}const lC={disabled:!1},vp=pn.createContext(null);var t3=function(e){return e.scrollTop},sc="unmounted",Ro="exited",bo="entering",Ua="entered",k_="exiting",ys=function(t){bk(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Ro,s.appearStatus=bo):l=Ua:r.unmountOnExit||r.mountOnEnter?l=sc:l=Ro,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===sc?{status:Ro}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==bo&&o!==Ua&&(s=bo):(o===bo||o===Ua)&&(s=k_)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===bo){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:ic.findDOMNode(this);o&&t3(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ro&&this.setState({status:sc})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[ic.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||lC.disabled){this.safeSetState({status:Ua},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:bo},function(){s.props.onEntering(u,c),s.onTransitionEnd(h,function(){s.safeSetState({status:Ua},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:ic.findDOMNode(this);if(!s||lC.disabled){this.safeSetState({status:Ro},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:k_},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Ro},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:ic.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===sc)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=se(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return pn.createElement(vp.Provider,{value:null},typeof o=="function"?o(i,a):pn.cloneElement(pn.Children.only(o),a))},e}(pn.Component);ys.contextType=vp;ys.propTypes={};function La(){}ys.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:La,onEntering:La,onEntered:La,onExit:La,onExiting:La,onExited:La};ys.UNMOUNTED=sc;ys.EXITED=Ro;ys.ENTERING=bo;ys.ENTERED=Ua;ys.EXITING=k_;const xk=ys;function n3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y1(t,e){var n=function(s){return e&&w.isValidElement(s)?e(s):s},r=Object.create(null);return t&&w.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function r3(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function $o(t,e,n){return n[e]!=null?n[e]:t.props[e]}function i3(t,e){return Y1(t.children,function(n){return w.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:$o(n,"appear",t),enter:$o(n,"enter",t),exit:$o(n,"exit",t)})})}function s3(t,e,n){var r=Y1(t.children),i=r3(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(w.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=w.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=w.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:$o(o,"exit",t),enter:$o(o,"enter",t)}):!l&&a&&!c?i[s]=w.cloneElement(o,{in:!1}):l&&a&&w.isValidElement(u)&&(i[s]=w.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:$o(o,"exit",t),enter:$o(o,"enter",t)}))}}),i}var o3=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},a3={component:"div",childFactory:function(e){return e}},X1=function(t){bk(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(n3(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?i3(i,a):s3(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Y1(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=I({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=se(i,["component","childFactory"]),l=this.state.contextValue,u=o3(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?pn.createElement(vp.Provider,{value:l},u):pn.createElement(vp.Provider,{value:l},pn.createElement(s,a,u))},e}(pn.Component);X1.propTypes={};X1.defaultProps=a3;const l3=X1,Pk=t=>t.scrollTop;function _p(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function u3(t){return nt("MuiPaper",t)}Xe("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const c3=["className","component","elevation","square","variant"],d3=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return tt(s,u3,i)},h3=ee("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return I({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&I({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${sa("#fff",aC(e.elevation))}, ${sa("#fff",aC(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),f3=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=se(r,c3),c=I({},r,{component:s,elevation:o,square:a,variant:l}),d=d3(c);return S.jsx(h3,I({as:s,ownerState:c,className:Te(d.root,i),ref:n},u))}),J1=f3;function wp(t){return typeof t=="string"}function oc(t,e,n){return t===void 0||wp(t)?e:I({},e,{ownerState:I({},e.ownerState,n)})}const p3={disableDefaultClasses:!1},m3=w.createContext(p3);function g3(t){const{disableDefaultClasses:e}=w.useContext(m3);return n=>e?"":t(n)}function Ep(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function y3(t,e,n){return typeof t=="function"?t(e,n):t}function uC(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function v3(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const p=Te(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),m=I({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),v=I({},n,i,r);return p.length>0&&(v.className=p),Object.keys(m).length>0&&(v.style=m),{props:v,internalRef:void 0}}const o=Ep(I({},i,r)),a=uC(r),l=uC(i),u=e(o),c=Te(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=I({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=I({},u,n,l,a);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}const _3=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function to(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=se(t,_3),a=s?{}:y3(r,i),{props:l,internalRef:u}=v3(I({},o,{externalSlotProps:a})),c=an(u,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return oc(n,I({},l,{ref:c}),i)}function w3(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,d]=w.useState(!1),h=Te(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},m=Te(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),w.useEffect(()=>{if(!a&&l!=null){const v=setTimeout(l,u);return()=>{clearTimeout(v)}}},[l,a,u]),S.jsx("span",{className:h,style:p,children:S.jsx("span",{className:m})})}const Pr=Xe("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),E3=["center","classes","className"];let ug=t=>t,cC,dC,hC,fC;const A_=550,T3=80,S3=ho(cC||(cC=ug`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),C3=ho(dC||(dC=ug`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),I3=ho(hC||(hC=ug`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),R3=ee("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),b3=ee(w3,{name:"MuiTouchRipple",slot:"Ripple"})(fC||(fC=ug`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Pr.rippleVisible,S3,A_,({theme:t})=>t.transitions.easing.easeInOut,Pr.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Pr.child,Pr.childLeaving,C3,A_,({theme:t})=>t.transitions.easing.easeInOut,Pr.childPulsate,I3,({theme:t})=>t.transitions.easing.easeInOut),x3=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=se(r,E3),[l,u]=w.useState([]),c=w.useRef(0),d=w.useRef(null);w.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=w.useRef(!1),p=Lo(),m=w.useRef(null),v=w.useRef(null),_=w.useCallback(E=>{const{pulsate:R,rippleX:T,rippleY:C,rippleSize:b,cb:k}=E;u(x=>[...x,S.jsx(b3,{classes:{ripple:Te(s.ripple,Pr.ripple),rippleVisible:Te(s.rippleVisible,Pr.rippleVisible),ripplePulsate:Te(s.ripplePulsate,Pr.ripplePulsate),child:Te(s.child,Pr.child),childLeaving:Te(s.childLeaving,Pr.childLeaving),childPulsate:Te(s.childPulsate,Pr.childPulsate)},timeout:A_,pulsate:R,rippleX:T,rippleY:C,rippleSize:b},c.current)]),c.current+=1,d.current=k},[s]),f=w.useCallback((E={},R={},T=()=>{})=>{const{pulsate:C=!1,center:b=i||R.pulsate,fakeElement:k=!1}=R;if((E==null?void 0:E.type)==="mousedown"&&h.current){h.current=!1;return}(E==null?void 0:E.type)==="touchstart"&&(h.current=!0);const x=k?null:v.current,O=x?x.getBoundingClientRect():{width:0,height:0,left:0,top:0};let F,M,V;if(b||E===void 0||E.clientX===0&&E.clientY===0||!E.clientX&&!E.touches)F=Math.round(O.width/2),M=Math.round(O.height/2);else{const{clientX:z,clientY:j}=E.touches&&E.touches.length>0?E.touches[0]:E;F=Math.round(z-O.left),M=Math.round(j-O.top)}if(b)V=Math.sqrt((2*O.width**2+O.height**2)/3),V%2===0&&(V+=1);else{const z=Math.max(Math.abs((x?x.clientWidth:0)-F),F)*2+2,j=Math.max(Math.abs((x?x.clientHeight:0)-M),M)*2+2;V=Math.sqrt(z**2+j**2)}E!=null&&E.touches?m.current===null&&(m.current=()=>{_({pulsate:C,rippleX:F,rippleY:M,rippleSize:V,cb:T})},p.start(T3,()=>{m.current&&(m.current(),m.current=null)})):_({pulsate:C,rippleX:F,rippleY:M,rippleSize:V,cb:T})},[i,_,p]),g=w.useCallback(()=>{f({},{pulsate:!0})},[f]),y=w.useCallback((E,R)=>{if(p.clear(),(E==null?void 0:E.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{y(E,R)});return}m.current=null,u(T=>T.length>0?T.slice(1):T),d.current=R},[p]);return w.useImperativeHandle(n,()=>({pulsate:g,start:f,stop:y}),[g,f,y]),S.jsx(R3,I({className:Te(Pr.root,s.root,o),ref:v},a,{children:S.jsx(l3,{component:null,exit:!0,children:l})}))}),P3=x3;function k3(t){return nt("MuiButtonBase",t)}const A3=Xe("MuiButtonBase",["root","disabled","focusVisible"]),N3=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],O3=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=tt({root:["root",e&&"disabled",n&&"focusVisible"]},k3,i);return n&&r&&(o.root+=` ${r}`),o},D3=ee("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${A3.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),M3=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:m,onClick:v,onContextMenu:_,onDragLeave:f,onFocus:g,onFocusVisible:y,onKeyDown:E,onKeyUp:R,onMouseDown:T,onMouseLeave:C,onMouseUp:b,onTouchEnd:k,onTouchMove:x,onTouchStart:O,tabIndex:F=0,TouchRippleProps:M,touchRippleRef:V,type:z}=r,j=se(r,N3),U=w.useRef(null),N=w.useRef(null),B=an(N,V),{isFocusVisibleRef:W,onFocus:ae,onBlur:J,ref:ne}=V1(),[Y,fe]=w.useState(!1);u&&Y&&fe(!1),w.useImperativeHandle(i,()=>({focusVisible:()=>{fe(!0),U.current.focus()}}),[]);const[ce,Me]=w.useState(!1);w.useEffect(()=>{Me(!0)},[]);const Le=ce&&!c&&!u;w.useEffect(()=>{Y&&h&&!c&&ce&&N.current.pulsate()},[c,h,Y,ce]);function $e(re,Mt,br=d){return Lr(Jn=>(Mt&&Mt(Jn),!br&&N.current&&N.current[re](Jn),!0))}const It=$e("start",T),le=$e("stop",_),ze=$e("stop",f),ve=$e("stop",b),Fe=$e("stop",re=>{Y&&re.preventDefault(),C&&C(re)}),Ee=$e("start",O),_n=$e("stop",k),tn=$e("stop",x),Dt=$e("stop",re=>{J(re),W.current===!1&&fe(!1),m&&m(re)},!1),ln=Lr(re=>{U.current||(U.current=re.currentTarget),ae(re),W.current===!0&&(fe(!0),y&&y(re)),g&&g(re)}),at=()=>{const re=U.current;return l&&l!=="button"&&!(re.tagName==="A"&&re.href)},Ae=w.useRef(!1),qt=Lr(re=>{h&&!Ae.current&&Y&&N.current&&re.key===" "&&(Ae.current=!0,N.current.stop(re,()=>{N.current.start(re)})),re.target===re.currentTarget&&at()&&re.key===" "&&re.preventDefault(),E&&E(re),re.target===re.currentTarget&&at()&&re.key==="Enter"&&!u&&(re.preventDefault(),v&&v(re))}),ct=Lr(re=>{h&&re.key===" "&&N.current&&Y&&!re.defaultPrevented&&(Ae.current=!1,N.current.stop(re,()=>{N.current.pulsate(re)})),R&&R(re),v&&re.target===re.currentTarget&&at()&&re.key===" "&&!re.defaultPrevented&&v(re)});let be=l;be==="button"&&(j.href||j.to)&&(be=p);const Rt={};be==="button"?(Rt.type=z===void 0?"button":z,Rt.disabled=u):(!j.href&&!j.to&&(Rt.role="button"),u&&(Rt["aria-disabled"]=u));const nn=an(n,ne,U),Kt=I({},r,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:F,focusVisible:Y}),We=O3(Kt);return S.jsxs(D3,I({as:be,className:Te(We.root,a),ownerState:Kt,onBlur:Dt,onClick:v,onContextMenu:le,onFocus:ln,onKeyDown:qt,onKeyUp:ct,onMouseDown:It,onMouseLeave:Fe,onMouseUp:ve,onDragLeave:ze,onTouchEnd:_n,onTouchMove:tn,onTouchStart:Ee,ref:nn,tabIndex:u?-1:F,type:z},Rt,j,{children:[o,Le?S.jsx(P3,I({ref:B,center:s},M)):null]}))}),L3=M3;function $3(t){return nt("MuiAlert",t)}const F3=Xe("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),pC=F3;function V3(t){return nt("MuiIconButton",t)}const U3=Xe("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),j3=["edge","children","className","color","disabled","disableFocusRipple","size"],B3=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${he(r)}`,i&&`edge${he(i)}`,`size${he(s)}`]};return tt(o,V3,e)},z3=ee(L3,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${he(n.color)}`],n.edge&&e[`edge${he(n.edge)}`],e[`size${he(n.size)}`]]}})(({theme:t,ownerState:e})=>I({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:sa(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return I({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&I({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":I({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:sa(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${U3.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),W3=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=r,d=se(r,j3),h=I({},r,{edge:i,color:a,disabled:l,disableFocusRipple:u,size:c}),p=B3(h);return S.jsx(z3,I({className:Te(p.root,o),centerRipple:!0,focusRipple:!u,disabled:l,ref:n,ownerState:h},d,{children:s}))}),H3=W3,q3=fo(S.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),K3=fo(S.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),G3=fo(S.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),Q3=fo(S.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),Y3=fo(S.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),X3=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],J3=t=>{const{variant:e,color:n,severity:r,classes:i}=t,s={root:["root",`${e}${he(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return tt(s,$3,i)},Z3=ee(J1,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${he(n.color||n.severity)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?fd:pd,r=t.palette.mode==="light"?pd:fd,i=e.color||e.severity;return I({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},i&&e.variant==="standard"&&{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${i}StandardBg`]:r(t.palette[i].light,.9),[`& .${pC.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}},i&&e.variant==="outlined"&&{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),border:`1px solid ${(t.vars||t).palette[i].light}`,[`& .${pC.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}},i&&e.variant==="filled"&&I({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${i}FilledColor`],backgroundColor:t.vars.palette.Alert[`${i}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[i].dark:t.palette[i].main,color:t.palette.getContrastText(t.palette[i].main)}))}),e6=ee("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),t6=ee("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),mC=ee("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),gC={success:S.jsx(q3,{fontSize:"inherit"}),warning:S.jsx(K3,{fontSize:"inherit"}),error:S.jsx(G3,{fontSize:"inherit"}),info:S.jsx(Q3,{fontSize:"inherit"})},n6=w.forwardRef(function(e,n){var r,i,s,o,a,l;const u=rt({props:e,name:"MuiAlert"}),{action:c,children:d,className:h,closeText:p="Close",color:m,components:v={},componentsProps:_={},icon:f,iconMapping:g=gC,onClose:y,role:E="alert",severity:R="success",slotProps:T={},slots:C={},variant:b="standard"}=u,k=se(u,X3),x=I({},u,{color:m,severity:R,variant:b}),O=J3(x),F=(r=(i=C.closeButton)!=null?i:v.CloseButton)!=null?r:H3,M=(s=(o=C.closeIcon)!=null?o:v.CloseIcon)!=null?s:Y3,V=(a=T.closeButton)!=null?a:_.closeButton,z=(l=T.closeIcon)!=null?l:_.closeIcon;return S.jsxs(Z3,I({role:E,elevation:0,ownerState:x,className:Te(O.root,h),ref:n},k,{children:[f!==!1?S.jsx(e6,{ownerState:x,className:O.icon,children:f||g[R]||gC[R]}):null,S.jsx(t6,{ownerState:x,className:O.message,children:d}),c!=null?S.jsx(mC,{ownerState:x,className:O.action,children:c}):null,c==null&&y?S.jsx(mC,{ownerState:x,className:O.action,children:S.jsx(F,I({size:"small","aria-label":p,title:p,color:"inherit",onClick:y},V,{children:S.jsx(M,I({fontSize:"small"},z))}))}):null]}))}),kk=n6,Ak="base";function r6(t){return`${Ak}--${t}`}function i6(t,e){return`${Ak}-${t}-${e}`}function Nk(t,e){const n=yk[e];return n?r6(n):i6(t,e)}function s6(t,e){const n={};return e.forEach(r=>{n[r]=Nk(t,r)}),n}function yC(t){return t.substring(2).toLowerCase()}function o6(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function a6(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:s="onTouchEnd"}=t,o=w.useRef(!1),a=w.useRef(null),l=w.useRef(!1),u=w.useRef(!1);w.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const c=an(e.ref,a),d=Lr(m=>{const v=u.current;u.current=!1;const _=on(a.current);if(!l.current||!a.current||"clientX"in m&&o6(m,_))return;if(o.current){o.current=!1;return}let f;m.composedPath?f=m.composedPath().indexOf(a.current)>-1:f=!_.documentElement.contains(m.target)||a.current.contains(m.target),!f&&(n||!v)&&i(m)}),h=m=>v=>{u.current=!0;const _=e.props[m];_&&_(v)},p={ref:c};return s!==!1&&(p[s]=h(s)),w.useEffect(()=>{if(s!==!1){const m=yC(s),v=on(a.current),_=()=>{o.current=!0};return v.addEventListener(m,d),v.addEventListener("touchmove",_),()=>{v.removeEventListener(m,d),v.removeEventListener("touchmove",_)}}},[d,s]),r!==!1&&(p[r]=h(r)),w.useEffect(()=>{if(r!==!1){const m=yC(r),v=on(a.current);return v.addEventListener(m,d),()=>{v.removeEventListener(m,d)}}},[d,r]),S.jsx(w.Fragment,{children:w.cloneElement(e,p)})}const l6=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function u6(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function c6(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function d6(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||c6(t))}function h6(t){const e=[],n=[];return Array.from(t.querySelectorAll(l6)).forEach((r,i)=>{const s=u6(r);s===-1||!d6(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function f6(){return!0}function p6(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=h6,isEnabled:o=f6,open:a}=t,l=w.useRef(!1),u=w.useRef(null),c=w.useRef(null),d=w.useRef(null),h=w.useRef(null),p=w.useRef(!1),m=w.useRef(null),v=an(e.ref,m),_=w.useRef(null);w.useEffect(()=>{!a||!m.current||(p.current=!n)},[n,a]),w.useEffect(()=>{if(!a||!m.current)return;const y=on(m.current);return m.current.contains(y.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),w.useEffect(()=>{if(!a||!m.current)return;const y=on(m.current),E=C=>{_.current=C,!(r||!o()||C.key!=="Tab")&&y.activeElement===m.current&&C.shiftKey&&(l.current=!0,c.current&&c.current.focus())},R=()=>{const C=m.current;if(C===null)return;if(!y.hasFocus()||!o()||l.current){l.current=!1;return}if(C.contains(y.activeElement)||r&&y.activeElement!==u.current&&y.activeElement!==c.current)return;if(y.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let b=[];if((y.activeElement===u.current||y.activeElement===c.current)&&(b=s(m.current)),b.length>0){var k,x;const O=!!((k=_.current)!=null&&k.shiftKey&&((x=_.current)==null?void 0:x.key)==="Tab"),F=b[0],M=b[b.length-1];typeof F!="string"&&typeof M!="string"&&(O?M.focus():F.focus())}else C.focus()};y.addEventListener("focusin",R),y.addEventListener("keydown",E,!0);const T=setInterval(()=>{y.activeElement&&y.activeElement.tagName==="BODY"&&R()},50);return()=>{clearInterval(T),y.removeEventListener("focusin",R),y.removeEventListener("keydown",E,!0)}},[n,r,i,o,a,s]);const f=y=>{d.current===null&&(d.current=y.relatedTarget),p.current=!0,h.current=y.target;const E=e.props.onFocus;E&&E(y)},g=y=>{d.current===null&&(d.current=y.relatedTarget),p.current=!0};return S.jsxs(w.Fragment,{children:[S.jsx("div",{tabIndex:a?0:-1,onFocus:g,ref:u,"data-testid":"sentinelStart"}),w.cloneElement(e,{ref:v,onFocus:f}),S.jsx("div",{tabIndex:a?0:-1,onFocus:g,ref:c,"data-testid":"sentinelEnd"})]})}var ur="top",Wr="bottom",Hr="right",cr="left",Z1="auto",Qd=[ur,Wr,Hr,cr],Nl="start",md="end",m6="clippingParents",Ok="viewport",Vu="popper",g6="reference",vC=Qd.reduce(function(t,e){return t.concat([e+"-"+Nl,e+"-"+md])},[]),Dk=[].concat(Qd,[Z1]).reduce(function(t,e){return t.concat([e,e+"-"+Nl,e+"-"+md])},[]),y6="beforeRead",v6="read",_6="afterRead",w6="beforeMain",E6="main",T6="afterMain",S6="beforeWrite",C6="write",I6="afterWrite",R6=[y6,v6,_6,w6,E6,T6,S6,C6,I6];function Li(t){return t?(t.nodeName||"").toLowerCase():null}function Tr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function oa(t){var e=Tr(t).Element;return t instanceof e||t instanceof Element}function Vr(t){var e=Tr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function ew(t){if(typeof ShadowRoot>"u")return!1;var e=Tr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function b6(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!Vr(s)||!Li(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function x6(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!Vr(i)||!Li(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const P6={name:"applyStyles",enabled:!0,phase:"write",fn:b6,effect:x6,requires:["computeStyles"]};function xi(t){return t.split("-")[0]}var qo=Math.max,Tp=Math.min,Ol=Math.round;function N_(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Mk(){return!/^((?!chrome|android).)*safari/i.test(N_())}function Dl(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Vr(t)&&(i=t.offsetWidth>0&&Ol(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ol(r.height)/t.offsetHeight||1);var o=oa(t)?Tr(t):window,a=o.visualViewport,l=!Mk()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function tw(t){var e=Dl(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Lk(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&ew(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function us(t){return Tr(t).getComputedStyle(t)}function k6(t){return["table","td","th"].indexOf(Li(t))>=0}function po(t){return((oa(t)?t.ownerDocument:t.document)||window.document).documentElement}function cg(t){return Li(t)==="html"?t:t.assignedSlot||t.parentNode||(ew(t)?t.host:null)||po(t)}function _C(t){return!Vr(t)||us(t).position==="fixed"?null:t.offsetParent}function A6(t){var e=/firefox/i.test(N_()),n=/Trident/i.test(N_());if(n&&Vr(t)){var r=us(t);if(r.position==="fixed")return null}var i=cg(t);for(ew(i)&&(i=i.host);Vr(i)&&["html","body"].indexOf(Li(i))<0;){var s=us(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Yd(t){for(var e=Tr(t),n=_C(t);n&&k6(n)&&us(n).position==="static";)n=_C(n);return n&&(Li(n)==="html"||Li(n)==="body"&&us(n).position==="static")?e:n||A6(t)||e}function nw(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function bc(t,e,n){return qo(t,Tp(e,n))}function N6(t,e,n){var r=bc(t,e,n);return r>n?n:r}function $k(){return{top:0,right:0,bottom:0,left:0}}function Fk(t){return Object.assign({},$k(),t)}function Vk(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var O6=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Fk(typeof e!="number"?e:Vk(e,Qd))};function D6(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=xi(n.placement),l=nw(a),u=[cr,Hr].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=O6(i.padding,n),h=tw(s),p=l==="y"?ur:cr,m=l==="y"?Wr:Hr,v=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],_=o[l]-n.rects.reference[l],f=Yd(s),g=f?l==="y"?f.clientHeight||0:f.clientWidth||0:0,y=v/2-_/2,E=d[p],R=g-h[c]-d[m],T=g/2-h[c]/2+y,C=bc(E,T,R),b=l;n.modifiersData[r]=(e={},e[b]=C,e.centerOffset=C-T,e)}}function M6(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Lk(e.elements.popper,i)&&(e.elements.arrow=i))}const L6={name:"arrow",enabled:!0,phase:"main",fn:D6,effect:M6,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ml(t){return t.split("-")[1]}var $6={top:"auto",right:"auto",bottom:"auto",left:"auto"};function F6(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Ol(n*i)/i||0,y:Ol(r*i)/i||0}}function wC(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,h=o.x,p=h===void 0?0:h,m=o.y,v=m===void 0?0:m,_=typeof c=="function"?c({x:p,y:v}):{x:p,y:v};p=_.x,v=_.y;var f=o.hasOwnProperty("x"),g=o.hasOwnProperty("y"),y=cr,E=ur,R=window;if(u){var T=Yd(n),C="clientHeight",b="clientWidth";if(T===Tr(n)&&(T=po(n),us(T).position!=="static"&&a==="absolute"&&(C="scrollHeight",b="scrollWidth")),T=T,i===ur||(i===cr||i===Hr)&&s===md){E=Wr;var k=d&&T===R&&R.visualViewport?R.visualViewport.height:T[C];v-=k-r.height,v*=l?1:-1}if(i===cr||(i===ur||i===Wr)&&s===md){y=Hr;var x=d&&T===R&&R.visualViewport?R.visualViewport.width:T[b];p-=x-r.width,p*=l?1:-1}}var O=Object.assign({position:a},u&&$6),F=c===!0?F6({x:p,y:v},Tr(n)):{x:p,y:v};if(p=F.x,v=F.y,l){var M;return Object.assign({},O,(M={},M[E]=g?"0":"",M[y]=f?"0":"",M.transform=(R.devicePixelRatio||1)<=1?"translate("+p+"px, "+v+"px)":"translate3d("+p+"px, "+v+"px, 0)",M))}return Object.assign({},O,(e={},e[E]=g?v+"px":"",e[y]=f?p+"px":"",e.transform="",e))}function V6(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:xi(e.placement),variation:Ml(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,wC(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,wC(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const U6={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:V6,data:{}};var Qh={passive:!0};function j6(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Tr(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,Qh)}),a&&l.addEventListener("resize",n.update,Qh),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Qh)}),a&&l.removeEventListener("resize",n.update,Qh)}}const B6={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:j6,data:{}};var z6={left:"right",right:"left",bottom:"top",top:"bottom"};function Af(t){return t.replace(/left|right|bottom|top/g,function(e){return z6[e]})}var W6={start:"end",end:"start"};function EC(t){return t.replace(/start|end/g,function(e){return W6[e]})}function rw(t){var e=Tr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function iw(t){return Dl(po(t)).left+rw(t).scrollLeft}function H6(t,e){var n=Tr(t),r=po(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=Mk();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+iw(t),y:l}}function q6(t){var e,n=po(t),r=rw(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=qo(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=qo(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+iw(t),l=-r.scrollTop;return us(i||n).direction==="rtl"&&(a+=qo(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function sw(t){var e=us(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Uk(t){return["html","body","#document"].indexOf(Li(t))>=0?t.ownerDocument.body:Vr(t)&&sw(t)?t:Uk(cg(t))}function xc(t,e){var n;e===void 0&&(e=[]);var r=Uk(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Tr(r),o=i?[s].concat(s.visualViewport||[],sw(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(xc(cg(o)))}function O_(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function K6(t,e){var n=Dl(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function TC(t,e,n){return e===Ok?O_(H6(t,n)):oa(e)?K6(e,n):O_(q6(po(t)))}function G6(t){var e=xc(cg(t)),n=["absolute","fixed"].indexOf(us(t).position)>=0,r=n&&Vr(t)?Yd(t):t;return oa(r)?e.filter(function(i){return oa(i)&&Lk(i,r)&&Li(i)!=="body"}):[]}function Q6(t,e,n,r){var i=e==="clippingParents"?G6(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var c=TC(t,u,r);return l.top=qo(c.top,l.top),l.right=Tp(c.right,l.right),l.bottom=Tp(c.bottom,l.bottom),l.left=qo(c.left,l.left),l},TC(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function jk(t){var e=t.reference,n=t.element,r=t.placement,i=r?xi(r):null,s=r?Ml(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case ur:l={x:o,y:e.y-n.height};break;case Wr:l={x:o,y:e.y+e.height};break;case Hr:l={x:e.x+e.width,y:a};break;case cr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?nw(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case Nl:l[u]=l[u]-(e[c]/2-n[c]/2);break;case md:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function gd(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?m6:a,u=n.rootBoundary,c=u===void 0?Ok:u,d=n.elementContext,h=d===void 0?Vu:d,p=n.altBoundary,m=p===void 0?!1:p,v=n.padding,_=v===void 0?0:v,f=Fk(typeof _!="number"?_:Vk(_,Qd)),g=h===Vu?g6:Vu,y=t.rects.popper,E=t.elements[m?g:h],R=Q6(oa(E)?E:E.contextElement||po(t.elements.popper),l,c,o),T=Dl(t.elements.reference),C=jk({reference:T,element:y,strategy:"absolute",placement:i}),b=O_(Object.assign({},y,C)),k=h===Vu?b:T,x={top:R.top-k.top+f.top,bottom:k.bottom-R.bottom+f.bottom,left:R.left-k.left+f.left,right:k.right-R.right+f.right},O=t.modifiersData.offset;if(h===Vu&&O){var F=O[i];Object.keys(x).forEach(function(M){var V=[Hr,Wr].indexOf(M)>=0?1:-1,z=[ur,Wr].indexOf(M)>=0?"y":"x";x[M]+=F[z]*V})}return x}function Y6(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?Dk:l,c=Ml(r),d=c?a?vC:vC.filter(function(m){return Ml(m)===c}):Qd,h=d.filter(function(m){return u.indexOf(m)>=0});h.length===0&&(h=d);var p=h.reduce(function(m,v){return m[v]=gd(t,{placement:v,boundary:i,rootBoundary:s,padding:o})[xi(v)],m},{});return Object.keys(p).sort(function(m,v){return p[m]-p[v]})}function X6(t){if(xi(t)===Z1)return[];var e=Af(t);return[EC(t),e,EC(e)]}function J6(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,m=p===void 0?!0:p,v=n.allowedAutoPlacements,_=e.options.placement,f=xi(_),g=f===_,y=l||(g||!m?[Af(_)]:X6(_)),E=[_].concat(y).reduce(function(Y,fe){return Y.concat(xi(fe)===Z1?Y6(e,{placement:fe,boundary:c,rootBoundary:d,padding:u,flipVariations:m,allowedAutoPlacements:v}):fe)},[]),R=e.rects.reference,T=e.rects.popper,C=new Map,b=!0,k=E[0],x=0;x<E.length;x++){var O=E[x],F=xi(O),M=Ml(O)===Nl,V=[ur,Wr].indexOf(F)>=0,z=V?"width":"height",j=gd(e,{placement:O,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),U=V?M?Hr:cr:M?Wr:ur;R[z]>T[z]&&(U=Af(U));var N=Af(U),B=[];if(s&&B.push(j[F]<=0),a&&B.push(j[U]<=0,j[N]<=0),B.every(function(Y){return Y})){k=O,b=!1;break}C.set(O,B)}if(b)for(var W=m?3:1,ae=function(fe){var ce=E.find(function(Me){var Le=C.get(Me);if(Le)return Le.slice(0,fe).every(function($e){return $e})});if(ce)return k=ce,"break"},J=W;J>0;J--){var ne=ae(J);if(ne==="break")break}e.placement!==k&&(e.modifiersData[r]._skip=!0,e.placement=k,e.reset=!0)}}const Z6={name:"flip",enabled:!0,phase:"main",fn:J6,requiresIfExists:["offset"],data:{_skip:!1}};function SC(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function CC(t){return[ur,Hr,Wr,cr].some(function(e){return t[e]>=0})}function ej(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=gd(e,{elementContext:"reference"}),a=gd(e,{altBoundary:!0}),l=SC(o,r),u=SC(a,i,s),c=CC(l),d=CC(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const tj={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:ej};function nj(t,e,n){var r=xi(t),i=[cr,ur].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[cr,Hr].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function rj(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=Dk.reduce(function(c,d){return c[d]=nj(d,e.rects,s),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const ij={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:rj};function sj(t){var e=t.state,n=t.name;e.modifiersData[n]=jk({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const oj={name:"popperOffsets",enabled:!0,phase:"read",fn:sj,data:{}};function aj(t){return t==="x"?"y":"x"}function lj(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,p=h===void 0?!0:h,m=n.tetherOffset,v=m===void 0?0:m,_=gd(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),f=xi(e.placement),g=Ml(e.placement),y=!g,E=nw(f),R=aj(E),T=e.modifiersData.popperOffsets,C=e.rects.reference,b=e.rects.popper,k=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,x=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(T){if(s){var M,V=E==="y"?ur:cr,z=E==="y"?Wr:Hr,j=E==="y"?"height":"width",U=T[E],N=U+_[V],B=U-_[z],W=p?-b[j]/2:0,ae=g===Nl?C[j]:b[j],J=g===Nl?-b[j]:-C[j],ne=e.elements.arrow,Y=p&&ne?tw(ne):{width:0,height:0},fe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:$k(),ce=fe[V],Me=fe[z],Le=bc(0,C[j],Y[j]),$e=y?C[j]/2-W-Le-ce-x.mainAxis:ae-Le-ce-x.mainAxis,It=y?-C[j]/2+W+Le+Me+x.mainAxis:J+Le+Me+x.mainAxis,le=e.elements.arrow&&Yd(e.elements.arrow),ze=le?E==="y"?le.clientTop||0:le.clientLeft||0:0,ve=(M=O==null?void 0:O[E])!=null?M:0,Fe=U+$e-ve-ze,Ee=U+It-ve,_n=bc(p?Tp(N,Fe):N,U,p?qo(B,Ee):B);T[E]=_n,F[E]=_n-U}if(a){var tn,Dt=E==="x"?ur:cr,ln=E==="x"?Wr:Hr,at=T[R],Ae=R==="y"?"height":"width",qt=at+_[Dt],ct=at-_[ln],be=[ur,cr].indexOf(f)!==-1,Rt=(tn=O==null?void 0:O[R])!=null?tn:0,nn=be?qt:at-C[Ae]-b[Ae]-Rt+x.altAxis,Kt=be?at+C[Ae]+b[Ae]-Rt-x.altAxis:ct,We=p&&be?N6(nn,at,Kt):bc(p?nn:qt,at,p?Kt:ct);T[R]=We,F[R]=We-at}e.modifiersData[r]=F}}const uj={name:"preventOverflow",enabled:!0,phase:"main",fn:lj,requiresIfExists:["offset"]};function cj(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function dj(t){return t===Tr(t)||!Vr(t)?rw(t):cj(t)}function hj(t){var e=t.getBoundingClientRect(),n=Ol(e.width)/t.offsetWidth||1,r=Ol(e.height)/t.offsetHeight||1;return n!==1||r!==1}function fj(t,e,n){n===void 0&&(n=!1);var r=Vr(e),i=Vr(e)&&hj(e),s=po(e),o=Dl(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Li(e)!=="body"||sw(s))&&(a=dj(e)),Vr(e)?(l=Dl(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=iw(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function pj(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function mj(t){var e=pj(t);return R6.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function gj(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function yj(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var IC={placement:"bottom",modifiers:[],strategy:"absolute"};function RC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function vj(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?IC:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},IC,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,p={state:c,setOptions:function(f){var g=typeof f=="function"?f(c.options):f;v(),c.options=Object.assign({},s,c.options,g),c.scrollParents={reference:oa(a)?xc(a):a.contextElement?xc(a.contextElement):[],popper:xc(l)};var y=mj(yj([].concat(r,c.options.modifiers)));return c.orderedModifiers=y.filter(function(E){return E.enabled}),m(),p.update()},forceUpdate:function(){if(!h){var f=c.elements,g=f.reference,y=f.popper;if(RC(g,y)){c.rects={reference:fj(g,Yd(y),c.options.strategy==="fixed"),popper:tw(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(x){return c.modifiersData[x.name]=Object.assign({},x.data)});for(var E=0;E<c.orderedModifiers.length;E++){if(c.reset===!0){c.reset=!1,E=-1;continue}var R=c.orderedModifiers[E],T=R.fn,C=R.options,b=C===void 0?{}:C,k=R.name;typeof T=="function"&&(c=T({state:c,options:b,name:k,instance:p})||c)}}}},update:gj(function(){return new Promise(function(_){p.forceUpdate(),_(c)})}),destroy:function(){v(),h=!0}};if(!RC(a,l))return p;p.setOptions(u).then(function(_){!h&&u.onFirstUpdate&&u.onFirstUpdate(_)});function m(){c.orderedModifiers.forEach(function(_){var f=_.name,g=_.options,y=g===void 0?{}:g,E=_.effect;if(typeof E=="function"){var R=E({state:c,name:f,instance:p,options:y}),T=function(){};d.push(R||T)}})}function v(){d.forEach(function(_){return _()}),d=[]}return p}}var _j=[B6,oj,U6,P6,ij,Z6,uj,L6,tj],wj=vj({defaultModifiers:_j});function Ej(t){return typeof t=="function"?t():t}const Bk=w.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=w.useState(null),l=an(w.isValidElement(r)?r.ref:null,n);if(Mi(()=>{s||a(Ej(i)||document.body)},[i,s]),Mi(()=>{if(o&&!s)return fp(n,o),()=>{fp(n,null)}},[n,o,s]),s){if(w.isValidElement(r)){const u={ref:l};return w.cloneElement(r,u)}return S.jsx(w.Fragment,{children:r})}return S.jsx(w.Fragment,{children:o&&zd.createPortal(r,o)})}),zk="Popper";function Tj(t){return Nk(zk,t)}s6(zk,["root"]);const Sj=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Cj=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Ij(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function D_(t){return typeof t=="function"?t():t}function Rj(t){return t.nodeType!==void 0}const bj=()=>tt({root:["root"]},g3(Tj)),xj={},Pj=w.forwardRef(function(e,n){var r;const{anchorEl:i,children:s,direction:o,disablePortal:a,modifiers:l,open:u,placement:c,popperOptions:d,popperRef:h,slotProps:p={},slots:m={},TransitionProps:v}=e,_=se(e,Sj),f=w.useRef(null),g=an(f,n),y=w.useRef(null),E=an(y,h),R=w.useRef(E);Mi(()=>{R.current=E},[E]),w.useImperativeHandle(h,()=>y.current,[]);const T=Ij(c,o),[C,b]=w.useState(T),[k,x]=w.useState(D_(i));w.useEffect(()=>{y.current&&y.current.forceUpdate()}),w.useEffect(()=>{i&&x(D_(i))},[i]),Mi(()=>{if(!k||!u)return;const z=N=>{b(N.placement)};let j=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:N})=>{z(N)}}];l!=null&&(j=j.concat(l)),d&&d.modifiers!=null&&(j=j.concat(d.modifiers));const U=wj(k,f.current,I({placement:T},d,{modifiers:j}));return R.current(U),()=>{U.destroy(),R.current(null)}},[k,a,l,u,d,T]);const O={placement:C};v!==null&&(O.TransitionProps=v);const F=bj(),M=(r=m.root)!=null?r:"div",V=to({elementType:M,externalSlotProps:p.root,externalForwardedProps:_,additionalProps:{role:"tooltip",ref:g},ownerState:e,className:F.root});return S.jsx(M,I({},V,{children:typeof s=="function"?s(O):s}))}),kj=w.forwardRef(function(e,n){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:h=xj,popperRef:p,style:m,transition:v=!1,slotProps:_={},slots:f={}}=e,g=se(e,Cj),[y,E]=w.useState(!0),R=()=>{E(!1)},T=()=>{E(!0)};if(!l&&!c&&(!v||y))return null;let C;if(s)C=s;else if(r){const x=D_(r);C=x&&Rj(x)?on(x).body:on(null).body}const b=!c&&l&&(!v||y)?"none":void 0,k=v?{in:c,onEnter:R,onExited:T}:void 0;return S.jsx(Bk,{disablePortal:a,container:C,children:S.jsx(Pj,I({anchorEl:r,direction:o,disablePortal:a,modifiers:u,ref:n,open:v?!y:c,placement:d,popperOptions:h,popperRef:p,slotProps:_,slots:f},g,{style:I({position:"fixed",top:0,left:0,display:b},m),TransitionProps:k,children:i}))})});function Aj(t){const e=on(t);return e.body===t?eo(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Pc(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function bC(t){return parseInt(eo(t).getComputedStyle(t).paddingRight,10)||0}function Nj(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function xC(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!Nj(o);a&&l&&Pc(o,i)})}function zy(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function Oj(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Aj(r)){const o=mk(on(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${bC(r)+o}px`;const a=on(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${bC(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=on(r).body;else{const o=r.parentElement,a=eo(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function Dj(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class Mj{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Pc(e.modalRef,!1);const i=Dj(n);xC(n,e.mount,e.modalRef,i,!0);const s=zy(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=zy(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=Oj(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=zy(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Pc(e.modalRef,n),xC(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&Pc(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function Lj(t){return typeof t=="function"?t():t}function $j(t){return t?t.props.hasOwnProperty("in"):!1}const Fj=new Mj;function Vj(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=Fj,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:u,open:c,rootRef:d}=t,h=w.useRef({}),p=w.useRef(null),m=w.useRef(null),v=an(m,d),[_,f]=w.useState(!c),g=$j(l);let y=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(y=!1);const E=()=>on(p.current),R=()=>(h.current.modalRef=m.current,h.current.mount=p.current,h.current),T=()=>{i.mount(R(),{disableScrollLock:r}),m.current&&(m.current.scrollTop=0)},C=Lr(()=>{const j=Lj(e)||E().body;i.add(R(),j),m.current&&T()}),b=w.useCallback(()=>i.isTopModal(R()),[i]),k=Lr(j=>{p.current=j,j&&(c&&b()?T():m.current&&Pc(m.current,y))}),x=w.useCallback(()=>{i.remove(R(),y)},[y,i]);w.useEffect(()=>()=>{x()},[x]),w.useEffect(()=>{c?C():(!g||!s)&&x()},[c,x,g,s,C]);const O=j=>U=>{var N;(N=j.onKeyDown)==null||N.call(j,U),!(U.key!=="Escape"||U.which===229||!b())&&(n||(U.stopPropagation(),u&&u(U,"escapeKeyDown")))},F=j=>U=>{var N;(N=j.onClick)==null||N.call(j,U),U.target===U.currentTarget&&u&&u(U,"backdropClick")};return{getRootProps:(j={})=>{const U=Ep(t);delete U.onTransitionEnter,delete U.onTransitionExited;const N=I({},U,j);return I({role:"presentation"},N,{onKeyDown:O(N),ref:v})},getBackdropProps:(j={})=>{const U=j;return I({"aria-hidden":!0},U,{onClick:F(U),open:c})},getTransitionProps:()=>{const j=()=>{f(!1),o&&o()},U=()=>{f(!0),a&&a(),s&&x()};return{onEnter:I_(j,l==null?void 0:l.props.onEnter),onExited:I_(U,l==null?void 0:l.props.onExited)}},rootRef:v,portalRef:k,isTopModal:b,exited:_,hasTransition:g}}function Uj(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:s}=t,o=Lo();w.useEffect(()=>{if(!i)return;function f(g){g.defaultPrevented||(g.key==="Escape"||g.key==="Esc")&&(r==null||r(g,"escapeKeyDown"))}return document.addEventListener("keydown",f),()=>{document.removeEventListener("keydown",f)}},[i,r]);const a=Lr((f,g)=>{r==null||r(f,g)}),l=Lr(f=>{!r||f==null||o.start(f,()=>{a(null,"timeout")})});w.useEffect(()=>(i&&l(e),o.clear),[i,e,l,o]);const u=f=>{r==null||r(f,"clickaway")},c=o.clear,d=w.useCallback(()=>{e!=null&&l(s??e*.5)},[e,s,l]),h=f=>g=>{const y=f.onBlur;y==null||y(g),d()},p=f=>g=>{const y=f.onFocus;y==null||y(g),c()},m=f=>g=>{const y=f.onMouseEnter;y==null||y(g),c()},v=f=>g=>{const y=f.onMouseLeave;y==null||y(g),d()};return w.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",d),window.addEventListener("blur",c),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",c)}},[n,i,d,c]),{getRootProps:(f={})=>{const g=I({},Ep(t),Ep(f));return I({role:"presentation"},f,g,{onBlur:h(g),onFocus:p(g),onMouseEnter:m(g),onMouseLeave:v(g)})},onClickAway:u}}const jj=["onChange","maxRows","minRows","style","value"];function Yh(t){return parseInt(t,10)||0}const Bj={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function PC(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const zj=w.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=se(e,jj),{current:u}=w.useRef(a!=null),c=w.useRef(null),d=an(n,c),h=w.useRef(null),p=w.useRef(0),[m,v]=w.useState({outerHeightStyle:0}),_=w.useCallback(()=>{const E=c.current,T=eo(E).getComputedStyle(E);if(T.width==="0px")return{outerHeightStyle:0};const C=h.current;C.style.width=T.width,C.value=E.value||e.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const b=T.boxSizing,k=Yh(T.paddingBottom)+Yh(T.paddingTop),x=Yh(T.borderBottomWidth)+Yh(T.borderTopWidth),O=C.scrollHeight;C.value="x";const F=C.scrollHeight;let M=O;s&&(M=Math.max(Number(s)*F,M)),i&&(M=Math.min(Number(i)*F,M)),M=Math.max(M,F);const V=M+(b==="border-box"?k+x:0),z=Math.abs(M-O)<=1;return{outerHeightStyle:V,overflow:z}},[i,s,e.placeholder]),f=(E,R)=>{const{outerHeightStyle:T,overflow:C}=R;return p.current<20&&(T>0&&Math.abs((E.outerHeightStyle||0)-T)>1||E.overflow!==C)?(p.current+=1,{overflow:C,outerHeightStyle:T}):E},g=w.useCallback(()=>{const E=_();PC(E)||v(R=>f(R,E))},[_]);Mi(()=>{const E=()=>{const O=_();PC(O)||zd.flushSync(()=>{v(F=>f(F,O))})},R=()=>{p.current=0,E()};let T;const C=F1(R),b=c.current,k=eo(b);k.addEventListener("resize",C);let x;return typeof ResizeObserver<"u"&&(x=new ResizeObserver(R),x.observe(b)),()=>{C.clear(),cancelAnimationFrame(T),k.removeEventListener("resize",C),x&&x.disconnect()}},[_]),Mi(()=>{g()}),w.useEffect(()=>{p.current=0},[a]);const y=E=>{p.current=0,u||g(),r&&r(E)};return S.jsxs(w.Fragment,{children:[S.jsx("textarea",I({value:a,onChange:y,ref:d,rows:s,style:I({height:m.outerHeightStyle,overflow:m.overflow?"hidden":void 0},o)},l)),S.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:I({},Bj.shadow,o,{paddingTop:0,paddingBottom:0})})]})}),Wj=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Hj=ee(kj,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),qj=w.forwardRef(function(e,n){var r;const i=q1(),s=rt({props:e,name:"MuiPopper"}),{anchorEl:o,component:a,components:l,componentsProps:u,container:c,disablePortal:d,keepMounted:h,modifiers:p,open:m,placement:v,popperOptions:_,popperRef:f,transition:g,slots:y,slotProps:E}=s,R=se(s,Wj),T=(r=y==null?void 0:y.root)!=null?r:l==null?void 0:l.Root,C=I({anchorEl:o,container:c,disablePortal:d,keepMounted:h,modifiers:p,open:m,placement:v,popperOptions:_,popperRef:f,transition:g},R);return S.jsx(Hj,I({as:a,direction:i==null?void 0:i.direction,slots:{root:T},slotProps:E??u},C,{ref:n}))}),Wk=qj;function iu({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const Kj=w.createContext(void 0),ow=Kj;function su(){return w.useContext(ow)}function Gj(t){return S.jsx(UV,I({},t,{defaultTheme:Jm,themeId:kl}))}function kC(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Sp(t,e=!1){return t&&(kC(t.value)&&t.value!==""||e&&kC(t.defaultValue)&&t.defaultValue!=="")}function Qj(t){return t.startAdornment}function Yj(t){return nt("MuiInputBase",t)}const Xj=Xe("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Ll=Xj,Jj=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],dg=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${he(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},hg=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},Zj=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:p,type:m}=t,v={root:["root",`color${he(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h&&h!=="medium"&&`size${he(h)}`,c&&"multiline",p&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",m==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",p&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return tt(v,Yj,e)},fg=ee("div",{name:"MuiInputBase",slot:"Root",overridesResolver:dg})(({theme:t,ownerState:e})=>I({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Ll.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&I({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),pg=ee("input",{name:"MuiInputBase",slot:"Input",overridesResolver:hg})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=I({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return I({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Ll.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Ll.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),eB=S.jsx(Gj,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),tB=w.forwardRef(function(e,n){var r;const i=rt({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:u={},componentsProps:c={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:m,fullWidth:v=!1,id:_,inputComponent:f="input",inputProps:g={},inputRef:y,maxRows:E,minRows:R,multiline:T=!1,name:C,onBlur:b,onChange:k,onClick:x,onFocus:O,onKeyDown:F,onKeyUp:M,placeholder:V,readOnly:z,renderSuffix:j,rows:U,slotProps:N={},slots:B={},startAdornment:W,type:ae="text",value:J}=i,ne=se(i,Jj),Y=g.value!=null?g.value:J,{current:fe}=w.useRef(Y!=null),ce=w.useRef(),Me=w.useCallback(We=>{},[]),Le=an(ce,y,g.ref,Me),[$e,It]=w.useState(!1),le=su(),ze=iu({props:i,muiFormControl:le,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ze.focused=le?le.focused:$e,w.useEffect(()=>{!le&&h&&$e&&(It(!1),b&&b())},[le,h,$e,b]);const ve=le&&le.onFilled,Fe=le&&le.onEmpty,Ee=w.useCallback(We=>{Sp(We)?ve&&ve():Fe&&Fe()},[ve,Fe]);Mi(()=>{fe&&Ee({value:Y})},[Y,Ee,fe]);const _n=We=>{if(ze.disabled){We.stopPropagation();return}O&&O(We),g.onFocus&&g.onFocus(We),le&&le.onFocus?le.onFocus(We):It(!0)},tn=We=>{b&&b(We),g.onBlur&&g.onBlur(We),le&&le.onBlur?le.onBlur(We):It(!1)},Dt=(We,...re)=>{if(!fe){const Mt=We.target||ce.current;if(Mt==null)throw new Error(Zs(1));Ee({value:Mt.value})}g.onChange&&g.onChange(We,...re),k&&k(We,...re)};w.useEffect(()=>{Ee(ce.current)},[]);const ln=We=>{ce.current&&We.currentTarget===We.target&&ce.current.focus(),x&&x(We)};let at=f,Ae=g;T&&at==="input"&&(U?Ae=I({type:void 0,minRows:U,maxRows:U},Ae):Ae=I({type:void 0,maxRows:E,minRows:R},Ae),at=zj);const qt=We=>{Ee(We.animationName==="mui-auto-fill-cancel"?ce.current:{value:"x"})};w.useEffect(()=>{le&&le.setAdornedStart(!!W)},[le,W]);const ct=I({},i,{color:ze.color||"primary",disabled:ze.disabled,endAdornment:m,error:ze.error,focused:ze.focused,formControl:le,fullWidth:v,hiddenLabel:ze.hiddenLabel,multiline:T,size:ze.size,startAdornment:W,type:ae}),be=Zj(ct),Rt=B.root||u.Root||fg,nn=N.root||c.root||{},Kt=B.input||u.Input||pg;return Ae=I({},Ae,(r=N.input)!=null?r:c.input),S.jsxs(w.Fragment,{children:[!p&&eB,S.jsxs(Rt,I({},nn,!wp(Rt)&&{ownerState:I({},ct,nn.ownerState)},{ref:n,onClick:ln},ne,{className:Te(be.root,nn.className,l,z&&"MuiInputBase-readOnly"),children:[W,S.jsx(ow.Provider,{value:null,children:S.jsx(Kt,I({ownerState:ct,"aria-invalid":ze.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:ze.disabled,id:_,onAnimationStart:qt,name:C,placeholder:V,readOnly:z,required:ze.required,rows:U,value:Y,onKeyDown:F,onKeyUp:M,type:ae},Ae,!wp(Kt)&&{as:at,ownerState:I({},ct,Ae.ownerState)},{ref:Le,className:Te(be.input,Ae.className,z&&"MuiInputBase-readOnly"),onBlur:tn,onChange:Dt,onFocus:_n}))}),m,j?j(I({},ze,{startAdornment:W})):null]}))]})}),aw=tB;function nB(t){return nt("MuiInput",t)}const rB=I({},Ll,Xe("MuiInput",["root","underline","input"])),Uu=rB;function iB(t){return nt("MuiOutlinedInput",t)}const sB=I({},Ll,Xe("MuiOutlinedInput",["root","notchedOutline","input"])),Ts=sB;function oB(t){return nt("MuiFilledInput",t)}const aB=I({},Ll,Xe("MuiFilledInput",["root","underline","input"])),To=aB,lB=fo(S.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),uB=fo(S.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function cB(t){return nt("MuiAvatar",t)}Xe("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const dB=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],hB=t=>{const{classes:e,variant:n,colorDefault:r}=t;return tt({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},cB,e)},fB=ee("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:I({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:I({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),pB=ee("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),mB=ee(uB,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function gB({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,s]=w.useState(!1);return w.useEffect(()=>{if(!n&&!r)return;s(!1);let o=!0;const a=new Image;return a.onload=()=>{o&&s("loaded")},a.onerror=()=>{o&&s("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{o=!1}},[t,e,n,r]),i}const yB=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:o,component:a="div",imgProps:l,sizes:u,src:c,srcSet:d,variant:h="circular"}=r,p=se(r,dB);let m=null;const v=gB(I({},l,{src:c,srcSet:d})),_=c||d,f=_&&v!=="error",g=I({},r,{colorDefault:!f,component:a,variant:h}),y=hB(g);return f?m=S.jsx(pB,I({alt:i,srcSet:d,src:c,sizes:u,ownerState:g,className:y.img},l)):s!=null&&s!==""&&typeof s!="boolean"?m=s:_&&i?m=i[0]:m=S.jsx(mB,{ownerState:g,className:y.fallback}),S.jsx(fB,I({as:a,ownerState:g,className:Te(y.root,o),ref:n},p,{children:m}))}),yd=yB,vB=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],_B={entering:{opacity:1},entered:{opacity:1}},wB=w.forwardRef(function(e,n){const r=ru(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:p,onExited:m,onExiting:v,style:_,timeout:f=i,TransitionComponent:g=xk}=e,y=se(e,vB),E=w.useRef(null),R=an(E,a.ref,n),T=V=>z=>{if(V){const j=E.current;z===void 0?V(j):V(j,z)}},C=T(h),b=T((V,z)=>{Pk(V);const j=_p({style:_,timeout:f,easing:l},{mode:"enter"});V.style.webkitTransition=r.transitions.create("opacity",j),V.style.transition=r.transitions.create("opacity",j),c&&c(V,z)}),k=T(d),x=T(v),O=T(V=>{const z=_p({style:_,timeout:f,easing:l},{mode:"exit"});V.style.webkitTransition=r.transitions.create("opacity",z),V.style.transition=r.transitions.create("opacity",z),p&&p(V)}),F=T(m),M=V=>{s&&s(E.current,V)};return S.jsx(g,I({appear:o,in:u,nodeRef:E,onEnter:b,onEntered:k,onEntering:C,onExit:O,onExited:F,onExiting:x,addEndListener:M,timeout:f},y,{children:(V,z)=>w.cloneElement(a,I({style:I({opacity:0,visibility:V==="exited"&&!u?"hidden":void 0},_B[V],_,a.props.style),ref:R},z))}))}),Hk=wB;function EB(t){return nt("MuiBackdrop",t)}Xe("MuiBackdrop",["root","invisible"]);const TB=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],SB=t=>{const{classes:e,invisible:n}=t;return tt({root:["root",n&&"invisible"]},EB,e)},CB=ee("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>I({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),IB=w.forwardRef(function(e,n){var r,i,s;const o=rt({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:u="div",components:c={},componentsProps:d={},invisible:h=!1,open:p,slotProps:m={},slots:v={},TransitionComponent:_=Hk,transitionDuration:f}=o,g=se(o,TB),y=I({},o,{component:u,invisible:h}),E=SB(y),R=(r=m.root)!=null?r:d.root;return S.jsx(_,I({in:p,timeout:f},g,{children:S.jsx(CB,I({"aria-hidden":!0},R,{as:(i=(s=v.root)!=null?s:c.Root)!=null?i:u,className:Te(E.root,l,R==null?void 0:R.className),ownerState:I({},y,R==null?void 0:R.ownerState),classes:E,ref:n,children:a}))}))}),RB=IB;function bB(t){return nt("MuiCircularProgress",t)}Xe("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const xB=["className","color","disableShrink","size","style","thickness","value","variant"];let mg=t=>t,AC,NC,OC,DC;const Ss=44,PB=ho(AC||(AC=mg`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),kB=ho(NC||(NC=mg`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),AB=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${he(r)}`],svg:["svg"],circle:["circle",`circle${he(n)}`,i&&"circleDisableShrink"]};return tt(s,bB,e)},NB=ee("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${he(n.color)}`]]}})(({ownerState:t,theme:e})=>I({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&nu(OC||(OC=mg`
      animation: ${0} 1.4s linear infinite;
    `),PB)),OB=ee("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),DB=ee("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${he(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>I({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&nu(DC||(DC=mg`
      animation: ${0} 1.4s ease-in-out infinite;
    `),kB)),MB=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:u=3.6,value:c=0,variant:d="indeterminate"}=r,h=se(r,xB),p=I({},r,{color:s,disableShrink:o,size:a,thickness:u,value:c,variant:d}),m=AB(p),v={},_={},f={};if(d==="determinate"){const g=2*Math.PI*((Ss-u)/2);v.strokeDasharray=g.toFixed(3),f["aria-valuenow"]=Math.round(c),v.strokeDashoffset=`${((100-c)/100*g).toFixed(3)}px`,_.transform="rotate(-90deg)"}return S.jsx(NB,I({className:Te(m.root,i),style:I({width:a,height:a},_,l),ownerState:p,ref:n,role:"progressbar"},f,h,{children:S.jsx(OB,{className:m.svg,ownerState:p,viewBox:`${Ss/2} ${Ss/2} ${Ss} ${Ss}`,children:S.jsx(DB,{className:m.circle,style:v,ownerState:p,cx:Ss,cy:Ss,r:(Ss-u)/2,fill:"none",strokeWidth:u})})}))}),LB=MB;function $B(t){return nt("MuiModal",t)}Xe("MuiModal",["root","hidden","backdrop"]);const FB=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],VB=t=>{const{open:e,exited:n,classes:r}=t;return tt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},$B,r)},UB=ee("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>I({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),jB=ee(RB,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),BB=w.forwardRef(function(e,n){var r,i,s,o,a,l;const u=rt({name:"MuiModal",props:e}),{BackdropComponent:c=jB,BackdropProps:d,className:h,closeAfterTransition:p=!1,children:m,container:v,component:_,components:f={},componentsProps:g={},disableAutoFocus:y=!1,disableEnforceFocus:E=!1,disableEscapeKeyDown:R=!1,disablePortal:T=!1,disableRestoreFocus:C=!1,disableScrollLock:b=!1,hideBackdrop:k=!1,keepMounted:x=!1,onBackdropClick:O,open:F,slotProps:M,slots:V}=u,z=se(u,FB),j=I({},u,{closeAfterTransition:p,disableAutoFocus:y,disableEnforceFocus:E,disableEscapeKeyDown:R,disablePortal:T,disableRestoreFocus:C,disableScrollLock:b,hideBackdrop:k,keepMounted:x}),{getRootProps:U,getBackdropProps:N,getTransitionProps:B,portalRef:W,isTopModal:ae,exited:J,hasTransition:ne}=Vj(I({},j,{rootRef:n})),Y=I({},j,{exited:J}),fe=VB(Y),ce={};if(m.props.tabIndex===void 0&&(ce.tabIndex="-1"),ne){const{onEnter:ve,onExited:Fe}=B();ce.onEnter=ve,ce.onExited=Fe}const Me=(r=(i=V==null?void 0:V.root)!=null?i:f.Root)!=null?r:UB,Le=(s=(o=V==null?void 0:V.backdrop)!=null?o:f.Backdrop)!=null?s:c,$e=(a=M==null?void 0:M.root)!=null?a:g.root,It=(l=M==null?void 0:M.backdrop)!=null?l:g.backdrop,le=to({elementType:Me,externalSlotProps:$e,externalForwardedProps:z,getSlotProps:U,additionalProps:{ref:n,as:_},ownerState:Y,className:Te(h,$e==null?void 0:$e.className,fe==null?void 0:fe.root,!Y.open&&Y.exited&&(fe==null?void 0:fe.hidden))}),ze=to({elementType:Le,externalSlotProps:It,additionalProps:d,getSlotProps:ve=>N(I({},ve,{onClick:Fe=>{O&&O(Fe),ve!=null&&ve.onClick&&ve.onClick(Fe)}})),className:Te(It==null?void 0:It.className,d==null?void 0:d.className,fe==null?void 0:fe.backdrop),ownerState:Y});return!x&&!F&&(!ne||J)?null:S.jsx(Bk,{ref:W,container:v,disablePortal:T,children:S.jsxs(Me,I({},le,{children:[!k&&c?S.jsx(Le,I({},ze)):null,S.jsx(p6,{disableEnforceFocus:E,disableAutoFocus:y,disableRestoreFocus:C,isEnabled:ae,open:F,children:w.cloneElement(m,ce)})]}))})}),zB=BB;function WB(t){return nt("MuiDivider",t)}Xe("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const HB=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],qB=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:s,orientation:o,textAlign:a,variant:l}=t;return tt({root:["root",e&&"absolute",l,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},WB,r)},KB=ee("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>I({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:sa(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>I({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>I({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>I({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>I({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),GB=ee("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>I({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),qk=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,component:a=s?"div":"hr",flexItem:l=!1,light:u=!1,orientation:c="horizontal",role:d=a!=="hr"?"separator":void 0,textAlign:h="center",variant:p="fullWidth"}=r,m=se(r,HB),v=I({},r,{absolute:i,component:a,flexItem:l,light:u,orientation:c,role:d,textAlign:h,variant:p}),_=qB(v);return S.jsx(KB,I({as:a,className:Te(_.root,o),role:d,ref:n,ownerState:v},m,{children:s?S.jsx(GB,{className:_.wrapper,ownerState:v,children:s}):null}))});qk.muiSkipListHighlight=!0;const M_=qk,QB=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],YB=t=>{const{classes:e,disableUnderline:n}=t,i=tt({root:["root",!n&&"underline"],input:["input"]},oB,e);return I({},e,i)},XB=ee(fg,{shouldForwardProp:t=>Vi(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...dg(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return I({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${To.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${To.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${To.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${To.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${To.disabled}, .${To.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${To.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&I({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),JB=ee(pg,{name:"MuiFilledInput",slot:"Input",overridesResolver:hg})(({theme:t,ownerState:e})=>I({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Kk=w.forwardRef(function(e,n){var r,i,s,o;const a=rt({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:h=!1,slotProps:p,slots:m={},type:v="text"}=a,_=se(a,QB),f=I({},a,{fullWidth:c,inputComponent:d,multiline:h,type:v}),g=YB(a),y={root:{ownerState:f},input:{ownerState:f}},E=p??u?lr(y,p??u):y,R=(r=(i=m.root)!=null?i:l.Root)!=null?r:XB,T=(s=(o=m.input)!=null?o:l.Input)!=null?s:JB;return S.jsx(aw,I({slots:{root:R,input:T},componentsProps:E,fullWidth:c,inputComponent:d,multiline:h,ref:n,type:v},_,{classes:g}))});Kk.muiName="Input";const Gk=Kk;function ZB(t){return nt("MuiFormControl",t)}Xe("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const e9=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],t9=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${he(n)}`,r&&"fullWidth"]};return tt(i,ZB,e)},n9=ee("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>I({},e.root,e[`margin${he(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>I({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),r9=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:m=!1,size:v="medium",variant:_="outlined"}=r,f=se(r,e9),g=I({},r,{color:o,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:p,required:m,size:v,variant:_}),y=t9(g),[E,R]=w.useState(()=>{let M=!1;return i&&w.Children.forEach(i,V=>{if(!Pf(V,["Input","Select"]))return;const z=Pf(V,["Select"])?V.props.input:V;z&&Qj(z.props)&&(M=!0)}),M}),[T,C]=w.useState(()=>{let M=!1;return i&&w.Children.forEach(i,V=>{Pf(V,["Input","Select"])&&(Sp(V.props,!0)||Sp(V.props.inputProps,!0))&&(M=!0)}),M}),[b,k]=w.useState(!1);l&&b&&k(!1);const x=c!==void 0&&!l?c:b;let O;const F=w.useMemo(()=>({adornedStart:E,setAdornedStart:R,color:o,disabled:l,error:u,filled:T,focused:x,fullWidth:d,hiddenLabel:h,size:v,onBlur:()=>{k(!1)},onEmpty:()=>{C(!1)},onFilled:()=>{C(!0)},onFocus:()=>{k(!0)},registerEffect:O,required:m,variant:_}),[E,o,l,u,T,x,d,h,O,m,v,_]);return S.jsx(ow.Provider,{value:F,children:S.jsx(n9,I({as:a,ownerState:g,className:Te(y.root,s),ref:n},f,{children:i}))})}),i9=r9;function s9(t){return nt("MuiFormHelperText",t)}const o9=Xe("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),MC=o9;var LC;const a9=["children","className","component","disabled","error","filled","focused","margin","required","variant"],l9=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,u={root:["root",i&&"disabled",s&&"error",r&&`size${he(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return tt(u,s9,e)},u9=ee("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${he(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>I({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${MC.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${MC.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),c9=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=se(r,a9),l=su(),u=iu({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=I({},r,{component:o,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=l9(c);return S.jsx(u9,I({as:o,ownerState:c,className:Te(d.root,s),ref:n},a,{children:i===" "?LC||(LC=S.jsx("span",{className:"notranslate",children:"​"})):i}))}),d9=c9;function h9(t){return nt("MuiFormLabel",t)}const f9=Xe("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),kc=f9,p9=["children","className","color","component","disabled","error","filled","focused","required"],m9=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${he(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return tt(l,h9,e)},g9=ee("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>I({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>I({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${kc.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${kc.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${kc.error}`]:{color:(t.vars||t).palette.error.main}})),y9=ee("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${kc.error}`]:{color:(t.vars||t).palette.error.main}})),v9=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=se(r,p9),l=su(),u=iu({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=I({},r,{color:u.color||"primary",component:o,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=m9(c);return S.jsxs(g9,I({as:o,ownerState:c,className:Te(d.root,s),ref:n},a,{children:[i,u.required&&S.jsxs(y9,{ownerState:c,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),_9=v9,w9=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function L_(t){return`scale(${t}, ${t**2})`}const E9={entering:{opacity:1,transform:L_(1)},entered:{opacity:1,transform:"none"}},Wy=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Qk=w.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:p,style:m,timeout:v="auto",TransitionComponent:_=xk}=e,f=se(e,w9),g=Lo(),y=w.useRef(),E=ru(),R=w.useRef(null),T=an(R,s.ref,n),C=z=>j=>{if(z){const U=R.current;j===void 0?z(U):z(U,j)}},b=C(c),k=C((z,j)=>{Pk(z);const{duration:U,delay:N,easing:B}=_p({style:m,timeout:v,easing:o},{mode:"enter"});let W;v==="auto"?(W=E.transitions.getAutoHeightDuration(z.clientHeight),y.current=W):W=U,z.style.transition=[E.transitions.create("opacity",{duration:W,delay:N}),E.transitions.create("transform",{duration:Wy?W:W*.666,delay:N,easing:B})].join(","),l&&l(z,j)}),x=C(u),O=C(p),F=C(z=>{const{duration:j,delay:U,easing:N}=_p({style:m,timeout:v,easing:o},{mode:"exit"});let B;v==="auto"?(B=E.transitions.getAutoHeightDuration(z.clientHeight),y.current=B):B=j,z.style.transition=[E.transitions.create("opacity",{duration:B,delay:U}),E.transitions.create("transform",{duration:Wy?B:B*.666,delay:Wy?U:U||B*.333,easing:N})].join(","),z.style.opacity=0,z.style.transform=L_(.75),d&&d(z)}),M=C(h),V=z=>{v==="auto"&&g.start(y.current||0,z),r&&r(R.current,z)};return S.jsx(_,I({appear:i,in:a,nodeRef:R,onEnter:k,onEntered:x,onEntering:b,onExit:F,onExited:M,onExiting:O,addEndListener:V,timeout:v==="auto"?null:v},f,{children:(z,j)=>w.cloneElement(s,I({style:I({opacity:0,transform:L_(.75),visibility:z==="exited"&&!a?"hidden":void 0},E9[z],m,s.props.style),ref:T},j))}))});Qk.muiSupportAuto=!0;const Cp=Qk,T9=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],S9=t=>{const{classes:e,disableUnderline:n}=t,i=tt({root:["root",!n&&"underline"],input:["input"]},nB,e);return I({},e,i)},C9=ee(fg,{shouldForwardProp:t=>Vi(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...dg(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),I({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Uu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Uu.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Uu.disabled}, .${Uu.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${Uu.disabled}:before`]:{borderBottomStyle:"dotted"}})}),I9=ee(pg,{name:"MuiInput",slot:"Input",overridesResolver:hg})({}),Yk=w.forwardRef(function(e,n){var r,i,s,o;const a=rt({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:d=!1,inputComponent:h="input",multiline:p=!1,slotProps:m,slots:v={},type:_="text"}=a,f=se(a,T9),g=S9(a),E={root:{ownerState:{disableUnderline:l}}},R=m??c?lr(m??c,E):E,T=(r=(i=v.root)!=null?i:u.Root)!=null?r:C9,C=(s=(o=v.input)!=null?o:u.Input)!=null?s:I9;return S.jsx(aw,I({slots:{root:T,input:C},slotProps:R,fullWidth:d,inputComponent:h,multiline:p,ref:n,type:_},f,{classes:g}))});Yk.muiName="Input";const Xk=Yk;function R9(t){return nt("MuiInputLabel",t)}Xe("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const b9=["disableAnimation","margin","shrink","variant","className"],x9=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,l={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${he(r)}`,o],asterisk:[a&&"asterisk"]},u=tt(l,R9,e);return I({},e,u)},P9=ee(_9,{shouldForwardProp:t=>Vi(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${kc.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>I({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&I({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&I({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&I({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),k9=w.forwardRef(function(e,n){const r=rt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=se(r,b9),l=su();let u=s;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=iu({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=I({},r,{disableAnimation:i,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),h=x9(d);return S.jsx(P9,I({"data-shrink":u,ownerState:d,ref:n,className:Te(h.root,o)},a,{classes:h}))}),A9=k9;function N9(t){return nt("MuiLinearProgress",t)}Xe("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const O9=["className","color","value","valueBuffer","variant"];let ou=t=>t,$C,FC,VC,UC,jC,BC;const $_=4,D9=ho($C||($C=ou`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),M9=ho(FC||(FC=ou`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),L9=ho(VC||(VC=ou`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),$9=t=>{const{classes:e,variant:n,color:r}=t,i={root:["root",`color${he(r)}`,n],dashed:["dashed",`dashedColor${he(r)}`],bar1:["bar",`barColor${he(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${he(r)}`,n==="buffer"&&`color${he(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return tt(i,N9,e)},lw=(t,e)=>e==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?pd(t.palette[e].main,.62):fd(t.palette[e].main,.5),F9=ee("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${he(n.color)}`],e[n.variant]]}})(({ownerState:t,theme:e})=>I({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:lw(e,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),V9=ee("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${he(n.color)}`]]}})(({ownerState:t,theme:e})=>{const n=lw(e,t.color);return I({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},nu(UC||(UC=ou`
    animation: ${0} 3s infinite linear;
  `),L9)),U9=ee("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${he(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:t,theme:e})=>I({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${$_}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${$_}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&nu(jC||(jC=ou`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),D9)),j9=ee("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${he(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:t,theme:e})=>I({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:lw(e,t.color),transition:`transform .${$_}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&nu(BC||(BC=ou`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),M9)),B9=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiLinearProgress"}),{className:i,color:s="primary",value:o,valueBuffer:a,variant:l="indeterminate"}=r,u=se(r,O9),c=I({},r,{color:s,variant:l}),d=$9(c),h=ru(),p={},m={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&o!==void 0){p["aria-valuenow"]=Math.round(o),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let v=o-100;h.direction==="rtl"&&(v=-v),m.bar1.transform=`translateX(${v}%)`}if(l==="buffer"&&a!==void 0){let v=(a||0)-100;h.direction==="rtl"&&(v=-v),m.bar2.transform=`translateX(${v}%)`}return S.jsxs(F9,I({className:Te(d.root,i),ownerState:c,role:"progressbar"},p,{ref:n},u,{children:[l==="buffer"?S.jsx(V9,{className:d.dashed,ownerState:c}):null,S.jsx(U9,{className:d.bar1,ownerState:c,style:m.bar1}),l==="determinate"?null:S.jsx(j9,{className:d.bar2,ownerState:c,style:m.bar2})]}))}),z9=B9,W9=w.createContext({}),H9=W9;function q9(t){return nt("MuiList",t)}Xe("MuiList",["root","padding","dense","subheader"]);const K9=["children","className","component","dense","disablePadding","subheader"],G9=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return tt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},q9,e)},Q9=ee("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>I({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),Y9=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,c=se(r,K9),d=w.useMemo(()=>({dense:a}),[a]),h=I({},r,{component:o,dense:a,disablePadding:l}),p=G9(h);return S.jsx(H9.Provider,{value:d,children:S.jsxs(Q9,I({as:o,className:Te(p.root,s),ref:n,ownerState:h},c,{children:[u,i]}))})}),X9=Y9,J9=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Hy(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function zC(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function Jk(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function ju(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!Jk(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const Z9=w.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=e,h=se(e,J9),p=w.useRef(null),m=w.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Mi(()=>{i&&p.current.focus()},[i]),w.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(y,E)=>{const R=!p.current.style.width;if(y.clientHeight<p.current.clientHeight&&R){const T=`${mk(on(y))}px`;p.current.style[E.direction==="rtl"?"paddingLeft":"paddingRight"]=T,p.current.style.width=`calc(100% + ${T})`}return p.current}}),[]);const v=y=>{const E=p.current,R=y.key,T=on(E).activeElement;if(R==="ArrowDown")y.preventDefault(),ju(E,T,u,l,Hy);else if(R==="ArrowUp")y.preventDefault(),ju(E,T,u,l,zC);else if(R==="Home")y.preventDefault(),ju(E,null,u,l,Hy);else if(R==="End")y.preventDefault(),ju(E,null,u,l,zC);else if(R.length===1){const C=m.current,b=R.toLowerCase(),k=performance.now();C.keys.length>0&&(k-C.lastTime>500?(C.keys=[],C.repeating=!0,C.previousKeyMatched=!0):C.repeating&&b!==C.keys[0]&&(C.repeating=!1)),C.lastTime=k,C.keys.push(b);const x=T&&!C.repeating&&Jk(T,C);C.previousKeyMatched&&(x||ju(E,T,!1,l,Hy,C))?y.preventDefault():C.previousKeyMatched=!1}c&&c(y)},_=an(p,n);let f=-1;w.Children.forEach(o,(y,E)=>{if(!w.isValidElement(y)){f===E&&(f+=1,f>=o.length&&(f=-1));return}y.props.disabled||(d==="selectedMenu"&&y.props.selected||f===-1)&&(f=E),f===E&&(y.props.disabled||y.props.muiSkipListHighlight||y.type.muiSkipListHighlight)&&(f+=1,f>=o.length&&(f=-1))});const g=w.Children.map(o,(y,E)=>{if(E===f){const R={};return s&&(R.autoFocus=!0),y.props.tabIndex===void 0&&d==="selectedMenu"&&(R.tabIndex=0),w.cloneElement(y,R)}return y});return S.jsx(X9,I({role:"menu",ref:_,className:a,onKeyDown:v,tabIndex:i?0:-1},h,{children:g}))}),ez=Z9;function tz(t){return nt("MuiPopover",t)}Xe("MuiPopover",["root","paper"]);const nz=["onEntering"],rz=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],iz=["slotProps"];function WC(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function HC(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function qC(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function qy(t){return typeof t=="function"?t():t}const sz=t=>{const{classes:e}=t;return tt({root:["root"],paper:["paper"]},tz,e)},oz=ee(zB,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Zk=ee(J1,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),az=w.forwardRef(function(e,n){var r,i,s;const o=rt({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:h,className:p,container:m,elevation:v=8,marginThreshold:_=16,open:f,PaperProps:g={},slots:y,slotProps:E,transformOrigin:R={vertical:"top",horizontal:"left"},TransitionComponent:T=Cp,transitionDuration:C="auto",TransitionProps:{onEntering:b}={},disableScrollLock:k=!1}=o,x=se(o.TransitionProps,nz),O=se(o,rz),F=(r=E==null?void 0:E.paper)!=null?r:g,M=w.useRef(),V=an(M,F.ref),z=I({},o,{anchorOrigin:u,anchorReference:d,elevation:v,marginThreshold:_,externalPaperSlotProps:F,transformOrigin:R,TransitionComponent:T,transitionDuration:C,TransitionProps:x}),j=sz(z),U=w.useCallback(()=>{if(d==="anchorPosition")return c;const ve=qy(l),Ee=(ve&&ve.nodeType===1?ve:on(M.current).body).getBoundingClientRect();return{top:Ee.top+WC(Ee,u.vertical),left:Ee.left+HC(Ee,u.horizontal)}},[l,u.horizontal,u.vertical,c,d]),N=w.useCallback(ve=>({vertical:WC(ve,R.vertical),horizontal:HC(ve,R.horizontal)}),[R.horizontal,R.vertical]),B=w.useCallback(ve=>{const Fe={width:ve.offsetWidth,height:ve.offsetHeight},Ee=N(Fe);if(d==="none")return{top:null,left:null,transformOrigin:qC(Ee)};const _n=U();let tn=_n.top-Ee.vertical,Dt=_n.left-Ee.horizontal;const ln=tn+Fe.height,at=Dt+Fe.width,Ae=eo(qy(l)),qt=Ae.innerHeight-_,ct=Ae.innerWidth-_;if(_!==null&&tn<_){const be=tn-_;tn-=be,Ee.vertical+=be}else if(_!==null&&ln>qt){const be=ln-qt;tn-=be,Ee.vertical+=be}if(_!==null&&Dt<_){const be=Dt-_;Dt-=be,Ee.horizontal+=be}else if(at>ct){const be=at-ct;Dt-=be,Ee.horizontal+=be}return{top:`${Math.round(tn)}px`,left:`${Math.round(Dt)}px`,transformOrigin:qC(Ee)}},[l,d,U,N,_]),[W,ae]=w.useState(f),J=w.useCallback(()=>{const ve=M.current;if(!ve)return;const Fe=B(ve);Fe.top!==null&&(ve.style.top=Fe.top),Fe.left!==null&&(ve.style.left=Fe.left),ve.style.transformOrigin=Fe.transformOrigin,ae(!0)},[B]);w.useEffect(()=>(k&&window.addEventListener("scroll",J),()=>window.removeEventListener("scroll",J)),[l,k,J]);const ne=(ve,Fe)=>{b&&b(ve,Fe),J()},Y=()=>{ae(!1)};w.useEffect(()=>{f&&J()}),w.useImperativeHandle(a,()=>f?{updatePosition:()=>{J()}}:null,[f,J]),w.useEffect(()=>{if(!f)return;const ve=F1(()=>{J()}),Fe=eo(l);return Fe.addEventListener("resize",ve),()=>{ve.clear(),Fe.removeEventListener("resize",ve)}},[l,f,J]);let fe=C;C==="auto"&&!T.muiSupportAuto&&(fe=void 0);const ce=m||(l?on(qy(l)).body:void 0),Me=(i=y==null?void 0:y.root)!=null?i:oz,Le=(s=y==null?void 0:y.paper)!=null?s:Zk,$e=to({elementType:Le,externalSlotProps:I({},F,{style:W?F.style:I({},F.style,{opacity:0})}),additionalProps:{elevation:v,ref:V},ownerState:z,className:Te(j.paper,F==null?void 0:F.className)}),It=to({elementType:Me,externalSlotProps:(E==null?void 0:E.root)||{},externalForwardedProps:O,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:ce,open:f},ownerState:z,className:Te(j.root,p)}),{slotProps:le}=It,ze=se(It,iz);return S.jsx(Me,I({},ze,!wp(Me)&&{slotProps:le,disableScrollLock:k},{children:S.jsx(T,I({appear:!0,in:f,onEntering:ne,onExited:Y,timeout:fe},x,{children:S.jsx(Le,I({},$e,{children:h}))}))}))}),lz=az;function uz(t){return nt("MuiMenu",t)}Xe("MuiMenu",["root","paper","list"]);const cz=["onEntering"],dz=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],hz={vertical:"top",horizontal:"right"},fz={vertical:"top",horizontal:"left"},pz=t=>{const{classes:e}=t;return tt({root:["root"],paper:["paper"],list:["list"]},uz,e)},mz=ee(lz,{shouldForwardProp:t=>Vi(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),gz=ee(Zk,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),yz=ee(ez,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),vz=w.forwardRef(function(e,n){var r,i;const s=rt({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:d,open:h,PaperProps:p={},PopoverClasses:m,transitionDuration:v="auto",TransitionProps:{onEntering:_}={},variant:f="selectedMenu",slots:g={},slotProps:y={}}=s,E=se(s.TransitionProps,cz),R=se(s,dz),T=ru(),C=T.direction==="rtl",b=I({},s,{autoFocus:o,disableAutoFocusItem:u,MenuListProps:c,onEntering:_,PaperProps:p,transitionDuration:v,TransitionProps:E,variant:f}),k=pz(b),x=o&&!u&&h,O=w.useRef(null),F=(B,W)=>{O.current&&O.current.adjustStyleForScrollbar(B,T),_&&_(B,W)},M=B=>{B.key==="Tab"&&(B.preventDefault(),d&&d(B,"tabKeyDown"))};let V=-1;w.Children.map(a,(B,W)=>{w.isValidElement(B)&&(B.props.disabled||(f==="selectedMenu"&&B.props.selected||V===-1)&&(V=W))});const z=(r=g.paper)!=null?r:gz,j=(i=y.paper)!=null?i:p,U=to({elementType:g.root,externalSlotProps:y.root,ownerState:b,className:[k.root,l]}),N=to({elementType:z,externalSlotProps:j,ownerState:b,className:k.paper});return S.jsx(mz,I({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?hz:fz,slots:{paper:z,root:g.root},slotProps:{root:U,paper:N},open:h,ref:n,transitionDuration:v,TransitionProps:I({onEntering:F},E),ownerState:b},R,{classes:m,children:S.jsx(yz,I({onKeyDown:M,actions:O,autoFocus:o&&(V===-1||u),autoFocusItem:x,variant:f},c,{className:Te(k.list,c.className),children:a}))}))}),_z=vz;function wz(t){return nt("MuiNativeSelect",t)}const Ez=Xe("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),uw=Ez,Tz=["className","disabled","error","IconComponent","inputRef","variant"],Sz=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${he(n)}`,s&&"iconOpen",r&&"disabled"]};return tt(a,wz,e)},eA=({ownerState:t,theme:e})=>I({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":I({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${uw.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),Cz=ee("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Vi,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${uw.multiple}`]:e.multiple}]}})(eA),tA=({ownerState:t,theme:e})=>I({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${uw.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),Iz=ee("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${he(n.variant)}`],n.open&&e.iconOpen]}})(tA),Rz=w.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=e,u=se(e,Tz),c=I({},e,{disabled:i,variant:l,error:s}),d=Sz(c);return S.jsxs(w.Fragment,{children:[S.jsx(Cz,I({ownerState:c,className:Te(d.select,r),disabled:i,ref:a||n},u)),e.multiple?null:S.jsx(Iz,{as:o,ownerState:c,className:d.icon})]})}),bz=Rz;var KC;const xz=["children","classes","className","label","notched"],Pz=ee("fieldset",{shouldForwardProp:Vi})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),kz=ee("legend",{shouldForwardProp:Vi})(({ownerState:t,theme:e})=>I({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&I({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function Az(t){const{className:e,label:n,notched:r}=t,i=se(t,xz),s=n!=null&&n!=="",o=I({},t,{notched:r,withLabel:s});return S.jsx(Pz,I({"aria-hidden":!0,className:e,ownerState:o},i,{children:S.jsx(kz,{ownerState:o,children:s?S.jsx("span",{children:n}):KC||(KC=S.jsx("span",{className:"notranslate",children:"​"}))})}))}const Nz=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Oz=t=>{const{classes:e}=t,r=tt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},iB,e);return I({},e,r)},Dz=ee(fg,{shouldForwardProp:t=>Vi(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:dg})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return I({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Ts.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ts.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Ts.focused} .${Ts.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Ts.error} .${Ts.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Ts.disabled} .${Ts.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&I({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),Mz=ee(Az,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),Lz=ee(pg,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:hg})(({theme:t,ownerState:e})=>I({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),nA=w.forwardRef(function(e,n){var r,i,s,o,a;const l=rt({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:d="input",label:h,multiline:p=!1,notched:m,slots:v={},type:_="text"}=l,f=se(l,Nz),g=Oz(l),y=su(),E=iu({props:l,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),R=I({},l,{color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:y,fullWidth:c,hiddenLabel:E.hiddenLabel,multiline:p,size:E.size,type:_}),T=(r=(i=v.root)!=null?i:u.Root)!=null?r:Dz,C=(s=(o=v.input)!=null?o:u.Input)!=null?s:Lz;return S.jsx(aw,I({slots:{root:T,input:C},renderSuffix:b=>S.jsx(Mz,{ownerState:R,className:g.notchedOutline,label:h!=null&&h!==""&&E.required?a||(a=S.jsxs(w.Fragment,{children:[h," ","*"]})):h,notched:typeof m<"u"?m:!!(b.startAdornment||b.filled||b.focused)}),fullWidth:c,inputComponent:d,multiline:p,ref:n,type:_},f,{classes:I({},g,{notchedOutline:null})}))});nA.muiName="Input";const rA=nA;function $z(t){return nt("MuiSelect",t)}const Bu=Xe("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var GC;const Fz=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Vz=ee("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Bu.select}`]:e.select},{[`&.${Bu.select}`]:e[n.variant]},{[`&.${Bu.error}`]:e.error},{[`&.${Bu.multiple}`]:e.multiple}]}})(eA,{[`&.${Bu.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Uz=ee("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${he(n.variant)}`],n.open&&e.iconOpen]}})(tA),jz=ee("input",{shouldForwardProp:t=>zU(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function QC(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Bz(t){return t==null||typeof t=="string"&&!t.trim()}const zz=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${he(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return tt(a,$z,e)},Wz=w.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:l,className:u,defaultOpen:c,defaultValue:d,disabled:h,displayEmpty:p,error:m=!1,IconComponent:v,inputRef:_,labelId:f,MenuProps:g={},multiple:y,name:E,onBlur:R,onChange:T,onClose:C,onFocus:b,onOpen:k,open:x,readOnly:O,renderValue:F,SelectDisplayProps:M={},tabIndex:V,value:z,variant:j="standard"}=e,U=se(e,Fz),[N,B]=pp({controlled:z,default:d,name:"Select"}),[W,ae]=pp({controlled:x,default:c,name:"Select"}),J=w.useRef(null),ne=w.useRef(null),[Y,fe]=w.useState(null),{current:ce}=w.useRef(x!=null),[Me,Le]=w.useState(),$e=an(n,_),It=w.useCallback(oe=>{ne.current=oe,oe&&fe(oe)},[]),le=Y==null?void 0:Y.parentNode;w.useImperativeHandle($e,()=>({focus:()=>{ne.current.focus()},node:J.current,value:N}),[N]),w.useEffect(()=>{c&&W&&Y&&!ce&&(Le(a?null:le.clientWidth),ne.current.focus())},[Y,a]),w.useEffect(()=>{o&&ne.current.focus()},[o]),w.useEffect(()=>{if(!f)return;const oe=on(ne.current).getElementById(f);if(oe){const qe=()=>{getSelection().isCollapsed&&ne.current.focus()};return oe.addEventListener("click",qe),()=>{oe.removeEventListener("click",qe)}}},[f]);const ze=(oe,qe)=>{oe?k&&k(qe):C&&C(qe),ce||(Le(a?null:le.clientWidth),ae(oe))},ve=oe=>{oe.button===0&&(oe.preventDefault(),ne.current.focus(),ze(!0,oe))},Fe=oe=>{ze(!1,oe)},Ee=w.Children.toArray(l),_n=oe=>{const qe=Ee.find(ot=>ot.props.value===oe.target.value);qe!==void 0&&(B(qe.props.value),T&&T(oe,qe))},tn=oe=>qe=>{let ot;if(qe.currentTarget.hasAttribute("tabindex")){if(y){ot=Array.isArray(N)?N.slice():[];const hr=N.indexOf(oe.props.value);hr===-1?ot.push(oe.props.value):ot.splice(hr,1)}else ot=oe.props.value;if(oe.props.onClick&&oe.props.onClick(qe),N!==ot&&(B(ot),T)){const hr=qe.nativeEvent||qe,ji=new hr.constructor(hr.type,hr);Object.defineProperty(ji,"target",{writable:!0,value:{value:ot,name:E}}),T(ji,oe)}y||ze(!1,qe)}},Dt=oe=>{O||[" ","ArrowUp","ArrowDown","Enter"].indexOf(oe.key)!==-1&&(oe.preventDefault(),ze(!0,oe))},ln=Y!==null&&W,at=oe=>{!ln&&R&&(Object.defineProperty(oe,"target",{writable:!0,value:{value:N,name:E}}),R(oe))};delete U["aria-invalid"];let Ae,qt;const ct=[];let be=!1;(Sp({value:N})||p)&&(F?Ae=F(N):be=!0);const Rt=Ee.map(oe=>{if(!w.isValidElement(oe))return null;let qe;if(y){if(!Array.isArray(N))throw new Error(Zs(2));qe=N.some(ot=>QC(ot,oe.props.value)),qe&&be&&ct.push(oe.props.children)}else qe=QC(N,oe.props.value),qe&&be&&(qt=oe.props.children);return w.cloneElement(oe,{"aria-selected":qe?"true":"false",onClick:tn(oe),onKeyUp:ot=>{ot.key===" "&&ot.preventDefault(),oe.props.onKeyUp&&oe.props.onKeyUp(ot)},role:"option",selected:qe,value:void 0,"data-value":oe.props.value})});be&&(y?ct.length===0?Ae=null:Ae=ct.reduce((oe,qe,ot)=>(oe.push(qe),ot<ct.length-1&&oe.push(", "),oe),[]):Ae=qt);let nn=Me;!a&&ce&&Y&&(nn=le.clientWidth);let Kt;typeof V<"u"?Kt=V:Kt=h?null:0;const We=M.id||(E?`mui-component-select-${E}`:void 0),re=I({},e,{variant:j,value:N,open:ln,error:m}),Mt=zz(re),br=I({},g.PaperProps,(r=g.slotProps)==null?void 0:r.paper),Jn=jm();return S.jsxs(w.Fragment,{children:[S.jsx(Vz,I({ref:It,tabIndex:Kt,role:"combobox","aria-controls":Jn,"aria-disabled":h?"true":void 0,"aria-expanded":ln?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[f,We].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Dt,onMouseDown:h||O?null:ve,onBlur:at,onFocus:b},M,{ownerState:re,className:Te(M.className,Mt.select,u),id:We,children:Bz(Ae)?GC||(GC=S.jsx("span",{className:"notranslate",children:"​"})):Ae})),S.jsx(jz,I({"aria-invalid":m,value:Array.isArray(N)?N.join(","):N,name:E,ref:J,"aria-hidden":!0,onChange:_n,tabIndex:-1,disabled:h,className:Mt.nativeInput,autoFocus:o,ownerState:re},U)),S.jsx(Uz,{as:v,className:Mt.icon,ownerState:re}),S.jsx(_z,I({id:`menu-${E||""}`,anchorEl:le,open:ln,onClose:Fe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},g,{MenuListProps:I({"aria-labelledby":f,role:"listbox","aria-multiselectable":y?"true":void 0,disableListWrap:!0,id:Jn},g.MenuListProps),slotProps:I({},g.slotProps,{paper:I({},br,{style:I({minWidth:nn},br!=null?br.style:null)})}),children:Rt}))]})}),Hz=Wz,qz=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Kz=["root"],Gz=t=>{const{classes:e}=t;return e},cw={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Vi(t)&&t!=="variant",slot:"Root"},Qz=ee(Xk,cw)(""),Yz=ee(rA,cw)(""),Xz=ee(Gk,cw)(""),iA=w.forwardRef(function(e,n){const r=rt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=lB,id:d,input:h,inputProps:p,label:m,labelId:v,MenuProps:_,multiple:f=!1,native:g=!1,onClose:y,onOpen:E,open:R,renderValue:T,SelectDisplayProps:C,variant:b="outlined"}=r,k=se(r,qz),x=g?bz:Hz,O=su(),F=iu({props:r,muiFormControl:O,states:["variant","error"]}),M=F.variant||b,V=I({},r,{variant:M,classes:o}),z=Gz(V),j=se(z,Kz),U=h||{standard:S.jsx(Qz,{ownerState:V}),outlined:S.jsx(Yz,{label:m,ownerState:V}),filled:S.jsx(Xz,{ownerState:V})}[M],N=an(n,U.ref);return S.jsx(w.Fragment,{children:w.cloneElement(U,I({inputComponent:x,inputProps:I({children:s,error:F.error,IconComponent:c,variant:M,type:void 0,multiple:f},g?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:v,MenuProps:_,onClose:y,onOpen:E,open:R,renderValue:T,SelectDisplayProps:I({id:d},C)},p,{classes:p?lr(j,p.classes):j},h?h.props.inputProps:{})},(f&&g||u)&&M==="outlined"?{notched:!0}:{},{ref:N,className:Te(U.props.className,a,z.root)},!h&&{variant:M},k))})});iA.muiName="Select";const Jz=iA;function Zz(t){return nt("MuiSnackbarContent",t)}Xe("MuiSnackbarContent",["root","message","action"]);const e8=["action","className","message","role"],t8=t=>{const{classes:e}=t;return tt({root:["root"],action:["action"],message:["message"]},Zz,e)},n8=ee(J1,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,n=dU(t.palette.background.default,e);return I({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),r8=ee("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),i8=ee("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),s8=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSnackbarContent"}),{action:i,className:s,message:o,role:a="alert"}=r,l=se(r,e8),u=r,c=t8(u);return S.jsxs(n8,I({role:a,square:!0,elevation:6,className:Te(c.root,s),ownerState:u,ref:n},l,{children:[S.jsx(r8,{className:c.message,ownerState:u,children:o}),i?S.jsx(i8,{className:c.action,ownerState:u,children:i}):null]}))}),o8=s8;function a8(t){return nt("MuiSnackbar",t)}Xe("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const l8=["onEnter","onExited"],u8=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],c8=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${he(n.vertical)}${he(n.horizontal)}`]};return tt(r,a8,e)},YC=ee("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${he(n.anchorOrigin.vertical)}${he(n.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return I({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:I({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&n,e.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},e.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),d8=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSnackbar"}),i=ru(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:u=null,children:c,className:d,ClickAwayListenerProps:h,ContentProps:p,disableWindowBlurListener:m=!1,message:v,open:_,TransitionComponent:f=Cp,transitionDuration:g=s,TransitionProps:{onEnter:y,onExited:E}={}}=r,R=se(r.TransitionProps,l8),T=se(r,u8),C=I({},r,{anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:u,disableWindowBlurListener:m,TransitionComponent:f,transitionDuration:g}),b=c8(C),{getRootProps:k,onClickAway:x}=Uj(I({},C)),[O,F]=w.useState(!0),M=to({elementType:YC,getSlotProps:k,externalForwardedProps:T,ownerState:C,additionalProps:{ref:n},className:[b.root,d]}),V=j=>{F(!0),E&&E(j)},z=(j,U)=>{F(!1),y&&y(j,U)};return!_&&O?null:S.jsx(a6,I({onClickAway:x},h,{children:S.jsx(YC,I({},M,{children:S.jsx(f,I({appear:!0,in:_,timeout:g,direction:a==="top"?"down":"up",onEnter:z,onExited:V},R,{children:c||S.jsx(o8,I({message:v,action:o},p))}))}))}))}),h8=d8;function f8(t){return nt("MuiTooltip",t)}const p8=Xe("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Ls=p8,m8=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function g8(t){return Math.round(t*1e5)/1e5}const y8=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:s}=t,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${he(s.split("-")[0])}`],arrow:["arrow"]};return tt(o,f8,e)},v8=ee(Wk,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>I({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${Ls.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Ls.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Ls.arrow}`]:I({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Ls.arrow}`]:I({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),_8=ee("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${he(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>I({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:sa(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${g8(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${Ls.popper}[data-popper-placement*="left"] &`]:I({transformOrigin:"right center"},e.isRtl?I({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):I({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${Ls.popper}[data-popper-placement*="right"] &`]:I({transformOrigin:"left center"},e.isRtl?I({marginRight:"14px"},e.touch&&{marginRight:"24px"}):I({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${Ls.popper}[data-popper-placement*="top"] &`]:I({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${Ls.popper}[data-popper-placement*="bottom"] &`]:I({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),w8=ee("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:sa(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Xh=!1;const XC=new Hd;let zu={x:0,y:0};function Jh(t,e){return n=>{e&&e(n),t(n)}}const E8=w.forwardRef(function(e,n){var r,i,s,o,a,l,u,c,d,h,p,m,v,_,f,g,y,E,R;const T=rt({props:e,name:"MuiTooltip"}),{arrow:C=!1,children:b,components:k={},componentsProps:x={},describeChild:O=!1,disableFocusListener:F=!1,disableHoverListener:M=!1,disableInteractive:V=!1,disableTouchListener:z=!1,enterDelay:j=100,enterNextDelay:U=0,enterTouchDelay:N=700,followCursor:B=!1,id:W,leaveDelay:ae=0,leaveTouchDelay:J=1500,onClose:ne,onOpen:Y,open:fe,placement:ce="bottom",PopperComponent:Me,PopperProps:Le={},slotProps:$e={},slots:It={},title:le,TransitionComponent:ze=Cp,TransitionProps:ve}=T,Fe=se(T,m8),Ee=w.isValidElement(b)?b:S.jsx("span",{children:b}),_n=ru(),tn=_n.direction==="rtl",[Dt,ln]=w.useState(),[at,Ae]=w.useState(null),qt=w.useRef(!1),ct=V||B,be=Lo(),Rt=Lo(),nn=Lo(),Kt=Lo(),[We,re]=pp({controlled:fe,default:!1,name:"Tooltip",state:"open"});let Mt=We;const br=jm(W),Jn=w.useRef(),oe=Lr(()=>{Jn.current!==void 0&&(document.body.style.WebkitUserSelect=Jn.current,Jn.current=void 0),Kt.clear()});w.useEffect(()=>oe,[oe]);const qe=Ie=>{XC.clear(),Xh=!0,re(!0),Y&&!Mt&&Y(Ie)},ot=Lr(Ie=>{XC.start(800+ae,()=>{Xh=!1}),re(!1),ne&&Mt&&ne(Ie),be.start(_n.transitions.duration.shortest,()=>{qt.current=!1})}),hr=Ie=>{qt.current&&Ie.type!=="touchstart"||(Dt&&Dt.removeAttribute("title"),Rt.clear(),nn.clear(),j||Xh&&U?Rt.start(Xh?U:j,()=>{qe(Ie)}):qe(Ie))},ji=Ie=>{Rt.clear(),nn.start(ae,()=>{ot(Ie)})},{isFocusVisibleRef:Rh,onBlur:bh,onFocus:cy,ref:xh}=V1(),[,Ph]=w.useState(!1),P=Ie=>{bh(Ie),Rh.current===!1&&(Ph(!1),ji(Ie))},A=Ie=>{Dt||ln(Ie.currentTarget),cy(Ie),Rh.current===!0&&(Ph(!0),hr(Ie))},D=Ie=>{qt.current=!0;const Re=Ee.props;Re.onTouchStart&&Re.onTouchStart(Ie)},q=hr,te=ji,xe=Ie=>{D(Ie),nn.clear(),be.clear(),oe(),Jn.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Kt.start(N,()=>{document.body.style.WebkitUserSelect=Jn.current,hr(Ie)})},pe=Ie=>{Ee.props.onTouchEnd&&Ee.props.onTouchEnd(Ie),oe(),nn.start(J,()=>{ot(Ie)})};w.useEffect(()=>{if(!Mt)return;function Ie(Re){(Re.key==="Escape"||Re.key==="Esc")&&ot(Re)}return document.addEventListener("keydown",Ie),()=>{document.removeEventListener("keydown",Ie)}},[ot,Mt]);const de=an(Ee.ref,xh,ln,n);!le&&le!==0&&(Mt=!1);const ie=w.useRef(),ke=Ie=>{const Re=Ee.props;Re.onMouseMove&&Re.onMouseMove(Ie),zu={x:Ie.clientX,y:Ie.clientY},ie.current&&ie.current.update()},wt={},_e=typeof le=="string";O?(wt.title=!Mt&&_e&&!M?le:null,wt["aria-describedby"]=Mt?br:null):(wt["aria-label"]=_e?le:null,wt["aria-labelledby"]=Mt&&!_e?br:null);const Pe=I({},wt,Fe,Ee.props,{className:Te(Fe.className,Ee.props.className),onTouchStart:D,ref:de},B?{onMouseMove:ke}:{}),bt={};z||(Pe.onTouchStart=xe,Pe.onTouchEnd=pe),M||(Pe.onMouseOver=Jh(q,Pe.onMouseOver),Pe.onMouseLeave=Jh(te,Pe.onMouseLeave),ct||(bt.onMouseOver=q,bt.onMouseLeave=te)),F||(Pe.onFocus=Jh(A,Pe.onFocus),Pe.onBlur=Jh(P,Pe.onBlur),ct||(bt.onFocus=A,bt.onBlur=P));const Zn=w.useMemo(()=>{var Ie;let Re=[{name:"arrow",enabled:!!at,options:{element:at,padding:4}}];return(Ie=Le.popperOptions)!=null&&Ie.modifiers&&(Re=Re.concat(Le.popperOptions.modifiers)),I({},Le.popperOptions,{modifiers:Re})},[at,Le]),Et=I({},T,{isRtl:tn,arrow:C,disableInteractive:ct,placement:ce,PopperComponentProp:Me,touch:qt.current}),di=y8(Et),ka=(r=(i=It.popper)!=null?i:k.Popper)!=null?r:v8,Bi=(s=(o=(a=It.transition)!=null?a:k.Transition)!=null?o:ze)!=null?s:Cp,Yr=(l=(u=It.tooltip)!=null?u:k.Tooltip)!=null?l:_8,hi=(c=(d=It.arrow)!=null?d:k.Arrow)!=null?c:w8,Eu=oc(ka,I({},Le,(h=$e.popper)!=null?h:x.popper,{className:Te(di.popper,Le==null?void 0:Le.className,(p=(m=$e.popper)!=null?m:x.popper)==null?void 0:p.className)}),Et),Tu=oc(Bi,I({},ve,(v=$e.transition)!=null?v:x.transition),Et),Su=oc(Yr,I({},(_=$e.tooltip)!=null?_:x.tooltip,{className:Te(di.tooltip,(f=(g=$e.tooltip)!=null?g:x.tooltip)==null?void 0:f.className)}),Et),ws=oc(hi,I({},(y=$e.arrow)!=null?y:x.arrow,{className:Te(di.arrow,(E=(R=$e.arrow)!=null?R:x.arrow)==null?void 0:E.className)}),Et);return S.jsxs(w.Fragment,{children:[w.cloneElement(Ee,Pe),S.jsx(ka,I({as:Me??Wk,placement:ce,anchorEl:B?{getBoundingClientRect:()=>({top:zu.y,left:zu.x,right:zu.x,bottom:zu.y,width:0,height:0})}:Dt,popperRef:ie,open:Dt?Mt:!1,id:br,transition:!0},bt,Eu,{popperOptions:Zn,children:({TransitionProps:Ie})=>S.jsx(Bi,I({timeout:_n.transitions.duration.shorter},Ie,Tu,{children:S.jsxs(Yr,I({},Su,{children:[le,C?S.jsx(hi,I({},ws,{ref:Ae})):null]}))}))}))]})}),T8=E8;function S8(t){return nt("MuiTextField",t)}Xe("MuiTextField",["root"]);const C8=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],I8={standard:Xk,filled:Gk,outlined:rA},R8=t=>{const{classes:e}=t;return tt({root:["root"]},S8,e)},b8=ee(i9,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),x8=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:m,id:v,InputLabelProps:_,inputProps:f,InputProps:g,inputRef:y,label:E,maxRows:R,minRows:T,multiline:C=!1,name:b,onBlur:k,onChange:x,onFocus:O,placeholder:F,required:M=!1,rows:V,select:z=!1,SelectProps:j,type:U,value:N,variant:B="outlined"}=r,W=se(r,C8),ae=I({},r,{autoFocus:s,color:l,disabled:c,error:d,fullWidth:p,multiline:C,required:M,select:z,variant:B}),J=R8(ae),ne={};B==="outlined"&&(_&&typeof _.shrink<"u"&&(ne.notched=_.shrink),ne.label=E),z&&((!j||!j.native)&&(ne.id=void 0),ne["aria-describedby"]=void 0);const Y=jm(v),fe=m&&Y?`${Y}-helper-text`:void 0,ce=E&&Y?`${Y}-label`:void 0,Me=I8[B],Le=S.jsx(Me,I({"aria-describedby":fe,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:p,multiline:C,name:b,rows:V,maxRows:R,minRows:T,type:U,value:N,id:Y,inputRef:y,onBlur:k,onChange:x,onFocus:O,placeholder:F,inputProps:f},ne,g));return S.jsxs(b8,I({className:Te(J.root,a),disabled:c,error:d,fullWidth:p,ref:n,required:M,color:l,variant:B,ownerState:ae},W,{children:[E!=null&&E!==""&&S.jsx(A9,I({htmlFor:Y,id:ce},_,{children:E})),z?S.jsx(Jz,I({"aria-describedby":fe,id:Y,labelId:ce,value:N,input:Le},j,{children:o})):Le,m&&S.jsx(d9,I({id:fe},h,{children:m}))]}))}),Ac=x8;w.createContext(null);const P8=Ik({palette:{primary:{main:"#000000"},secondary:{main:"#CBFF6A"},error:{main:Io.A400}}});function k8(){const t=Sa();Ta();const e=k$("/pract-chat");return w.useEffect(()=>{e&&t("/pract-chat/chat")},[t,e]),S.jsx("div",{children:S.jsx(HU,{theme:P8,children:S.jsx(k1,{})})})}var dw={},sA={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(sA);var Xd=sA.exports,Ky={};const A8=fM(JU);var JC;function Jd(){return JC||(JC=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=A8}(Ky)),Ky}var N8=Xd;Object.defineProperty(dw,"__esModule",{value:!0});var hw=dw.default=void 0,O8=N8(Jd()),D8=S;hw=dw.default=(0,O8.default)((0,D8.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7"}),"VisibilityOutlined");var fw={},M8=Xd;Object.defineProperty(fw,"__esModule",{value:!0});var pw=fw.default=void 0,L8=M8(Jd()),$8=S;pw=fw.default=(0,L8.default)((0,$8.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6m-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14M2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45zm7.5 7.5 2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13m-3.4-3.4 1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53"}),"VisibilityOffOutlined");var ZC={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(t,e){if(!t)throw au(e)},au=function(t){return new Error("Firebase Database ("+oA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},F8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},mw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):F8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new V8;const h=s<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class V8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lA=function(t){const e=aA(t);return mw.encodeByteArray(e,!0)},Ip=function(t){return lA(t).replace(/\./g,"")},Rp=function(t){try{return mw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U8(t){return uA(void 0,t)}function uA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!j8(n)||(t[n]=uA(t[n],e[n]));return t}function j8(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z8=()=>B8().__FIREBASE_DEFAULTS__,W8=()=>{if(typeof process>"u"||typeof ZC>"u")return;const t=ZC.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},H8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Rp(t[1]);return e&&JSON.parse(e)},gg=()=>{try{return z8()||W8()||H8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cA=t=>{var e,n;return(n=(e=gg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dA=t=>{const e=cA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},hA=()=>{var t;return(t=gg())===null||t===void 0?void 0:t.config},fA=t=>{var e;return(e=gg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ip(JSON.stringify(n)),Ip(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function q8(){var t;const e=(t=gg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function K8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G8(){const t=Zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gA(){return oA.NODE_ADMIN===!0}function Q8(){return!q8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yA(){try{return typeof indexedDB=="object"}catch{return!1}}function Y8(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X8="FirebaseError";class Ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=X8,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zd.prototype.create)}}class Zd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?J8(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ui(i,a,r)}}function J8(t,e){return t.replace(Z8,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Z8=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t){return JSON.parse(t)}function Cn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=vd(Rp(s[0])||""),n=vd(Rp(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},e7=function(t){const e=vA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},t7=function(t){const e=vA(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $l(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function F_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bp(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function _d(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(eI(s)&&eI(o)){if(!_d(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function eI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ac(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function lc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function r7(t,e){const n=new i7(t,e);return n.subscribe.bind(n)}class i7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");s7(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Gy),i.error===void 0&&(i.error=Gy),i.complete===void 0&&(i.complete=Gy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gy(){}function o7(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a7=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,G(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},yg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){return t&&t._delegate?t._delegate:t}class cs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l7{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new gw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c7(e))try{this.getOrInitializeService({instanceIdentifier:xo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xo){return this.instances.has(e)}getOptions(e=xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:u7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xo){return this.component?this.component.multipleInstances?e:xo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u7(t){return t===xo?void 0:t}function c7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new l7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const h7={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},f7=Ne.INFO,p7={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},m7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=p7[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vg{constructor(e){this.name=e,this._logLevel=f7,this._logHandler=m7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const g7=(t,e)=>e.some(n=>t instanceof n);let tI,nI;function y7(){return tI||(tI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v7(){return nI||(nI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _A=new WeakMap,V_=new WeakMap,wA=new WeakMap,Qy=new WeakMap,vw=new WeakMap;function _7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(qs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_A.set(n,t)}).catch(()=>{}),vw.set(e,t),e}function w7(t){if(V_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});V_.set(t,e)}let U_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return V_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function E7(t){U_=t(U_)}function T7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yy(this),e,...n);return wA.set(r,e.sort?e.sort():[e]),qs(r)}:v7().includes(t)?function(...e){return t.apply(Yy(this),e),qs(_A.get(this))}:function(...e){return qs(t.apply(Yy(this),e))}}function S7(t){return typeof t=="function"?T7(t):(t instanceof IDBTransaction&&w7(t),g7(t,y7())?new Proxy(t,U_):t)}function qs(t){if(t instanceof IDBRequest)return _7(t);if(Qy.has(t))return Qy.get(t);const e=S7(t);return e!==t&&(Qy.set(t,e),vw.set(e,t)),e}const Yy=t=>vw.get(t);function C7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=qs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(qs(o.result),l.oldVersion,l.newVersion,qs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const I7=["get","getKey","getAll","getAllKeys","count"],R7=["put","add","delete","clear"],Xy=new Map;function rI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xy.get(e))return Xy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=R7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||I7.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Xy.set(e,s),s}E7(t=>({...t,get:(e,n,r)=>rI(e,n)||t.get(e,n,r),has:(e,n)=>!!rI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(x7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function x7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const j_="@firebase/app",iI="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new vg("@firebase/app"),P7="@firebase/app-compat",k7="@firebase/analytics-compat",A7="@firebase/analytics",N7="@firebase/app-check-compat",O7="@firebase/app-check",D7="@firebase/auth",M7="@firebase/auth-compat",L7="@firebase/database",$7="@firebase/database-compat",F7="@firebase/functions",V7="@firebase/functions-compat",U7="@firebase/installations",j7="@firebase/installations-compat",B7="@firebase/messaging",z7="@firebase/messaging-compat",W7="@firebase/performance",H7="@firebase/performance-compat",q7="@firebase/remote-config",K7="@firebase/remote-config-compat",G7="@firebase/storage",Q7="@firebase/storage-compat",Y7="@firebase/firestore",X7="@firebase/firestore-compat",J7="firebase",Z7="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_="[DEFAULT]",eW={[j_]:"fire-core",[P7]:"fire-core-compat",[A7]:"fire-analytics",[k7]:"fire-analytics-compat",[O7]:"fire-app-check",[N7]:"fire-app-check-compat",[D7]:"fire-auth",[M7]:"fire-auth-compat",[L7]:"fire-rtdb",[$7]:"fire-rtdb-compat",[F7]:"fire-fn",[V7]:"fire-fn-compat",[U7]:"fire-iid",[j7]:"fire-iid-compat",[B7]:"fire-fcm",[z7]:"fire-fcm-compat",[W7]:"fire-perf",[H7]:"fire-perf-compat",[q7]:"fire-rc",[K7]:"fire-rc-compat",[G7]:"fire-gcs",[Q7]:"fire-gcs-compat",[Y7]:"fire-fst",[X7]:"fire-fst-compat","fire-js":"fire-js",[J7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp=new Map,z_=new Map;function tW(t,e){try{t.container.addComponent(e)}catch(n){aa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function no(t){const e=t.name;if(z_.has(e))return aa.debug(`There were multiple attempts to register component ${e}.`),!1;z_.set(e,t);for(const n of xp.values())tW(n,t);return!0}function _g(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ks=new Zd("app","Firebase",nW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=Z7;function EA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:B_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ks.create("bad-app-name",{appName:String(i)});if(n||(n=hA()),!n)throw Ks.create("no-options");const s=xp.get(i);if(s){if(_d(n,s.options)&&_d(r,s.config))return s;throw Ks.create("duplicate-app",{appName:i})}const o=new d7(i);for(const l of z_.values())o.addComponent(l);const a=new rW(n,r,o);return xp.set(i,a),a}function _w(t=B_){const e=xp.get(t);if(!e&&t===B_&&hA())return EA();if(!e)throw Ks.create("no-app",{appName:t});return e}function Ur(t,e,n){var r;let i=(r=eW[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),aa.warn(a.join(" "));return}no(new cs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iW="firebase-heartbeat-database",sW=1,wd="firebase-heartbeat-store";let Jy=null;function TA(){return Jy||(Jy=C7(iW,sW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ks.create("idb-open",{originalErrorMessage:t.message})})),Jy}async function oW(t){try{const n=(await TA()).transaction(wd),r=await n.objectStore(wd).get(SA(t));return await n.done,r}catch(e){if(e instanceof Ui)aa.warn(e.message);else{const n=Ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});aa.warn(n.message)}}}async function sI(t,e){try{const r=(await TA()).transaction(wd,"readwrite");await r.objectStore(wd).put(e,SA(t)),await r.done}catch(n){if(n instanceof Ui)aa.warn(n.message);else{const r=Ks.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});aa.warn(r.message)}}}function SA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW=1024,lW=30*24*60*60*1e3;class uW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=oI();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=lW}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=oI(),{heartbeatsToSend:r,unsentEntries:i}=cW(this._heartbeatsCache.heartbeats),s=Ip(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function oI(){return new Date().toISOString().substring(0,10)}function cW(t,e=aW){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),aI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),aI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class dW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yA()?Y8().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return sI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return sI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function aI(t){return Ip(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(t){no(new cs("platform-logger",e=>new b7(e),"PRIVATE")),no(new cs("heartbeat",e=>new uW(e),"PRIVATE")),Ur(j_,iI,t),Ur(j_,iI,"esm2017"),Ur("fire-js","")}hW("");function ww(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function CA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fW=CA,IA=new Zd("auth","Firebase",CA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=new vg("@firebase/auth");function pW(t,...e){Pp.logLevel<=Ne.WARN&&Pp.warn(`Auth (${mo}): ${t}`,...e)}function Nf(t,...e){Pp.logLevel<=Ne.ERROR&&Pp.error(`Auth (${mo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,...e){throw Ew(t,...e)}function Pi(t,...e){return Ew(t,...e)}function RA(t,e,n){const r=Object.assign(Object.assign({},fW()),{[e]:n});return new Zd("auth","Firebase",r).create(e,{appName:t.name})}function mW(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&qr(t,"argument-error"),RA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ew(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return IA.create(t,...e)}function me(t,e,...n){if(!t)throw Ew(e,...n)}function Yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Nf(e),new Error(e)}function ds(t,e){t||Yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gW(){return lI()==="http:"||lI()==="https:"}function lI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gW()||K8()||"connection"in navigator)?navigator.onLine:!0}function vW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ds(n>e,"Short delay should be less than long delay!"),this.isMobile=yw()||mA()}get(){return yW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t,e){ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _W={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW=new eh(3e4,6e4);function go(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function _s(t,e,n,r,i={}){return xA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=lu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),bA.fetch()(PA(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function xA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_W),e);try{const i=new TW(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Zh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Zh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Zh(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw RA(t,c,u);qr(t,c)}}catch(i){if(i instanceof Ui)throw i;qr(t,"network-request-failed",{message:String(i)})}}async function th(t,e,n,r,i={}){const s=await _s(t,e,n,r,i);return"mfaPendingCredential"in s&&qr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function PA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Tw(t.config,i):`${t.config.apiScheme}://${i}`}function EW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TW{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pi(this.auth,"network-request-failed")),wW.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pi(t,e,r);return i.customData._tokenResponse=n,i}function uI(t){return t!==void 0&&t.enterprise!==void 0}class SW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return EW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function CW(t,e){return _s(t,"GET","/v2/recaptchaConfig",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IW(t,e){return _s(t,"POST","/v1/accounts:delete",e)}async function RW(t,e){return _s(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bW(t,e=!1){const n=yt(t),r=await n.getIdToken(e),i=Sw(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Nc(Zy(i.auth_time)),issuedAtTime:Nc(Zy(i.iat)),expirationTime:Nc(Zy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Zy(t){return Number(t)*1e3}function Sw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Nf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Rp(n);return i?JSON.parse(i):(Nf("Failed to decode base64 JWT payload"),null)}catch(i){return Nf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function xW(t){const e=Sw(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ui&&PW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function PW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nc(this.lastLoginAt),this.creationTime=Nc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Fl(t,RW(n,{idToken:r}));me(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?OW(s.providerUserInfo):[],a=NW(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new kA(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function AW(t){const e=yt(t);await kp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NW(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function OW(t){return t.map(e=>{var{providerId:n}=e,r=ww(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DW(t,e){const n=await xA(t,{},async()=>{const r=lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=PA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function MW(t,e){return _s(t,"POST","/v2/accounts:revokeToken",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xW(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return me(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await DW(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ed;return r&&(me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(me(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ed,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ko{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=ww(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new kA(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Fl(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bW(this,e)}reload(){return AW(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ko(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await kp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Fl(this,IW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,f=(u=n.createdAt)!==null&&u!==void 0?u:void 0,g=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:E,isAnonymous:R,providerData:T,stsTokenManager:C}=n;me(y&&C,e,"internal-error");const b=Ed.fromJSON(this.name,C);me(typeof y=="string",e,"internal-error"),Cs(d,e.name),Cs(h,e.name),me(typeof E=="boolean",e,"internal-error"),me(typeof R=="boolean",e,"internal-error"),Cs(p,e.name),Cs(m,e.name),Cs(v,e.name),Cs(_,e.name),Cs(f,e.name),Cs(g,e.name);const k=new Ko({uid:y,auth:e,email:h,emailVerified:E,displayName:d,isAnonymous:R,photoURL:m,phoneNumber:p,tenantId:v,stsTokenManager:b,createdAt:f,lastLoginAt:g});return T&&Array.isArray(T)&&(k.providerData=T.map(x=>Object.assign({},x))),_&&(k._redirectEventId=_),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ed;i.updateFromServerResponse(n);const s=new Ko({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await kp(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=new Map;function Xi(t){ds(t instanceof Function,"Expected a class definition");let e=cI.get(t);return e?(ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}AA.type="NONE";const dI=AA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t,e,n){return`firebase:${t}:${e}:${n}`}class gl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Of(this.userKey,i.apiKey,s),this.fullPersistenceKey=Of("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ko._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new gl(Xi(dI),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Xi(dI);const o=Of(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Ko._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new gl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new gl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LA(e))return"Blackberry";if($A(e))return"Webos";if(Cw(e))return"Safari";if((e.includes("chrome/")||OA(e))&&!e.includes("edge/"))return"Chrome";if(MA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function NA(t=Zt()){return/firefox\//i.test(t)}function Cw(t=Zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OA(t=Zt()){return/crios\//i.test(t)}function DA(t=Zt()){return/iemobile/i.test(t)}function MA(t=Zt()){return/android/i.test(t)}function LA(t=Zt()){return/blackberry/i.test(t)}function $A(t=Zt()){return/webos/i.test(t)}function wg(t=Zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function LW(t=Zt()){var e;return wg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $W(){return G8()&&document.documentMode===10}function FA(t=Zt()){return wg(t)||MA(t)||$A(t)||LA(t)||/windows phone/i.test(t)||DA(t)}function FW(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t,e=[]){let n;switch(t){case"Browser":n=hI(Zt());break;case"Worker":n=`${hI(Zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UW(t,e={}){return _s(t,"GET","/v2/passwordPolicy",go(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jW=6;class BW{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:jW,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zW{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fI(this),this.idTokenSubscription=new fI(this),this.beforeStateQueue=new VW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await gl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await kp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?yt(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UW(this),n=new BW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Zd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await MW(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xi(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[Xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&pW(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function yo(t){return yt(t)}class fI{constructor(e){this.auth=e,this.observer=null,this.addObserver=r7(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WW(t){Eg=t}function UA(t){return Eg.loadJS(t)}function HW(){return Eg.recaptchaEnterpriseScript}function qW(){return Eg.gapiScript}function KW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const GW="recaptcha-enterprise",QW="NO_RECAPTCHA";class YW{constructor(e){this.type=GW,this.auth=yo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{CW(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new SW(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;uI(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(QW)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&uI(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=HW();l.length!==0&&(l+=a),UA(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function pI(t,e,n,r=!1){const i=new YW(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function H_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await pI(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await pI(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XW(t,e){const n=_g(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(_d(s,e??{}))return i;qr(i,"already-initialized")}return n.initialize({options:e})}function JW(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ZW(t,e,n){const r=yo(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=jA(e),{host:o,port:a}=eH(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||tH()}function jA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eH(t){const e=jA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:mI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:mI(o)}}}function mI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function tH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,n){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}async function nH(t,e){return _s(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rH(t,e){return th(t,"POST","/v1/accounts:signInWithPassword",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iH(t,e){return th(t,"POST","/v1/accounts:signInWithEmailLink",go(t,e))}async function sH(t,e){return th(t,"POST","/v1/accounts:signInWithEmailLink",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends Iw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Td(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Td(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return H_(e,n,"signInWithPassword",rH);case"emailLink":return iH(e,{email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return H_(e,r,"signUpPassword",nH);case"emailLink":return sH(e,{idToken:n,email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(t,e){return th(t,"POST","/v1/accounts:signInWithIdp",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH="http://localhost";class la extends Iw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=ww(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new la(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return yl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,yl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,yl(e,n)}buildRequest(){const e={requestUri:oH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=lu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lH(t){const e=ac(lc(t)).link,n=e?ac(lc(e)).deep_link_id:null,r=ac(lc(t)).deep_link_id;return(r?ac(lc(r)).link:null)||r||n||e||t}class Rw{constructor(e){var n,r,i,s,o,a;const l=ac(lc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=aH((i=l.mode)!==null&&i!==void 0?i:null);me(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=lH(e);try{return new Rw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(){this.providerId=uu.PROVIDER_ID}static credential(e,n){return Td._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Rw.parseLink(n);return me(r,"argument-error"),Td._fromEmailAndCode(e,r.code,r.tenantId)}}uu.PROVIDER_ID="password";uu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh extends bw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends nh{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends nh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return la._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _i.credential(n,r)}catch{return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com";_i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends nh{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends nh{constructor(){super("twitter.com")}static credential(e,n){return la._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ns.credential(n,r)}catch{return null}}}Ns.TWITTER_SIGN_IN_METHOD="twitter.com";Ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uH(t,e){return th(t,"POST","/v1/accounts:signUp",go(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ko._fromIdTokenResponse(e,r,i),o=gI(r);return new ua({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=gI(r);return new ua({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function gI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap extends Ui{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Ap.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Ap(e,n,r,i)}}function BA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ap._fromErrorAndOperation(t,s,e,r):s})}async function cH(t,e,n=!1){const r=await Fl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ua._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dH(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Fl(t,BA(r,i,e,t),n);me(s.idToken,r,"internal-error");const o=Sw(s.idToken);me(o,r,"internal-error");const{sub:a}=o;return me(t.uid===a,r,"user-mismatch"),ua._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&qr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zA(t,e,n=!1){const r="signIn",i=await BA(t,r,e),s=await ua._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function hH(t,e){return zA(yo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WA(t){const e=yo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fH(t,e,n){const r=yo(t),o=await H_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uH).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&WA(t),l}),a=await ua._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function pH(t,e,n){return hH(yt(t),uu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&WA(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mH(t,e){return _s(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gH(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=yt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Fl(r,mH(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function yH(t,e,n,r){return yt(t).onIdTokenChanged(e,n,r)}function vH(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function _H(t,e,n,r){return yt(t).onAuthStateChanged(e,n,r)}function wH(t){return yt(t).signOut()}const Np="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Np,"1"),this.storage.removeItem(Np),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EH(){const t=Zt();return Cw(t)||wg(t)}const TH=1e3,SH=10;class qA extends HA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=EH()&&FW(),this.fallbackToPolling=FA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);$W()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,SH):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},TH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qA.type="LOCAL";const CH=qA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA extends HA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KA.type="SESSION";const GA=KA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Tg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await IH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=xw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return window}function bH(t){ki().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function xH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function kH(){return QA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="firebaseLocalStorageDb",AH=1,Op="firebaseLocalStorage",XA="fbase_key";class rh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Sg(t,e){return t.transaction([Op],e?"readwrite":"readonly").objectStore(Op)}function NH(){const t=indexedDB.deleteDatabase(YA);return new rh(t).toPromise()}function q_(){const t=indexedDB.open(YA,AH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Op,{keyPath:XA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Op)?e(r):(r.close(),await NH(),e(await q_()))})})}async function yI(t,e,n){const r=Sg(t,!0).put({[XA]:e,value:n});return new rh(r).toPromise()}async function OH(t,e){const n=Sg(t,!1).get(e),r=await new rh(n).toPromise();return r===void 0?null:r.value}function vI(t,e){const n=Sg(t,!0).delete(e);return new rh(n).toPromise()}const DH=800,MH=3;class JA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await q_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>MH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return QA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tg._getInstance(kH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await xH(),!this.activeServiceWorker)return;this.sender=new RH(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await q_();return await yI(e,Np,"1"),await vI(e,Np),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>OH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Sg(i,!1).getAll();return new rh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JA.type="LOCAL";const LH=JA;new eh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(t,e){return e?Xi(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw extends Iw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $H(t){return zA(t.auth,new Pw(t),t.bypassAuthState)}function FH(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),dH(n,new Pw(t),t.bypassAuthState)}async function VH(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),cH(n,new Pw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $H;case"linkViaPopup":case"linkViaRedirect":return VH;case"reauthViaPopup":case"reauthViaRedirect":return FH;default:qr(this.auth,"internal-error")}}resolve(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UH=new eh(2e3,1e4);async function t2(t,e,n){const r=yo(t);mW(t,e,bw);const i=ZA(r,n);return new Fo(r,"signInViaPopup",e,i).executeNotNull()}class Fo extends e2{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Fo.currentPopupAction&&Fo.currentPopupAction.cancel(),Fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){ds(this.filter.length===1,"Popup operations only handle one event");const e=xw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UH.get())};e()}}Fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jH="pendingRedirect",Df=new Map;class BH extends e2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Df.get(this.auth._key());if(!e){try{const r=await zH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Df.set(this.auth._key(),e)}return this.bypassAuthState||Df.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zH(t,e){const n=qH(e),r=HH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function WH(t,e){Df.set(t._key(),e)}function HH(t){return Xi(t._redirectPersistence)}function qH(t){return Of(jH,t.config.apiKey,t.name)}async function KH(t,e,n=!1){const r=yo(t),i=ZA(r,e),o=await new BH(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GH=10*60*1e3;class QH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!n2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GH&&this.cachedEventUids.clear(),this.cachedEventUids.has(_I(e))}saveEventToCache(e){this.cachedEventUids.add(_I(e)),this.lastProcessedEventTime=Date.now()}}function _I(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function n2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function YH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XH(t,e={}){return _s(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZH=/^https?/;async function eq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await XH(t);for(const n of e)try{if(tq(n))return}catch{}qr(t,"unauthorized-domain")}function tq(t){const e=W_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!ZH.test(n))return!1;if(JH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nq=new eh(3e4,6e4);function wI(){const t=ki().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rq(t){return new Promise((e,n)=>{var r,i,s;function o(){wI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wI(),n(Pi(t,"network-request-failed"))},timeout:nq.get()})}if(!((i=(r=ki().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ki().gapi)===null||s===void 0)&&s.load)o();else{const a=KW("iframefcb");return ki()[a]=()=>{gapi.load?o():n(Pi(t,"network-request-failed"))},UA(`${qW()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Mf=null,e})}let Mf=null;function iq(t){return Mf=Mf||rq(t),Mf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq=new eh(5e3,15e3),oq="__/auth/iframe",aq="emulator/auth/iframe",lq={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cq(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Tw(e,aq):`https://${t.config.authDomain}/${oq}`,r={apiKey:e.apiKey,appName:t.name,v:mo},i=uq.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${lu(r).slice(1)}`}async function dq(t){const e=await iq(t),n=ki().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:cq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lq,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Pi(t,"network-request-failed"),a=ki().setTimeout(()=>{s(o)},sq.get());function l(){ki().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fq=500,pq=600,mq="_blank",gq="http://localhost";class EI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yq(t,e,n,r=fq,i=pq){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},hq),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Zt().toLowerCase();n&&(a=OA(u)?mq:n),NA(u)&&(e=e||gq,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(LW(u)&&a!=="_self")return vq(e||"",a),new EI(null);const d=window.open(e||"",a,c);me(d,t,"popup-blocked");try{d.focus()}catch{}return new EI(d)}function vq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q="__/auth/handler",wq="emulator/auth/handler",Eq=encodeURIComponent("fac");async function TI(t,e,n,r,i,s){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:mo,eventId:i};if(e instanceof bw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",F_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof nh){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${Eq}=${encodeURIComponent(l)}`:"";return`${Tq(t)}?${lu(a).slice(1)}${u}`}function Tq({config:t}){return t.emulator?Tw(t,wq):`https://${t.authDomain}/${_q}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="webStorageSupport";class Sq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GA,this._completeRedirectFn=KH,this._overrideRedirectResult=WH}async _openPopup(e,n,r,i){var s;ds((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await TI(e,n,r,W_(),i);return yq(e,o,xw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await TI(e,n,r,W_(),i);return bH(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ds(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await dq(e),r=new QH(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ev,{type:ev},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ev];o!==void 0&&n(!!o),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FA()||Cw()||wg()}}const Cq=Sq;var SI="@firebase/auth",CI="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rq(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bq(t){no(new cs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VA(t)},u=new zW(r,i,s,l);return JW(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),no(new cs("auth-internal",e=>{const n=yo(e.getProvider("auth").getImmediate());return(r=>new Iq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(SI,CI,Rq(t)),Ur(SI,CI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xq=5*60,Pq=fA("authIdTokenMaxAge")||xq;let II=null;const kq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Pq)return;const i=n==null?void 0:n.token;II!==i&&(II=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Aq(t=_w()){const e=_g(t,"auth");if(e.isInitialized())return e.getImmediate();const n=XW(t,{popupRedirectResolver:Cq,persistence:[LH,CH,GA]}),r=fA("authTokenSyncURL");if(r){const s=kq(r);vH(n,s,()=>s(n.currentUser)),yH(n,o=>s(o))}const i=cA("auth");return i&&ZW(n,`http://${i}`),n}function Nq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}WW({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Pi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Nq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bq("Browser");var Oq="firebase",Dq="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur(Oq,Dq,"app");var Mq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q,kw=kw||{},ye=Mq||self;function Cg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ih(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Lq(t){return Object.prototype.hasOwnProperty.call(t,tv)&&t[tv]||(t[tv]=++$q)}var tv="closure_uid_"+(1e9*Math.random()>>>0),$q=0;function Fq(t,e,n){return t.call.apply(t.bind,arguments)}function Vq(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function jn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?jn=Fq:jn=Vq,jn.apply(null,arguments)}function ef(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function vn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function vo(){this.s=this.s,this.o=this.o}var Uq=0;vo.prototype.s=!1;vo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Uq!=0)&&Lq(this)};vo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const r2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Aw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function RI(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Cg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Bn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Bn.prototype.h=function(){this.defaultPrevented=!0};var jq=function(){if(!ye.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ye.addEventListener("test",n,e),ye.removeEventListener("test",n,e)}catch{}return t}();function Sd(t){return/^[\s\xa0]*$/.test(t)}function Ig(){var t=ye.navigator;return t&&(t=t.userAgent)?t:""}function wi(t){return Ig().indexOf(t)!=-1}function Nw(t){return Nw[" "](t),t}Nw[" "]=function(){};function Bq(t,e){var n=DK;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var zq=wi("Opera"),Vl=wi("Trident")||wi("MSIE"),i2=wi("Edge"),K_=i2||Vl,s2=wi("Gecko")&&!(Ig().toLowerCase().indexOf("webkit")!=-1&&!wi("Edge"))&&!(wi("Trident")||wi("MSIE"))&&!wi("Edge"),Wq=Ig().toLowerCase().indexOf("webkit")!=-1&&!wi("Edge");function o2(){var t=ye.document;return t?t.documentMode:void 0}var G_;e:{var nv="",rv=function(){var t=Ig();if(s2)return/rv:([^\);]+)(\)|;)/.exec(t);if(i2)return/Edge\/([\d\.]+)/.exec(t);if(Vl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Wq)return/WebKit\/(\S+)/.exec(t);if(zq)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(rv&&(nv=rv?rv[1]:""),Vl){var iv=o2();if(iv!=null&&iv>parseFloat(nv)){G_=String(iv);break e}}G_=nv}var Q_;if(ye.document&&Vl){var bI=o2();Q_=bI||parseInt(G_,10)||void 0}else Q_=void 0;var Hq=Q_;function Cd(t,e){if(Bn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(s2){e:{try{Nw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:qq[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Cd.$.h.call(this)}}vn(Cd,Bn);var qq={2:"touch",3:"pen",4:"mouse"};Cd.prototype.h=function(){Cd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var sh="closure_listenable_"+(1e6*Math.random()|0),Kq=0;function Gq(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++Kq,this.fa=this.ia=!1}function Rg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ow(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Qq(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function a2(t){const e={};for(const n in t)e[n]=t[n];return e}const xI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function l2(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<xI.length;s++)n=xI[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bg(t){this.src=t,this.g={},this.h=0}bg.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=X_(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Gq(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Y_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=r2(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Rg(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function X_(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Dw="closure_lm_"+(1e6*Math.random()|0),sv={};function u2(t,e,n,r,i){if(r&&r.once)return d2(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)u2(t,e[s],n,r,i);return null}return n=$w(n),t&&t[sh]?t.O(e,n,ih(r)?!!r.capture:!!r,i):c2(t,e,n,!1,r,i)}function c2(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=ih(i)?!!i.capture:!!i,a=Lw(t);if(a||(t[Dw]=a=new bg(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=Yq(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)jq||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(f2(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Yq(){function t(n){return e.call(t.src,t.listener,n)}const e=Xq;return t}function d2(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)d2(t,e[s],n,r,i);return null}return n=$w(n),t&&t[sh]?t.P(e,n,ih(r)?!!r.capture:!!r,i):c2(t,e,n,!0,r,i)}function h2(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)h2(t,e[s],n,r,i);else r=ih(r)?!!r.capture:!!r,n=$w(n),t&&t[sh]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=X_(s,n,r,i),-1<n&&(Rg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Lw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=X_(e,n,r,i)),(n=-1<t?e[t]:null)&&Mw(n))}function Mw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[sh])Y_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(f2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Lw(e))?(Y_(n,t),n.h==0&&(n.src=null,e[Dw]=null)):Rg(t)}}}function f2(t){return t in sv?sv[t]:sv[t]="on"+t}function Xq(t,e){if(t.fa)t=!0;else{e=new Cd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Mw(t),t=n.call(r,e)}return t}function Lw(t){return t=t[Dw],t instanceof bg?t:null}var ov="__closure_events_fn_"+(1e9*Math.random()>>>0);function $w(t){return typeof t=="function"?t:(t[ov]||(t[ov]=function(e){return t.handleEvent(e)}),t[ov])}function gn(){vo.call(this),this.i=new bg(this),this.S=this,this.J=null}vn(gn,vo);gn.prototype[sh]=!0;gn.prototype.removeEventListener=function(t,e,n,r){h2(this,t,e,n,r)};function bn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Bn(e,t);else if(e instanceof Bn)e.target=e.target||t;else{var i=e;e=new Bn(r,t),l2(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=tf(o,r,!0,e)&&i}if(o=e.g=t,i=tf(o,r,!0,e)&&i,i=tf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=tf(o,r,!1,e)&&i}gn.prototype.N=function(){if(gn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Rg(n[r]);delete t.g[e],t.h--}}this.J=null};gn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};gn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function tf(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Y_(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Fw=ye.JSON.stringify;class Jq{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Zq(){var t=Vw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class eK{constructor(){this.h=this.g=null}add(e,n){const r=p2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var p2=new Jq(()=>new tK,t=>t.reset());class tK{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function nK(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function rK(t){ye.setTimeout(()=>{throw t},0)}let Id,Rd=!1,Vw=new eK,m2=()=>{const t=ye.Promise.resolve(void 0);Id=()=>{t.then(iK)}};var iK=()=>{for(var t;t=Zq();){try{t.h.call(t.g)}catch(n){rK(n)}var e=p2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Rd=!1};function xg(t,e){gn.call(this),this.h=t||1,this.g=e||ye,this.j=jn(this.qb,this),this.l=Date.now()}vn(xg,gn);Q=xg.prototype;Q.ga=!1;Q.T=null;Q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),bn(this,"tick"),this.ga&&(Uw(this),this.start()))}};Q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Uw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Q.N=function(){xg.$.N.call(this),Uw(this),delete this.g};function jw(t,e,n){if(typeof t=="function")n&&(t=jn(t,n));else if(t&&typeof t.handleEvent=="function")t=jn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ye.setTimeout(t,e||0)}function g2(t){t.g=jw(()=>{t.g=null,t.i&&(t.i=!1,g2(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class sK extends vo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:g2(this)}N(){super.N(),this.g&&(ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bd(t){vo.call(this),this.h=t,this.g={}}vn(bd,vo);var PI=[];function y2(t,e,n,r){Array.isArray(n)||(n&&(PI[0]=n.toString()),n=PI);for(var i=0;i<n.length;i++){var s=u2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function v2(t){Ow(t.g,function(e,n){this.g.hasOwnProperty(n)&&Mw(e)},t),t.g={}}bd.prototype.N=function(){bd.$.N.call(this),v2(this)};bd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Pg(){this.g=!0}Pg.prototype.Ea=function(){this.g=!1};function oK(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function aK(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function sl(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+uK(t,n)+(r?" "+r:"")})}function lK(t,e){t.info(function(){return"TIMEOUT: "+e})}Pg.prototype.info=function(){};function uK(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Fw(n)}catch{return e}}var Ca={},kI=null;function kg(){return kI=kI||new gn}Ca.Ta="serverreachability";function _2(t){Bn.call(this,Ca.Ta,t)}vn(_2,Bn);function xd(t){const e=kg();bn(e,new _2(e))}Ca.STAT_EVENT="statevent";function w2(t,e){Bn.call(this,Ca.STAT_EVENT,t),this.stat=e}vn(w2,Bn);function Gn(t){const e=kg();bn(e,new w2(e,t))}Ca.Ua="timingevent";function E2(t,e){Bn.call(this,Ca.Ua,t),this.size=e}vn(E2,Bn);function oh(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ye.setTimeout(function(){t()},e)}var Ag={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},T2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Bw(){}Bw.prototype.h=null;function AI(t){return t.h||(t.h=t.i())}function S2(){}var ah={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function zw(){Bn.call(this,"d")}vn(zw,Bn);function Ww(){Bn.call(this,"c")}vn(Ww,Bn);var J_;function Ng(){}vn(Ng,Bw);Ng.prototype.g=function(){return new XMLHttpRequest};Ng.prototype.i=function(){return{}};J_=new Ng;function lh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new bd(this),this.P=cK,t=K_?125:void 0,this.V=new xg(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new C2}function C2(){this.i=null,this.g="",this.h=!1}var cK=45e3,I2={},Z_={};Q=lh.prototype;Q.setTimeout=function(t){this.P=t};function e0(t,e,n){t.L=1,t.A=Dg(hs(e)),t.u=n,t.S=!0,R2(t,null)}function R2(t,e){t.G=Date.now(),uh(t),t.B=hs(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),D2(n.i,"t",r),t.o=0,n=t.l.J,t.h=new C2,t.g=tN(t.l,n?e:null,!t.u),0<t.O&&(t.M=new sK(jn(t.Pa,t,t.g),t.O)),y2(t.U,t.g,"readystatechange",t.nb),e=t.I?a2(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),xd(),oK(t.j,t.v,t.B,t.m,t.W,t.u)}Q.nb=function(t){t=t.target;const e=this.M;e&&Ei(t)==3?e.l():this.Pa(t)};Q.Pa=function(t){try{if(t==this.g)e:{const c=Ei(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||K_||this.g&&(this.h.h||this.g.ja()||MI(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?xd(3):xd(2)),Og(this);var n=this.g.da();this.ca=n;t:if(b2(this)){var r=MI(this.g);t="";var i=r.length,s=Ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vo(this),Oc(this);var o="";break t}this.h.i=new ye.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,aK(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Sd(a)){var u=a;break t}}u=null}if(n=u)sl(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,t0(this,n);else{this.i=!1,this.s=3,Gn(12),Vo(this),Oc(this);break e}}this.S?(x2(this,c,o),K_&&this.i&&c==3&&(y2(this.U,this.V,"tick",this.mb),this.V.start())):(sl(this.j,this.m,o,null),t0(this,o)),c==4&&Vo(this),this.i&&!this.J&&(c==4?X2(this.l,this):(this.i=!1,uh(this)))}else AK(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Gn(12)):(this.s=0,Gn(13)),Vo(this),Oc(this)}}}catch{}finally{}};function b2(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function x2(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=dK(t,n),i==Z_){e==4&&(t.s=4,Gn(14),r=!1),sl(t.j,t.m,null,"[Incomplete Response]");break}else if(i==I2){t.s=4,Gn(15),sl(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else sl(t.j,t.m,i,null),t0(t,i);b2(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Gn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yw(e),e.M=!0,Gn(11))):(sl(t.j,t.m,n,"[Invalid Chunked Response]"),Vo(t),Oc(t))}Q.mb=function(){if(this.g){var t=Ei(this.g),e=this.g.ja();this.o<e.length&&(Og(this),x2(this,t,e),this.i&&t!=4&&uh(this))}};function dK(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Z_:(n=Number(e.substring(n,r)),isNaN(n)?I2:(r+=1,r+n>e.length?Z_:(e=e.slice(r,r+n),t.o=r+n,e)))}Q.cancel=function(){this.J=!0,Vo(this)};function uh(t){t.Y=Date.now()+t.P,P2(t,t.P)}function P2(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=oh(jn(t.lb,t),e)}function Og(t){t.C&&(ye.clearTimeout(t.C),t.C=null)}Q.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(lK(this.j,this.B),this.L!=2&&(xd(),Gn(17)),Vo(this),this.s=2,Oc(this)):P2(this,this.Y-t)};function Oc(t){t.l.H==0||t.J||X2(t.l,t)}function Vo(t){Og(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Uw(t.V),v2(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function t0(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||n0(n.i,t))){if(!t.K&&n0(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Lp(n),Fg(n);else break e;Qw(n),Gn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=oh(jn(n.ib,n),6e3));if(1>=$2(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Uo(n,11)}else if((t.K||n.g==t)&&Lp(n),!Sd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Hw(s,s.h),s.h=null))}if(r.F){const v=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,pt(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=eN(r,r.J?r.pa:null,r.Y),o.K){F2(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Og(a),uh(a)),r.g=o}else Q2(r);0<n.j.length&&Vg(n)}else u[0]!="stop"&&u[0]!="close"||Uo(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Uo(n,7):Gw(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}xd(4)}catch{}}function hK(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Cg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function fK(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Cg(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function k2(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Cg(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=fK(t),r=hK(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var A2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pK(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Go(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Go){this.h=t.h,Dp(this,t.j),this.s=t.s,this.g=t.g,Mp(this,t.m),this.l=t.l;var e=t.i,n=new Pd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),NI(this,n),this.o=t.o}else t&&(e=String(t).match(A2))?(this.h=!1,Dp(this,e[1]||"",!0),this.s=uc(e[2]||""),this.g=uc(e[3]||"",!0),Mp(this,e[4]),this.l=uc(e[5]||"",!0),NI(this,e[6]||"",!0),this.o=uc(e[7]||"")):(this.h=!1,this.i=new Pd(null,this.h))}Go.prototype.toString=function(){var t=[],e=this.j;e&&t.push(cc(e,OI,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(cc(e,OI,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(cc(n,n.charAt(0)=="/"?yK:gK,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",cc(n,_K)),t.join("")};function hs(t){return new Go(t)}function Dp(t,e,n){t.j=n?uc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Mp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function NI(t,e,n){e instanceof Pd?(t.i=e,wK(t.i,t.h)):(n||(e=cc(e,vK)),t.i=new Pd(e,t.h))}function pt(t,e,n){t.i.set(e,n)}function Dg(t){return pt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function uc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function cc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,mK),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function mK(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var OI=/[#\/\?@]/g,gK=/[#\?:]/g,yK=/[#\?]/g,vK=/[#\?@]/g,_K=/#/g;function Pd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function _o(t){t.g||(t.g=new Map,t.h=0,t.i&&pK(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Q=Pd.prototype;Q.add=function(t,e){_o(this),this.i=null,t=cu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function N2(t,e){_o(t),e=cu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function O2(t,e){return _o(t),e=cu(t,e),t.g.has(e)}Q.forEach=function(t,e){_o(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Q.ta=function(){_o(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Q.Z=function(t){_o(this);let e=[];if(typeof t=="string")O2(this,t)&&(e=e.concat(this.g.get(cu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Q.set=function(t,e){return _o(this),this.i=null,t=cu(this,t),O2(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function D2(t,e,n){N2(t,e),0<n.length&&(t.i=null,t.g.set(cu(t,e),Aw(n)),t.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function cu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function wK(t,e){e&&!t.j&&(_o(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(N2(this,r),D2(this,i,n))},t)),t.j=e}var EK=class{constructor(t,e){this.g=t,this.map=e}};function M2(t){this.l=t||TK,ye.PerformanceNavigationTiming?(t=ye.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ye.g&&ye.g.Ka&&ye.g.Ka()&&ye.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var TK=10;function L2(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function $2(t){return t.h?1:t.g?t.g.size:0}function n0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Hw(t,e){t.g?t.g.add(e):t.h=e}function F2(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}M2.prototype.cancel=function(){if(this.i=V2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function V2(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Aw(t.i)}var SK=class{stringify(t){return ye.JSON.stringify(t,void 0)}parse(t){return ye.JSON.parse(t,void 0)}};function CK(){this.g=new SK}function IK(t,e,n){const r=n||"";try{k2(t,function(i,s){let o=i;ih(i)&&(o=Fw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function RK(t,e){const n=new Pg;if(ye.Image){const r=new Image;r.onload=ef(nf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ef(nf,n,r,"TestLoadImage: error",!1,e),r.onabort=ef(nf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ef(nf,n,r,"TestLoadImage: timeout",!1,e),ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function nf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Mg(t){this.l=t.ec||null,this.j=t.ob||!1}vn(Mg,Bw);Mg.prototype.g=function(){return new Lg(this.l,this.j)};Mg.prototype.i=function(t){return function(){return t}}({});function Lg(t,e){gn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=qw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}vn(Lg,gn);var qw=0;Q=Lg.prototype;Q.open=function(t,e){if(this.readyState!=qw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,kd(this)};Q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ye).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ch(this)),this.readyState=qw};Q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,kd(this)),this.g&&(this.readyState=3,kd(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ye.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;U2(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function U2(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ch(this):kd(this),this.readyState==3&&U2(this)}};Q.Za=function(t){this.g&&(this.response=this.responseText=t,ch(this))};Q.Ya=function(t){this.g&&(this.response=t,ch(this))};Q.ka=function(){this.g&&ch(this)};function ch(t){t.readyState=4,t.l=null,t.j=null,t.A=null,kd(t)}Q.setRequestHeader=function(t,e){this.v.append(t,e)};Q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function kd(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Lg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var bK=ye.JSON.parse;function jt(t){gn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=j2,this.L=this.M=!1}vn(jt,gn);var j2="",xK=/^https?$/i,PK=["POST","PUT"];Q=jt.prototype;Q.Oa=function(t){this.M=t};Q.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():J_.g(),this.C=this.u?AI(this.u):AI(J_),this.g.onreadystatechange=jn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){DI(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ye.FormData&&t instanceof ye.FormData,!(0<=r2(PK,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{W2(this),0<this.B&&((this.L=kK(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jn(this.ua,this)):this.A=jw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){DI(this,s)}};function kK(t){return Vl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Q.ua=function(){typeof kw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bn(this,"timeout"),this.abort(8))};function DI(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,B2(t),$g(t)}function B2(t){t.F||(t.F=!0,bn(t,"complete"),bn(t,"error"))}Q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,bn(this,"complete"),bn(this,"abort"),$g(this))};Q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$g(this,!0)),jt.$.N.call(this)};Q.La=function(){this.s||(this.G||this.v||this.l?z2(this):this.kb())};Q.kb=function(){z2(this)};function z2(t){if(t.h&&typeof kw<"u"&&(!t.C[1]||Ei(t)!=4||t.da()!=2)){if(t.v&&Ei(t)==4)jw(t.La,0,t);else if(bn(t,"readystatechange"),Ei(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(A2)[1]||null;!i&&ye.self&&ye.self.location&&(i=ye.self.location.protocol.slice(0,-1)),r=!xK.test(i?i.toLowerCase():"")}n=r}if(n)bn(t,"complete"),bn(t,"success");else{t.m=6;try{var s=2<Ei(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",B2(t)}}finally{$g(t)}}}}function $g(t,e){if(t.g){W2(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||bn(t,"ready");try{n.onreadystatechange=r}catch{}}}function W2(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ye.clearTimeout(t.A),t.A=null)}Q.isActive=function(){return!!this.g};function Ei(t){return t.g?t.g.readyState:0}Q.da=function(){try{return 2<Ei(this)?this.g.status:-1}catch{return-1}};Q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),bK(e)}};function MI(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case j2:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function AK(t){const e={};t=(t.g&&2<=Ei(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Sd(t[r]))continue;var n=nK(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}Qq(e,function(r){return r.join(", ")})}Q.Ia=function(){return this.m};Q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function H2(t){let e="";return Ow(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Kw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=H2(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):pt(t,e,n))}function Wu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function q2(t){this.Ga=0,this.j=[],this.l=new Pg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wu("baseRetryDelayMs",5e3,t),this.hb=Wu("retryDelaySeedMs",1e4,t),this.eb=Wu("forwardChannelMaxRetries",2,t),this.xa=Wu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new M2(t&&t.concurrentRequestLimit),this.Ja=new CK,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Q=q2.prototype;Q.ra=8;Q.H=1;function Gw(t){if(K2(t),t.H==3){var e=t.W++,n=hs(t.I);if(pt(n,"SID",t.K),pt(n,"RID",e),pt(n,"TYPE","terminate"),dh(t,n),e=new lh(t,t.l,e),e.L=2,e.A=Dg(hs(n)),n=!1,ye.navigator&&ye.navigator.sendBeacon)try{n=ye.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ye.Image&&(new Image().src=e.A,n=!0),n||(e.g=tN(e.l,null),e.g.ha(e.A)),e.G=Date.now(),uh(e)}Z2(t)}function Fg(t){t.g&&(Yw(t),t.g.cancel(),t.g=null)}function K2(t){Fg(t),t.u&&(ye.clearTimeout(t.u),t.u=null),Lp(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ye.clearTimeout(t.m),t.m=null)}function Vg(t){if(!L2(t.i)&&!t.m){t.m=!0;var e=t.Na;Id||m2(),Rd||(Id(),Rd=!0),Vw.add(e,t),t.C=0}}function NK(t,e){return $2(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=oh(jn(t.Na,t,e),J2(t,t.C)),t.C++,!0)}Q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new lh(this,this.l,t);let s=this.s;if(this.U&&(s?(s=a2(s),l2(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=G2(this,i,e),n=hs(this.I),pt(n,"RID",t),pt(n,"CVER",22),this.F&&pt(n,"X-HTTP-Session-Id",this.F),dh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(H2(s)))+"&"+e:this.o&&Kw(n,this.o,s)),Hw(this.i,i),this.bb&&pt(n,"TYPE","init"),this.P?(pt(n,"$req",e),pt(n,"SID","null"),i.aa=!0,e0(i,n,null)):e0(i,n,e),this.H=2}}else this.H==3&&(t?LI(this,t):this.j.length==0||L2(this.i)||LI(this))};function LI(t,e){var n;e?n=e.m:n=t.W++;const r=hs(t.I);pt(r,"SID",t.K),pt(r,"RID",n),pt(r,"AID",t.V),dh(t,r),t.o&&t.s&&Kw(r,t.o,t.s),n=new lh(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=G2(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Hw(t.i,n),e0(n,r,e)}function dh(t,e){t.na&&Ow(t.na,function(n,r){pt(e,r,n)}),t.h&&k2({},function(n,r){pt(e,r,n)})}function G2(t,e,n){n=Math.min(t.j.length,n);var r=t.h?jn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{IK(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Q2(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Id||m2(),Rd||(Id(),Rd=!0),Vw.add(e,t),t.A=0}}function Qw(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=oh(jn(t.Ma,t),J2(t,t.A)),t.A++,!0)}Q.Ma=function(){if(this.u=null,Y2(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=oh(jn(this.jb,this),t)}};Q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gn(10),Fg(this),Y2(this))};function Yw(t){t.B!=null&&(ye.clearTimeout(t.B),t.B=null)}function Y2(t){t.g=new lh(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=hs(t.wa);pt(e,"RID","rpc"),pt(e,"SID",t.K),pt(e,"AID",t.V),pt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&pt(e,"TO",t.qa),pt(e,"TYPE","xmlhttp"),dh(t,e),t.o&&t.s&&Kw(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Dg(hs(e)),n.u=null,n.S=!0,R2(n,t)}Q.ib=function(){this.v!=null&&(this.v=null,Fg(this),Qw(this),Gn(19))};function Lp(t){t.v!=null&&(ye.clearTimeout(t.v),t.v=null)}function X2(t,e){var n=null;if(t.g==e){Lp(t),Yw(t),t.g=null;var r=2}else if(n0(t.i,e))n=e.F,F2(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=kg(),bn(r,new E2(r,n)),Vg(t)}else Q2(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&NK(t,e)||r==2&&Qw(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Uo(t,5);break;case 4:Uo(t,10);break;case 3:Uo(t,6);break;default:Uo(t,2)}}}function J2(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Uo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=jn(t.pb,t);n||(n=new Go("//www.google.com/images/cleardot.gif"),ye.location&&ye.location.protocol=="http"||Dp(n,"https"),Dg(n)),RK(n.toString(),r)}else Gn(2);t.H=0,t.h&&t.h.za(e),Z2(t),K2(t)}Q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Gn(2)):(this.l.info("Failed to ping google.com"),Gn(1))};function Z2(t){if(t.H=0,t.ma=[],t.h){const e=V2(t.i);(e.length!=0||t.j.length!=0)&&(RI(t.ma,e),RI(t.ma,t.j),t.i.i.length=0,Aw(t.j),t.j.length=0),t.h.ya()}}function eN(t,e,n){var r=n instanceof Go?hs(n):new Go(n);if(r.g!="")e&&(r.g=e+"."+r.g),Mp(r,r.m);else{var i=ye.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Go(null);r&&Dp(s,r),e&&(s.g=e),i&&Mp(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&pt(r,n,e),pt(r,"VER",t.ra),dh(t,r),r}function tN(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new jt(new Mg({ob:n})):new jt(t.va),e.Oa(t.J),e}Q.isActive=function(){return!!this.h&&this.h.isActive(this)};function nN(){}Q=nN.prototype;Q.Ba=function(){};Q.Aa=function(){};Q.za=function(){};Q.ya=function(){};Q.isActive=function(){return!0};Q.Va=function(){};function $p(){if(Vl&&!(10<=Number(Hq)))throw Error("Environmental error: no available transport.")}$p.prototype.g=function(t,e){return new Sr(t,e)};function Sr(t,e){gn.call(this),this.g=new q2(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Sd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Sd(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new du(this)}vn(Sr,gn);Sr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Gn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=eN(t,null,t.Y),Vg(t)};Sr.prototype.close=function(){Gw(this.g)};Sr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Fw(t),t=n);e.j.push(new EK(e.fb++,t)),e.H==3&&Vg(e)};Sr.prototype.N=function(){this.g.h=null,delete this.j,Gw(this.g),delete this.g,Sr.$.N.call(this)};function rN(t){zw.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}vn(rN,zw);function iN(){Ww.call(this),this.status=1}vn(iN,Ww);function du(t){this.g=t}vn(du,nN);du.prototype.Ba=function(){bn(this.g,"a")};du.prototype.Aa=function(t){bn(this.g,new rN(t))};du.prototype.za=function(t){bn(this.g,new iN)};du.prototype.ya=function(){bn(this.g,"b")};function OK(){this.blockSize=-1}function ui(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}vn(ui,OK);ui.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function av(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}ui.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)av(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){av(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){av(this,r),i=0;break}}this.h=i,this.i+=e};ui.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ze(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var DK={};function Xw(t){return-128<=t&&128>t?Bq(t,function(e){return new Ze([e|0],0>e?-1:0)}):new Ze([t|0],0>t?-1:0)}function Ti(t){if(isNaN(t)||!isFinite(t))return vl;if(0>t)return Sn(Ti(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=r0;return new Ze(e,0)}function sN(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Sn(sN(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ti(Math.pow(e,8)),r=vl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Ti(Math.pow(e,s)),r=r.R(s).add(Ti(o))):(r=r.R(n),r=r.add(Ti(o)))}return r}var r0=4294967296,vl=Xw(0),i0=Xw(1),$I=Xw(16777216);Q=Ze.prototype;Q.ea=function(){if(Or(this))return-Sn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:r0+r)*e,e*=r0}return t};Q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Ji(this))return"0";if(Or(this))return"-"+Sn(this).toString(t);for(var e=Ti(Math.pow(t,6)),n=this,r="";;){var i=Vp(n,e).g;n=Fp(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,Ji(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Ji(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Or(t){return t.h==-1}Q.X=function(t){return t=Fp(this,t),Or(t)?-1:Ji(t)?0:1};function Sn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ze(n,~t.h).add(i0)}Q.abs=function(){return Or(this)?Sn(this):this};Q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ze(n,n[n.length-1]&-2147483648?-1:0)};function Fp(t,e){return t.add(Sn(e))}Q.R=function(t){if(Ji(this)||Ji(t))return vl;if(Or(this))return Or(t)?Sn(this).R(Sn(t)):Sn(Sn(this).R(t));if(Or(t))return Sn(this.R(Sn(t)));if(0>this.X($I)&&0>t.X($I))return Ti(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,rf(n,2*r+2*i),n[2*r+2*i+1]+=s*l,rf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,rf(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,rf(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ze(n,0)};function rf(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Hu(t,e){this.g=t,this.h=e}function Vp(t,e){if(Ji(e))throw Error("division by zero");if(Ji(t))return new Hu(vl,vl);if(Or(t))return e=Vp(Sn(t),e),new Hu(Sn(e.g),Sn(e.h));if(Or(e))return e=Vp(t,Sn(e)),new Hu(Sn(e.g),e.h);if(30<t.g.length){if(Or(t)||Or(e))throw Error("slowDivide_ only works with positive integers.");for(var n=i0,r=e;0>=r.X(t);)n=FI(n),r=FI(r);var i=$a(n,1),s=$a(r,1);for(r=$a(r,2),n=$a(n,2);!Ji(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=$a(r,1),n=$a(n,1)}return e=Fp(t,i.R(e)),new Hu(i,e)}for(i=vl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Ti(n),o=s.R(e);Or(o)||0<o.X(t);)n-=r,s=Ti(n),o=s.R(e);Ji(s)&&(s=i0),i=i.add(s),t=Fp(t,o)}return new Hu(i,t)}Q.gb=function(t){return Vp(this,t).h};Q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ze(n,this.h&t.h)};Q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ze(n,this.h|t.h)};Q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ze(n,this.h^t.h)};function FI(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ze(n,t.h)}function $a(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ze(i,t.h)}$p.prototype.createWebChannel=$p.prototype.g;Sr.prototype.send=Sr.prototype.u;Sr.prototype.open=Sr.prototype.m;Sr.prototype.close=Sr.prototype.close;Ag.NO_ERROR=0;Ag.TIMEOUT=8;Ag.HTTP_ERROR=6;T2.COMPLETE="complete";S2.EventType=ah;ah.OPEN="a";ah.CLOSE="b";ah.ERROR="c";ah.MESSAGE="d";gn.prototype.listen=gn.prototype.O;jt.prototype.listenOnce=jt.prototype.P;jt.prototype.getLastError=jt.prototype.Sa;jt.prototype.getLastErrorCode=jt.prototype.Ia;jt.prototype.getStatus=jt.prototype.da;jt.prototype.getResponseJson=jt.prototype.Wa;jt.prototype.getResponseText=jt.prototype.ja;jt.prototype.send=jt.prototype.ha;jt.prototype.setWithCredentials=jt.prototype.Oa;ui.prototype.digest=ui.prototype.l;ui.prototype.reset=ui.prototype.reset;ui.prototype.update=ui.prototype.j;Ze.prototype.add=Ze.prototype.add;Ze.prototype.multiply=Ze.prototype.R;Ze.prototype.modulo=Ze.prototype.gb;Ze.prototype.compare=Ze.prototype.X;Ze.prototype.toNumber=Ze.prototype.ea;Ze.prototype.toString=Ze.prototype.toString;Ze.prototype.getBits=Ze.prototype.D;Ze.fromNumber=Ti;Ze.fromString=sN;var MK=function(){return new $p},LK=function(){return kg()},lv=Ag,$K=T2,FK=Ca,VI={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},sf=S2,VK=jt,UK=ui,_l=Ze;const UI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hu="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new vg("@firebase/firestore");function qu(){return ca.logLevel}function K(t,...e){if(ca.logLevel<=Ne.DEBUG){const n=e.map(Jw);ca.debug(`Firestore (${hu}): ${t}`,...n)}}function $i(t,...e){if(ca.logLevel<=Ne.ERROR){const n=e.map(Jw);ca.error(`Firestore (${hu}): ${t}`,...n)}}function Ul(t,...e){if(ca.logLevel<=Ne.WARN){const n=e.map(Jw);ca.warn(`Firestore (${hu}): ${t}`,...n)}}function Jw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${hu}) INTERNAL ASSERTION FAILED: `+t;throw $i(e),new Error(e)}function ut(t,e){t||ge()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class jK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mn.UNAUTHENTICATED))}shutdown(){}}class BK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class zK{constructor(e){this.t=e,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ai;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ai,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ai)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ut(typeof r.accessToken=="string"),new oN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ut(e===null||typeof e=="string"),new Mn(e)}}class WK{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class HK{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new WK(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qK{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KK{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ut(typeof n.token=="string"),this.R=n.token,new qK(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GK(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=GK(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function jl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new kt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new kt(0,0))}static max(){return new we(new kt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ad.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ad?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class mt extends Ad{construct(e,n,r){return new mt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new mt(n)}static emptyPath(){return new mt([])}}const QK=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends Ad{construct(e,n,r){return new In(e,n,r)}static isValidIdentifier(e){return QK.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new In(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new X(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new X(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new In(n)}static emptyPath(){return new In([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(mt.fromString(e))}static fromName(e){return new ue(mt.fromString(e).popFirst(5))}static empty(){return new ue(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return mt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new mt(e.slice()))}}function YK(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new kt(n+1,0):new kt(n,r));return new ro(i,ue.empty(),e)}function XK(t){return new ro(t.readTime,t.key,-1)}class ro{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ro(we.min(),ue.empty(),-1)}static max(){return new ro(we.max(),ue.empty(),-1)}}function JK(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==ZK)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ai,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Dc(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=eE(r.target.error);this.V.reject(new Dc(e,i))}}static open(e,n,r,i){try{return new Zw(n,e.transaction(i,r))}catch(s){throw new Dc(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(K("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new nG(n)}}class jo{constructor(e,n,r){this.name=e,this.version=n,this.p=r,jo.S(Zt())===12.2&&$i("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return K("SimpleDb","Removing database:",e),ko(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!yA())return!1;if(jo.C())return!0;const e=Zt(),n=jo.S(e),r=0<n&&n<10,i=jo.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(K("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Dc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new X(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new X(L.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Dc(e,o))},i.onupgradeneeded=s=>{K("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{K("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=Zw.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),$.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(K("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class tG{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ko(this.k.delete())}}class Dc extends X{constructor(e,n){super(L.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function fh(t){return t.name==="IndexedDbTransactionError"}class nG{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(K("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(K("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ko(r)}add(e){return K("SimpleDb","ADD",this.store.name,e,e),ko(this.store.add(e))}get(e){return ko(this.store.get(e)).next(n=>(n===void 0&&(n=null),K("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return K("SimpleDb","DELETE",this.store.name,e),ko(this.store.delete(e))}count(){return K("SimpleDb","COUNT",this.store.name),ko(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new $((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new $((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){K("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new $((r,i)=>{n.onerror=s=>{const o=eE(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new $((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new tG(a),u=n(a.primaryKey,a.value,l);if(u instanceof $){const c=u.catch(d=>(l.done(),$.reject(d)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>$.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ko(t){return new $((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=eE(r.target.error);n(i)}})}let jI=!1;function eE(t){const e=jo.S(Zt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new X("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return jI||(jI=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}tE._e=-1;function Ug(t){return t==null}function Up(t){return t===0&&1/t==-1/0}function rG(t){return typeof t=="number"&&Number.isInteger(t)&&!Up(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ia(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function lN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let en=class s0{constructor(e,n){this.comparator=e,this.root=n||Gs.EMPTY}insert(e,n){return new s0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gs.BLACK,null,null))}remove(e){return new s0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new of(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new of(this.root,e,this.comparator,!1)}getReverseIterator(){return new of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new of(this.root,e,this.comparator,!0)}},of=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Gs=class Wi{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Wi.RED,this.left=i??Wi.EMPTY,this.right=s??Wi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Wi(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Wi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Wi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}};Gs.EMPTY=null,Gs.RED=!0,Gs.BLACK=!1;Gs.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Gs(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.comparator=e,this.data=new en(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zI(this.data.getIterator())}getIteratorFrom(e){return new zI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xn(this.comparator);return n.data=e,n}}class zI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new gr([])}unionWith(e){let n=new xn(In.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new uN("Invalid base64 string: "+s):s}}(e);return new Hn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const iG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function io(t){if(ut(!!t),typeof t=="string"){let e=0;const n=iG.exec(t);if(ut(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qt(t.seconds),nanos:Qt(t.nanos)}}function Qt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function da(t){return typeof t=="string"?Hn.fromBase64String(t):Hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rE(t){const e=t.mapValue.fields.__previous_value__;return nE(e)?rE(e):e}function Nd(t){const e=io(t.mapValue.fields.__local_write_time__.timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Od{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Od("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Od&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ha(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nE(t)?4:oG(t)?9007199254740991:10:ge()}function Fi(t,e){if(t===e)return!0;const n=ha(t);if(n!==ha(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nd(t).isEqual(Nd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=io(i.timestampValue),a=io(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return da(i.bytesValue).isEqual(da(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Qt(i.geoPointValue.latitude)===Qt(s.geoPointValue.latitude)&&Qt(i.geoPointValue.longitude)===Qt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Qt(i.integerValue)===Qt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Qt(i.doubleValue),a=Qt(s.doubleValue);return o===a?Up(o)===Up(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return jl(t.arrayValue.values||[],e.arrayValue.values||[],Fi);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(BI(o)!==BI(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Fi(o[l],a[l])))return!1;return!0}(t,e);default:return ge()}}function Dd(t,e){return(t.values||[]).find(n=>Fi(n,e))!==void 0}function Bl(t,e){if(t===e)return 0;const n=ha(t),r=ha(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Qt(s.integerValue||s.doubleValue),l=Qt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return WI(t.timestampValue,e.timestampValue);case 4:return WI(Nd(t),Nd(e));case 5:return Qe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=da(s),l=da(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Qe(a[u],l[u]);if(c!==0)return c}return Qe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Qe(Qt(s.latitude),Qt(o.latitude));return a!==0?a:Qe(Qt(s.longitude),Qt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Bl(a[u],l[u]);if(c)return c}return Qe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===af.mapValue&&o===af.mapValue)return 0;if(s===af.mapValue)return 1;if(o===af.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Qe(l[d],c[d]);if(h!==0)return h;const p=Bl(a[l[d]],u[c[d]]);if(p!==0)return p}return Qe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ge()}}function WI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=io(t),r=io(e),i=Qe(n.seconds,r.seconds);return i!==0?i:Qe(n.nanos,r.nanos)}function zl(t){return o0(t)}function o0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=io(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return da(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=o0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${o0(n.fields[o])}`;return i+"}"}(t.mapValue):ge()}function HI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function a0(t){return!!t&&"integerValue"in t}function iE(t){return!!t&&"arrayValue"in t}function qI(t){return!!t&&"nullValue"in t}function KI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lf(t){return!!t&&"mapValue"in t}function Mc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ia(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Mc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Mc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.value=e}static empty(){return new nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mc(n)}setAll(e){let n=In.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Mc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Lf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ia(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nr(Mc(this.value))}}function cN(t){const e=[];return Ia(t.fields,(n,r)=>{const i=new In([n]);if(Lf(r)){const s=cN(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $n(e,0,we.min(),we.min(),we.min(),nr.empty(),0)}static newFoundDocument(e,n,r,i){return new $n(e,1,n,we.min(),r,i,0)}static newNoDocument(e,n){return new $n(e,2,n,we.min(),we.min(),nr.empty(),0)}static newUnknownDocument(e,n){return new $n(e,3,n,we.min(),we.min(),nr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n){this.position=e,this.inclusive=n}}function GI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ue.comparator(ue.fromName(o.referenceValue),n.key):r=Bl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function QI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n="asc"){this.field=e,this.dir=n}}function aG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{}class Jt extends dN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uG(e,n,r):n==="array-contains"?new hG(e,r):n==="in"?new fG(e,r):n==="not-in"?new pG(e,r):n==="array-contains-any"?new mG(e,r):new Jt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cG(e,r):new dG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Bl(n,this.value)):n!==null&&ha(this.value)===ha(n)&&this.matchesComparison(Bl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends dN{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new ci(e,n)}matches(e){return hN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function hN(t){return t.op==="and"}function fN(t){return lG(t)&&hN(t)}function lG(t){for(const e of t.filters)if(e instanceof ci)return!1;return!0}function l0(t){if(t instanceof Jt)return t.field.canonicalString()+t.op.toString()+zl(t.value);if(fN(t))return t.filters.map(e=>l0(e)).join(",");{const e=t.filters.map(n=>l0(n)).join(",");return`${t.op}(${e})`}}function pN(t,e){return t instanceof Jt?function(r,i){return i instanceof Jt&&r.op===i.op&&r.field.isEqual(i.field)&&Fi(r.value,i.value)}(t,e):t instanceof ci?function(r,i){return i instanceof ci&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&pN(o,i.filters[a]),!0):!1}(t,e):void ge()}function mN(t){return t instanceof Jt?function(n){return`${n.field.canonicalString()} ${n.op} ${zl(n.value)}`}(t):t instanceof ci?function(n){return n.op.toString()+" {"+n.getFilters().map(mN).join(" ,")+"}"}(t):"Filter"}class uG extends Jt{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class cG extends Jt{constructor(e,n){super(e,"in",n),this.keys=gN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dG extends Jt{constructor(e,n){super(e,"not-in",n),this.keys=gN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class hG extends Jt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return iE(n)&&Dd(n.arrayValue,this.value)}}class fG extends Jt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Dd(this.value.arrayValue,n)}}class pG extends Jt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Dd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Dd(this.value.arrayValue,n)}}class mG extends Jt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!iE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Dd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function YI(t,e=null,n=[],r=[],i=null,s=null,o=null){return new gG(t,e,n,r,i,s,o)}function sE(t){const e=Ce(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>l0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Ug(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>zl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>zl(r)).join(",")),e.ce=n}return e.ce}function oE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!pN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!QI(t.startAt,e.startAt)&&QI(t.endAt,e.endAt)}function u0(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function yG(t,e,n,r,i,s,o,a){return new ph(t,e,n,r,i,s,o,a)}function jg(t){return new ph(t)}function XI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yN(t){return t.collectionGroup!==null}function Lc(t){const e=Ce(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new xn(In.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Bp(s,r))}),n.has(In.keyField().canonicalString())||e.le.push(new Bp(In.keyField(),r))}return e.le}function Ni(t){const e=Ce(t);return e.he||(e.he=vG(e,Lc(t))),e.he}function vG(t,e){if(t.limitType==="F")return YI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Bp(i.field,s)});const n=t.endAt?new jp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jp(t.startAt.position,t.startAt.inclusive):null;return YI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function c0(t,e){const n=t.filters.concat([e]);return new ph(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function d0(t,e,n){return new ph(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bg(t,e){return oE(Ni(t),Ni(e))&&t.limitType===e.limitType}function vN(t){return`${sE(Ni(t))}|lt:${t.limitType}`}function ja(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>mN(i)).join(", ")}]`),Ug(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>zl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>zl(i)).join(",")),`Target(${r})`}(Ni(t))}; limitType=${t.limitType})`}function zg(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ue.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Lc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=GI(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Lc(r),i)||r.endAt&&!function(o,a,l){const u=GI(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Lc(r),i))}(t,e)}function _G(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _N(t){return(e,n)=>{let r=!1;for(const i of Lc(t)){const s=wG(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function wG(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Bl(l,u):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ia(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return lN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG=new en(ue.comparator);function fs(){return EG}const wN=new en(ue.comparator);function dc(...t){let e=wN;for(const n of t)e=e.insert(n.key,n);return e}function EN(t){let e=wN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bo(){return $c()}function TN(){return $c()}function $c(){return new fu(t=>t.toString(),(t,e)=>t.isEqual(e))}const TG=new en(ue.comparator),SG=new xn(ue.comparator);function Oe(...t){let e=SG;for(const n of t)e=e.add(n);return e}const CG=new xn(Qe);function IG(){return CG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Up(e)?"-0":e}}function CN(t){return{integerValue:""+t}}function RG(t,e){return rG(e)?CN(e):SN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(){this._=void 0}}function bG(t,e,n){return t instanceof zp?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&nE(s)&&(s=rE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Wl?RN(t,e):t instanceof Md?bN(t,e):function(i,s){const o=IN(i,s),a=JI(o)+JI(i.Ie);return a0(o)&&a0(i.Ie)?CN(a):SN(i.serializer,a)}(t,e)}function xG(t,e,n){return t instanceof Wl?RN(t,e):t instanceof Md?bN(t,e):n}function IN(t,e){return t instanceof Wp?function(r){return a0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class zp extends Wg{}class Wl extends Wg{constructor(e){super(),this.elements=e}}function RN(t,e){const n=xN(e);for(const r of t.elements)n.some(i=>Fi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Md extends Wg{constructor(e){super(),this.elements=e}}function bN(t,e){let n=xN(e);for(const r of t.elements)n=n.filter(i=>!Fi(i,r));return{arrayValue:{values:n}}}class Wp extends Wg{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function JI(t){return Qt(t.integerValue||t.doubleValue)}function xN(t){return iE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PG{constructor(e,n){this.field=e,this.transform=n}}function kG(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Wl&&i instanceof Wl||r instanceof Md&&i instanceof Md?jl(r.elements,i.elements,Fi):r instanceof Wp&&i instanceof Wp?Fi(r.Ie,i.Ie):r instanceof zp&&i instanceof zp}(t.transform,e.transform)}class AG{constructor(e,n){this.version=e,this.transformResults=n}}class Oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $f(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hg{}function PN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new AN(t.key,Oi.none()):new mh(t.key,t.data,Oi.none());{const n=t.data,r=nr.empty();let i=new xn(In.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new wo(t.key,r,new gr(i.toArray()),Oi.none())}}function NG(t,e,n){t instanceof mh?function(i,s,o){const a=i.value.clone(),l=eR(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof wo?function(i,s,o){if(!$f(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=eR(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(kN(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fc(t,e,n,r){return t instanceof mh?function(s,o,a,l){if(!$f(s.precondition,o))return a;const u=s.value.clone(),c=tR(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof wo?function(s,o,a,l){if(!$f(s.precondition,o))return a;const u=tR(s.fieldTransforms,l,o),c=o.data;return c.setAll(kN(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return $f(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function OG(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=IN(r.transform,i||null);s!=null&&(n===null&&(n=nr.empty()),n.set(r.field,s))}return n||null}function ZI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&jl(r,i,(s,o)=>kG(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mh extends Hg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class wo extends Hg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function kN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function eR(t,e,n){const r=new Map;ut(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,xG(o,a,n[i]))}return r}function tR(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,bG(s,o,e))}return r}class AN extends Hg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DG extends Hg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&NG(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=TN();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=PN(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&jl(this.mutations,e.mutations,(n,r)=>ZI(n,r))&&jl(this.baseMutations,e.baseMutations,(n,r)=>ZI(n,r))}}class aE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ut(e.mutations.length===r.length);let i=function(){return TG}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new aE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $G{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,Ue;function FG(t){switch(t){default:return ge();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function NN(t){if(t===void 0)return $i("GRPC error has no .code"),L.UNKNOWN;switch(t){case Gt.OK:return L.OK;case Gt.CANCELLED:return L.CANCELLED;case Gt.UNKNOWN:return L.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return L.INTERNAL;case Gt.UNAVAILABLE:return L.UNAVAILABLE;case Gt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Gt.NOT_FOUND:return L.NOT_FOUND;case Gt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Gt.ABORTED:return L.ABORTED;case Gt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Gt.DATA_LOSS:return L.DATA_LOSS;default:return ge()}}(Ue=Gt||(Gt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG=new _l([4294967295,4294967295],0);function nR(t){const e=VG().encode(t),n=new UK;return n.update(e),new Uint8Array(n.digest())}function rR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _l([n,r],0),new _l([i,s],0)]}class lE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hc(`Invalid padding: ${n}`);if(r<0)throw new hc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=_l.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(_l.fromNumber(r)));return i.compare(UG)===1&&(i=new _l([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=nR(e),[r,i]=rR(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new lE(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=nR(e),[r,i]=rR(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,gh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qg(we.min(),i,new en(Qe),fs(),Oe())}}class gh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gh(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class ON{constructor(e,n){this.targetId=e,this.fe=n}}class DN{constructor(e,n,r=Hn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class iR{constructor(){this.ge=0,this.pe=oR(),this.ye=Hn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Oe(),n=Oe(),r=Oe();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new gh(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=oR()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ut(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class jG{constructor(e){this.Le=e,this.ke=new Map,this.qe=fs(),this.Qe=sR(),this.Ke=new en(Qe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(u0(s))if(r===0){const o=new ue(s.path);this.We(n,o,$n.newNoDocument(o,we.min()))}else ut(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=da(r).toUint8Array()}catch(l){if(l instanceof uN)return Ul("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new lE(o,i,s)}catch(l){return Ul(l instanceof hc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&u0(a.target)){const l=new ue(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,$n.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Oe();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new qg(e,n,this.Ke,this.qe,r);return this.qe=fs(),this.Qe=sR(),this.Ke=new en(Qe),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new iR,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new xn(Qe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new iR),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function sR(){return new en(ue.comparator)}function oR(){return new en(ue.comparator)}const BG={asc:"ASCENDING",desc:"DESCENDING"},zG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},WG={and:"AND",or:"OR"};class HG{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function h0(t,e){return t.useProto3Json||Ug(e)?e:{value:e}}function Hp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qG(t,e){return Hp(t,e.toTimestamp())}function Di(t){return ut(!!t),we.fromTimestamp(function(n){const r=io(n);return new kt(r.seconds,r.nanos)}(t))}function uE(t,e){return f0(t,e).canonicalString()}function f0(t,e){const n=function(i){return new mt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function LN(t){const e=mt.fromString(t);return ut(jN(e)),e}function p0(t,e){return uE(t.databaseId,e.path)}function uv(t,e){const n=LN(e);if(n.get(1)!==t.databaseId.projectId)throw new X(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(FN(n))}function $N(t,e){return uE(t.databaseId,e)}function KG(t){const e=LN(t);return e.length===4?mt.emptyPath():FN(e)}function m0(t){return new mt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FN(t){return ut(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function aR(t,e,n){return{name:p0(t,e),fields:n.value.mapValue.fields}}function GG(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(ut(c===void 0||typeof c=="string"),Hn.fromBase64String(c||"")):(ut(c===void 0||c instanceof Uint8Array),Hn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?L.UNKNOWN:NN(u.code);return new X(c,u.message||"")}(o);n=new DN(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=uv(t,r.document.name),s=Di(r.document.updateTime),o=r.document.createTime?Di(r.document.createTime):we.min(),a=new nr({mapValue:{fields:r.document.fields}}),l=$n.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ff(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=uv(t,r.document),s=r.readTime?Di(r.readTime):we.min(),o=$n.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ff([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=uv(t,r.document),s=r.removedTargetIds||[];n=new Ff([],s,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new $G(i,s),a=r.targetId;n=new ON(a,o)}}return n}function QG(t,e){let n;if(e instanceof mh)n={update:aR(t,e.key,e.value)};else if(e instanceof AN)n={delete:p0(t,e.key)};else if(e instanceof wo)n={update:aR(t,e.key,e.data),updateMask:iQ(e.fieldMask)};else{if(!(e instanceof DG))return ge();n={verify:p0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof zp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Wl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Md)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Wp)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:qG(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge()}(t,e.precondition)),n}function YG(t,e){return t&&t.length>0?(ut(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Di(i.updateTime):Di(s);return o.isEqual(we.min())&&(o=Di(s)),new AG(o,i.transformResults||[])}(n,e))):[]}function XG(t,e){return{documents:[$N(t,e.path)]}}function JG(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$N(t,i);const s=function(u){if(u.length!==0)return UN(ci.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Ba(h.field),direction:tQ(h.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=h0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function ZG(t){let e=KG(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ut(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=VN(d);return h instanceof ci&&fN(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new Bp(za(m.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Ug(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new jp(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new jp(p,h)}(n.endAt)),yG(e,i,o,s,a,"F",l,u)}function eQ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function VN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=za(n.unaryFilter.field);return Jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=za(n.unaryFilter.field);return Jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=za(n.unaryFilter.field);return Jt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=za(n.unaryFilter.field);return Jt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return Jt.create(za(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ci.create(n.compositeFilter.filters.map(r=>VN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function tQ(t){return BG[t]}function nQ(t){return zG[t]}function rQ(t){return WG[t]}function Ba(t){return{fieldPath:t.canonicalString()}}function za(t){return In.fromServerFormat(t.fieldPath)}function UN(t){return t instanceof Jt?function(n){if(n.op==="=="){if(KI(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NAN"}};if(qI(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(KI(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NAN"}};if(qI(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(n.field),op:nQ(n.op),value:n.value}}}(t):t instanceof ci?function(n){const r=n.getFilters().map(i=>UN(i));return r.length===1?r[0]:{compositeFilter:{op:rQ(n.op),filters:r}}}(t):ge()}function iQ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n,r,i,s=we.min(),o=we.min(),a=Hn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sQ{constructor(e){this.ct=e}}function oQ(t){const e=ZG({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?d0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aQ{constructor(){this._n=new lQ}addToCollectionParentIndex(e,n){return this._n.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(ro.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class lQ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xn(mt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xn(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Hl(0)}static Bn(){return new Hl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uQ{constructor(){this.changes=new fu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fc(r.mutation,i,gr.empty(),kt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const i=Bo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=dc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Bo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=fs();const o=$c(),a=function(){return $c()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof wo)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Fc(c.mutation,u,c.mutation.getFieldMask(),kt.now())):o.set(u.key,gr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new cQ(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=$c();let i=new en((o,a)=>o-a),s=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||gr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Oe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=TN();c.forEach(h=>{if(!s.has(h)){const p=PN(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):yN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(Bo());let a=-1,l=s;return o.next(u=>$.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?$.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Oe())).next(c=>({batchId:a,changes:EN(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let i=dc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=dc();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{const u=function(d,h){return new ph(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,$n.newInvalidDocument(c)))});let a=dc();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Fc(c.mutation,u,gr.empty(),kt.now()),zg(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return $.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Di(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:oQ(i.bundledQuery),readTime:Di(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fQ{constructor(){this.overlays=new en(ue.comparator),this.hr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bo();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=Bo(),s=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new en((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Bo(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Bo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return $.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new LG(n,r));let s=this.hr.get(n);s===void 0&&(s=Oe(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.Pr=new xn(cn.Ir),this.Tr=new xn(cn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new cn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new cn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ue(new mt([])),r=new cn(n,e),i=new cn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ue(new mt([])),r=new cn(n,e),i=new cn(n,e+1);let s=Oe();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new cn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class cn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ue.comparator(e.key,n.key)||Qe(e.pr,n.pr)}static Er(e,n){return Qe(e.pr,n.pr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new xn(cn.Ir)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new MG(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new cn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new cn(n,0),i=new cn(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xn(Qe);return n.forEach(i=>{const s=new cn(i,0),o=new cn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),$.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ue.isDocumentKey(s)||(s=s.child(""));const o=new cn(new ue(s),0);let a=new xn(Qe);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),$.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ut(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return $.forEach(n.mutations,i=>{const s=new cn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new cn(n,0),i=this.wr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mQ{constructor(e){this.vr=e,this.docs=function(){return new en(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():$n.newInvalidDocument(n))}getEntries(e,n){let r=fs();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$n.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=fs();const o=n.path,a=new ue(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||JK(XK(c),r)<=0||(i.has(c.key)||zg(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ge()}Fr(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gQ(this)}getSize(e){return $.resolve(this.size)}}class gQ extends uQ{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yQ{constructor(e){this.persistence=e,this.Mr=new fu(n=>sE(n),oE),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Or=0,this.Nr=new cE,this.targetCount=0,this.Br=Hl.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),$.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Hl(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.qn(n),$.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vQ{constructor(e,n){this.Lr={},this.overlays={},this.kr=new tE(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new yQ(this),this.indexManager=new aQ,this.remoteDocumentCache=function(i){return new mQ(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new sQ(n),this.$r=new hQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new pQ(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new _Q(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return $.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class _Q extends eG{constructor(e){super(),this.currentSequenceNumber=e}}class dE{constructor(e){this.persistence=e,this.zr=new cE,this.jr=null}static Hr(e){return new dE(e)}get Jr(){if(this.jr)return this.jr;throw ge()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),$.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Jr,r=>{const i=ue.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,we.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return $.or([()=>$.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Oe(),i=Oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new hE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Q8()?8:jo.v(Zt())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new wQ;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(qu()<=Ne.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),$.resolve()):(qu()<=Ne.DEBUG&&K("QueryEngine","Query:",ja(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(qu()<=Ne.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(n))):$.resolve())}ji(e,n){if(XI(n))return $.resolve(null);let r=Ni(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=d0(n,null,"F"),r=Ni(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Oe(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,d0(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return XI(n)||i.isEqual(we.min())?$.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?$.resolve(null):(qu()<=Ne.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ja(n)),this.es(e,o,n,YK(i,-1)).next(a=>a))})}Zi(e,n){let r=new xn(_N(e));return n.forEach((i,s)=>{zg(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return qu()<=Ne.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",ja(n)),this.zi.getDocumentsMatchingQuery(e,n,ro.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new en(Qe),this.rs=new fu(s=>sE(s),oE),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dQ(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function SQ(t,e,n,r){return new TQ(t,e,n,r)}async function BN(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Oe();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function CQ(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let p=$.resolve();return h.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(v=>{const _=u.docVersions.get(m);ut(_!==null),v.version.compareTo(_)<0&&(d.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function zN(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function IQ(t,e){const n=Ce(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Hn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(v,_,f){return v.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size>0}(h,p,c)&&a.push(n.Qr.updateTargetData(s,p))});let l=fs(),u=Oe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(RQ(s,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(we.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function RQ(t,e,n){let r=Oe(),i=Oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=fs();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function bQ(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xQ(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new $s(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function g0(t,e,n){const r=Ce(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!fh(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function lR(t,e,n){const r=Ce(t);let i=we.min(),s=Oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=Ce(l),h=d.rs.get(c);return h!==void 0?$.resolve(d.ns.get(h)):d.Qr.getTargetData(u,c)}(r,o,Ni(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:we.min(),n?s:Oe())).next(a=>(PQ(r,_G(e),a),{documents:a,hs:s})))}function PQ(t,e,n){let r=t.ss.get(e)||we.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class uR{constructor(){this.activeTargetIds=IG()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class kQ{constructor(){this.no=new uR,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new uR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf=null;function cv(){return lf===null?lf=function(){return 268435456+Math.round(2147483648*Math.random())}():lf++,"0x"+lf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OQ{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nn="WebChannelConnection";class DQ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=cv(),l=this.bo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,l,u,i).then(c=>(K("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ul("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=NQ[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=cv();return new Promise((o,a)=>{const l=new VK;l.setWithCredentials(!0),l.listenOnce($K.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case lv.NO_ERROR:const c=l.getResponseJson();K(Nn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case lv.TIMEOUT:K(Nn,`RPC '${e}' ${s} timed out`),a(new X(L.DEADLINE_EXCEEDED,"Request time out"));break;case lv.HTTP_ERROR:const d=l.getStatus();if(K(Nn,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(_){const f=_.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(f)>=0?f:L.UNKNOWN}(p.status);a(new X(m,p.message))}else a(new X(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X(L.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{K(Nn,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);K(Nn,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=cv(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=MK(),a=LK(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");K(Nn,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,p=!1;const m=new OQ({lo:_=>{p?K(Nn,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(K(Nn,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),K(Nn,`RPC '${e}' stream ${i} sending:`,_),d.send(_))},ho:()=>d.close()}),v=(_,f,g)=>{_.listen(f,y=>{try{g(y)}catch(E){setTimeout(()=>{throw E},0)}})};return v(d,sf.EventType.OPEN,()=>{p||K(Nn,`RPC '${e}' stream ${i} transport opened.`)}),v(d,sf.EventType.CLOSE,()=>{p||(p=!0,K(Nn,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),v(d,sf.EventType.ERROR,_=>{p||(p=!0,Ul(Nn,`RPC '${e}' stream ${i} transport errored:`,_),m.Vo(new X(L.UNAVAILABLE,"The operation could not be completed")))}),v(d,sf.EventType.MESSAGE,_=>{var f;if(!p){const g=_.data[0];ut(!!g);const y=g,E=y.error||((f=y[0])===null||f===void 0?void 0:f.error);if(E){K(Nn,`RPC '${e}' stream ${i} received error:`,E);const R=E.status;let T=function(k){const x=Gt[k];if(x!==void 0)return NN(x)}(R),C=E.message;T===void 0&&(T=L.INTERNAL,C="Unknown error status: "+R+" with message "+E.message),p=!0,m.Vo(new X(T,C)),d.close()}else K(Nn,`RPC '${e}' stream ${i} received:`,g),m.mo(g)}}),v(a,FK.STAT_EVENT,_=>{_.stat===VI.PROXY?K(Nn,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===VI.NOPROXY&&K(Nn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}function dv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t){return new HG(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new WN(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===L.RESOURCE_EXHAUSTED?($i(n.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new X(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class MQ extends HN{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=GG(this.serializer,e),r=function(s){if(!("targetChange"in s))return we.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?we.min():o.readTime?Di(o.readTime):we.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=m0(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=u0(l)?{documents:XG(s,l)}:{query:JG(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=MN(s,o.resumeToken);const u=h0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(we.min())>0){a.readTime=Hp(s,o.snapshotVersion.toTimestamp());const u=h0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=eQ(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=m0(this.serializer),n.removeTarget=e,this.t_(n)}}class LQ extends HN{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=YG(e.writeResults,e.commitTime),r=Di(e.commitTime);return this.listener.T_(r,n)}return ut(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=m0(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>QG(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Q extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new X(L.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,f0(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(L.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,f0(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(L.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class FQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?($i(n),this.g_=!1):K("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VQ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{Ra(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ce(l);u.v_.add(4),await yh(u),u.x_.set("Unknown"),u.v_.delete(4),await Gg(u)}(this))})}),this.x_=new FQ(r,i)}}async function Gg(t){if(Ra(t))for(const e of t.F_)await e(!0)}async function yh(t){for(const e of t.F_)await e(!1)}function qN(t,e){const n=Ce(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),mE(n)?pE(n):pu(n).Jo()&&fE(n,e))}function KN(t,e){const n=Ce(t),r=pu(n);n.C_.delete(e),r.Jo()&&GN(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Ra(n)&&n.x_.set("Unknown"))}function fE(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pu(t).c_(e)}function GN(t,e){t.O_.Oe(e),pu(t).l_(e)}function pE(t){t.O_=new jG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),pu(t).start(),t.x_.p_()}function mE(t){return Ra(t)&&!pu(t).Ho()&&t.C_.size>0}function Ra(t){return Ce(t).v_.size===0}function QN(t){t.O_=void 0}async function UQ(t){t.C_.forEach((e,n)=>{fE(t,e)})}async function jQ(t,e){QN(t),mE(t)?(t.x_.S_(e),pE(t)):t.x_.set("Unknown")}async function BQ(t,e,n){if(t.x_.set("Online"),e instanceof DN&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await qp(t,r)}else if(e instanceof Ff?t.O_.$e(e):e instanceof ON?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(we.min()))try{const r=await zN(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.C_.get(u);c&&s.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.C_.get(l);if(!c)return;s.C_.set(l,c.withResumeToken(Hn.EMPTY_BYTE_STRING,c.snapshotVersion)),GN(s,l);const d=new $s(c.target,l,u,c.sequenceNumber);fE(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await qp(t,r)}}async function qp(t,e,n){if(!fh(e))throw e;t.v_.add(1),await yh(t),t.x_.set("Offline"),n||(n=()=>zN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Gg(t)})}function YN(t,e){return e().catch(n=>qp(t,n,e))}async function Qg(t){const e=Ce(t),n=so(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;zQ(e);)try{const i=await bQ(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,WQ(e,i)}catch(i){await qp(e,i)}XN(e)&&JN(e)}function zQ(t){return Ra(t)&&t.D_.length<10}function WQ(t,e){t.D_.push(e);const n=so(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function XN(t){return Ra(t)&&!so(t).Ho()&&t.D_.length>0}function JN(t){so(t).start()}async function HQ(t){so(t).d_()}async function qQ(t){const e=so(t);for(const n of t.D_)e.I_(n.mutations)}async function KQ(t,e,n){const r=t.D_.shift(),i=aE.from(r,e,n);await YN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Qg(t)}async function GQ(t,e){e&&so(t).P_&&await async function(r,i){if(function(o){return FG(o)&&o!==L.ABORTED}(i.code)){const s=r.D_.shift();so(r).Zo(),await YN(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Qg(r)}}(t,e),XN(t)&&JN(t)}async function dR(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=Ra(n);n.v_.add(3),await yh(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Gg(n)}async function QQ(t,e){const n=Ce(t);e?(n.v_.delete(2),await Gg(n)):e||(n.v_.add(2),await yh(n),n.x_.set("Unknown"))}function pu(t){return t.N_||(t.N_=function(n,r,i){const s=Ce(n);return s.R_(),new MQ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:UQ.bind(null,t),To:jQ.bind(null,t),u_:BQ.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),mE(t)?pE(t):t.x_.set("Unknown")):(await t.N_.stop(),QN(t))})),t.N_}function so(t){return t.B_||(t.B_=function(n,r,i){const s=Ce(n);return s.R_(),new LQ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:HQ.bind(null,t),To:GQ.bind(null,t),E_:qQ.bind(null,t),T_:KQ.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Qg(t)):(await t.B_.stop(),t.D_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new gE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yE(t,e){if($i("AsyncQueue",`${e}: ${t}`),fh(t))return new X(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=dc(),this.sortedSet=new en(this.comparator)}static emptySet(e){return new wl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof wl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new wl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(){this.L_=new en(ue.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):ge():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ql{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ql(e,n,wl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{constructor(){this.q_=void 0,this.Q_=[]}}class XQ{constructor(){this.queries=new fu(e=>vN(e),Bg),this.onlineState="Unknown",this.K_=new Set}}async function vE(t,e){const n=Ce(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new YQ),i)try{s.q_=await n.onListen(r)}catch(o){const a=yE(o,`Initialization of query '${ja(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&wE(n)}async function _E(t,e){const n=Ce(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function JQ(t,e){const n=Ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&wE(n)}function ZQ(t,e,n){const r=Ce(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function wE(t){t.K_.forEach(e=>{e.next()})}class EE{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ql(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.key=e}}class eO{constructor(e){this.key=e}}class eY{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Oe(),this.mutatedKeys=Oe(),this.ua=_N(e),this.ca=new wl(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new hR,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=zg(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),v=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let _=!1;h&&p?h.data.isEqual(p.data)?m!==v&&(r.track({type:3,doc:p}),_=!0):this.Ia(h,p)||(r.track({type:2,doc:p}),_=!0,(l&&this.ua(p,l)>0||u&&this.ua(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),_=!0):h&&!p&&(r.track({type:1,doc:h}),_=!0,(l||u)&&(a=!0)),_&&(p?(o=o.add(p),s=v?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((c,d)=>function(p,m){const v=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return v(p)-v(m)}(c.type,d.type)||this.ua(c.doc,d.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,o.length!==0||u?{snapshot:new ql(this.query,e.ca,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new hR,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Oe(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new eO(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new ZN(r))}),n}Ra(e){this.oa=e.hs,this.aa=Oe();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return ql.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class tY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class nY{constructor(e){this.key=e,this.ma=!1}}class rY{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new fu(a=>vN(a),Bg),this.pa=new Map,this.ya=new Set,this.wa=new en(ue.comparator),this.Sa=new Map,this.ba=new cE,this.Da={},this.Ca=new Map,this.va=Hl.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function iY(t,e){const n=pY(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await xQ(n.localStore,Ni(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await sY(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&qN(n.remoteStore,o)}return i}async function sY(t,e,n,r,i){t.Ma=(d,h,p)=>async function(v,_,f,g){let y=_.view.ha(f);y.Xi&&(y=await lR(v.localStore,_.query,!1).then(({documents:C})=>_.view.ha(C,y)));const E=g&&g.targetChanges.get(_.targetId),R=g&&g.targetMismatches.get(_.targetId)!=null,T=_.view.applyChanges(y,v.isPrimaryClient,E,R);return pR(v,_.targetId,T.da),T.snapshot}(t,d,h,p);const s=await lR(t.localStore,e,!0),o=new eY(e,s.hs),a=o.ha(s.documents),l=gh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);pR(t,n,u.da);const c=new tY(e,n,o);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function oY(t,e){const n=Ce(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Bg(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await g0(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),KN(n.remoteStore,r.targetId),y0(n,r.targetId)}).catch(hh)):(y0(n,r.targetId),await g0(n.localStore,r.targetId,!0))}async function aY(t,e,n){const r=mY(t);try{const i=await function(o,a){const l=Ce(o),u=kt.now(),c=a.reduce((p,m)=>p.add(m.key),Oe());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=fs(),v=Oe();return l.os.getEntries(p,c).next(_=>{m=_,m.forEach((f,g)=>{g.isValidDocument()||(v=v.add(f))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(_=>{d=_;const f=[];for(const g of a){const y=OG(g,d.get(g.key).overlayedDocument);y!=null&&f.push(new wo(g.key,y,cN(y.value.mapValue),Oi.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,f,a)}).next(_=>{h=_;const f=_.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(p,_.batchId,f)})}).then(()=>({batchId:h.batchId,changes:EN(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Da[o.currentUser.toKey()];u||(u=new en(Qe)),u=u.insert(a,l),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),await vh(r,i.changes),await Qg(r.remoteStore)}catch(i){const s=yE(i,"Failed to persist write");n.reject(s)}}async function tO(t,e){const n=Ce(t);try{const r=await IQ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?ut(o.ma):i.removedDocuments.size>0&&(ut(o.ma),o.ma=!1))}),await vh(n,r,e)}catch(r){await hh(r)}}function fR(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ce(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.Q_)h.U_(a)&&(u=!0)}),u&&wE(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lY(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new en(ue.comparator);o=o.insert(s,$n.newNoDocument(s,we.min()));const a=Oe().add(s),l=new qg(we.min(),new Map,new en(Qe),o,a);await tO(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),TE(r)}else await g0(r.localStore,e,!1).then(()=>y0(r,e,n)).catch(hh)}async function uY(t,e){const n=Ce(t),r=e.batch.batchId;try{const i=await CQ(n.localStore,e);rO(n,r,null),nO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vh(n,i)}catch(i){await hh(i)}}async function cY(t,e,n){const r=Ce(t);try{const i=await function(o,a){const l=Ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(ut(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);rO(r,e,n),nO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vh(r,i)}catch(i){await hh(i)}}function nO(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function rO(t,e,n){const r=Ce(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function y0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||iO(t,r)})}function iO(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(KN(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),TE(t))}function pR(t,e,n){for(const r of n)r instanceof ZN?(t.ba.addReference(r.key,e),dY(t,r)):r instanceof eO?(K("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||iO(t,r.key)):ge()}function dY(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(K("SyncEngine","New document in limbo: "+n),t.ya.add(r),TE(t))}function TE(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new ue(mt.fromString(e)),r=t.va.next();t.Sa.set(r,new nY(n)),t.wa=t.wa.insert(n,r),qN(t.remoteStore,new $s(Ni(jg(n.path)),r,"TargetPurposeLimboResolution",tE._e))}}async function vh(t,e,n){const r=Ce(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=hE.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.fa.u_(i),await async function(l,u){const c=Ce(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>$.forEach(u,h=>$.forEach(h.qi,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>$.forEach(h.Qi,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!fh(d))throw d;K("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.ns.get(h),m=p.snapshotVersion,v=p.withLastLimboFreeSnapshotVersion(m);c.ns=c.ns.insert(h,v)}}}(r.localStore,s))}async function hY(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await BN(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new X(L.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vh(n,r.us)}}function fY(t,e){const n=Ce(t),r=n.Sa.get(e);if(r&&r.ma)return Oe().add(r.key);{let i=Oe();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function pY(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lY.bind(null,e),e.fa.u_=JQ.bind(null,e.eventManager),e.fa.xa=ZQ.bind(null,e.eventManager),e}function mY(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cY.bind(null,e),e}class mR{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Kg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return SQ(this.persistence,new EQ,e.initialUser,this.serializer)}createPersistence(e){return new vQ(dE.Hr,this.serializer)}createSharedClientState(e){return new kQ}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class gY{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>fR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hY.bind(null,this.syncEngine),await QQ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XQ}()}createDatastore(e){const n=Kg(e.databaseInfo.databaseId),r=function(s){return new DQ(s)}(e.databaseInfo);return function(s,o,a,l){return new $Q(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new VQ(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>fR(this.syncEngine,n,0),function(){return cR.D()?new cR:new AQ}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new rY(i,s,o,a,l,u);return c&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ce(r);K("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await yh(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yY{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mn.UNAUTHENTICATED,this.clientId=aN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{K("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=yE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function hv(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await BN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function gR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _Y(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>dR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>dR(e.remoteStore,i)),t._onlineComponents=e}function vY(t){return t.name==="FirebaseError"?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function _Y(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await hv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!vY(n))throw n;Ul("Error using user provided cache. Falling back to memory cache: "+n),await hv(t,new mR)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await hv(t,new mR);return t._offlineComponents}async function sO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await gR(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await gR(t,new gY))),t._onlineComponents}function wY(t){return sO(t).then(e=>e.syncEngine)}async function Kp(t){const e=await sO(t),n=e.eventManager;return n.onListen=iY.bind(null,e.syncEngine),n.onUnlisten=oY.bind(null,e.syncEngine),n}function EY(t,e,n={}){const r=new Ai;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new SE({next:h=>{o.enqueueAndForget(()=>_E(s,d));const p=h.docs.has(a);!p&&h.fromCache?u.reject(new X(L.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new X(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new EE(jg(a.path),c,{includeMetadataChanges:!0,Z_:!0});return vE(s,d)}(await Kp(t),t.asyncQueue,e,n,r)),r.promise}function TY(t,e,n={}){const r=new Ai;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new SE({next:h=>{o.enqueueAndForget(()=>_E(s,d)),h.fromCache&&l.source==="server"?u.reject(new X(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new EE(a,c,{includeMetadataChanges:!0,Z_:!0});return vE(s,d)}(await Kp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(t,e,n){if(!n)throw new X(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function SY(t,e,n,r){if(e===!0&&r===!0)throw new X(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vR(t){if(!ue.isDocumentKey(t))throw new X(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function _R(t){if(ue.isDocumentKey(t))throw new X(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function jr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yg(t);throw new X(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wR(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new jK;switch(r.type){case"firstParty":return new HK(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=yR.get(n);r&&(K("ComponentProvider","Removing Datastore"),yR.delete(n),r.terminate())}(this),Promise.resolve()}}function CY(t,e,n,r={}){var i;const s=(t=jr(t,Xg))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Mn.MOCK_USER;else{a=pA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new X(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Mn(u)}t._authCredentials=new BK(new oN(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ba(this.firestore,e,this._query)}}class zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class Qs extends ba{constructor(e,n,r){super(e,n,jg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new ue(e))}withConverter(e){return new Qs(this.firestore,e,this._path)}}function IY(t,e,...n){if(t=yt(t),aO("collection","path",e),t instanceof Xg){const r=mt.fromString(e,...n);return _R(r),new Qs(t,null,r)}{if(!(t instanceof zn||t instanceof Qs))throw new X(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mt.fromString(e,...n));return _R(r),new Qs(t.firestore,null,r)}}function ni(t,e,...n){if(t=yt(t),arguments.length===1&&(e=aN.newId()),aO("doc","path",e),t instanceof Xg){const r=mt.fromString(e,...n);return vR(r),new zn(t,null,new ue(r))}{if(!(t instanceof zn||t instanceof Qs))throw new X(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(mt.fromString(e,...n));return vR(r),new zn(t.firestore,t instanceof Qs?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RY{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new WN(this,"async_queue_retry"),this._u=()=>{const n=dv();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=dv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=dv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Ai;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!fh(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw $i("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=gE.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&ge()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function ER(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class fa extends Xg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new RY}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||lO(this),this._firestoreClient.terminate()}}function bY(t,e){const n=typeof t=="object"?t:_w(),r=typeof t=="string"?t:e||"(default)",i=_g(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=dA("firestore");s&&CY(i,...s)}return i}function Jg(t){return t._firestoreClient||lO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function lO(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new sG(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,oO(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new yY(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kl(Hn.fromBase64String(e))}catch(n){throw new X(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Kl(Hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xY=/^__.*__$/;class PY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wo(e,this.data,this.fieldMask,n,this.fieldTransforms):new mh(e,this.data,n,this.fieldTransforms)}}class uO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class ty{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new ty(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Gp(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(cO(this.du)&&xY.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class kY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Kg(e)}Su(e,n,r,i=!1){return new ty({du:e,methodName:n,wu:r,path:In.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IE(t){const e=t._freezeSettings(),n=Kg(t._databaseId);return new kY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AY(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);bE("Data must be an object, but it was:",o,r);const a=dO(r,o);let l,u;if(s.merge)l=new gr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=v0(e,d,n);if(!o.contains(h))throw new X(L.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);fO(c,h)||c.push(h)}l=new gr(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new PY(new nr(a),l,u)}class ny extends ey{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ny}}function NY(t,e,n){return new ty({du:3,wu:e.settings.wu,methodName:t._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class RE extends ey{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=NY(this,e,!0),r=this.bu.map(s=>mu(s,n)),i=new Wl(r);return new PG(e.path,i)}isEqual(e){return e instanceof RE&&_d(this.bu,e.bu)}}function OY(t,e,n,r){const i=t.Su(1,e,n);bE("Data must be an object, but it was:",i,r);const s=[],o=nr.empty();Ia(r,(l,u)=>{const c=xE(e,l,n);u=yt(u);const d=i.fu(c);if(u instanceof ny)s.push(c);else{const h=mu(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new gr(s);return new uO(o,a,i.fieldTransforms)}function DY(t,e,n,r,i,s){const o=t.Su(1,e,n),a=[v0(e,r,n)],l=[i];if(s.length%2!=0)throw new X(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(v0(e,s[h])),l.push(s[h+1]);const u=[],c=nr.empty();for(let h=a.length-1;h>=0;--h)if(!fO(u,a[h])){const p=a[h];let m=l[h];m=yt(m);const v=o.fu(p);if(m instanceof ny)u.push(p);else{const _=mu(m,v);_!=null&&(u.push(p),c.set(p,_))}}const d=new gr(u);return new uO(c,d,o.fieldTransforms)}function MY(t,e,n,r=!1){return mu(n,t.Su(r?4:3,e))}function mu(t,e){if(hO(t=yt(t)))return bE("Unsupported field value:",e,t),dO(t,e);if(t instanceof ey)return function(r,i){if(!cO(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=mu(a,i.gu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return RG(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=kt.fromDate(r);return{timestampValue:Hp(i.serializer,s)}}if(r instanceof kt){const s=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hp(i.serializer,s)}}if(r instanceof CE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kl)return{bytesValue:MN(i.serializer,r._byteString)};if(r instanceof zn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:uE(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Yg(r)}`)}(t,e)}function dO(t,e){const n={};return lN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ia(t,(r,i)=>{const s=mu(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function hO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kt||t instanceof CE||t instanceof Kl||t instanceof zn||t instanceof ey)}function bE(t,e,n){if(!hO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Yg(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function v0(t,e,n){if((e=yt(e))instanceof Zg)return e._internalPath;if(typeof e=="string")return xE(t,e);throw Gp("Field path arguments must be of type string or ",t,!1,void 0,n)}const LY=new RegExp("[~\\*/\\[\\]]");function xE(t,e,n){if(e.search(LY)>=0)throw Gp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Zg(...e.split("."))._internalPath}catch{throw Gp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new X(L.INVALID_ARGUMENT,a+t+l)}function fO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $Y(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(PE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $Y extends pO{data(){return super.data()}}function PE(t,e){return typeof e=="string"?xE(t,e):e instanceof Zg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class kE{}class FY extends kE{}function VY(t,e,...n){let r=[];e instanceof kE&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof AE).length,a=s.filter(l=>l instanceof ry).length;if(o>1||o>0&&a>0)throw new X(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ry extends FY{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ry(e,n,r)}_apply(e){const n=this._parse(e);return gO(e._query,n),new ba(e.firestore,e.converter,c0(e._query,n))}_parse(e){const n=IE(e.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new X(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){SR(d,c);const p=[];for(const m of d)p.push(TR(l,s,m));h={arrayValue:{values:p}}}else h=TR(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||SR(d,c),h=MY(a,o,d,c==="in"||c==="not-in");return Jt.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function UY(t,e,n){const r=e,i=PE("where",t);return ry._create(i,r,n)}class AE extends kE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new AE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)gO(o,l),o=c0(o,l)}(e._query,n),new ba(e.firestore,e.converter,c0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function TR(t,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new X(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yN(e)&&n.indexOf("/")!==-1)throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(mt.fromString(n));if(!ue.isDocumentKey(r))throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return HI(t,new ue(r))}if(n instanceof zn)return HI(t,n._key);throw new X(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yg(n)}.`)}function SR(t,e){if(!Array.isArray(t)||t.length===0)throw new X(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function gO(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jY{convertValue(e,n="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ia(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new CE(Qt(e.latitude),Qt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=rE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Nd(e));default:return null}}convertTimestamp(e){const n=io(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=mt.fromString(e);ut(jN(r));const i=new Od(r.get(1),r.get(3)),s=new ue(r.popFirst(5));return i.isEqual(n)||$i(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BY(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yO extends pO{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Vf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(PE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Vf extends yO{data(e={}){return super.data(e)}}class vO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Vf(this._firestore,this._userDataWriter,r.key,r,new fc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Vf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Vf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new fc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:zY(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zY(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(t){t=jr(t,zn);const e=jr(t.firestore,fa);return EY(Jg(e),t._key).then(n=>EO(e,t,n))}class NE extends jY{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function WY(t){t=jr(t,ba);const e=jr(t.firestore,fa),n=Jg(e),r=new NE(e);return mO(t._query),TY(n,t._query).then(i=>new vO(e,r,t,i))}function Qp(t,e,n){t=jr(t,zn);const r=jr(t.firestore,fa),i=BY(t.converter,e,n);return wO(r,[AY(IE(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Oi.none())])}function pc(t,e,n,...r){t=jr(t,zn);const i=jr(t.firestore,fa),s=IE(i);let o;return o=typeof(e=yt(e))=="string"||e instanceof Zg?DY(s,"updateDoc",t._key,e,n,r):OY(s,"updateDoc",t._key,e),wO(i,[o.toMutation(t._key,Oi.exists(!0))])}function _O(t,...e){var n,r,i;t=yt(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||ER(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(ER(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof zn)u=jr(t.firestore,fa),c=jg(t._key.path),l={next:d=>{e[o]&&e[o](EO(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=jr(t,ba);u=jr(d.firestore,fa),c=d._query;const h=new NE(u);l={next:p=>{e[o]&&e[o](new vO(u,h,d,p))},error:e[o+1],complete:e[o+2]},mO(t._query)}return function(h,p,m,v){const _=new SE(v),f=new EE(p,_,m);return h.asyncQueue.enqueueAndForget(async()=>vE(await Kp(h),f)),()=>{_.La(),h.asyncQueue.enqueueAndForget(async()=>_E(await Kp(h),f))}}(Jg(u),c,a,l)}function wO(t,e){return function(r,i){const s=new Ai;return r.asyncQueue.enqueueAndForget(async()=>aY(await wY(r),i,s)),s.promise}(Jg(t),e)}function EO(t,e,n){const r=n.docs.get(e._key),i=new NE(t);return new yO(t,i,e._key,r,new fc(n.hasPendingWrites,n.fromCache),e.converter)}function IR(...t){return new RE("arrayUnion",t)}(function(e,n=!0){(function(i){hu=i})(mo),no(new cs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new fa(new zK(r.getProvider("auth-internal")),new KK(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Od(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ur(UI,"4.4.2",e),Ur(UI,"4.4.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO="firebasestorage.googleapis.com",SO="storageBucket",HY=2*60*1e3,qY=10*60*1e3,KY=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot extends Ui{constructor(e,n,r=0){super(fv(e),`Firebase Storage: ${n} (${fv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var vt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(vt||(vt={}));function fv(t){return"storage/"+t}function OE(){const t="An unknown error occurred, please check the error payload for server response.";return new Ot(vt.UNKNOWN,t)}function GY(t){return new Ot(vt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function QY(t){return new Ot(vt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function YY(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ot(vt.UNAUTHENTICATED,t)}function XY(){return new Ot(vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function JY(t){return new Ot(vt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function CO(){return new Ot(vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function IO(){return new Ot(vt.CANCELED,"User canceled the upload/download.")}function ZY(t){return new Ot(vt.INVALID_URL,"Invalid URL '"+t+"'.")}function eX(t){return new Ot(vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function tX(){return new Ot(vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+SO+"' property when initializing the app?")}function RO(){return new Ot(vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function nX(){return new Ot(vt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function rX(){return new Ot(vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function iX(t){return new Ot(vt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function _0(t){return new Ot(vt.INVALID_ARGUMENT,t)}function bO(){return new Ot(vt.APP_DELETED,"The Firebase app was deleted.")}function sX(t){return new Ot(vt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vc(t,e){return new Ot(vt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ku(t){throw new Ot(vt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yr.makeFromUrl(e,n)}catch{return new yr(e,"")}if(r.path==="")return r;throw eX(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},v=n===TO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,_="([^?#]*)",f=new RegExp(`^https?://${v}/${i}/${_}`,"i"),y=[{regex:a,indices:l,postModify:s},{regex:p,indices:m,postModify:u},{regex:f,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<y.length;E++){const R=y[E],T=R.regex.exec(e);if(T){const C=T[R.indices.bucket];let b=T[R.indices.path];b||(b=""),r=new yr(C,b),R.postModify(r);break}}if(r==null)throw ZY(e);return r}}class oX{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aX(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(..._){u||(u=!0,e.apply(null,_))}function d(_){i=setTimeout(()=>{i=null,t(p,l())},_)}function h(){s&&clearTimeout(s)}function p(_,...f){if(u){h();return}if(_){h(),c.call(null,_,...f);return}if(l()||o){h(),c.call(null,_,...f);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,d(y)}let m=!1;function v(_){m||(m=!0,h(),!u&&(i!==null?(_||(a=2),clearTimeout(i),d(0)):_||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function lX(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uX(t){return t!==void 0}function cX(t){return typeof t=="function"}function dX(t){return typeof t=="object"&&!Array.isArray(t)}function iy(t){return typeof t=="string"||t instanceof String}function RR(t){return DE()&&t instanceof Blob}function DE(){return typeof Blob<"u"}function bR(t,e,n,r){if(r<e)throw _0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw _0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function xO(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Qo||(Qo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hX{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new uf(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Qo.NO_ERROR,l=s.getStatus();if(!a||PO(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Qo.ABORT;r(!1,new uf(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new uf(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());uX(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=OE();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?bO():IO();o(l)}else{const l=CO();o(l)}};this.canceled_?n(!1,new uf(!1,null,!0)):this.backoffId_=aX(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&lX(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class uf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function fX(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function pX(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function mX(t,e){e&&(t["X-Firebase-GMPID"]=e)}function gX(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function yX(t,e,n,r,i,s,o=!0){const a=xO(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return mX(u,e),fX(u,n),pX(u,s),gX(u,r),new hX(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vX(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function _X(...t){const e=vX();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(DE())return new Blob(t);throw new Ot(vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function wX(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EX(t){if(typeof atob>"u")throw iX("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class pv{constructor(e,n){this.data=e,this.contentType=n||null}}function TX(t,e){switch(t){case Si.RAW:return new pv(kO(e));case Si.BASE64:case Si.BASE64URL:return new pv(AO(t,e));case Si.DATA_URL:return new pv(CX(e),IX(e))}throw OE()}function kO(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function SX(t){let e;try{e=decodeURIComponent(t)}catch{throw Vc(Si.DATA_URL,"Malformed data URL.")}return kO(e)}function AO(t,e){switch(t){case Si.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Vc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Si.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Vc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=EX(e)}catch(i){throw i.message.includes("polyfill")?i:Vc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class NO{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Vc(Si.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=RX(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function CX(t){const e=new NO(t);return e.base64?AO(Si.BASE64,e.rest):SX(e.rest)}function IX(t){return new NO(t).contentType}function RX(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){let r=0,i="";RR(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(RR(this.data_)){const r=this.data_,i=wX(r,e,n);return i===null?null:new Os(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Os(r,!0)}}static getBlob(...e){if(DE()){const n=e.map(r=>r instanceof Os?r.data_:r);return new Os(_X.apply(null,n))}else{const n=e.map(o=>iy(o)?TX(Si.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Os(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t){let e;try{e=JSON.parse(t)}catch{return null}return dX(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bX(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function xX(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function DO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PX(t,e){return e}class qn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||PX}}let cf=null;function kX(t){return!iy(t)||t.length<2?t:DO(t)}function MO(){if(cf)return cf;const t=[];t.push(new qn("bucket")),t.push(new qn("generation")),t.push(new qn("metageneration")),t.push(new qn("name","fullPath",!0));function e(s,o){return kX(o)}const n=new qn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new qn("size");return i.xform=r,t.push(i),t.push(new qn("timeCreated")),t.push(new qn("updated")),t.push(new qn("md5Hash",null,!0)),t.push(new qn("cacheControl",null,!0)),t.push(new qn("contentDisposition",null,!0)),t.push(new qn("contentEncoding",null,!0)),t.push(new qn("contentLanguage",null,!0)),t.push(new qn("contentType",null,!0)),t.push(new qn("metadata","customMetadata",!0)),cf=t,cf}function AX(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new yr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function NX(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return AX(r,t),r}function LO(t,e,n){const r=OO(e);return r===null?null:NX(t,r,n)}function OX(t,e,n,r){const i=OO(e);if(i===null||!iy(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),p=_h(h,n,r),m=xO({alt:"media",token:u});return p+m})[0]}function $O(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class gu{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(t){if(!t)throw OE()}function ME(t,e){function n(r,i){const s=LO(t,i,e);return ns(s!==null),s}return n}function DX(t,e){function n(r,i){const s=LO(t,i,e);return ns(s!==null),OX(s,i,t.host,t._protocol)}return n}function wh(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=XY():i=YY():n.getStatus()===402?i=QY(t.bucket):n.getStatus()===403?i=JY(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function FO(t){const e=wh(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=GY(t.path)),s.serverResponse=i.serverResponse,s}return n}function MX(t,e,n){const r=e.fullServerUrl(),i=_h(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new gu(i,s,ME(t,n),o);return a.errorHandler=FO(e),a}function LX(t,e,n){const r=e.fullServerUrl(),i=_h(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new gu(i,s,DX(t,n),o);return a.errorHandler=FO(e),a}function $X(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function VO(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=$X(null,e)),r}function FX(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let E=0;E<2;E++)y=y+Math.random().toString().slice(2);return y}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=VO(e,r,i),c=$O(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Os.getBlob(d,r,h);if(p===null)throw RO();const m={name:u.fullPath},v=_h(s,t.host,t._protocol),_="POST",f=t.maxUploadRetryTime,g=new gu(v,_,ME(t,n),f);return g.urlParams=m,g.headers=o,g.body=p.uploadData(),g.errorHandler=wh(e),g}class Yp{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function LE(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ns(!1)}return ns(!!n&&(e||["active"]).indexOf(n)!==-1),n}function VX(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=VO(e,r,i),a={name:o.fullPath},l=_h(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=$O(o,n),h=t.maxUploadRetryTime;function p(v){LE(v);let _;try{_=v.getResponseHeader("X-Goog-Upload-URL")}catch{ns(!1)}return ns(iy(_)),_}const m=new gu(l,u,p,h);return m.urlParams=a,m.headers=c,m.body=d,m.errorHandler=wh(e),m}function UX(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=LE(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ns(!1)}d||ns(!1);const h=Number(d);return ns(!isNaN(h)),new Yp(h,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new gu(n,o,s,a);return l.headers=i,l.errorHandler=wh(e),l}const xR=256*1024;function jX(t,e,n,r,i,s,o,a){const l=new Yp(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw nX();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,h=d+c;let p="";c===0?p="finalize":u===c?p="upload, finalize":p="upload";const m={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${l.current}`},v=r.slice(d,h);if(v===null)throw RO();function _(E,R){const T=LE(E,["active","final"]),C=l.current+c,b=r.size();let k;return T==="final"?k=ME(e,s)(E,R):k=null,new Yp(C,b,T==="final",k)}const f="POST",g=e.maxUploadRetryTime,y=new gu(n,f,_,g);return y.headers=m,y.body=v.uploadData(),y.progressCallback=a||null,y.errorHandler=wh(t),y}const er={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function mv(t){switch(t){case"running":case"pausing":case"canceling":return er.RUNNING;case"paused":return er.PAUSED;case"success":return er.SUCCESS;case"canceled":return er.CANCELED;case"error":return er.ERROR;default:return er.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BX{constructor(e,n,r){if(cX(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class zX{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Qo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Qo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Qo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ku("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ku("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ku("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ku("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ku("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class WX extends zX{initXhr(){this.xhr_.responseType="text"}}function Wa(){return new WX}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HX{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=MO(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(vt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(PO(i.status,[]))if(s)i=CO();else{this.sleepTime=Math.max(this.sleepTime*2,KY),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(vt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=VX(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Wa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=UX(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Wa,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=xR*this._chunkMultiplier,n=new Yp(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=jX(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Wa,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){xR*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=MX(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Wa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=FX(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Wa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=IO(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=mv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new BX(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(mv(this._state)){case er.SUCCESS:Fa(this._resolve.bind(null,this.snapshot))();break;case er.CANCELED:case er.ERROR:const n=this._reject;Fa(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(mv(this._state)){case er.RUNNING:case er.PAUSED:e.next&&Fa(e.next.bind(e,this.snapshot))();break;case er.SUCCESS:e.complete&&Fa(e.complete.bind(e))();break;case er.CANCELED:case er.ERROR:e.error&&Fa(e.error.bind(e,this._error))();break;default:e.error&&Fa(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this._service=e,n instanceof yr?this._location=n:this._location=yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new pa(e,n)}get root(){const e=new yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DO(this._location.path)}get storage(){return this._service}get parent(){const e=bX(this._location.path);if(e===null)return null;const n=new yr(this._location.bucket,e);return new pa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw sX(e)}}function qX(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new HX(t,new Os(e),n)}function KX(t){t._throwIfRoot("getDownloadURL");const e=LX(t.storage,t._location,MO());return t.storage.makeRequestWithTokens(e,Wa).then(n=>{if(n===null)throw rX();return n})}function GX(t,e){const n=xX(t._location.path,e),r=new yr(t._location.bucket,n);return new pa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QX(t){return/^[A-Za-z]+:\/\//.test(t)}function YX(t,e){return new pa(t,e)}function UO(t,e){if(t instanceof $E){const n=t;if(n._bucket==null)throw tX();const r=new pa(n,n._bucket);return e!=null?UO(r,e):r}else return e!==void 0?GX(t,e):t}function XX(t,e){if(e&&QX(e)){if(t instanceof $E)return YX(t,e);throw _0("To use ref(service, url), the first argument must be a Storage instance.")}else return UO(t,e)}function PR(t,e){const n=e==null?void 0:e[SO];return n==null?null:yr.makeFromBucketSpec(n,t)}function JX(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:pA(i,t.app.options.projectId))}class $E{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=TO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=HY,this._maxUploadRetryTime=qY,this._requests=new Set,i!=null?this._bucket=yr.makeFromBucketSpec(i,this._host):this._bucket=PR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yr.makeFromBucketSpec(this._url,e):this._bucket=PR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){bR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){bR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pa(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new oX(bO());{const o=yX(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const kR="@firebase/storage",AR="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="storage";function BO(t,e,n){return t=yt(t),qX(t,e,n)}function zO(t){return t=yt(t),KX(t)}function WO(t,e){return t=yt(t),XX(t,e)}function HO(t=_w(),e){t=yt(t);const r=_g(t,jO).getImmediate({identifier:e}),i=dA("storage");return i&&ZX(r,...i),r}function ZX(t,e,n,r={}){JX(t,e,n,r)}function eJ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new $E(n,r,i,e,mo)}function tJ(){no(new cs(jO,eJ,"PUBLIC").setMultipleInstances(!0)),Ur(kR,AR,""),Ur(kR,AR,"esm2017")}tJ();const nJ={apiKey:"AIzaSyDqHW7C7SIvkp_Bp9pJrWSHONl181jPSdo",authDomain:"pract-chat.firebaseapp.com",databaseURL:"https://pract-chat-default-rtdb.firebaseio.com",projectId:"pract-chat",storageBucket:"pract-chat.appspot.com",messagingSenderId:"828679656058",appId:"1:828679656058:web:a62aff6d72a5cf8ec2e1c3",measurementId:"G-LYH1TBF56B"};EA(nJ);const Gl=Aq(),rJ=HO(),Dr=bY();var qO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},NR=pn.createContext&&pn.createContext(qO),iJ=["attr","size","title"];function sJ(t,e){if(t==null)return{};var n=oJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Xp(){return Xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xp.apply(this,arguments)}function OR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OR(Object(n),!0).forEach(function(r){aJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aJ(t,e,n){return e=lJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lJ(t){var e=uJ(t,"string");return typeof e=="symbol"?e:String(e)}function uJ(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KO(t){return t&&t.map((e,n)=>pn.createElement(e.tag,Jp({key:n},e.attr),KO(e.child)))}function Eo(t){return e=>pn.createElement(cJ,Xp({attr:Jp({},t.attr)},e),KO(t.child))}function cJ(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=sJ(t,iJ),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),pn.createElement("svg",Xp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Jp(Jp({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&pn.createElement("title",null,s),t.children)};return NR!==void 0?pn.createElement(NR.Consumer,null,n=>e(n)):e(qO)}function GO(t){return Eo({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}const dJ=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(!1),[i,s]=w.useState(""),[o,a]=w.useState(""),[l,u]=w.useState(!1),[c,d]=w.useState(""),[h,p]=w.useState(!1),[m,v]=w.useState(!1),_=Sa(),f=async C=>{C.preventDefault(),(!n||!l)&&pH(Gl,t,o).then(()=>{_("/pract-chat/chat")}).catch(b=>{b.code,b.message,console.log(b),p(!0)})},g=C=>{const b=/^[^]+@[^]+\.[a-z]{2,3}$/,k=C.target.value;e(k),k===""||!k.match(b)?(r(!0),s("Please enter a valid email address")):(r(!1),s(""))},y=C=>{const b=C.target.value;a(b),b===""||b.length<6?(u(!0),d("You must have at least 6 characters")):(u(!1),d(""))},E=()=>{v(!m)},R=()=>{const C=new _i;t2(Gl,C).then(b=>{console.log("Google Sign-In successful:",b.user),_("/pract-chat/chat")}).catch(b=>{console.error("Google Sign-In failed:",b),p(!0)})},T={container:{maxWidth:"400px",margin:"auto",padding:"50px",textAlign:"center"},p:{marginTop:"-10px",color:"#6B6B6B"},inputContainer:{margin:"0 auto",marginTop:"50px",alignItems:"center",justifyContent:"center"},btn:{width:"70%",padding:"10px",border:"none",outline:"none",backgroundColor:"black",color:"white",borderRadius:"50px",marginTop:"20px",cursor:"pointer",height:"45px",fontWeight:"600"},googleBtn:{display:"flex",alignItems:"center",justifyContent:"center",width:"70%",padding:"10px",border:"none",outline:"none",backgroundColor:"#D9D9D9",color:"black",borderRadius:"50px",marginTop:"20px",cursor:"pointer",height:"45px",fontWeight:"600",marginLeft:"60px",icon:{paddingRight:"10px"}},suggestion:{color:"#6B6B6B",marginTop:"50px"},link:{textDecoration:"none",color:"black",fontWeight:"500",cursor:"pointer"}};return S.jsxs("div",{style:T.container,children:[h?S.jsx(kk,{severity:"error",children:"Your email or password is incorrect."}):null,S.jsx("h1",{children:"Welcome Back!"}),S.jsx("p",{style:T.p,children:"Please enter your information"}),S.jsxs("div",{style:T.inputContainer,children:[S.jsx(Ac,{color:"primary",error:n,helperText:i,onChange:g,value:t,sx:{width:"70%"},id:"standard-basic",label:"Email",variant:"standard"}),S.jsxs(Ek,{sx:{alignItems:"center",position:"relative"},children:[S.jsx(Ac,{error:l,helperText:c,onChange:y,sx:{width:"70%",marginTop:"20px"},id:"standard-password-input",label:"Password",type:m?"text":"password",autoComplete:"current-password",variant:"standard"}),m?S.jsx(hw,{onClick:E,sx:{marginTop:"40px",marginLeft:"-25px",position:"absolute",cursor:"pointer"}}):S.jsx(pw,{onClick:E,sx:{marginTop:"40px",marginLeft:"-25px",position:"absolute",cursor:"pointer"}})]}),S.jsx("button",{onClick:f,style:T.btn,children:"Log In"}),S.jsxs("button",{onClick:R,style:T.googleBtn,children:[S.jsx(GO,{style:T.googleBtn.icon,size:20})," Log In with Google"]})]}),S.jsxs("p",{style:T.suggestion,children:["Don't Have an account? ",S.jsx("a",{style:T.link,onClick:()=>{_("/pract-chat/sign-up")},children:"Sign Up"})]})]})},QO=w.createContext(null),hJ=({children:t})=>{const[e,n]=w.useState(null),[r,i]=w.useState(!1);w.useEffect(()=>{_H(Gl,o=>{n(o),i(!0)})},[]);const s=()=>{wH(Gl)};return console.log(e),S.jsx(QO.Provider,{value:{user:e,logOut:s,isInitialized:r},children:t})},yu=()=>w.useContext(QO),fJ=()=>{const{user:t}=yu();return console.log(t),t?S.jsx(k1,{}):alert("You have to be logged in to get access to the chat")||S.jsx(q$,{to:"log-in"})},pJ=()=>{const{isInitialized:t}=yu();return t?S.jsx(k1,{}):S.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:S.jsx(LB,{style:{color:"darkgray"}})})};var FE={},mJ=Xd;Object.defineProperty(FE,"__esModule",{value:!0});var YO=FE.default=void 0,gJ=mJ(Jd()),yJ=S;YO=FE.default=(0,gJ.default)((0,yJ.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout");var VE={},vJ=Xd;Object.defineProperty(VE,"__esModule",{value:!0});var XO=VE.default=void 0,_J=vJ(Jd()),wJ=S;XO=VE.default=(0,_J.default)((0,wJ.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"}),"Circle");var UE={},EJ=Xd;Object.defineProperty(UE,"__esModule",{value:!0});var JO=UE.default=void 0,TJ=EJ(Jd()),SJ=S;JO=UE.default=(0,TJ.default)((0,SJ.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 11c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1m1 4h-2v-2h2z"}),"ErrorRounded");function CJ(t){return Eo({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z"},child:[]}]})(t)}function IJ(t){return Eo({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,80a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160Zm88-29.84q.06-2.16,0-4.32l14.92-18.64a8,8,0,0,0,1.48-7.06,107.21,107.21,0,0,0-10.88-26.25,8,8,0,0,0-6-3.93l-23.72-2.64q-1.48-1.56-3-3L186,40.54a8,8,0,0,0-3.94-6,107.71,107.71,0,0,0-26.25-10.87,8,8,0,0,0-7.06,1.49L130.16,40Q128,40,125.84,40L107.2,25.11a8,8,0,0,0-7.06-1.48A107.6,107.6,0,0,0,73.89,34.51a8,8,0,0,0-3.93,6L67.32,64.27q-1.56,1.49-3,3L40.54,70a8,8,0,0,0-6,3.94,107.71,107.71,0,0,0-10.87,26.25,8,8,0,0,0,1.49,7.06L40,125.84Q40,128,40,130.16L25.11,148.8a8,8,0,0,0-1.48,7.06,107.21,107.21,0,0,0,10.88,26.25,8,8,0,0,0,6,3.93l23.72,2.64q1.49,1.56,3,3L70,215.46a8,8,0,0,0,3.94,6,107.71,107.71,0,0,0,26.25,10.87,8,8,0,0,0,7.06-1.49L125.84,216q2.16.06,4.32,0l18.64,14.92a8,8,0,0,0,7.06,1.48,107.21,107.21,0,0,0,26.25-10.88,8,8,0,0,0,3.93-6l2.64-23.72q1.56-1.48,3-3L215.46,186a8,8,0,0,0,6-3.94,107.71,107.71,0,0,0,10.87-26.25,8,8,0,0,0-1.49-7.06Zm-16.1-6.5a73.93,73.93,0,0,1,0,8.68,8,8,0,0,0,1.74,5.48l14.19,17.73a91.57,91.57,0,0,1-6.23,15L187,173.11a8,8,0,0,0-5.1,2.64,74.11,74.11,0,0,1-6.14,6.14,8,8,0,0,0-2.64,5.1l-2.51,22.58a91.32,91.32,0,0,1-15,6.23l-17.74-14.19a8,8,0,0,0-5-1.75h-.48a73.93,73.93,0,0,1-8.68,0,8,8,0,0,0-5.48,1.74L100.45,215.8a91.57,91.57,0,0,1-15-6.23L82.89,187a8,8,0,0,0-2.64-5.1,74.11,74.11,0,0,1-6.14-6.14,8,8,0,0,0-5.1-2.64L46.43,170.6a91.32,91.32,0,0,1-6.23-15l14.19-17.74a8,8,0,0,0,1.74-5.48,73.93,73.93,0,0,1,0-8.68,8,8,0,0,0-1.74-5.48L40.2,100.45a91.57,91.57,0,0,1,6.23-15L69,82.89a8,8,0,0,0,5.1-2.64,74.11,74.11,0,0,1,6.14-6.14A8,8,0,0,0,82.89,69L85.4,46.43a91.32,91.32,0,0,1,15-6.23l17.74,14.19a8,8,0,0,0,5.48,1.74,73.93,73.93,0,0,1,8.68,0,8,8,0,0,0,5.48-1.74L155.55,40.2a91.57,91.57,0,0,1,15,6.23L173.11,69a8,8,0,0,0,2.64,5.1,74.11,74.11,0,0,1,6.14,6.14,8,8,0,0,0,5.1,2.64l22.58,2.51a91.32,91.32,0,0,1,6.23,15l-14.19,17.74A8,8,0,0,0,199.87,123.66Z"},child:[]}]})(t)}function RJ(t){return Eo({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,152H168V104h48a8,8,0,0,0,0-16H168V40a8,8,0,0,0-16,0V88H104V40a8,8,0,0,0-16,0V88H40a8,8,0,0,0,0,16H88v48H40a8,8,0,0,0,0,16H88v48a8,8,0,0,0,16,0V168h48v48a8,8,0,0,0,16,0V168h48a8,8,0,0,0,0-16Zm-112,0V104h48v48Z"},child:[]}]})(t)}function bJ(t){return Eo({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.404 14.596A6.5 6.5 0 1116.5 10a1.25 1.25 0 01-2.5 0 4 4 0 10-.571 2.06A2.75 2.75 0 0018 10a8 8 0 10-2.343 5.657.75.75 0 00-1.06-1.06 6.5 6.5 0 01-9.193 0zM10 7.5a2.5 2.5 0 100 5 2.5 2.5 0 000-5z",clipRule:"evenodd"},child:[]}]})(t)}const xJ="_container_cfbys_1",PJ="_section_cfbys_9",kJ="_userContainer_cfbys_17",AJ="_userContainerInfo_cfbys_21",NJ="_displayName_cfbys_24",OJ="_userInfoContainer_cfbys_33",DJ="_infoSectionContainer_cfbys_39",MJ="_infoSectionItem_cfbys_45",LJ="_label_cfbys_52",$J="_bottom_cfbys_56",FJ="_warningContainer_cfbys_63",VJ="_warningContainerInfo_cfbys_73",UJ="_logOutBtn_cfbys_76",jJ="_NoChats_cfbys_88",xt={container:xJ,section:PJ,userContainer:kJ,userContainerInfo:AJ,displayName:NJ,userInfoContainer:OJ,infoSectionContainer:DJ,infoSectionItem:MJ,label:LJ,bottom:$J,warningContainer:FJ,warningContainerInfo:VJ,logOutBtn:UJ,NoChats:jJ},BJ=()=>{const[t,e]=w.useState(!1),{user:n,logOut:r}=yu(),i=()=>{e(!0),navigator.clipboard.writeText(n.uid),setTimeout(()=>{e(!1)},5e3)};return S.jsxs("div",{className:xt.container,children:[S.jsx(h8,{open:t,message:"Copied!",anchorOrigin:{vertical:"top",horizontal:"right"},ContentProps:{style:{backgroundColor:"var(--main-color)",color:"var(--main-bg-color)",marginTop:"-10px",padding:"10px",paddingLeft:"20px",paddingRight:"0px",borderRadius:"15px"}}}),S.jsxs("div",{className:xt.section,children:[S.jsxs("div",{className:xt.userContainer,children:[S.jsx(yd,{src:n.photoURL,sx:{width:46,height:46,fontSize:27}}),S.jsxs("div",{className:xt.userContainerInfo,children:[S.jsx("h1",{className:xt.displayName,children:n.displayName}),S.jsxs("p",{children:[S.jsx(XO,{sx:{width:12,height:12,color:"var(--accent-color-mixed)"}})," Online"]})]})]}),S.jsxs("div",{className:xt.userInfoContainer,children:[S.jsx(bJ,{style:{marginTop:"5px"},size:25}),S.jsxs("div",{className:xt.infoSectionContainer,children:[S.jsx("p",{className:xt.infoSectionItem,children:n.email}),S.jsx("p",{className:xt.label,children:"Email"})]})]}),S.jsx(T8,{title:"Copy",placement:"right",children:S.jsxs("div",{className:xt.userInfoContainer,onClick:i,children:[S.jsx(RJ,{style:{marginTop:"5px"},size:25}),S.jsxs("div",{className:xt.infoSectionContainer,children:[S.jsx("p",{className:xt.infoSectionItem,children:n.uid}),S.jsx("p",{className:xt.label,children:"User ID"})]})]})}),S.jsx(M_,{variant:"middle"}),S.jsxs(DS,{to:"/pract-chat/chat",className:xt.userInfoContainer,children:[S.jsx(CJ,{style:{marginTop:"5px"},size:20}),S.jsx("div",{className:xt.infoSectionContainer,children:S.jsx("p",{className:xt.infoSectionItem,children:"Messages"})})]}),S.jsxs(DS,{to:"/pract-chat/settings",className:xt.userInfoContainer,children:[S.jsx(IJ,{style:{marginTop:"5px"},size:24}),S.jsx("div",{className:xt.infoSectionContainer,children:S.jsx("p",{className:xt.infoSectionItem,children:"Settings"})})]}),S.jsxs("div",{className:xt.bottom,children:[S.jsxs("div",{className:xt.warningContainer,children:[S.jsx(JO,{sx:{fontSize:"30px"}}),S.jsx("div",{className:xt.warningContainerInfo,children:S.jsx("p",{children:"This is a practice project, let's keep it appropriate"})})]}),S.jsxs("button",{className:xt.logOutBtn,onClick:r,children:[S.jsx(YO,{sx:{color:"var(--highlight-color)",fontSize:"21px",position:"absolute",left:"20px",top:"13px"}})," Log Out"]})]})]})]})};function zJ(t){return Eo({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},child:[]}]})(t)}var DR={};const MR="@firebase/database",LR="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZO="";function WJ(t){ZO=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HJ{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Cn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:vd(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return vs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new HJ(e)}}catch{}return new qJ},zo=eD("localStorage"),w0=eD("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const El=new vg("@firebase/database"),KJ=function(){let t=1;return function(){return t++}}(),tD=function(t){const e=a7(t),n=new n7;n.update(e);const r=n.digest();return mw.encodeByteArray(r)},Eh=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Eh.apply(null,r):typeof r=="object"?e+=Cn(r):e+=r,e+=" "}return e};let Yo=null,$R=!0;const GJ=function(t,e){G(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(El.logLevel=Ne.VERBOSE,Yo=El.log.bind(El),e&&w0.set("logging_enabled",!0)):typeof t=="function"?Yo=t:(Yo=null,w0.remove("logging_enabled"))},Fn=function(...t){if($R===!0&&($R=!1,Yo===null&&w0.get("logging_enabled")===!0&&GJ(!0)),Yo){const e=Eh.apply(null,t);Yo(e)}},Th=function(t){return function(...e){Fn(t,...e)}},E0=function(...t){const e="FIREBASE INTERNAL ERROR: "+Eh(...t);El.error(e)},ma=function(...t){const e=`FIREBASE FATAL ERROR: ${Eh(...t)}`;throw El.error(e),new Error(e)},wr=function(...t){const e="FIREBASE WARNING: "+Eh(...t);El.warn(e)},QJ=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&wr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},nD=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},YJ=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ql="[MIN_NAME]",ga="[MAX_NAME]",vu=function(t,e){if(t===e)return 0;if(t===Ql||e===ga)return-1;if(e===Ql||t===ga)return 1;{const n=FR(t),r=FR(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},XJ=function(t,e){return t===e?0:t<e?-1:1},Gu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Cn(e))},jE=function(t){if(typeof t!="object"||t===null)return Cn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Cn(e[r]),n+=":",n+=jE(t[e[r]]);return n+="}",n},rD=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Kr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const iD=function(t){G(!nD(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},JJ=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},ZJ=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},eZ=new RegExp("^-?(0*)\\d{1,10}$"),tZ=-2147483648,nZ=2147483647,FR=function(t){if(eZ.test(t)){const e=Number(t);if(e>=tZ&&e<=nZ)return e}return null},Sh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw wr("Exception was thrown by user callback.",n),e},Math.floor(0))}},rZ=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Uc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iZ{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){wr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sZ{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Fn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wr(e)}}class T0{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}T0.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="5",sD="v",oD="s",aD="r",lD="f",uD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cD="ls",dD="p",S0="ac",hD="websocket",fD="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oZ{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&zo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function aZ(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function pD(t,e,n){G(typeof e=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");let r;if(e===hD)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===fD)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);aZ(t)&&(n.ns=t.namespace);const i=[];return Kr(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lZ{constructor(){this.counters_={}}incrementCounter(e,n=1){vs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return U8(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv={},yv={};function zE(t){const e=t.toString();return gv[e]||(gv[e]=new lZ),gv[e]}function uZ(t,e){const n=t.toString();return yv[n]||(yv[n]=e()),yv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cZ{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Sh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="start",dZ="close",hZ="pLPCommand",fZ="pRTLPCB",mD="id",gD="pw",yD="ser",pZ="cb",mZ="seg",gZ="ts",yZ="d",vZ="dframe",vD=1870,_D=30,_Z=vD-_D,wZ=25e3,EZ=3e4;class ol{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Th(e),this.stats_=zE(n),this.urlFn=l=>(this.appCheckToken&&(l[S0]=this.appCheckToken),pD(n,fD,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new cZ(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(EZ)),YJ(()=>{if(this.isClosed_)return;this.scriptTagHolder=new WE((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===VR)this.id=a,this.password=l;else if(o===dZ)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[VR]="t",r[yD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[pZ]=this.scriptTagHolder.uniqueCallbackIdentifier),r[sD]=BE,this.transportSessionId&&(r[oD]=this.transportSessionId),this.lastSessionId&&(r[cD]=this.lastSessionId),this.applicationId&&(r[dD]=this.applicationId),this.appCheckToken&&(r[S0]=this.appCheckToken),typeof location<"u"&&location.hostname&&uD.test(location.hostname)&&(r[aD]=lD);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ol.forceAllow_=!0}static forceDisallow(){ol.forceDisallow_=!0}static isAvailable(){return ol.forceAllow_?!0:!ol.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!JJ()&&!ZJ()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Cn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=lA(n),i=rD(r,_Z);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[vZ]="t",r[mD]=e,r[gD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Cn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class WE{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=KJ(),window[hZ+this.uniqueCallbackIdentifier]=e,window[fZ+this.uniqueCallbackIdentifier]=n,this.myIFrame=WE.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Fn("frame writing exception"),a.stack&&Fn(a.stack),Fn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Fn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[mD]=this.myID,e[gD]=this.myPW,e[yD]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+_D+r.length<=vD;){const o=this.pendingSegs.shift();r=r+"&"+mZ+i+"="+o.seg+"&"+gZ+i+"="+o.ts+"&"+yZ+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(wZ)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Fn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TZ=16384,SZ=45e3;let Zp=null;typeof MozWebSocket<"u"?Zp=MozWebSocket:typeof WebSocket<"u"&&(Zp=WebSocket);class ri{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Th(this.connId),this.stats_=zE(n),this.connURL=ri.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[sD]=BE,typeof location<"u"&&location.hostname&&uD.test(location.hostname)&&(o[aD]=lD),n&&(o[oD]=n),r&&(o[cD]=r),i&&(o[S0]=i),s&&(o[dD]=s),pD(e,hD,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zo.set("previous_websocket_failure",!0);try{let r;gA(),this.mySock=new Zp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ri.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Zp!==null&&!ri.forceDisallow_}static previouslyFailed(){return zo.isInMemoryStorage||zo.get("previous_websocket_failure")===!0}markConnectionHealthy(){zo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=vd(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Cn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=rD(n,TZ);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(SZ))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ri.responsesRequiredToBeHealthy=2;ri.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ol,ri]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ri&&ri.isAvailable();let r=n&&!ri.previouslyFailed();if(e.webSocketOnly&&(n||wr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ri];else{const i=this.transports_=[];for(const s of Ld.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Ld.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ld.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CZ=6e4,IZ=5e3,RZ=10*1024,bZ=100*1024,vv="t",UR="d",xZ="s",jR="r",PZ="e",BR="o",zR="a",WR="n",HR="p",kZ="h";class AZ{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Th("c:"+this.id+":"),this.transportManager_=new Ld(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Uc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>bZ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>RZ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(vv in e){const n=e[vv];n===zR?this.upgradeIfSecondaryHealthy_():n===jR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===BR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Gu("t",e),r=Gu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:HR,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:zR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:WR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Gu("t",e),r=Gu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Gu(vv,e);if(UR in e){const r=e[UR];if(n===kZ){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===WR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===xZ?this.onConnectionShutdown_(r):n===jR?this.onReset_(r):n===PZ?E0("Server Error: "+r):n===BR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),BE!==r&&wr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Uc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(CZ))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Uc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(IZ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:HR,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){G(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em extends ED{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!yw()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new em}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=32,KR=768;class _t{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function it(){return new _t("")}function je(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function oo(t){return t.pieces_.length-t.pieceNum_}function ft(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new _t(t.pieces_,e)}function TD(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function NZ(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function SD(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function CD(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new _t(e,0)}function fn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof _t)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new _t(n,0)}function Ve(t){return t.pieceNum_>=t.pieces_.length}function $r(t,e){const n=je(t),r=je(e);if(n===null)return e;if(n===r)return $r(ft(t),ft(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function ID(t,e){if(oo(t)!==oo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ii(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(oo(t)>oo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class OZ{constructor(e,n){this.errorPrefix_=n,this.parts_=SD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=yg(this.parts_[r]);RD(this)}}function DZ(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=yg(e),RD(t)}function MZ(t){const e=t.parts_.pop();t.byteLength_-=yg(e),t.parts_.length>0&&(t.byteLength_-=1)}function RD(t){if(t.byteLength_>KR)throw new Error(t.errorPrefix_+"has a key path longer than "+KR+" bytes ("+t.byteLength_+").");if(t.parts_.length>qR)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+qR+") or object contains a cycle "+Po(t))}function Po(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE extends ED{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new HE}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=1e3,LZ=60*5*1e3,GR=30*1e3,$Z=1.3,FZ=3e4,VZ="server_kill",QR=3;class rs extends wD{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=rs.nextPersistentConnectionId_++,this.log_=Th("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Qu,this.maxReconnectDelay_=LZ,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!gA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");HE.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&em.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(Cn(s)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new gw,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;rs.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&vs(e,"w")){const r=$l(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();wr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||t7(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=GR)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=e7(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Cn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):E0("Unrecognized action received from server: "+Cn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Qu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Qu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>FZ&&(this.reconnectDelay_=Qu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*$Z)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+rs.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){G(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Fn("getToken() completed but was canceled"):(Fn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new AZ(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{wr(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(VZ)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&wr(d),l())}}}interrupt(e){Fn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Fn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],F_(this.interruptReasons_)&&(this.reconnectDelay_=Qu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>jE(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new _t(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Fn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=QR&&(this.reconnectDelay_=GR,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Fn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=QR&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+ZO.replace(/\./g,"-")]=1,yw()?e["framework.cordova"]=1:mA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=em.getInstance().currentlyOnline();return F_(this.interruptReasons_)&&e}}rs.nextPersistentConnectionId_=0;rs.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Be(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Be(Ql,e),i=new Be(Ql,n);return this.compare(r,i)!==0}minPost(){return Be.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let df;class bD extends sy{static get __EMPTY_NODE(){return df}static set __EMPTY_NODE(e){df=e}compare(e,n){return vu(e.name,n.name)}isDefinedOn(e){throw au("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Be.MIN}maxPost(){return new Be(ga,df)}makePost(e,n){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new Be(e,df)}toString(){return".key"}}const Tl=new bD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class hn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??hn.RED,this.left=i??ir.EMPTY_NODE,this.right=s??ir.EMPTY_NODE}copy(e,n,r,i,s){return new hn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ir.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ir.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}hn.RED=!0;hn.BLACK=!1;class UZ{copy(e,n,r,i,s){return this}insert(e,n,r){return new hn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ir{constructor(e,n=ir.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ir(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,hn.BLACK,null,null))}remove(e){return new ir(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,hn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new hf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new hf(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new hf(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new hf(this.root_,null,this.comparator_,!0,e)}}ir.EMPTY_NODE=new UZ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jZ(t,e){return vu(t.name,e.name)}function qE(t,e){return vu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let C0;function BZ(t){C0=t}const xD=function(t){return typeof t=="number"?"number:"+iD(t):"string:"+t},PD=function(t){if(t.isLeafNode()){const e=t.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&vs(e,".sv"),"Priority must be a string or number.")}else G(t===C0||t.isEmpty(),"priority of unexpected type.");G(t===C0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YR;class un{constructor(e,n=un.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),PD(this.priorityNode_)}static set __childrenNodeConstructor(e){YR=e}static get __childrenNodeConstructor(){return YR}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new un(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:un.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ve(e)?this:je(e)===".priority"?this.priorityNode_:un.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:un.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=je(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(G(r!==".priority"||oo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,un.__childrenNodeConstructor.EMPTY_NODE.updateChild(ft(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+xD(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=iD(this.value_):e+=this.value_,this.lazyHash_=tD(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===un.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof un.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=un.VALUE_TYPE_ORDER.indexOf(n),s=un.VALUE_TYPE_ORDER.indexOf(r);return G(i>=0,"Unknown leaf type: "+n),G(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}un.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kD,AD;function zZ(t){kD=t}function WZ(t){AD=t}class HZ extends sy{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?vu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Be.MIN}maxPost(){return new Be(ga,new un("[PRIORITY-POST]",AD))}makePost(e,n){const r=kD(e);return new Be(n,new un("[PRIORITY-POST]",r))}toString(){return".priority"}}const Un=new HZ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qZ=Math.log(2);class KZ{constructor(e){const n=s=>parseInt(Math.log(s)/qZ,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const tm=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new hn(h,d.node,hn.BLACK,null,null);{const p=parseInt(c/2,10)+l,m=i(l,p),v=i(p+1,u);return d=t[p],h=n?n(d):d,new hn(h,d.node,hn.BLACK,m,v)}},s=function(l){let u=null,c=null,d=t.length;const h=function(m,v){const _=d-m,f=d;d-=m;const g=i(_+1,f),y=t[_],E=n?n(y):y;p(new hn(E,y.node,v,null,g))},p=function(m){u?(u.left=m,u=m):(c=m,u=m)};for(let m=0;m<l.count;++m){const v=l.nextBitIsOne(),_=Math.pow(2,l.count-(m+1));v?h(_,hn.BLACK):(h(_,hn.BLACK),h(_,hn.RED))}return c},o=new KZ(t.length),a=s(o);return new ir(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _v;const Va={};class Zi{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return G(Va&&Un,"ChildrenNode.ts has not been loaded"),_v=_v||new Zi({".priority":Va},{".priority":Un}),_v}get(e){const n=$l(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ir?n:null}hasIndex(e){return vs(this.indexSet_,e.toString())}addIndex(e,n){G(e!==Tl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Be.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=tm(r,e.getCompare()):a=Va;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Zi(c,u)}addToIndexes(e,n){const r=bp(this.indexes_,(i,s)=>{const o=$l(this.indexSet_,s);if(G(o,"Missing index implementation for "+s),i===Va)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Be.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),tm(a,o.getCompare())}else return Va;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Be(e.name,a))),l.insert(e,e.node)}});return new Zi(r,this.indexSet_)}removeFromIndexes(e,n){const r=bp(this.indexes_,i=>{if(i===Va)return i;{const s=n.get(e.name);return s?i.remove(new Be(e.name,s)):i}});return new Zi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu;class Ye{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&PD(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Yu||(Yu=new Ye(new ir(qE),null,Zi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Yu}updatePriority(e){return this.children_.isEmpty()?this:new Ye(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Yu:n}}getChild(e){const n=je(e);return n===null?this:this.getImmediateChild(n).getChild(ft(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(G(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Be(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Yu:this.priorityNode_;return new Ye(i,o,s)}}updateChild(e,n){const r=je(e);if(r===null)return n;{G(je(e)!==".priority"||oo(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(ft(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Un,(o,a)=>{n[o]=a.val(e),r++,s&&Ye.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+xD(this.getPriority().val())+":"),this.forEachChild(Un,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":tD(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Be(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Be(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Be(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Be.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Be.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ch?-1:0}withIndex(e){if(e===Tl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ye(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Tl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Un),i=n.getIterator(Un);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Tl?null:this.indexMap_.get(e.toString())}}Ye.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class GZ extends Ye{constructor(){super(new ir(qE),Ye.EMPTY_NODE,Zi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ye.EMPTY_NODE}isEmpty(){return!1}}const Ch=new GZ;Object.defineProperties(Be,{MIN:{value:new Be(Ql,Ye.EMPTY_NODE)},MAX:{value:new Be(ga,Ch)}});bD.__EMPTY_NODE=Ye.EMPTY_NODE;un.__childrenNodeConstructor=Ye;BZ(Ch);WZ(Ch);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QZ=!0;function Vn(t,e=null){if(t===null)return Ye.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new un(n,Vn(e))}if(!(t instanceof Array)&&QZ){const n=[];let r=!1;if(Kr(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Vn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Be(o,l)))}}),n.length===0)return Ye.EMPTY_NODE;const s=tm(n,jZ,o=>o.name,qE);if(r){const o=tm(n,Un.getCompare());return new Ye(s,Vn(e),new Zi({".priority":o},{".priority":Un}))}else return new Ye(s,Vn(e),Zi.Default)}else{let n=Ye.EMPTY_NODE;return Kr(t,(r,i)=>{if(vs(t,r)&&r.substring(0,1)!=="."){const s=Vn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Vn(e))}}zZ(Vn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YZ extends sy{constructor(e){super(),this.indexPath_=e,G(!Ve(e)&&je(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?vu(e.name,n.name):s}makePost(e,n){const r=Vn(e),i=Ye.EMPTY_NODE.updateChild(this.indexPath_,r);return new Be(n,i)}maxPost(){const e=Ye.EMPTY_NODE.updateChild(this.indexPath_,Ch);return new Be(ga,e)}toString(){return SD(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XZ extends sy{compare(e,n){const r=e.node.compareTo(n.node);return r===0?vu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Be.MIN}maxPost(){return Be.MAX}makePost(e,n){const r=Vn(e);return new Be(n,r)}toString(){return".value"}}const JZ=new XZ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZZ(t){return{type:"value",snapshotNode:t}}function eee(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function tee(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function XR(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function nee(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Un}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ql}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ga}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Un}copy(){const e=new KE;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function JR(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Un?n="$priority":t.index_===JZ?n="$value":t.index_===Tl?n="$key":(G(t.index_ instanceof YZ,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Cn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Cn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Cn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Cn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Cn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ZR(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Un&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm extends wD{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Th("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=nm.getListenId_(e,r),a={};this.listens_[o]=a;const l=JR(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),$l(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=nm.getListenId_(e,n);delete this.listens_[r]}get(e){const n=JR(e._queryParams),r=e._path.toString(),i=new gw;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+lu(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=vd(a.responseText)}catch{wr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&wr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ree{constructor(){this.rootNode_=Ye.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(){return{value:null,children:new Map}}function ND(t,e,n){if(Ve(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=je(e);t.children.has(r)||t.children.set(r,rm());const i=t.children.get(r);e=ft(e),ND(i,e,n)}}function I0(t,e,n){t.value!==null?n(e,t.value):iee(t,(r,i)=>{const s=new _t(e.toString()+"/"+r);I0(i,s,n)})}function iee(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class see{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Kr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=10*1e3,oee=30*1e3,aee=5*60*1e3;class lee{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new see(e);const r=eb+(oee-eb)*Math.random();Uc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Kr(e,(i,s)=>{s>0&&vs(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Uc(this.reportStats_.bind(this),Math.floor(Math.random()*2*aee))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ci;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ci||(Ci={}));function OD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function DD(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function MD(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ci.ACK_USER_WRITE,this.source=OD()}operationForChild(e){if(Ve(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new _t(e));return new im(it(),n,this.revert)}}else return G(je(this.path)===e,"operationForChild called for unrelated child."),new im(ft(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ci.OVERWRITE}operationForChild(e){return Ve(this.path)?new ya(this.source,it(),this.snap.getImmediateChild(e)):new ya(this.source,ft(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ci.MERGE}operationForChild(e){if(Ve(this.path)){const n=this.children.subtree(new _t(e));return n.isEmpty()?null:n.value?new ya(this.source,it(),n.value):new $d(this.source,it(),n)}else return G(je(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new $d(this.source,ft(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ve(e))return this.isFullyInitialized()&&!this.filtered_;const n=je(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function uee(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(nee(o.childName,o.snapshotNode))}),Xu(t,i,"child_removed",e,r,n),Xu(t,i,"child_added",e,r,n),Xu(t,i,"child_moved",s,r,n),Xu(t,i,"child_changed",e,r,n),Xu(t,i,"value",e,r,n),i}function Xu(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>dee(t,a,l)),o.forEach(a=>{const l=cee(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function cee(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function dee(t,e,n){if(e.childName==null||n.childName==null)throw au("Should only compare child_ events.");const r=new Be(e.childName,e.snapshotNode),i=new Be(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(t,e){return{eventCache:t,serverCache:e}}function jc(t,e,n,r){return LD(new GE(e,n,r),t.serverCache)}function $D(t,e,n,r){return LD(t.eventCache,new GE(e,n,r))}function R0(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function va(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wv;const hee=()=>(wv||(wv=new ir(XJ)),wv);class ht{constructor(e,n=hee()){this.value=e,this.children=n}static fromObject(e){let n=new ht(null);return Kr(e,(r,i)=>{n=n.set(new _t(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:it(),value:this.value};if(Ve(e))return null;{const r=je(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(ft(e),n);return s!=null?{path:fn(new _t(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ve(e))return this;{const n=je(e),r=this.children.get(n);return r!==null?r.subtree(ft(e)):new ht(null)}}set(e,n){if(Ve(e))return new ht(n,this.children);{const r=je(e),s=(this.children.get(r)||new ht(null)).set(ft(e),n),o=this.children.insert(r,s);return new ht(this.value,o)}}remove(e){if(Ve(e))return this.children.isEmpty()?new ht(null):new ht(null,this.children);{const n=je(e),r=this.children.get(n);if(r){const i=r.remove(ft(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ht(null):new ht(this.value,s)}else return this}}get(e){if(Ve(e))return this.value;{const n=je(e),r=this.children.get(n);return r?r.get(ft(e)):null}}setTree(e,n){if(Ve(e))return n;{const r=je(e),s=(this.children.get(r)||new ht(null)).setTree(ft(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ht(this.value,o)}}fold(e){return this.fold_(it(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(fn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,it(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Ve(e))return null;{const s=je(e),o=this.children.get(s);return o?o.findOnPath_(ft(e),fn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,it(),n)}foreachOnPath_(e,n,r){if(Ve(e))return this;{this.value&&r(n,this.value);const i=je(e),s=this.children.get(i);return s?s.foreachOnPath_(ft(e),fn(n,i),r):new ht(null)}}foreach(e){this.foreach_(it(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(fn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.writeTree_=e}static empty(){return new ai(new ht(null))}}function Bc(t,e,n){if(Ve(e))return new ai(new ht(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=$r(i,e);return s=s.updateChild(o,n),new ai(t.writeTree_.set(i,s))}else{const i=new ht(n),s=t.writeTree_.setTree(e,i);return new ai(s)}}}function tb(t,e,n){let r=t;return Kr(n,(i,s)=>{r=Bc(r,fn(e,i),s)}),r}function nb(t,e){if(Ve(e))return ai.empty();{const n=t.writeTree_.setTree(e,new ht(null));return new ai(n)}}function b0(t,e){return xa(t,e)!=null}function xa(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild($r(n.path,e)):null}function rb(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Un,(r,i)=>{e.push(new Be(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Be(r,i.value))}),e}function Ys(t,e){if(Ve(e))return t;{const n=xa(t,e);return n!=null?new ai(new ht(n)):new ai(t.writeTree_.subtree(e))}}function x0(t){return t.writeTree_.isEmpty()}function Yl(t,e){return FD(it(),t.writeTree_,e)}function FD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(G(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=FD(fn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(fn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VD(t,e){return WD(e,t)}function fee(t,e,n,r,i){G(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Bc(t.visibleWrites,e,n)),t.lastWriteId=r}function pee(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function mee(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);G(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&gee(a,r.path)?i=!1:ii(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return yee(t),!0;if(r.snap)t.visibleWrites=nb(t.visibleWrites,r.path);else{const a=r.children;Kr(a,l=>{t.visibleWrites=nb(t.visibleWrites,fn(r.path,l))})}return!0}else return!1}function gee(t,e){if(t.snap)return ii(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ii(fn(t.path,n),e))return!0;return!1}function yee(t){t.visibleWrites=UD(t.allWrites,vee,it()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function vee(t){return t.visible}function UD(t,e,n){let r=ai.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)ii(n,o)?(a=$r(n,o),r=Bc(r,a,s.snap)):ii(o,n)&&(a=$r(o,n),r=Bc(r,it(),s.snap.getChild(a)));else if(s.children){if(ii(n,o))a=$r(n,o),r=tb(r,a,s.children);else if(ii(o,n))if(a=$r(o,n),Ve(a))r=tb(r,it(),s.children);else{const l=$l(s.children,je(a));if(l){const u=l.getChild(ft(a));r=Bc(r,it(),u)}}}else throw au("WriteRecord should have .snap or .children")}}return r}function jD(t,e,n,r,i){if(!r&&!i){const s=xa(t.visibleWrites,e);if(s!=null)return s;{const o=Ys(t.visibleWrites,e);if(x0(o))return n;if(n==null&&!b0(o,it()))return null;{const a=n||Ye.EMPTY_NODE;return Yl(o,a)}}}else{const s=Ys(t.visibleWrites,e);if(!i&&x0(s))return n;if(!i&&n==null&&!b0(s,it()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(ii(u.path,e)||ii(e,u.path))},a=UD(t.allWrites,o,e),l=n||Ye.EMPTY_NODE;return Yl(a,l)}}}function _ee(t,e,n){let r=Ye.EMPTY_NODE;const i=xa(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Un,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Ys(t.visibleWrites,e);return n.forEachChild(Un,(o,a)=>{const l=Yl(Ys(s,new _t(o)),a);r=r.updateImmediateChild(o,l)}),rb(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Ys(t.visibleWrites,e);return rb(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function wee(t,e,n,r,i){G(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=fn(e,n);if(b0(t.visibleWrites,s))return null;{const o=Ys(t.visibleWrites,s);return x0(o)?i.getChild(n):Yl(o,i.getChild(n))}}function Eee(t,e,n,r){const i=fn(e,n),s=xa(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Ys(t.visibleWrites,i);return Yl(o,r.getNode().getImmediateChild(n))}else return null}function Tee(t,e){return xa(t.visibleWrites,e)}function See(t,e,n,r,i,s,o){let a;const l=Ys(t.visibleWrites,e),u=xa(l,it());if(u!=null)a=u;else if(n!=null)a=Yl(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=h.getNext();for(;p&&c.length<i;)d(p,r)!==0&&c.push(p),p=h.getNext();return c}else return[]}function Cee(){return{visibleWrites:ai.empty(),allWrites:[],lastWriteId:-1}}function P0(t,e,n,r){return jD(t.writeTree,t.treePath,e,n,r)}function BD(t,e){return _ee(t.writeTree,t.treePath,e)}function ib(t,e,n,r){return wee(t.writeTree,t.treePath,e,n,r)}function sm(t,e){return Tee(t.writeTree,fn(t.treePath,e))}function Iee(t,e,n,r,i,s){return See(t.writeTree,t.treePath,e,n,r,i,s)}function QE(t,e,n){return Eee(t.writeTree,t.treePath,e,n)}function zD(t,e){return WD(fn(t.treePath,e),t.writeTree)}function WD(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ree{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,XR(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,tee(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,eee(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,XR(r,e.snapshotNode,i.oldSnap));else throw au("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bee{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const HD=new bee;class YE{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new GE(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return QE(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:va(this.viewCache_),s=Iee(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function xee(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Pee(t,e,n,r,i){const s=new Ree;let o,a;if(n.type===Ci.OVERWRITE){const u=n;u.source.fromUser?o=k0(t,e,u.path,u.snap,r,i,s):(G(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Ve(u.path),o=om(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Ci.MERGE){const u=n;u.source.fromUser?o=Aee(t,e,u.path,u.children,r,i,s):(G(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=A0(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Ci.ACK_USER_WRITE){const u=n;u.revert?o=Dee(t,e,u.path,r,i,s):o=Nee(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Ci.LISTEN_COMPLETE)o=Oee(t,e,n.path,r,s);else throw au("Unknown operation type: "+n.type);const l=s.getChanges();return kee(e,o,l),{viewCache:o,changes:l}}function kee(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=R0(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(ZZ(R0(e)))}}function qD(t,e,n,r,i,s){const o=e.eventCache;if(sm(r,n)!=null)return e;{let a,l;if(Ve(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=va(e),c=u instanceof Ye?u:Ye.EMPTY_NODE,d=BD(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=P0(r,va(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=je(n);if(u===".priority"){G(oo(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=ib(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=ft(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=ib(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=QE(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return jc(e,a,o.isFullyInitialized()||Ve(n),t.filter.filtersNodes())}}function om(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(Ve(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=je(n);if(!l.isCompleteForPath(n)&&oo(n)>1)return e;const m=ft(n),_=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?u=c.updatePriority(l.getNode(),_):u=c.updateChild(l.getNode(),p,_,m,HD,null)}const d=$D(e,u,l.isFullyInitialized()||Ve(n),c.filtersNodes()),h=new YE(i,d,s);return qD(t,d,n,i,h,a)}function k0(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new YE(i,e,s);if(Ve(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=jc(e,u,!0,t.filter.filtersNodes());else{const d=je(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=jc(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=ft(n),p=a.getNode().getImmediateChild(d);let m;if(Ve(h))m=r;else{const v=c.getCompleteChild(d);v!=null?TD(h)===".priority"&&v.getChild(CD(h)).isEmpty()?m=v:m=v.updateChild(h,r):m=Ye.EMPTY_NODE}if(p.equals(m))l=e;else{const v=t.filter.updateChild(a.getNode(),d,m,h,c,o);l=jc(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function sb(t,e){return t.eventCache.isCompleteForChild(e)}function Aee(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=fn(n,l);sb(e,je(c))&&(a=k0(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=fn(n,l);sb(e,je(c))||(a=k0(t,a,c,u,i,s,o))}),a}function ob(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function A0(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Ve(n)?u=r:u=new ht(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),m=ob(t,p,h);l=om(t,l,new _t(d),m,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const p=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!p){const m=e.serverCache.getNode().getImmediateChild(d),v=ob(t,m,h);l=om(t,l,new _t(d),v,i,s,o,a)}}),l}function Nee(t,e,n,r,i,s,o){if(sm(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Ve(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return om(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Ve(n)){let u=new ht(null);return l.getNode().forEachChild(Tl,(c,d)=>{u=u.set(new _t(c),d)}),A0(t,e,n,u,i,s,a,o)}else return e}else{let u=new ht(null);return r.foreach((c,d)=>{const h=fn(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),A0(t,e,n,u,i,s,a,o)}}function Oee(t,e,n,r,i){const s=e.serverCache,o=$D(e,s.getNode(),s.isFullyInitialized()||Ve(n),s.isFiltered());return qD(t,o,n,r,HD,i)}function Dee(t,e,n,r,i,s){let o;if(sm(r,n)!=null)return e;{const a=new YE(r,e,i),l=e.eventCache.getNode();let u;if(Ve(n)||je(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=P0(r,va(e));else{const d=e.serverCache.getNode();G(d instanceof Ye,"serverChildren would be complete if leaf node"),c=BD(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=je(n);let d=QE(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,ft(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Ye.EMPTY_NODE,ft(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=P0(r,va(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||sm(r,it())!=null,jc(e,u,o,t.filter.filtersNodes())}}function Mee(t,e){const n=va(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ve(e)&&!n.getImmediateChild(je(e)).isEmpty())?n.getChild(e):null}function ab(t,e,n,r){e.type===Ci.MERGE&&e.source.queryId!==null&&(G(va(t.viewCache_),"We should always have a full cache before handling merges"),G(R0(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Pee(t.processor_,i,e,n,r);return xee(t.processor_,s.viewCache),G(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Lee(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Lee(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return uee(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lb;function $ee(t){G(!lb,"__referenceConstructor has already been defined"),lb=t}function XE(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return G(s!=null,"SyncTree gave us an op for an invalid query."),ab(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(ab(o,e,n,r));return s}}function JE(t,e){let n=null;for(const r of t.views.values())n=n||Mee(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ub;function Fee(t){G(!ub,"__referenceConstructor has already been defined"),ub=t}class cb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ht(null),this.pendingWriteTree_=Cee(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Vee(t,e,n,r,i){return fee(t.pendingWriteTree_,e,n,r,i),i?ay(t,new ya(OD(),e,n)):[]}function al(t,e,n=!1){const r=pee(t.pendingWriteTree_,e);if(mee(t.pendingWriteTree_,e)){let s=new ht(null);return r.snap!=null?s=s.set(it(),!0):Kr(r.children,o=>{s=s.set(new _t(o),!0)}),ay(t,new im(r.path,s,n))}else return[]}function oy(t,e,n){return ay(t,new ya(DD(),e,n))}function Uee(t,e,n){const r=ht.fromObject(n);return ay(t,new $d(DD(),e,r))}function jee(t,e,n,r){const i=YD(t,r);if(i!=null){const s=XD(i),o=s.path,a=s.queryId,l=$r(o,e),u=new ya(MD(a),l,n);return JD(t,o,u)}else return[]}function Bee(t,e,n,r){const i=YD(t,r);if(i){const s=XD(i),o=s.path,a=s.queryId,l=$r(o,e),u=ht.fromObject(n),c=new $d(MD(a),l,u);return JD(t,o,c)}else return[]}function KD(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=$r(o,e),u=JE(a,l);if(u)return u});return jD(i,e,s,n,!0)}function ay(t,e){return GD(e,t.syncPointTree_,null,VD(t.pendingWriteTree_,it()))}function GD(t,e,n,r){if(Ve(t.path))return QD(t,e,n,r);{const i=e.get(it());n==null&&i!=null&&(n=JE(i,it()));let s=[];const o=je(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=zD(r,o);s=s.concat(GD(a,l,u,c))}return i&&(s=s.concat(XE(i,t,r,n))),s}}function QD(t,e,n,r){const i=e.get(it());n==null&&i!=null&&(n=JE(i,it()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=zD(r,o),c=t.operationForChild(o);c&&(s=s.concat(QD(c,a,l,u)))}),i&&(s=s.concat(XE(i,t,r,n))),s}function YD(t,e){return t.tagToQueryMap.get(e)}function XD(t){const e=t.indexOf("$");return G(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new _t(t.substr(0,e))}}function JD(t,e,n){const r=t.syncPointTree_.get(e);G(r,"Missing sync point for query tag that we're tracking");const i=VD(t.pendingWriteTree_,e);return XE(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new ZE(n)}node(){return this.node_}}class eT{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=fn(this.path_,e);return new eT(this.syncTree_,n)}node(){return KD(this.syncTree_,this.path_)}}const zee=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},db=function(t,e,n){if(!t||typeof t!="object")return t;if(G(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Wee(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Hee(t[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Wee=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+t)}},Hee=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&G(!1,"Unexpected increment value: "+r);const i=e.node();if(G(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},qee=function(t,e,n,r){return tT(e,new eT(n,t),r)},Kee=function(t,e,n){return tT(t,new ZE(e),n)};function tT(t,e,n){const r=t.getPriority().val(),i=db(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=db(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new un(a,Vn(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new un(i))),o.forEachChild(Un,(a,l)=>{const u=tT(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function rT(t,e){let n=e instanceof _t?e:new _t(e),r=t,i=je(n);for(;i!==null;){const s=$l(r.node.children,i)||{children:{},childCount:0};r=new nT(i,r,s),n=ft(n),i=je(n)}return r}function _u(t){return t.node.value}function ZD(t,e){t.node.value=e,N0(t)}function eM(t){return t.node.childCount>0}function Gee(t){return _u(t)===void 0&&!eM(t)}function ly(t,e){Kr(t.node.children,(n,r)=>{e(new nT(n,t,r))})}function tM(t,e,n,r){n&&!r&&e(t),ly(t,i=>{tM(i,e,!0,r)}),n&&r&&e(t)}function Qee(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ih(t){return new _t(t.parent===null?t.name:Ih(t.parent)+"/"+t.name)}function N0(t){t.parent!==null&&Yee(t.parent,t.name,t)}function Yee(t,e,n){const r=Gee(n),i=vs(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,N0(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,N0(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xee=/[\[\].#$\/\u0000-\u001F\u007F]/,Jee=/[\[\].#$\u0000-\u001F\u007F]/,Ev=10*1024*1024,nM=function(t){return typeof t=="string"&&t.length!==0&&!Xee.test(t)},Zee=function(t){return typeof t=="string"&&t.length!==0&&!Jee.test(t)},ete=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Zee(t)},rM=function(t,e,n){const r=n instanceof _t?new OZ(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Po(r));if(typeof e=="function")throw new Error(t+"contains a function "+Po(r)+" with contents = "+e.toString());if(nD(e))throw new Error(t+"contains "+e.toString()+" "+Po(r));if(typeof e=="string"&&e.length>Ev/3&&yg(e)>Ev)throw new Error(t+"contains a string greater than "+Ev+" utf8 bytes "+Po(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Kr(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!nM(o)))throw new Error(t+" contains an invalid key ("+o+") "+Po(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);DZ(r,o),rM(t,a,r),MZ(r)}),i&&s)throw new Error(t+' contains ".value" child '+Po(r)+" in addition to actual children.")}},tte=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!nM(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!ete(n))throw new Error(o7(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nte{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function rte(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!ID(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Pa(t,e,n){rte(t,n),ite(t,r=>ii(r,e)||ii(e,r))}function ite(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(ste(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function ste(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Yo&&Fn("event: "+n.toString()),Sh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ote="repo_interrupt",ate=25;class lte{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nte,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=rm(),this.transactionQueueTree_=new nT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function ute(t,e,n){if(t.stats_=zE(t.repoInfo_),t.forceRestClient_||rZ())t.server_=new nm(t.repoInfo_,(r,i,s,o)=>{hb(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>fb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Cn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new rs(t.repoInfo_,e,(r,i,s,o)=>{hb(t,r,i,s,o)},r=>{fb(t,r)},r=>{dte(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=uZ(t.repoInfo_,()=>new lee(t.stats_,t.server_)),t.infoData_=new ree,t.infoSyncTree_=new cb({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=oy(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),iT(t,"connected",!1),t.serverSyncTree_=new cb({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Pa(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function cte(t){const n=t.infoData_.getNode(new _t(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function iM(t){return zee({timestamp:cte(t)})}function hb(t,e,n,r,i){t.dataUpdateCount++;const s=new _t(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=bp(n,u=>Vn(u));o=Bee(t.serverSyncTree_,s,l,i)}else{const l=Vn(n);o=jee(t.serverSyncTree_,s,l,i)}else if(r){const l=bp(n,u=>Vn(u));o=Uee(t.serverSyncTree_,s,l)}else{const l=Vn(n);o=oy(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=oT(t,s)),Pa(t.eventQueue_,a,o)}function fb(t,e){iT(t,"connected",e),e===!1&&fte(t)}function dte(t,e){Kr(e,(n,r)=>{iT(t,n,r)})}function iT(t,e,n){const r=new _t("/.info/"+e),i=Vn(n);t.infoData_.updateSnapshot(r,i);const s=oy(t.infoSyncTree_,r,i);Pa(t.eventQueue_,r,s)}function hte(t){return t.nextWriteId_++}function fte(t){sM(t,"onDisconnectEvents");const e=iM(t),n=rm();I0(t.onDisconnect_,it(),(i,s)=>{const o=qee(i,s,t.serverSyncTree_,e);ND(n,i,o)});let r=[];I0(n,it(),(i,s)=>{r=r.concat(oy(t.serverSyncTree_,i,s));const o=yte(t,i);oT(t,o)}),t.onDisconnect_=rm(),Pa(t.eventQueue_,it(),r)}function pte(t){t.persistentConnection_&&t.persistentConnection_.interrupt(ote)}function sM(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Fn(n,...e)}function oM(t,e,n){return KD(t.serverSyncTree_,e,n)||Ye.EMPTY_NODE}function sT(t,e=t.transactionQueueTree_){if(e||uy(t,e),_u(e)){const n=lM(t,e);G(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&mte(t,Ih(e),n)}else eM(e)&&ly(e,n=>{sT(t,n)})}function mte(t,e,n){const r=n.map(u=>u.currentWriteId),i=oM(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];G(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=$r(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{sM(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(al(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();uy(t,rT(t.transactionQueueTree_,e)),sT(t,t.transactionQueueTree_),Pa(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)Sh(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{wr("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}oT(t,e)}},o)}function oT(t,e){const n=aM(t,e),r=Ih(n),i=lM(t,n);return gte(t,i,r),r}function gte(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=$r(n,l.path);let c=!1,d;if(G(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(al(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=ate)c=!0,d="maxretry",i=i.concat(al(t.serverSyncTree_,l.currentWriteId,!0));else{const h=oM(t,l.path,o);l.currentInputSnapshot=h;const p=e[a].update(h.val());if(p!==void 0){rM("transaction failed: Data returned ",p,l.path);let m=Vn(p);typeof p=="object"&&p!=null&&vs(p,".priority")||(m=m.updatePriority(h.getPriority()));const _=l.currentWriteId,f=iM(t),g=Kee(m,h,f);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=g,l.currentWriteId=hte(t),o.splice(o.indexOf(_),1),i=i.concat(Vee(t.serverSyncTree_,l.path,g,l.currentWriteId,l.applyLocally)),i=i.concat(al(t.serverSyncTree_,_,!0))}else c=!0,d="nodata",i=i.concat(al(t.serverSyncTree_,l.currentWriteId,!0))}Pa(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}uy(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Sh(r[a]);sT(t,t.transactionQueueTree_)}function aM(t,e){let n,r=t.transactionQueueTree_;for(n=je(e);n!==null&&_u(r)===void 0;)r=rT(r,n),e=ft(e),n=je(e);return r}function lM(t,e){const n=[];return uM(t,e,n),n.sort((r,i)=>r.order-i.order),n}function uM(t,e,n){const r=_u(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ly(e,i=>{uM(t,i,n)})}function uy(t,e){const n=_u(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,ZD(e,n.length>0?n:void 0)}ly(e,r=>{uy(t,r)})}function yte(t,e){const n=Ih(aM(t,e)),r=rT(t.transactionQueueTree_,e);return Qee(r,i=>{Tv(t,i)}),Tv(t,r),tM(r,i=>{Tv(t,i)}),n}function Tv(t,e){const n=_u(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(G(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(G(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(al(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?ZD(e,void 0):n.length=s+1,Pa(t.eventQueue_,Ih(e),i);for(let o=0;o<r.length;o++)Sh(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vte(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function _te(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):wr(`Invalid query segment '${n}' in query '${t}'`)}return e}const pb=function(t,e){const n=wte(t),r=n.namespace;n.domain==="firebase.com"&&ma(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ma("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||QJ();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new oZ(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new _t(n.pathString)}},wte=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=vte(t.substring(c,d)));const h=_te(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ve(this._path)?null:TD(this._path)}get ref(){return new wu(this._repo,this._path)}get _queryIdentifier(){const e=ZR(this._queryParams),n=jE(e);return n==="{}"?"default":n}get _queryObject(){return ZR(this._queryParams)}isEqual(e){if(e=yt(e),!(e instanceof aT))return!1;const n=this._repo===e._repo,r=ID(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+NZ(this._path)}}class wu extends aT{constructor(e,n){super(e,n,new KE,!1)}get parent(){const e=CD(this._path);return e===null?null:new wu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}$ee(wu);Fee(wu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ete="FIREBASE_DATABASE_EMULATOR_HOST",O0={};let Tte=!1;function Ste(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ma("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=pb(s,i),a=o.repoInfo,l,u;typeof process<"u"&&DR&&(u=DR[Ete]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=pb(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new T0(T0.OWNER):new sZ(t.name,t.options,e);tte("Invalid Firebase Database URL",o),Ve(o.path)||ma("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Ite(a,t,c,new iZ(t.name,n));return new Rte(d,t)}function Cte(t,e){const n=O0[e];(!n||n[t.key]!==t)&&ma(`Database ${e}(${t.repoInfo_}) has already been deleted.`),pte(t),delete n[t.key]}function Ite(t,e,n,r){let i=O0[e.name];i||(i={},O0[e.name]=i);let s=i[t.toURLString()];return s&&ma("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new lte(t,Tte,n,r),i[t.toURLString()]=s,s}class Rte{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(ute(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new wu(this._repo,it())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Cte(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ma("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bte(t){WJ(mo),no(new cs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Ste(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Ur(MR,LR,t),Ur(MR,LR,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xte={".sv":"timestamp"};function Pte(){return xte}rs.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};rs.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};bte();const cM=w.createContext(),kte=({children:t})=>{const{user:e}=yu(),n={chatId:null,otherUser:{}},r=(o,a)=>{switch(a.type){case"CHANGE_USER":return{otherUser:a.payload,chatId:e.uid>a.payload.uid?e.uid+a.payload.uid:a.payload.uid+e.uid};default:return o}},[i,s]=w.useReducer(r,n);return w.useEffect(()=>{e&&s({type:"CHANGE_USER",payload:i.otherUser})},[e]),S.jsx(cM.Provider,{value:{data:i,dispatch:s},children:t})},dM=()=>w.useContext(cM);function Ate(t){return Eo({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"},child:[]}]})(t)}function Nte(t){return Eo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(t)}let ff;const Ote=new Uint8Array(16);function Dte(){if(!ff&&(ff=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ff))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ff(Ote)}const wn=[];for(let t=0;t<256;++t)wn.push((t+256).toString(16).slice(1));function Mte(t,e=0){return wn[t[e+0]]+wn[t[e+1]]+wn[t[e+2]]+wn[t[e+3]]+"-"+wn[t[e+4]]+wn[t[e+5]]+"-"+wn[t[e+6]]+wn[t[e+7]]+"-"+wn[t[e+8]]+wn[t[e+9]]+"-"+wn[t[e+10]]+wn[t[e+11]]+wn[t[e+12]]+wn[t[e+13]]+wn[t[e+14]]+wn[t[e+15]]}const Lte=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),mb={randomUUID:Lte};function Sv(t,e,n){if(mb.randomUUID&&!e&&!t)return mb.randomUUID();t=t||{};const r=t.random||(t.rng||Dte)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return Mte(r)}const $te="https://milkevich.github.io/pract-chat/assets/chatImgNoMessages-kTNKWbDn.png",Fte="_container_1ik5n_1",Vte="_userInfoContainer_1ik5n_10",Ute="_userInfo_1ik5n_10",jte="_displayName_1ik5n_20",Bte="_email_1ik5n_23",zte="_typeMessage_1ik5n_26",Wte="_messageInput_1ik5n_33",Hte="_icon_1ik5n_46",qte="_sendBtn_1ik5n_59",Kte="_sendBtnIcon_1ik5n_74",Gte="_messagesContainer_1ik5n_80",Qte="_message_1ik5n_33",Yte="_ownMessage_1ik5n_99",Xte="_otherMessage_1ik5n_108",Jte="_ownImgMessage_1ik5n_117",Zte="_otherImgMessage_1ik5n_124",ene="_img_1ik5n_132",tne="_messageTime_1ik5n_136",nne="_noMessagesContainer_1ik5n_140",Bt={container:Fte,userInfoContainer:Vte,userInfo:Ute,displayName:jte,email:Bte,typeMessage:zte,messageInput:Wte,icon:Hte,sendBtn:qte,sendBtnIcon:Kte,messagesContainer:Gte,message:Qte,ownMessage:Yte,otherMessage:Xte,ownImgMessage:Jte,otherImgMessage:Zte,img:ene,messageTime:tne,noMessagesContainer:nne},rne=()=>{const{data:t}=dM(),{user:e}=yu(),[n,r]=w.useState([]),[i,s]=w.useState(""),[o,a]=w.useState(null),l=w.useRef(null),[u,c]=w.useState(null),d=HO();w.useEffect(()=>{if(t.chatId){const f=_O(ni(Dr,"chats",t.chatId),g=>{if(g.exists()){const y=g.data();r(y.messages)}});return()=>{f()}}},[t.chatId]),w.useEffect(()=>{h()},[n]);const h=()=>{var f;(f=l.current)==null||f.scrollIntoView({behavior:"smooth"})},p=async()=>{if(i.trim()||o)if(o){const f=WO(d,`images/${Sv()}`),g=BO(f,o);g.on("state_changed",y=>{const E=y.bytesTransferred/y.totalBytes*100;console.log("Upload is "+E+"% done"),c(E)},y=>{console.error("Upload error:",y)},()=>{zO(g.snapshot.ref).then(async y=>{await pc(ni(Dr,"chats",t.chatId),{messages:IR({id:Sv(),senderId:e.uid,date:kt.now(),img:y})}),c(null),a(null)})})}else await pc(ni(Dr,"chats",t.chatId),{messages:IR({id:Sv(),text:i,senderId:e.uid,date:kt.now()})}),s("");await pc(ni(Dr,"userChats",e.uid),{[t.chatId+".lastMessage"]:{text:i},[t.chatId+".date"]:kt.now()}),await pc(ni(Dr,"userChats",t.otherUser.uid),{[t.chatId+".lastMessage"]:{text:i},[t.chatId+".date"]:kt.now()}),s(""),a(null)},m=f=>{const g=f.target.files[0];a(g)},v=f=>{f.key==="Enter"&&p()},_=f=>{const g=f.toDate(),y=g.getHours(),E=g.getMinutes(),R=y>=12?"PM":"AM",T=y%12===0?12:y%12,C=E<10?`0${E}`:E;return`${T}:${C} ${R}`};return t&&t.otherUser&&t.otherUser.displayName&&t.otherUser.displayName[0].toUpperCase(),S.jsxs("div",{className:Bt.container,children:[S.jsxs("div",{className:Bt.userInfoContainer,children:[S.jsx(yd,{src:t.otherUser.photoURL}),S.jsxs("div",{className:Bt.userInfo,children:[S.jsx("h1",{className:Bt.displayName,children:t.otherUser.displayName}),S.jsx("p",{className:Bt.email,children:t.otherUser.email})]})]}),n.length===0?S.jsxs("div",{className:Bt.noMessagesContainer,children:[S.jsx("h1",{children:"Looks like it's nothing here."}),S.jsx("p",{style:{marginTop:"-15px"},children:"Send a message to start chatting!"}),S.jsx("img",{className:Bt.noMessagesContainer.img,src:$te,alt:""})]}):S.jsxs("div",{className:Bt.messagesContainer,children:[n.map(f=>S.jsxs(pn.Fragment,{children:[f.text&&S.jsx("div",{className:`${Bt.message} ${f.senderId===e.uid?Bt.ownMessage:Bt.otherMessage}`,children:S.jsxs("p",{children:[f.text,S.jsx("span",{className:Bt.messageTime,children:_(f.date)})]})}),f.img&&S.jsxs("div",{className:`${Bt.imMessage} ${f.senderId===e.uid?Bt.ownImgMessage:Bt.otherImgMessage}`,children:[S.jsx("img",{className:Bt.img,src:f.img,alt:"Attached"}),S.jsx("span",{style:{marginLeft:"10px",marginTop:"10px",fontSize:"11px"},children:_(f.date)})]})]},f.id)),S.jsx("div",{ref:l})]}),S.jsxs("div",{className:Bt.typeMessage,children:[u>0?S.jsx(z9,{sx:{zIndex:1e3,position:"absolute",top:"-10px",left:0,width:"830px",height:"5px",borderRadius:"50px"},variant:"determinate",value:u,color:"secondary"}):null,S.jsx("label",{htmlFor:"file-upload",children:S.jsx(Ate,{className:Bt.icon})}),S.jsx("input",{id:"file-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:m}),S.jsx("input",{onChange:f=>s(f.target.value),onKeyPress:v,className:Bt.messageInput,type:"text",placeholder:"Enter Text",value:i}),S.jsxs("button",{onClick:p,className:Bt.sendBtn,children:["Send ",S.jsx(Nte,{className:Bt.sendBtnIcon})]})]})]})},ine="https://milkevich.github.io/pract-chat/assets/NoChats-VzLtQHpE.png",sne="_container_84gac_1",one="_section_84gac_7",ane="_searchContainer_84gac_17",lne="_search_84gac_17",une="_searchBtn_84gac_38",cne="_messageContainer_84gac_46",dne="_messageContainerInfoContainer_84gac_53",hne="_displayName_84gac_57",fne="_LastMessageContainer_84gac_66",pne="_lastMessage_84gac_77",mne="_date_84gac_85",gne="_NoChats_84gac_92",On={container:sne,section:one,searchContainer:ane,search:lne,searchBtn:une,messageContainer:cne,messageContainerInfoContainer:dne,displayName:hne,LastMessageContainer:fne,lastMessage:pne,date:mne,NoChats:gne},yne=()=>{var v;const[t,e]=w.useState(""),[n,r]=w.useState(null),{user:i}=yu(),{dispatch:s}=dM(),[o,a]=w.useState([]),[l,u]=w.useState(null);w.useEffect(()=>{const _=()=>{const f=_O(ni(Dr,"userChats",i.uid),g=>{a(g.data())});return()=>{f()}};i.uid&&_()},[i.uid]);const c=async()=>{if(t.trim()!==""){const _=VY(IY(Dr,"users"),UY("uid","==",t.trim()));try{const f=await WY(_);if(f.empty)r(null),console.log("no user");else{const g=f.docs.map(y=>y.data());r(g),console.log("user found "+t)}}catch(f){console.error("Error searching user:",f)}}},d=_=>{_.code==="Enter"&&c(),e(null)},h=async()=>{if(n&&n.length>0){const _=n[0],f=i.uid>_.uid?i.uid+_.uid:_.uid+i.uid;try{const g=ni(Dr,"chats",f);(await CR(g)).exists()||await Qp(g,{messages:[]});const E=async(R,T)=>{const C=ni(Dr,"userChats",R);(await CR(C)).exists()||await Qp(C,{}),await pc(ni(Dr,"userChats",R),{[f+".userInfo"]:{uid:T.uid,displayName:T.displayName,email:T.email,photoURL:T.photoURL},[f+".date"]:Pte()})};r(null),e(""),await E(_.uid,i),await E(i.uid,_)}catch(g){console.error("Error selecting chat:",g)}}},p=_=>{s({type:"CHANGE_USER",payload:_}),u(_)},m=_=>{if(_&&_.toDate){const f=_.toDate(),g=f.getHours(),y=f.getMinutes(),E=g>=12?"PM":"AM",R=g%12===0?12:g%12,T=y<10?`0${y}`:y;return`${R}:${T} ${E}`.toString()}else return""};return S.jsxs("div",{className:On.container,children:[S.jsxs("section",{className:On.section,children:[S.jsxs("div",{className:On.searchContainer,children:[S.jsx(zJ,{className:On.searchBtn}),S.jsx("input",{onKeyDown:d,value:t,onChange:_=>e(_.target.value),placeholder:"Search",className:On.search,type:"text"})]}),t!==""&&S.jsxs("div",{style:{textAlign:"start",marginLeft:"20px",color:"grey"},children:["Please enter user's exact ID ",S.jsx("br",{})," and then press Enter to find a user"]}),n&&S.jsxs("div",{children:[S.jsxs("div",{onClick:h,className:On.messageContainer,children:[S.jsx(yd,{src:n[0].photoURL,sx:{width:46,height:46,fontSize:27}}),S.jsxs("div",{className:On.messageContainer.infoContainer,children:[S.jsx("h1",{className:On.displayName,children:n[0].displayName}),S.jsx("p",{className:On.lastMessage,children:"Click to chat"})]})]}),S.jsx(M_,{sx:{backgroundColor:"var(--divider-color)"},variant:"middle"})]}),t===""&&o&&((v=Object.entries(o))==null?void 0:v.sort((_,f)=>f[1].date-_[1].date).map((_,f)=>S.jsx(Hk,{in:!0,style:{transitionDelay:`${f*200}ms`},children:S.jsxs("div",{onClick:()=>p(_[1].userInfo),children:[S.jsxs("div",{className:On.messageContainer,onClick:h,style:{backgroundColor:l&&_[1].userInfo.uid===l.uid?"rgba(167, 255, 0, 0.3)":"var(--main-bg-color)",borderLeft:l&&_[1].userInfo.uid===l.uid?"3px solid rgba(167, 255, 0, 1)":"3px solid rgba(167, 255, 0, 0)"},children:[S.jsx(yd,{src:_[1].userInfo.photoURL,sx:{width:46,height:46,fontSize:27}}),S.jsxs("div",{className:On.messageContainerInfoContainer,children:[S.jsx("h1",{className:On.displayName,children:_[1].userInfo.displayName}),S.jsx("span",{className:On.date,children:_[1].lastMessage?m(_[1].date):""}),S.jsx("div",{className:On.LastMessageContainer,children:_[1].lastMessage&&_[1].lastMessage.text?S.jsx("p",{className:On.lastMessage,children:_[1].lastMessage.text}):S.jsx("p",{className:On.lastMessage,children:_[1].lastMessage&&_[1].lastMessage.type!=="text"?"File sent":"Click to chat"})})]})]}),S.jsx(M_,{sx:{backgroundColor:"var(--divider-color)"},variant:"middle"})]},_[0])})))]}),l?S.jsx(rne,{}):S.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"90vh"},children:[S.jsx("h1",{children:"You have no active chats yet."}),S.jsx("p",{style:{marginTop:"-15px"},children:"Find a friend and start the dialog!"}),S.jsx("img",{style:{maxWidth:"70%",marginTop:"50px"},src:ine,alt:"No chats"})]})]})},vne=()=>S.jsxs("div",{style:{display:"flex",margin:"auto",maxWidth:"1480px"},children:[S.jsx(BJ,{}),S.jsx(yne,{})]});function _ne(){const[t,e]=w.useState(""),[n,r]=w.useState(!1),[i,s]=w.useState(""),[o,a]=w.useState(""),[l,u]=w.useState(!1),[c,d]=w.useState(""),[h,p]=w.useState(""),[m,v]=w.useState(!1),[_,f]=w.useState(""),[g,y]=w.useState(!1),[E,R]=w.useState(!1),[T,C]=w.useState(""),[b,k]=w.useState(null),[x,O]=w.useState(null),F=Sa(),M=async J=>{if(J.preventDefault(),!n&&!l&&!m&&b)try{const Y=(await fH(Gl,t,o)).user,fe=new Date().getTime(),ce=WO(rJ,`${h+fe}`);await BO(ce,b).then(()=>{zO(ce).then(async Me=>{await gH(Y,{displayName:h,photoURL:Me});const Le=ni(Dr,"users",Y.uid);await Qp(Le,{uid:Y.uid,displayName:h,email:t,photoURL:Me}),await Qp(ni(Dr,"userChats",Y.uid),{}),F("/pract-chat/chat")})})}catch(ne){console.error("Error creating user:",ne),y(!0),C("The user with this email already exists, try again.")}else n?(y(!0),C("Email address is not valid or already being used.")):(y(!1),C("")),l?(y(!0),C("Please enter a valid password.")):(y(!1),C("")),m?(y(!0),C("Please enter a valid display name.")):(y(!1),C(""))},V=J=>{const ne=J.target.files[0];k(ne),O(URL.createObjectURL(ne))},z=J=>{const ne=/^[^]+@[^]+\.[a-z]{2,3}$/,Y=J.target.value;e(Y),Y===""||!Y.match(ne)?(r(!0),s("Please enter a valid email address")):(r(!1),s(""))},j=J=>{const ne=J.target.value;a(ne),ne===""||ne.length<6?(u(!0),d("You must have at least 6 characters")):(u(!1),d(""))},U=J=>{const ne=J.target.value;p(ne),ne===""?(v(!0),f("You must enter your full name.")):(v(!1),f(""))},N=()=>{R(!E)},B=()=>{const J=new _i;t2(Gl,J).then(ne=>{console.log("Google Sign-In successful:",ne.user),F("/pract-chat/chat")}).catch(ne=>{console.error("Google Sign-In failed:",ne),y(!0)})},W={container:{maxWidth:"400px",margin:"auto",padding:"50px",textAlign:"center",marginTop:"-25px"},p:{marginTop:"-10px",color:"#6B6B6B"},photoUpload:{margin:"auto",width:"102px",height:"102px",marginBottom:"30px"},photoUploadButton:{paddingLeft:"20px",paddingRight:"20px",paddingTop:"5px",paddingBottom:"5px",borderRadius:"20px",border:"1px solid black",outline:"none",cursor:"pointer",backgroundColor:"white"},inputContainer:{margin:"0 auto",marginTop:"30px",alignItems:"center",justifyContent:"center"},btn:{width:"70%",padding:"10px",border:"none",outline:"none",backgroundColor:"black",color:"white",borderRadius:"50px",marginTop:"20px",cursor:"pointer",height:"45px",fontWeight:"600"},googleBtn:{display:"flex",alignItems:"center",justifyContent:"center",width:"70%",padding:"10px",border:"none",outline:"none",backgroundColor:"#D9D9D9",color:"black",borderRadius:"50px",marginTop:"10px",cursor:"pointer",height:"45px",fontWeight:"600",marginLeft:"60px",icon:{paddingRight:"10px"}},suggestion:{color:"#6B6B6B",marginTop:"50px"},link:{textDecoration:"none",color:"black",fontWeight:"500",cursor:"pointer"}},ae=()=>{F("/pract-chat/log-in")};return S.jsxs("div",{style:W.container,children:[g?S.jsx(kk,{severity:"error",children:T}):null,S.jsx("h1",{children:"Welcome!"}),S.jsx("p",{style:W.p,children:"Please enter your information"}),S.jsxs("div",{style:W.inputContainer,children:[S.jsx(yd,{src:x,style:W.photoUpload}),S.jsxs("div",{style:{marginBottom:"20px"},children:[S.jsx("input",{type:"file",accept:"image/*",onChange:V,style:{display:"none"},id:"fileInput"}),S.jsx("label",{htmlFor:"fileInput",style:W.photoUploadButton,children:"Upload a photo"})]}),S.jsx(Ac,{color:"primary",error:m,helperText:_,onChange:U,value:h,sx:{width:"70%"},id:"standard-basic",label:"Display Name",variant:"standard"}),S.jsx(Ac,{color:"primary",error:n,helperText:i,onChange:z,value:t,sx:{width:"70%",marginTop:"20px"},id:"standard-basic",label:"Email",variant:"standard"}),S.jsxs(Ek,{sx:{alignItems:"center",position:"relative"},children:[S.jsx(Ac,{error:l,helperText:c,onChange:j,sx:{width:"70%",marginTop:"20px"},id:"standard-password-input",label:"Password",type:E?"text":"password",autoComplete:"current-password",variant:"standard"}),E?S.jsx(hw,{onClick:N,sx:{marginTop:"40px",marginLeft:"-25px",position:"absolute",cursor:"pointer"}}):S.jsx(pw,{onClick:N,sx:{marginTop:"40px",marginLeft:"-25px",position:"absolute",cursor:"pointer"}})]}),S.jsx("button",{onClick:M,style:W.btn,children:"Sign Up"}),S.jsxs("button",{onClick:B,style:W.googleBtn,children:[S.jsx(GO,{style:W.googleBtn.icon,size:20}),"Sign Up with Google"]})]}),S.jsxs("p",{style:W.suggestion,children:["Already Have an account? ",S.jsx("a",{style:W.link,onClick:ae,children:"Log In"})]})]})}class wne extends w.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error("Error caught by ErrorBoundary:",e,n)}render(){return this.state.hasError?S.jsx("div",{children:"Unexpected"}):this.props.children}}const Ene="https://milkevich.github.io/pract-chat/assets/404-avyOQv9o.png",gb=()=>{const t=Sa(),e=()=>{t("/pract-chat/chat")};return S.jsxs("div",{style:Ju.container,children:[S.jsx("img",{style:Ju.img,src:Ene,alt:"404 not found"}),S.jsx("h1",{style:Ju.h1,children:"Oops! We've wandered off the trail!"}),S.jsx("p",{style:Ju.p,children:"Seems like the path you're seeking doesn't exist. Let's find our way back together!"}),S.jsx("button",{onClick:e,style:Ju.btn,children:"Go Back"})]})},Ju={container:{margin:"auto",textAlign:"center",marginTop:"5%"},img:{maxWidth:"600px"},h1:{color:"#222222"},p:{marginTop:"-10px",marginBottom:"40px",color:"darkgrey"},btn:{padding:"15px",paddingLeft:"35px",paddingRight:"35px",backgroundColor:"#222222",border:"none",outline:"none",borderRadius:"15px",color:"white",fontSize:"16px",fontWeight:"600",cursor:"pointer",textDecoration:"none"}},Tne="https://milkevich.github.io/pract-chat/assets/working-rFq9V_P3.png",Sne=()=>{const t=Sa(),e=()=>{t("/pract-chat/chat")};return S.jsxs("div",{style:Zu.container,children:[S.jsx("img",{style:Zu.img,src:Tne,alt:"working"}),S.jsx("h1",{style:Zu.h1,children:"Oops!.. Still Under Construction"}),S.jsx("p",{style:Zu.p,children:"Excuse the dust! We're sprucing things up."}),S.jsx("button",{onClick:e,style:Zu.btn,children:"Go Back"})]})},Zu={container:{margin:"auto",textAlign:"center",marginTop:"5%"},img:{maxWidth:"600px"},h1:{color:"#222222"},p:{marginTop:"-10px",marginBottom:"40px",color:"darkgrey"},btn:{padding:"15px",paddingLeft:"35px",paddingRight:"35px",backgroundColor:"#222222",border:"none",outline:"none",borderRadius:"15px",color:"white",fontSize:"16px",fontWeight:"600",cursor:"pointer",textDecoration:"none"}},Cne=eF(E_(S.jsx(zi,{path:"/pract-chat/",element:S.jsx(k8,{}),children:S.jsxs(zi,{element:S.jsx(pJ,{}),children:[S.jsx(zi,{path:"/pract-chat/log-in",element:S.jsx(dJ,{})}),S.jsx(zi,{path:"/pract-chat/sign-up",element:S.jsx(_ne,{})}),S.jsx(zi,{path:"/pract-chat/*",element:S.jsx(gb,{}),errorElement:S.jsx(gb,{})}),S.jsx(zi,{path:"/pract-chat/settings",element:S.jsx(Sne,{})}),S.jsx(zi,{element:S.jsx(fJ,{}),children:S.jsx(zi,{path:"/pract-chat/chat",element:S.jsx(vne,{})})})]})}))),Ine=Cv.createRoot(document.getElementById("root"));Ine.render(S.jsx(hJ,{children:S.jsx(kte,{children:S.jsx(wne,{children:S.jsx(uF,{router:Cne})})})}));
