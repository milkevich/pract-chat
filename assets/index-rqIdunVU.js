function Sb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Cb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _M(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Ib={exports:{}},lm={},Rb={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vd=Symbol.for("react.element"),wM=Symbol.for("react.portal"),EM=Symbol.for("react.fragment"),TM=Symbol.for("react.strict_mode"),SM=Symbol.for("react.profiler"),CM=Symbol.for("react.provider"),IM=Symbol.for("react.context"),RM=Symbol.for("react.forward_ref"),bM=Symbol.for("react.suspense"),xM=Symbol.for("react.memo"),PM=Symbol.for("react.lazy"),hT=Symbol.iterator;function kM(t){return t===null||typeof t!="object"?null:(t=hT&&t[hT]||t["@@iterator"],typeof t=="function"?t:null)}var bb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xb=Object.assign,Pb={};function Zl(t,e,n){this.props=t,this.context=e,this.refs=Pb,this.updater=n||bb}Zl.prototype.isReactComponent={};Zl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function kb(){}kb.prototype=Zl.prototype;function $0(t,e,n){this.props=t,this.context=e,this.refs=Pb,this.updater=n||bb}var F0=$0.prototype=new kb;F0.constructor=$0;xb(F0,Zl.prototype);F0.isPureReactComponent=!0;var fT=Array.isArray,Ab=Object.prototype.hasOwnProperty,V0={current:null},Nb={key:!0,ref:!0,__self:!0,__source:!0};function Ob(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ab.call(e,r)&&!Nb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Vd,type:t,key:s,ref:o,props:i,_owner:V0.current}}function AM(t,e){return{$$typeof:Vd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function U0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Vd}function NM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pT=/\/+/g;function fy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NM(""+t.key):e.toString(36)}function gf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Vd:case wM:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+fy(o,0):r,fT(i)?(n="",t!=null&&(n=t.replace(pT,"$&/")+"/"),gf(i,e,n,"",function(u){return u})):i!=null&&(U0(i)&&(i=AM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(pT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",fT(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+fy(s,a);o+=gf(s,e,n,l,i)}else if(l=kM(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+fy(s,a++),o+=gf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Nh(t,e,n){if(t==null)return t;var r=[],i=0;return gf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function OM(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yn={current:null},yf={transition:null},DM={ReactCurrentDispatcher:Yn,ReactCurrentBatchConfig:yf,ReactCurrentOwner:V0};De.Children={map:Nh,forEach:function(t,e,n){Nh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Nh(t,function(){e++}),e},toArray:function(t){return Nh(t,function(e){return e})||[]},only:function(t){if(!U0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=Zl;De.Fragment=EM;De.Profiler=SM;De.PureComponent=$0;De.StrictMode=TM;De.Suspense=bM;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DM;De.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=V0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ab.call(e,l)&&!Nb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Vd,type:t.type,key:i,ref:s,props:r,_owner:o}};De.createContext=function(t){return t={$$typeof:IM,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:CM,_context:t},t.Consumer=t};De.createElement=Ob;De.createFactory=function(t){var e=Ob.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:RM,render:t}};De.isValidElement=U0;De.lazy=function(t){return{$$typeof:PM,_payload:{_status:-1,_result:t},_init:OM}};De.memo=function(t,e){return{$$typeof:xM,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=yf.transition;yf.transition={};try{t()}finally{yf.transition=e}};De.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};De.useCallback=function(t,e){return Yn.current.useCallback(t,e)};De.useContext=function(t){return Yn.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return Yn.current.useDeferredValue(t)};De.useEffect=function(t,e){return Yn.current.useEffect(t,e)};De.useId=function(){return Yn.current.useId()};De.useImperativeHandle=function(t,e,n){return Yn.current.useImperativeHandle(t,e,n)};De.useInsertionEffect=function(t,e){return Yn.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return Yn.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return Yn.current.useMemo(t,e)};De.useReducer=function(t,e,n){return Yn.current.useReducer(t,e,n)};De.useRef=function(t){return Yn.current.useRef(t)};De.useState=function(t){return Yn.current.useState(t)};De.useSyncExternalStore=function(t,e,n){return Yn.current.useSyncExternalStore(t,e,n)};De.useTransition=function(){return Yn.current.useTransition()};De.version="18.2.0";Rb.exports=De;var _=Rb.exports;const mn=Cb(_),Bf=Sb({__proto__:null,default:mn},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MM=_,LM=Symbol.for("react.element"),$M=Symbol.for("react.fragment"),FM=Object.prototype.hasOwnProperty,VM=MM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UM={key:!0,ref:!0,__self:!0,__source:!0};function Db(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)FM.call(e,r)&&!UM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:LM,type:t,key:s,ref:o,props:i,_owner:VM.current}}lm.Fragment=$M;lm.jsx=Db;lm.jsxs=Db;Ib.exports=lm;var S=Ib.exports,bv={},Mb={exports:{}},Cr={},Lb={exports:{}},$b={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,M){var W=A.length;A.push(M);e:for(;0<W;){var ae=W-1>>>1,J=A[ae];if(0<i(J,M))A[ae]=M,A[W]=J,W=ae;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var M=A[0],W=A.pop();if(W!==M){A[0]=W;e:for(var ae=0,J=A.length,ne=J>>>1;ae<ne;){var Y=2*(ae+1)-1,fe=A[Y],ce=Y+1,Me=A[ce];if(0>i(fe,W))ce<J&&0>i(Me,fe)?(A[ae]=Me,A[ce]=W,ae=ce):(A[ae]=fe,A[Y]=W,ae=Y);else if(ce<J&&0>i(Me,W))A[ae]=Me,A[ce]=W,ae=ce;else break e}}return M}function i(A,M){var W=A.sortIndex-M.sortIndex;return W!==0?W:A.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,g=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(A){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=A)r(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(u)}}function w(A){if(v=!1,m(A),!g)if(n(l)!==null)g=!0,B(I);else{var M=n(u);M!==null&&j(w,M.startTime-A)}}function I(A,M){g=!1,v&&(v=!1,p(b),b=-1),f=!0;var W=h;try{for(m(M),d=n(l);d!==null&&(!(d.expirationTime>M)||A&&!O());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,h=d.priorityLevel;var J=ae(d.expirationTime<=M);M=t.unstable_now(),typeof J=="function"?d.callback=J:d===n(l)&&r(l),m(M)}else r(l);d=n(l)}if(d!==null)var ne=!0;else{var Y=n(u);Y!==null&&j(w,Y.startTime-M),ne=!1}return ne}finally{d=null,h=W,f=!1}}var T=!1,C=null,b=-1,P=5,x=-1;function O(){return!(t.unstable_now()-x<P)}function F(){if(C!==null){var A=t.unstable_now();x=A;var M=!0;try{M=C(!0,A)}finally{M?L():(T=!1,C=null)}}else T=!1}var L;if(typeof y=="function")L=function(){y(F)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,z=U.port2;U.port1.onmessage=F,L=function(){z.postMessage(null)}}else L=function(){E(F,0)};function B(A){C=A,T||(T=!0,L())}function j(A,M){b=E(function(){A(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,B(I))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var W=h;h=M;try{return A()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,M){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var W=h;h=A;try{return M()}finally{h=W}},t.unstable_scheduleCallback=function(A,M,W){var ae=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ae+W:ae):W=ae,A){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=W+J,A={id:c++,callback:M,priorityLevel:A,startTime:W,expirationTime:J,sortIndex:-1},W>ae?(A.sortIndex=W,e(u,A),n(l)===null&&A===n(u)&&(v?(p(b),b=-1):v=!0,j(w,W-ae))):(A.sortIndex=J,e(l,A),g||f||(g=!0,B(I))),A},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(A){var M=h;return function(){var W=h;h=M;try{return A.apply(this,arguments)}finally{h=W}}}})($b);Lb.exports=$b;var jM=Lb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb=_,Er=jM;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vb=new Set,Wc={};function _a(t,e){Cl(t,e),Cl(t+"Capture",e)}function Cl(t,e){for(Wc[t]=e,t=0;t<e.length;t++)Vb.add(e[t])}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xv=Object.prototype.hasOwnProperty,BM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mT={},gT={};function zM(t){return xv.call(gT,t)?!0:xv.call(mT,t)?!1:BM.test(t)?gT[t]=!0:(mT[t]=!0,!1)}function WM(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HM(t,e,n,r){if(e===null||typeof e>"u"||WM(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kn[t]=new Xn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kn[e]=new Xn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kn[t]=new Xn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kn[t]=new Xn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kn[t]=new Xn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kn[t]=new Xn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kn[t]=new Xn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kn[t]=new Xn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kn[t]=new Xn(t,5,!1,t.toLowerCase(),null,!1,!1)});var j0=/[\-:]([a-z])/g;function B0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(j0,B0);kn[e]=new Xn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(j0,B0);kn[e]=new Xn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(j0,B0);kn[e]=new Xn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kn[t]=new Xn(t,1,!1,t.toLowerCase(),null,!1,!1)});kn.xlinkHref=new Xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kn[t]=new Xn(t,1,!1,t.toLowerCase(),null,!0,!0)});function z0(t,e,n,r){var i=kn.hasOwnProperty(e)?kn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HM(e,n,i,r)&&(n=null),r||i===null?zM(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gs=Fb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oh=Symbol.for("react.element"),qa=Symbol.for("react.portal"),Ka=Symbol.for("react.fragment"),W0=Symbol.for("react.strict_mode"),Pv=Symbol.for("react.profiler"),Ub=Symbol.for("react.provider"),jb=Symbol.for("react.context"),H0=Symbol.for("react.forward_ref"),kv=Symbol.for("react.suspense"),Av=Symbol.for("react.suspense_list"),q0=Symbol.for("react.memo"),xs=Symbol.for("react.lazy"),Bb=Symbol.for("react.offscreen"),yT=Symbol.iterator;function Iu(t){return t===null||typeof t!="object"?null:(t=yT&&t[yT]||t["@@iterator"],typeof t=="function"?t:null)}var Nt=Object.assign,py;function tc(t){if(py===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);py=e&&e[1]||""}return`
`+py+t}var my=!1;function gy(t,e){if(!t||my)return"";my=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{my=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?tc(t):""}function qM(t){switch(t.tag){case 5:return tc(t.type);case 16:return tc("Lazy");case 13:return tc("Suspense");case 19:return tc("SuspenseList");case 0:case 2:case 15:return t=gy(t.type,!1),t;case 11:return t=gy(t.type.render,!1),t;case 1:return t=gy(t.type,!0),t;default:return""}}function Nv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ka:return"Fragment";case qa:return"Portal";case Pv:return"Profiler";case W0:return"StrictMode";case kv:return"Suspense";case Av:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jb:return(t.displayName||"Context")+".Consumer";case Ub:return(t._context.displayName||"Context")+".Provider";case H0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q0:return e=t.displayName||null,e!==null?e:Nv(t.type)||"Memo";case xs:e=t._payload,t=t._init;try{return Nv(t(e))}catch{}}return null}function KM(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nv(e);case 8:return e===W0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GM(t){var e=zb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Dh(t){t._valueTracker||(t._valueTracker=GM(t))}function Wb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function zf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ov(t,e){var n=e.checked;return Nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Zs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Hb(t,e){e=e.checked,e!=null&&z0(t,"checked",e,!1)}function Dv(t,e){Hb(t,e);var n=Zs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mv(t,e.type,Zs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _T(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mv(t,e,n){(e!=="number"||zf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var nc=Array.isArray;function ul(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Zs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Lv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return Nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(nc(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Zs(n)}}function qb(t,e){var n=Zs(e.value),r=Zs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ET(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Kb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $v(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Kb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Mh,Gb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Mh=Mh||document.createElement("div"),Mh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Mh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QM=["Webkit","ms","Moz","O"];Object.keys(gc).forEach(function(t){QM.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gc[e]=gc[t]})});function Qb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||gc.hasOwnProperty(t)&&gc[t]?(""+e).trim():e+"px"}function Yb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Qb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var YM=Nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fv(t,e){if(e){if(YM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Vv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uv=null;function K0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jv=null,cl=null,dl=null;function TT(t){if(t=Bd(t)){if(typeof jv!="function")throw Error(H(280));var e=t.stateNode;e&&(e=fm(e),jv(t.stateNode,t.type,e))}}function Xb(t){cl?dl?dl.push(t):dl=[t]:cl=t}function Jb(){if(cl){var t=cl,e=dl;if(dl=cl=null,TT(t),e)for(t=0;t<e.length;t++)TT(e[t])}}function Zb(t,e){return t(e)}function ex(){}var yy=!1;function tx(t,e,n){if(yy)return t(e,n);yy=!0;try{return Zb(t,e,n)}finally{yy=!1,(cl!==null||dl!==null)&&(ex(),Jb())}}function qc(t,e){var n=t.stateNode;if(n===null)return null;var r=fm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Bv=!1;if(os)try{var Ru={};Object.defineProperty(Ru,"passive",{get:function(){Bv=!0}}),window.addEventListener("test",Ru,Ru),window.removeEventListener("test",Ru,Ru)}catch{Bv=!1}function XM(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var yc=!1,Wf=null,Hf=!1,zv=null,JM={onError:function(t){yc=!0,Wf=t}};function ZM(t,e,n,r,i,s,o,a,l){yc=!1,Wf=null,XM.apply(JM,arguments)}function eL(t,e,n,r,i,s,o,a,l){if(ZM.apply(this,arguments),yc){if(yc){var u=Wf;yc=!1,Wf=null}else throw Error(H(198));Hf||(Hf=!0,zv=u)}}function wa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ST(t){if(wa(t)!==t)throw Error(H(188))}function tL(t){var e=t.alternate;if(!e){if(e=wa(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ST(i),t;if(s===r)return ST(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function rx(t){return t=tL(t),t!==null?ix(t):null}function ix(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ix(t);if(e!==null)return e;t=t.sibling}return null}var sx=Er.unstable_scheduleCallback,CT=Er.unstable_cancelCallback,nL=Er.unstable_shouldYield,rL=Er.unstable_requestPaint,Ht=Er.unstable_now,iL=Er.unstable_getCurrentPriorityLevel,G0=Er.unstable_ImmediatePriority,ox=Er.unstable_UserBlockingPriority,qf=Er.unstable_NormalPriority,sL=Er.unstable_LowPriority,ax=Er.unstable_IdlePriority,um=null,Ii=null;function oL(t){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(um,t,void 0,(t.current.flags&128)===128)}catch{}}var si=Math.clz32?Math.clz32:uL,aL=Math.log,lL=Math.LN2;function uL(t){return t>>>=0,t===0?32:31-(aL(t)/lL|0)|0}var Lh=64,$h=4194304;function rc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=rc(a):(s&=o,s!==0&&(r=rc(s)))}else o=n&~i,o!==0?r=rc(o):s!==0&&(r=rc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-si(e),i=1<<n,r|=t[n],e&=~i;return r}function cL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-si(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=cL(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Wv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lx(){var t=Lh;return Lh<<=1,!(Lh&4194240)&&(Lh=64),t}function vy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ud(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-si(e),t[e]=n}function hL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-si(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Q0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-si(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Je=0;function ux(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var cx,Y0,dx,hx,fx,Hv=!1,Fh=[],Us=null,js=null,Bs=null,Kc=new Map,Gc=new Map,ks=[],fL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function IT(t,e){switch(t){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":Kc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(e.pointerId)}}function bu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Bd(e),e!==null&&Y0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function pL(t,e,n,r,i){switch(e){case"focusin":return Us=bu(Us,t,e,n,r,i),!0;case"dragenter":return js=bu(js,t,e,n,r,i),!0;case"mouseover":return Bs=bu(Bs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Kc.set(s,bu(Kc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Gc.set(s,bu(Gc.get(s)||null,t,e,n,r,i)),!0}return!1}function px(t){var e=Ao(t.target);if(e!==null){var n=wa(e);if(n!==null){if(e=n.tag,e===13){if(e=nx(n),e!==null){t.blockedOn=e,fx(t.priority,function(){dx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=qv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Uv=r,n.target.dispatchEvent(r),Uv=null}else return e=Bd(n),e!==null&&Y0(e),t.blockedOn=n,!1;e.shift()}return!0}function RT(t,e,n){vf(t)&&n.delete(e)}function mL(){Hv=!1,Us!==null&&vf(Us)&&(Us=null),js!==null&&vf(js)&&(js=null),Bs!==null&&vf(Bs)&&(Bs=null),Kc.forEach(RT),Gc.forEach(RT)}function xu(t,e){t.blockedOn===e&&(t.blockedOn=null,Hv||(Hv=!0,Er.unstable_scheduleCallback(Er.unstable_NormalPriority,mL)))}function Qc(t){function e(i){return xu(i,t)}if(0<Fh.length){xu(Fh[0],t);for(var n=1;n<Fh.length;n++){var r=Fh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Us!==null&&xu(Us,t),js!==null&&xu(js,t),Bs!==null&&xu(Bs,t),Kc.forEach(e),Gc.forEach(e),n=0;n<ks.length;n++)r=ks[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ks.length&&(n=ks[0],n.blockedOn===null);)px(n),n.blockedOn===null&&ks.shift()}var hl=gs.ReactCurrentBatchConfig,Gf=!0;function gL(t,e,n,r){var i=Je,s=hl.transition;hl.transition=null;try{Je=1,X0(t,e,n,r)}finally{Je=i,hl.transition=s}}function yL(t,e,n,r){var i=Je,s=hl.transition;hl.transition=null;try{Je=4,X0(t,e,n,r)}finally{Je=i,hl.transition=s}}function X0(t,e,n,r){if(Gf){var i=qv(t,e,n,r);if(i===null)xy(t,e,r,Qf,n),IT(t,r);else if(pL(i,t,e,n,r))r.stopPropagation();else if(IT(t,r),e&4&&-1<fL.indexOf(t)){for(;i!==null;){var s=Bd(i);if(s!==null&&cx(s),s=qv(t,e,n,r),s===null&&xy(t,e,r,Qf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else xy(t,e,r,null,n)}}var Qf=null;function qv(t,e,n,r){if(Qf=null,t=K0(r),t=Ao(t),t!==null)if(e=wa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Qf=t,null}function mx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iL()){case G0:return 1;case ox:return 4;case qf:case sL:return 16;case ax:return 536870912;default:return 16}default:return 16}}var Ls=null,J0=null,_f=null;function gx(){if(_f)return _f;var t,e=J0,n=e.length,r,i="value"in Ls?Ls.value:Ls.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return _f=i.slice(t,1<r?1-r:void 0)}function wf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vh(){return!0}function bT(){return!1}function Ir(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Vh:bT,this.isPropagationStopped=bT,this}return Nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vh)},persist:function(){},isPersistent:Vh}),e}var eu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Z0=Ir(eu),jd=Nt({},eu,{view:0,detail:0}),vL=Ir(jd),_y,wy,Pu,cm=Nt({},jd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:e1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pu&&(Pu&&t.type==="mousemove"?(_y=t.screenX-Pu.screenX,wy=t.screenY-Pu.screenY):wy=_y=0,Pu=t),_y)},movementY:function(t){return"movementY"in t?t.movementY:wy}}),xT=Ir(cm),_L=Nt({},cm,{dataTransfer:0}),wL=Ir(_L),EL=Nt({},jd,{relatedTarget:0}),Ey=Ir(EL),TL=Nt({},eu,{animationName:0,elapsedTime:0,pseudoElement:0}),SL=Ir(TL),CL=Nt({},eu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IL=Ir(CL),RL=Nt({},eu,{data:0}),PT=Ir(RL),bL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=PL[t])?!!e[t]:!1}function e1(){return kL}var AL=Nt({},jd,{key:function(t){if(t.key){var e=bL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:e1,charCode:function(t){return t.type==="keypress"?wf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),NL=Ir(AL),OL=Nt({},cm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),kT=Ir(OL),DL=Nt({},jd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:e1}),ML=Ir(DL),LL=Nt({},eu,{propertyName:0,elapsedTime:0,pseudoElement:0}),$L=Ir(LL),FL=Nt({},cm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),VL=Ir(FL),UL=[9,13,27,32],t1=os&&"CompositionEvent"in window,vc=null;os&&"documentMode"in document&&(vc=document.documentMode);var jL=os&&"TextEvent"in window&&!vc,yx=os&&(!t1||vc&&8<vc&&11>=vc),AT=" ",NT=!1;function vx(t,e){switch(t){case"keyup":return UL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _x(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ga=!1;function BL(t,e){switch(t){case"compositionend":return _x(e);case"keypress":return e.which!==32?null:(NT=!0,AT);case"textInput":return t=e.data,t===AT&&NT?null:t;default:return null}}function zL(t,e){if(Ga)return t==="compositionend"||!t1&&vx(t,e)?(t=gx(),_f=J0=Ls=null,Ga=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yx&&e.locale!=="ko"?null:e.data;default:return null}}var WL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function OT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WL[t.type]:e==="textarea"}function wx(t,e,n,r){Xb(r),e=Yf(e,"onChange"),0<e.length&&(n=new Z0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _c=null,Yc=null;function HL(t){Ax(t,0)}function dm(t){var e=Xa(t);if(Wb(e))return t}function qL(t,e){if(t==="change")return e}var Ex=!1;if(os){var Ty;if(os){var Sy="oninput"in document;if(!Sy){var DT=document.createElement("div");DT.setAttribute("oninput","return;"),Sy=typeof DT.oninput=="function"}Ty=Sy}else Ty=!1;Ex=Ty&&(!document.documentMode||9<document.documentMode)}function MT(){_c&&(_c.detachEvent("onpropertychange",Tx),Yc=_c=null)}function Tx(t){if(t.propertyName==="value"&&dm(Yc)){var e=[];wx(e,Yc,t,K0(t)),tx(HL,e)}}function KL(t,e,n){t==="focusin"?(MT(),_c=e,Yc=n,_c.attachEvent("onpropertychange",Tx)):t==="focusout"&&MT()}function GL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dm(Yc)}function QL(t,e){if(t==="click")return dm(e)}function YL(t,e){if(t==="input"||t==="change")return dm(e)}function XL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var li=typeof Object.is=="function"?Object.is:XL;function Xc(t,e){if(li(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xv.call(e,i)||!li(t[i],e[i]))return!1}return!0}function LT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $T(t,e){var n=LT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=LT(n)}}function Sx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Sx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Cx(){for(var t=window,e=zf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=zf(t.document)}return e}function n1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function JL(t){var e=Cx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Sx(n.ownerDocument.documentElement,n)){if(r!==null&&n1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=$T(n,s);var o=$T(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZL=os&&"documentMode"in document&&11>=document.documentMode,Qa=null,Kv=null,wc=null,Gv=!1;function FT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Gv||Qa==null||Qa!==zf(r)||(r=Qa,"selectionStart"in r&&n1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wc&&Xc(wc,r)||(wc=r,r=Yf(Kv,"onSelect"),0<r.length&&(e=new Z0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qa)))}function Uh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ya={animationend:Uh("Animation","AnimationEnd"),animationiteration:Uh("Animation","AnimationIteration"),animationstart:Uh("Animation","AnimationStart"),transitionend:Uh("Transition","TransitionEnd")},Cy={},Ix={};os&&(Ix=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function hm(t){if(Cy[t])return Cy[t];if(!Ya[t])return t;var e=Ya[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Ix)return Cy[t]=e[n];return t}var Rx=hm("animationend"),bx=hm("animationiteration"),xx=hm("animationstart"),Px=hm("transitionend"),kx=new Map,VT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function lo(t,e){kx.set(t,e),_a(e,[t])}for(var Iy=0;Iy<VT.length;Iy++){var Ry=VT[Iy],e4=Ry.toLowerCase(),t4=Ry[0].toUpperCase()+Ry.slice(1);lo(e4,"on"+t4)}lo(Rx,"onAnimationEnd");lo(bx,"onAnimationIteration");lo(xx,"onAnimationStart");lo("dblclick","onDoubleClick");lo("focusin","onFocus");lo("focusout","onBlur");lo(Px,"onTransitionEnd");Cl("onMouseEnter",["mouseout","mouseover"]);Cl("onMouseLeave",["mouseout","mouseover"]);Cl("onPointerEnter",["pointerout","pointerover"]);Cl("onPointerLeave",["pointerout","pointerover"]);_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_a("onBeforeInput",["compositionend","keypress","textInput","paste"]);_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n4=new Set("cancel close invalid load scroll toggle".split(" ").concat(ic));function UT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,eL(r,e,void 0,t),t.currentTarget=null}function Ax(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;UT(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;UT(i,a,u),s=l}}}if(Hf)throw t=zv,Hf=!1,zv=null,t}function ht(t,e){var n=e[Zv];n===void 0&&(n=e[Zv]=new Set);var r=t+"__bubble";n.has(r)||(Nx(e,t,2,!1),n.add(r))}function by(t,e,n){var r=0;e&&(r|=4),Nx(n,t,r,e)}var jh="_reactListening"+Math.random().toString(36).slice(2);function Jc(t){if(!t[jh]){t[jh]=!0,Vb.forEach(function(n){n!=="selectionchange"&&(n4.has(n)||by(n,!1,t),by(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[jh]||(e[jh]=!0,by("selectionchange",!1,e))}}function Nx(t,e,n,r){switch(mx(e)){case 1:var i=gL;break;case 4:i=yL;break;default:i=X0}n=i.bind(null,e,n,t),i=void 0,!Bv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function xy(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ao(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}tx(function(){var u=s,c=K0(n),d=[];e:{var h=kx.get(t);if(h!==void 0){var f=Z0,g=t;switch(t){case"keypress":if(wf(n)===0)break e;case"keydown":case"keyup":f=NL;break;case"focusin":g="focus",f=Ey;break;case"focusout":g="blur",f=Ey;break;case"beforeblur":case"afterblur":f=Ey;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=xT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=wL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=ML;break;case Rx:case bx:case xx:f=SL;break;case Px:f=$L;break;case"scroll":f=vL;break;case"wheel":f=VL;break;case"copy":case"cut":case"paste":f=IL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=kT}var v=(e&4)!==0,E=!v&&t==="scroll",p=v?h!==null?h+"Capture":null:h;v=[];for(var y=u,m;y!==null;){m=y;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,p!==null&&(w=qc(y,p),w!=null&&v.push(Zc(y,w,m)))),E)break;y=y.return}0<v.length&&(h=new f(h,g,null,n,c),d.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Uv&&(g=n.relatedTarget||n.fromElement)&&(Ao(g)||g[as]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=u,g=g?Ao(g):null,g!==null&&(E=wa(g),g!==E||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(v=xT,w="onMouseLeave",p="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=kT,w="onPointerLeave",p="onPointerEnter",y="pointer"),E=f==null?h:Xa(f),m=g==null?h:Xa(g),h=new v(w,y+"leave",f,n,c),h.target=E,h.relatedTarget=m,w=null,Ao(c)===u&&(v=new v(p,y+"enter",g,n,c),v.target=m,v.relatedTarget=E,w=v),E=w,f&&g)t:{for(v=f,p=g,y=0,m=v;m;m=Na(m))y++;for(m=0,w=p;w;w=Na(w))m++;for(;0<y-m;)v=Na(v),y--;for(;0<m-y;)p=Na(p),m--;for(;y--;){if(v===p||p!==null&&v===p.alternate)break t;v=Na(v),p=Na(p)}v=null}else v=null;f!==null&&jT(d,h,f,v,!1),g!==null&&E!==null&&jT(d,E,g,v,!0)}}e:{if(h=u?Xa(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var I=qL;else if(OT(h))if(Ex)I=YL;else{I=GL;var T=KL}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=QL);if(I&&(I=I(t,u))){wx(d,I,n,c);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&Mv(h,"number",h.value)}switch(T=u?Xa(u):window,t){case"focusin":(OT(T)||T.contentEditable==="true")&&(Qa=T,Kv=u,wc=null);break;case"focusout":wc=Kv=Qa=null;break;case"mousedown":Gv=!0;break;case"contextmenu":case"mouseup":case"dragend":Gv=!1,FT(d,n,c);break;case"selectionchange":if(ZL)break;case"keydown":case"keyup":FT(d,n,c)}var C;if(t1)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ga?vx(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(yx&&n.locale!=="ko"&&(Ga||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ga&&(C=gx()):(Ls=c,J0="value"in Ls?Ls.value:Ls.textContent,Ga=!0)),T=Yf(u,b),0<T.length&&(b=new PT(b,t,null,n,c),d.push({event:b,listeners:T}),C?b.data=C:(C=_x(n),C!==null&&(b.data=C)))),(C=jL?BL(t,n):zL(t,n))&&(u=Yf(u,"onBeforeInput"),0<u.length&&(c=new PT("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}Ax(d,e)})}function Zc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Yf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=qc(t,n),s!=null&&r.unshift(Zc(t,s,i)),s=qc(t,e),s!=null&&r.push(Zc(t,s,i))),t=t.return}return r}function Na(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jT(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=qc(n,s),l!=null&&o.unshift(Zc(n,l,a))):i||(l=qc(n,s),l!=null&&o.push(Zc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var r4=/\r\n?/g,i4=/\u0000|\uFFFD/g;function BT(t){return(typeof t=="string"?t:""+t).replace(r4,`
`).replace(i4,"")}function Bh(t,e,n){if(e=BT(e),BT(t)!==e&&n)throw Error(H(425))}function Xf(){}var Qv=null,Yv=null;function Xv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jv=typeof setTimeout=="function"?setTimeout:void 0,s4=typeof clearTimeout=="function"?clearTimeout:void 0,zT=typeof Promise=="function"?Promise:void 0,o4=typeof queueMicrotask=="function"?queueMicrotask:typeof zT<"u"?function(t){return zT.resolve(null).then(t).catch(a4)}:Jv;function a4(t){setTimeout(function(){throw t})}function Py(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Qc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qc(e)}function zs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function WT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var tu=Math.random().toString(36).slice(2),vi="__reactFiber$"+tu,ed="__reactProps$"+tu,as="__reactContainer$"+tu,Zv="__reactEvents$"+tu,l4="__reactListeners$"+tu,u4="__reactHandles$"+tu;function Ao(t){var e=t[vi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[as]||n[vi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=WT(t);t!==null;){if(n=t[vi])return n;t=WT(t)}return e}t=n,n=t.parentNode}return null}function Bd(t){return t=t[vi]||t[as],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function fm(t){return t[ed]||null}var e_=[],Ja=-1;function uo(t){return{current:t}}function yt(t){0>Ja||(t.current=e_[Ja],e_[Ja]=null,Ja--)}function ut(t,e){Ja++,e_[Ja]=t.current,t.current=e}var eo={},Wn=uo(eo),sr=uo(!1),Xo=eo;function Il(t,e){var n=t.type.contextTypes;if(!n)return eo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function or(t){return t=t.childContextTypes,t!=null}function Jf(){yt(sr),yt(Wn)}function HT(t,e,n){if(Wn.current!==eo)throw Error(H(168));ut(Wn,e),ut(sr,n)}function Ox(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,KM(t)||"Unknown",i));return Nt({},n,r)}function Zf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||eo,Xo=Wn.current,ut(Wn,t),ut(sr,sr.current),!0}function qT(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=Ox(t,e,Xo),r.__reactInternalMemoizedMergedChildContext=t,yt(sr),yt(Wn),ut(Wn,t)):yt(sr),ut(sr,n)}var Gi=null,pm=!1,ky=!1;function Dx(t){Gi===null?Gi=[t]:Gi.push(t)}function c4(t){pm=!0,Dx(t)}function co(){if(!ky&&Gi!==null){ky=!0;var t=0,e=Je;try{var n=Gi;for(Je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Gi=null,pm=!1}catch(i){throw Gi!==null&&(Gi=Gi.slice(t+1)),sx(G0,co),i}finally{Je=e,ky=!1}}return null}var Za=[],el=0,ep=null,tp=0,kr=[],Ar=0,Jo=null,Yi=1,Xi="";function So(t,e){Za[el++]=tp,Za[el++]=ep,ep=t,tp=e}function Mx(t,e,n){kr[Ar++]=Yi,kr[Ar++]=Xi,kr[Ar++]=Jo,Jo=t;var r=Yi;t=Xi;var i=32-si(r)-1;r&=~(1<<i),n+=1;var s=32-si(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-si(e)+i|n<<i|r,Xi=s+t}else Yi=1<<s|n<<i|r,Xi=t}function r1(t){t.return!==null&&(So(t,1),Mx(t,1,0))}function i1(t){for(;t===ep;)ep=Za[--el],Za[el]=null,tp=Za[--el],Za[el]=null;for(;t===Jo;)Jo=kr[--Ar],kr[Ar]=null,Xi=kr[--Ar],kr[Ar]=null,Yi=kr[--Ar],kr[Ar]=null}var vr=null,mr=null,It=!1,ti=null;function Lx(t,e){var n=Mr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function KT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,vr=t,mr=zs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,vr=t,mr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jo!==null?{id:Yi,overflow:Xi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,vr=t,mr=null,!0):!1;default:return!1}}function t_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function n_(t){if(It){var e=mr;if(e){var n=e;if(!KT(t,e)){if(t_(t))throw Error(H(418));e=zs(n.nextSibling);var r=vr;e&&KT(t,e)?Lx(r,n):(t.flags=t.flags&-4097|2,It=!1,vr=t)}}else{if(t_(t))throw Error(H(418));t.flags=t.flags&-4097|2,It=!1,vr=t}}}function GT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;vr=t}function zh(t){if(t!==vr)return!1;if(!It)return GT(t),It=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xv(t.type,t.memoizedProps)),e&&(e=mr)){if(t_(t))throw $x(),Error(H(418));for(;e;)Lx(t,e),e=zs(e.nextSibling)}if(GT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){mr=zs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}mr=null}}else mr=vr?zs(t.stateNode.nextSibling):null;return!0}function $x(){for(var t=mr;t;)t=zs(t.nextSibling)}function Rl(){mr=vr=null,It=!1}function s1(t){ti===null?ti=[t]:ti.push(t)}var d4=gs.ReactCurrentBatchConfig;function Jr(t,e){if(t&&t.defaultProps){e=Nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var np=uo(null),rp=null,tl=null,o1=null;function a1(){o1=tl=rp=null}function l1(t){var e=np.current;yt(np),t._currentValue=e}function r_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fl(t,e){rp=t,o1=tl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rr=!0),t.firstContext=null)}function Br(t){var e=t._currentValue;if(o1!==t)if(t={context:t,memoizedValue:e,next:null},tl===null){if(rp===null)throw Error(H(308));tl=t,rp.dependencies={lanes:0,firstContext:t}}else tl=tl.next=t;return e}var No=null;function u1(t){No===null?No=[t]:No.push(t)}function Fx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,u1(e)):(n.next=i.next,i.next=n),e.interleaved=n,ls(t,r)}function ls(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ps=!1;function c1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ns(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ws(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,He&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ls(t,n)}return i=r.interleaved,i===null?(e.next=e,u1(r)):(e.next=i.next,i.next=e),r.interleaved=e,ls(t,n)}function Ef(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Q0(t,n)}}function QT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ip(t,e,n,r){var i=t.updateQueue;Ps=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(h=e,f=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(f,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(f,d,h):g,h==null)break e;d=Nt({},d,h);break e;case 2:Ps=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ea|=o,t.lanes=o,t.memoizedState=d}}function YT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var Ux=new Fb.Component().refs;function i_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var mm={isMounted:function(t){return(t=t._reactInternals)?wa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qn(),i=qs(t),s=ns(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ws(t,s,i),e!==null&&(oi(e,t,i,r),Ef(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qn(),i=qs(t),s=ns(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ws(t,s,i),e!==null&&(oi(e,t,i,r),Ef(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qn(),r=qs(t),i=ns(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ws(t,i,r),e!==null&&(oi(e,t,r,n),Ef(e,t,r))}};function XT(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Xc(n,r)||!Xc(i,s):!0}function jx(t,e,n){var r=!1,i=eo,s=e.contextType;return typeof s=="object"&&s!==null?s=Br(s):(i=or(e)?Xo:Wn.current,r=e.contextTypes,s=(r=r!=null)?Il(t,i):eo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function JT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mm.enqueueReplaceState(e,e.state,null)}function s_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Ux,c1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Br(s):(s=or(e)?Xo:Wn.current,i.context=Il(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(i_(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&mm.enqueueReplaceState(i,i.state,null),ip(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ku(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Ux&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function Wh(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ZT(t){var e=t._init;return e(t._payload)}function Bx(t){function e(p,y){if(t){var m=p.deletions;m===null?(p.deletions=[y],p.flags|=16):m.push(y)}}function n(p,y){if(!t)return null;for(;y!==null;)e(p,y),y=y.sibling;return null}function r(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function i(p,y){return p=Ks(p,y),p.index=0,p.sibling=null,p}function s(p,y,m){return p.index=m,t?(m=p.alternate,m!==null?(m=m.index,m<y?(p.flags|=2,y):m):(p.flags|=2,y)):(p.flags|=1048576,y)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,y,m,w){return y===null||y.tag!==6?(y=$y(m,p.mode,w),y.return=p,y):(y=i(y,m),y.return=p,y)}function l(p,y,m,w){var I=m.type;return I===Ka?c(p,y,m.props.children,w,m.key):y!==null&&(y.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===xs&&ZT(I)===y.type)?(w=i(y,m.props),w.ref=ku(p,y,m),w.return=p,w):(w=bf(m.type,m.key,m.props,null,p.mode,w),w.ref=ku(p,y,m),w.return=p,w)}function u(p,y,m,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==m.containerInfo||y.stateNode.implementation!==m.implementation?(y=Fy(m,p.mode,w),y.return=p,y):(y=i(y,m.children||[]),y.return=p,y)}function c(p,y,m,w,I){return y===null||y.tag!==7?(y=Ho(m,p.mode,w,I),y.return=p,y):(y=i(y,m),y.return=p,y)}function d(p,y,m){if(typeof y=="string"&&y!==""||typeof y=="number")return y=$y(""+y,p.mode,m),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Oh:return m=bf(y.type,y.key,y.props,null,p.mode,m),m.ref=ku(p,null,y),m.return=p,m;case qa:return y=Fy(y,p.mode,m),y.return=p,y;case xs:var w=y._init;return d(p,w(y._payload),m)}if(nc(y)||Iu(y))return y=Ho(y,p.mode,m,null),y.return=p,y;Wh(p,y)}return null}function h(p,y,m,w){var I=y!==null?y.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return I!==null?null:a(p,y,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Oh:return m.key===I?l(p,y,m,w):null;case qa:return m.key===I?u(p,y,m,w):null;case xs:return I=m._init,h(p,y,I(m._payload),w)}if(nc(m)||Iu(m))return I!==null?null:c(p,y,m,w,null);Wh(p,m)}return null}function f(p,y,m,w,I){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(m)||null,a(y,p,""+w,I);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Oh:return p=p.get(w.key===null?m:w.key)||null,l(y,p,w,I);case qa:return p=p.get(w.key===null?m:w.key)||null,u(y,p,w,I);case xs:var T=w._init;return f(p,y,m,T(w._payload),I)}if(nc(w)||Iu(w))return p=p.get(m)||null,c(y,p,w,I,null);Wh(y,w)}return null}function g(p,y,m,w){for(var I=null,T=null,C=y,b=y=0,P=null;C!==null&&b<m.length;b++){C.index>b?(P=C,C=null):P=C.sibling;var x=h(p,C,m[b],w);if(x===null){C===null&&(C=P);break}t&&C&&x.alternate===null&&e(p,C),y=s(x,y,b),T===null?I=x:T.sibling=x,T=x,C=P}if(b===m.length)return n(p,C),It&&So(p,b),I;if(C===null){for(;b<m.length;b++)C=d(p,m[b],w),C!==null&&(y=s(C,y,b),T===null?I=C:T.sibling=C,T=C);return It&&So(p,b),I}for(C=r(p,C);b<m.length;b++)P=f(C,p,b,m[b],w),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?b:P.key),y=s(P,y,b),T===null?I=P:T.sibling=P,T=P);return t&&C.forEach(function(O){return e(p,O)}),It&&So(p,b),I}function v(p,y,m,w){var I=Iu(m);if(typeof I!="function")throw Error(H(150));if(m=I.call(m),m==null)throw Error(H(151));for(var T=I=null,C=y,b=y=0,P=null,x=m.next();C!==null&&!x.done;b++,x=m.next()){C.index>b?(P=C,C=null):P=C.sibling;var O=h(p,C,x.value,w);if(O===null){C===null&&(C=P);break}t&&C&&O.alternate===null&&e(p,C),y=s(O,y,b),T===null?I=O:T.sibling=O,T=O,C=P}if(x.done)return n(p,C),It&&So(p,b),I;if(C===null){for(;!x.done;b++,x=m.next())x=d(p,x.value,w),x!==null&&(y=s(x,y,b),T===null?I=x:T.sibling=x,T=x);return It&&So(p,b),I}for(C=r(p,C);!x.done;b++,x=m.next())x=f(C,p,b,x.value,w),x!==null&&(t&&x.alternate!==null&&C.delete(x.key===null?b:x.key),y=s(x,y,b),T===null?I=x:T.sibling=x,T=x);return t&&C.forEach(function(F){return e(p,F)}),It&&So(p,b),I}function E(p,y,m,w){if(typeof m=="object"&&m!==null&&m.type===Ka&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Oh:e:{for(var I=m.key,T=y;T!==null;){if(T.key===I){if(I=m.type,I===Ka){if(T.tag===7){n(p,T.sibling),y=i(T,m.props.children),y.return=p,p=y;break e}}else if(T.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===xs&&ZT(I)===T.type){n(p,T.sibling),y=i(T,m.props),y.ref=ku(p,T,m),y.return=p,p=y;break e}n(p,T);break}else e(p,T);T=T.sibling}m.type===Ka?(y=Ho(m.props.children,p.mode,w,m.key),y.return=p,p=y):(w=bf(m.type,m.key,m.props,null,p.mode,w),w.ref=ku(p,y,m),w.return=p,p=w)}return o(p);case qa:e:{for(T=m.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===m.containerInfo&&y.stateNode.implementation===m.implementation){n(p,y.sibling),y=i(y,m.children||[]),y.return=p,p=y;break e}else{n(p,y);break}else e(p,y);y=y.sibling}y=Fy(m,p.mode,w),y.return=p,p=y}return o(p);case xs:return T=m._init,E(p,y,T(m._payload),w)}if(nc(m))return g(p,y,m,w);if(Iu(m))return v(p,y,m,w);Wh(p,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,y!==null&&y.tag===6?(n(p,y.sibling),y=i(y,m),y.return=p,p=y):(n(p,y),y=$y(m,p.mode,w),y.return=p,p=y),o(p)):n(p,y)}return E}var bl=Bx(!0),zx=Bx(!1),zd={},Ri=uo(zd),td=uo(zd),nd=uo(zd);function Oo(t){if(t===zd)throw Error(H(174));return t}function d1(t,e){switch(ut(nd,e),ut(td,t),ut(Ri,zd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$v(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$v(e,t)}yt(Ri),ut(Ri,e)}function xl(){yt(Ri),yt(td),yt(nd)}function Wx(t){Oo(nd.current);var e=Oo(Ri.current),n=$v(e,t.type);e!==n&&(ut(td,t),ut(Ri,n))}function h1(t){td.current===t&&(yt(Ri),yt(td))}var Pt=uo(0);function sp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ay=[];function f1(){for(var t=0;t<Ay.length;t++)Ay[t]._workInProgressVersionPrimary=null;Ay.length=0}var Tf=gs.ReactCurrentDispatcher,Ny=gs.ReactCurrentBatchConfig,Zo=0,At=null,on=null,hn=null,op=!1,Ec=!1,rd=0,h4=0;function An(){throw Error(H(321))}function p1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!li(t[n],e[n]))return!1;return!0}function m1(t,e,n,r,i,s){if(Zo=s,At=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tf.current=t===null||t.memoizedState===null?g4:y4,t=n(r,i),Ec){s=0;do{if(Ec=!1,rd=0,25<=s)throw Error(H(301));s+=1,hn=on=null,e.updateQueue=null,Tf.current=v4,t=n(r,i)}while(Ec)}if(Tf.current=ap,e=on!==null&&on.next!==null,Zo=0,hn=on=At=null,op=!1,e)throw Error(H(300));return t}function g1(){var t=rd!==0;return rd=0,t}function mi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?At.memoizedState=hn=t:hn=hn.next=t,hn}function zr(){if(on===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=on.next;var e=hn===null?At.memoizedState:hn.next;if(e!==null)hn=e,on=t;else{if(t===null)throw Error(H(310));on=t,t={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},hn===null?At.memoizedState=hn=t:hn=hn.next=t}return hn}function id(t,e){return typeof e=="function"?e(t):e}function Oy(t){var e=zr(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=on,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Zo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,At.lanes|=c,ea|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,li(r,e.memoizedState)||(rr=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,At.lanes|=s,ea|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dy(t){var e=zr(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);li(s,e.memoizedState)||(rr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Hx(){}function qx(t,e){var n=At,r=zr(),i=e(),s=!li(r.memoizedState,i);if(s&&(r.memoizedState=i,rr=!0),r=r.queue,y1(Qx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||hn!==null&&hn.memoizedState.tag&1){if(n.flags|=2048,sd(9,Gx.bind(null,n,r,i,e),void 0,null),gn===null)throw Error(H(349));Zo&30||Kx(n,e,i)}return i}function Kx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Gx(t,e,n,r){e.value=n,e.getSnapshot=r,Yx(e)&&Xx(t)}function Qx(t,e,n){return n(function(){Yx(e)&&Xx(t)})}function Yx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!li(t,n)}catch{return!0}}function Xx(t){var e=ls(t,1);e!==null&&oi(e,t,1,-1)}function eS(t){var e=mi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:id,lastRenderedState:t},e.queue=t,t=t.dispatch=m4.bind(null,At,t),[e.memoizedState,t]}function sd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Jx(){return zr().memoizedState}function Sf(t,e,n,r){var i=mi();At.flags|=t,i.memoizedState=sd(1|e,n,void 0,r===void 0?null:r)}function gm(t,e,n,r){var i=zr();r=r===void 0?null:r;var s=void 0;if(on!==null){var o=on.memoizedState;if(s=o.destroy,r!==null&&p1(r,o.deps)){i.memoizedState=sd(e,n,s,r);return}}At.flags|=t,i.memoizedState=sd(1|e,n,s,r)}function tS(t,e){return Sf(8390656,8,t,e)}function y1(t,e){return gm(2048,8,t,e)}function Zx(t,e){return gm(4,2,t,e)}function eP(t,e){return gm(4,4,t,e)}function tP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nP(t,e,n){return n=n!=null?n.concat([t]):null,gm(4,4,tP.bind(null,e,t),n)}function v1(){}function rP(t,e){var n=zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&p1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function iP(t,e){var n=zr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&p1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function sP(t,e,n){return Zo&21?(li(n,e)||(n=lx(),At.lanes|=n,ea|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rr=!0),t.memoizedState=n)}function f4(t,e){var n=Je;Je=n!==0&&4>n?n:4,t(!0);var r=Ny.transition;Ny.transition={};try{t(!1),e()}finally{Je=n,Ny.transition=r}}function oP(){return zr().memoizedState}function p4(t,e,n){var r=qs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aP(t))lP(e,n);else if(n=Fx(t,e,n,r),n!==null){var i=Qn();oi(n,t,r,i),uP(n,e,r)}}function m4(t,e,n){var r=qs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aP(t))lP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,li(a,o)){var l=e.interleaved;l===null?(i.next=i,u1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Fx(t,e,i,r),n!==null&&(i=Qn(),oi(n,t,r,i),uP(n,e,r))}}function aP(t){var e=t.alternate;return t===At||e!==null&&e===At}function lP(t,e){Ec=op=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Q0(t,n)}}var ap={readContext:Br,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},g4={readContext:Br,useCallback:function(t,e){return mi().memoizedState=[t,e===void 0?null:e],t},useContext:Br,useEffect:tS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sf(4194308,4,tP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sf(4,2,t,e)},useMemo:function(t,e){var n=mi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=p4.bind(null,At,t),[r.memoizedState,t]},useRef:function(t){var e=mi();return t={current:t},e.memoizedState=t},useState:eS,useDebugValue:v1,useDeferredValue:function(t){return mi().memoizedState=t},useTransition:function(){var t=eS(!1),e=t[0];return t=f4.bind(null,t[1]),mi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=At,i=mi();if(It){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),gn===null)throw Error(H(349));Zo&30||Kx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,tS(Qx.bind(null,r,s,t),[t]),r.flags|=2048,sd(9,Gx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=mi(),e=gn.identifierPrefix;if(It){var n=Xi,r=Yi;n=(r&~(1<<32-si(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=rd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=h4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},y4={readContext:Br,useCallback:rP,useContext:Br,useEffect:y1,useImperativeHandle:nP,useInsertionEffect:Zx,useLayoutEffect:eP,useMemo:iP,useReducer:Oy,useRef:Jx,useState:function(){return Oy(id)},useDebugValue:v1,useDeferredValue:function(t){var e=zr();return sP(e,on.memoizedState,t)},useTransition:function(){var t=Oy(id)[0],e=zr().memoizedState;return[t,e]},useMutableSource:Hx,useSyncExternalStore:qx,useId:oP,unstable_isNewReconciler:!1},v4={readContext:Br,useCallback:rP,useContext:Br,useEffect:y1,useImperativeHandle:nP,useInsertionEffect:Zx,useLayoutEffect:eP,useMemo:iP,useReducer:Dy,useRef:Jx,useState:function(){return Dy(id)},useDebugValue:v1,useDeferredValue:function(t){var e=zr();return on===null?e.memoizedState=t:sP(e,on.memoizedState,t)},useTransition:function(){var t=Dy(id)[0],e=zr().memoizedState;return[t,e]},useMutableSource:Hx,useSyncExternalStore:qx,useId:oP,unstable_isNewReconciler:!1};function Pl(t,e){try{var n="",r=e;do n+=qM(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function My(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function o_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _4=typeof WeakMap=="function"?WeakMap:Map;function cP(t,e,n){n=ns(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){up||(up=!0,g_=r),o_(t,e)},n}function dP(t,e,n){n=ns(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){o_(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){o_(t,e),typeof r!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function nS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new _4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=O4.bind(null,t,e,n),e.then(t,t))}function rS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ns(-1,1),e.tag=2,Ws(n,e,1))),n.lanes|=1),t)}var w4=gs.ReactCurrentOwner,rr=!1;function Kn(t,e,n,r){e.child=t===null?zx(e,null,n,r):bl(e,t.child,n,r)}function sS(t,e,n,r,i){n=n.render;var s=e.ref;return fl(e,i),r=m1(t,e,n,r,s,i),n=g1(),t!==null&&!rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,us(t,e,i)):(It&&n&&r1(e),e.flags|=1,Kn(t,e,r,i),e.child)}function oS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!R1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,hP(t,e,s,r,i)):(t=bf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Xc,n(o,r)&&t.ref===e.ref)return us(t,e,i)}return e.flags|=1,t=Ks(s,r),t.ref=e.ref,t.return=e,e.child=t}function hP(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Xc(s,r)&&t.ref===e.ref)if(rr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(rr=!0);else return e.lanes=t.lanes,us(t,e,i)}return a_(t,e,n,r,i)}function fP(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(rl,fr),fr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ut(rl,fr),fr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ut(rl,fr),fr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ut(rl,fr),fr|=r;return Kn(t,e,i,n),e.child}function pP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function a_(t,e,n,r,i){var s=or(n)?Xo:Wn.current;return s=Il(e,s),fl(e,i),n=m1(t,e,n,r,s,i),r=g1(),t!==null&&!rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,us(t,e,i)):(It&&r&&r1(e),e.flags|=1,Kn(t,e,n,i),e.child)}function aS(t,e,n,r,i){if(or(n)){var s=!0;Zf(e)}else s=!1;if(fl(e,i),e.stateNode===null)Cf(t,e),jx(e,n,r),s_(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Br(u):(u=or(n)?Xo:Wn.current,u=Il(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&JT(e,o,r,u),Ps=!1;var h=e.memoizedState;o.state=h,ip(e,r,o,i),l=e.memoizedState,a!==r||h!==l||sr.current||Ps?(typeof c=="function"&&(i_(e,n,c,r),l=e.memoizedState),(a=Ps||XT(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Vx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Jr(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Br(l):(l=or(n)?Xo:Wn.current,l=Il(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&JT(e,o,r,l),Ps=!1,h=e.memoizedState,o.state=h,ip(e,r,o,i);var g=e.memoizedState;a!==d||h!==g||sr.current||Ps?(typeof f=="function"&&(i_(e,n,f,r),g=e.memoizedState),(u=Ps||XT(e,n,u,r,h,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return l_(t,e,n,r,s,i)}function l_(t,e,n,r,i,s){pP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&qT(e,n,!1),us(t,e,s);r=e.stateNode,w4.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=bl(e,t.child,null,s),e.child=bl(e,null,a,s)):Kn(t,e,a,s),e.memoizedState=r.state,i&&qT(e,n,!0),e.child}function mP(t){var e=t.stateNode;e.pendingContext?HT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&HT(t,e.context,!1),d1(t,e.containerInfo)}function lS(t,e,n,r,i){return Rl(),s1(i),e.flags|=256,Kn(t,e,n,r),e.child}var u_={dehydrated:null,treeContext:null,retryLane:0};function c_(t){return{baseLanes:t,cachePool:null,transitions:null}}function gP(t,e,n){var r=e.pendingProps,i=Pt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ut(Pt,i&1),t===null)return n_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_m(o,r,0,null),t=Ho(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=c_(n),e.memoizedState=u_,t):_1(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return E4(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ks(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ks(a,s):(s=Ho(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?c_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=u_,r}return s=t.child,t=s.sibling,r=Ks(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _1(t,e){return e=_m({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hh(t,e,n,r){return r!==null&&s1(r),bl(e,t.child,null,n),t=_1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function E4(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=My(Error(H(422))),Hh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=_m({mode:"visible",children:r.children},i,0,null),s=Ho(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&bl(e,t.child,null,o),e.child.memoizedState=c_(o),e.memoizedState=u_,s);if(!(e.mode&1))return Hh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=My(s,r,void 0),Hh(t,e,o,r)}if(a=(o&t.childLanes)!==0,rr||a){if(r=gn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ls(t,i),oi(r,t,i,-1))}return I1(),r=My(Error(H(421))),Hh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=D4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,mr=zs(i.nextSibling),vr=e,It=!0,ti=null,t!==null&&(kr[Ar++]=Yi,kr[Ar++]=Xi,kr[Ar++]=Jo,Yi=t.id,Xi=t.overflow,Jo=e),e=_1(e,r.children),e.flags|=4096,e)}function uS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),r_(t.return,e,n)}function Ly(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function yP(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Kn(t,e,r.children,n),r=Pt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uS(t,n,e);else if(t.tag===19)uS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ut(Pt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ly(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ly(e,!0,n,null,s);break;case"together":Ly(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function us(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ea|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Ks(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ks(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function T4(t,e,n){switch(e.tag){case 3:mP(e),Rl();break;case 5:Wx(e);break;case 1:or(e.type)&&Zf(e);break;case 4:d1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ut(np,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ut(Pt,Pt.current&1),e.flags|=128,null):n&e.child.childLanes?gP(t,e,n):(ut(Pt,Pt.current&1),t=us(t,e,n),t!==null?t.sibling:null);ut(Pt,Pt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return yP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ut(Pt,Pt.current),r)break;return null;case 22:case 23:return e.lanes=0,fP(t,e,n)}return us(t,e,n)}var vP,d_,_P,wP;vP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};d_=function(){};_P=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Oo(Ri.current);var s=null;switch(n){case"input":i=Ov(t,i),r=Ov(t,r),s=[];break;case"select":i=Nt({},i,{value:void 0}),r=Nt({},r,{value:void 0}),s=[];break;case"textarea":i=Lv(t,i),r=Lv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Xf)}Fv(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Wc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Wc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ht("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};wP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Au(t,e){if(!It)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function S4(t,e,n){var r=e.pendingProps;switch(i1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(e),null;case 1:return or(e.type)&&Jf(),Nn(e),null;case 3:return r=e.stateNode,xl(),yt(sr),yt(Wn),f1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ti!==null&&(__(ti),ti=null))),d_(t,e),Nn(e),null;case 5:h1(e);var i=Oo(nd.current);if(n=e.type,t!==null&&e.stateNode!=null)_P(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return Nn(e),null}if(t=Oo(Ri.current),zh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[vi]=e,r[ed]=s,t=(e.mode&1)!==0,n){case"dialog":ht("cancel",r),ht("close",r);break;case"iframe":case"object":case"embed":ht("load",r);break;case"video":case"audio":for(i=0;i<ic.length;i++)ht(ic[i],r);break;case"source":ht("error",r);break;case"img":case"image":case"link":ht("error",r),ht("load",r);break;case"details":ht("toggle",r);break;case"input":vT(r,s),ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ht("invalid",r);break;case"textarea":wT(r,s),ht("invalid",r)}Fv(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Bh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Bh(r.textContent,a,t),i=["children",""+a]):Wc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ht("scroll",r)}switch(n){case"input":Dh(r),_T(r,s,!0);break;case"textarea":Dh(r),ET(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Xf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Kb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vi]=e,t[ed]=r,vP(t,e,!1,!1),e.stateNode=t;e:{switch(o=Vv(n,r),n){case"dialog":ht("cancel",t),ht("close",t),i=r;break;case"iframe":case"object":case"embed":ht("load",t),i=r;break;case"video":case"audio":for(i=0;i<ic.length;i++)ht(ic[i],t);i=r;break;case"source":ht("error",t),i=r;break;case"img":case"image":case"link":ht("error",t),ht("load",t),i=r;break;case"details":ht("toggle",t),i=r;break;case"input":vT(t,r),i=Ov(t,r),ht("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Nt({},r,{value:void 0}),ht("invalid",t);break;case"textarea":wT(t,r),i=Lv(t,r),ht("invalid",t);break;default:i=r}Fv(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Yb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Gb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Hc(t,l):typeof l=="number"&&Hc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ht("scroll",t):l!=null&&z0(t,s,l,o))}switch(n){case"input":Dh(t),_T(t,r,!1);break;case"textarea":Dh(t),ET(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Zs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ul(t,!!r.multiple,s,!1):r.defaultValue!=null&&ul(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Xf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nn(e),null;case 6:if(t&&e.stateNode!=null)wP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Oo(nd.current),Oo(Ri.current),zh(e)){if(r=e.stateNode,n=e.memoizedProps,r[vi]=e,(s=r.nodeValue!==n)&&(t=vr,t!==null))switch(t.tag){case 3:Bh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vi]=e,e.stateNode=r}return Nn(e),null;case 13:if(yt(Pt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(It&&mr!==null&&e.mode&1&&!(e.flags&128))$x(),Rl(),e.flags|=98560,s=!1;else if(s=zh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[vi]=e}else Rl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nn(e),s=!1}else ti!==null&&(__(ti),ti=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Pt.current&1?an===0&&(an=3):I1())),e.updateQueue!==null&&(e.flags|=4),Nn(e),null);case 4:return xl(),d_(t,e),t===null&&Jc(e.stateNode.containerInfo),Nn(e),null;case 10:return l1(e.type._context),Nn(e),null;case 17:return or(e.type)&&Jf(),Nn(e),null;case 19:if(yt(Pt),s=e.memoizedState,s===null)return Nn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Au(s,!1);else{if(an!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=sp(t),o!==null){for(e.flags|=128,Au(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ut(Pt,Pt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ht()>kl&&(e.flags|=128,r=!0,Au(s,!1),e.lanes=4194304)}else{if(!r)if(t=sp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Au(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!It)return Nn(e),null}else 2*Ht()-s.renderingStartTime>kl&&n!==1073741824&&(e.flags|=128,r=!0,Au(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ht(),e.sibling=null,n=Pt.current,ut(Pt,r?n&1|2:n&1),e):(Nn(e),null);case 22:case 23:return C1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?fr&1073741824&&(Nn(e),e.subtreeFlags&6&&(e.flags|=8192)):Nn(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function C4(t,e){switch(i1(e),e.tag){case 1:return or(e.type)&&Jf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xl(),yt(sr),yt(Wn),f1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return h1(e),null;case 13:if(yt(Pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));Rl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yt(Pt),null;case 4:return xl(),null;case 10:return l1(e.type._context),null;case 22:case 23:return C1(),null;case 24:return null;default:return null}}var qh=!1,Ln=!1,I4=typeof WeakSet=="function"?WeakSet:Set,Z=null;function nl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ut(t,e,r)}else n.current=null}function h_(t,e,n){try{n()}catch(r){Ut(t,e,r)}}var cS=!1;function R4(t,e){if(Qv=Gf,t=Cx(),n1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yv={focusedElem:t,selectionRange:n},Gf=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,E=g.memoizedState,p=e.stateNode,y=p.getSnapshotBeforeUpdate(e.elementType===e.type?v:Jr(e.type,v),E);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(w){Ut(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return g=cS,cS=!1,g}function Tc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&h_(e,n,s)}i=i.next}while(i!==r)}}function ym(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function f_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function EP(t){var e=t.alternate;e!==null&&(t.alternate=null,EP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vi],delete e[ed],delete e[Zv],delete e[l4],delete e[u4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function TP(t){return t.tag===5||t.tag===3||t.tag===4}function dS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||TP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function p_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Xf));else if(r!==4&&(t=t.child,t!==null))for(p_(t,e,n),t=t.sibling;t!==null;)p_(t,e,n),t=t.sibling}function m_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(m_(t,e,n),t=t.sibling;t!==null;)m_(t,e,n),t=t.sibling}var Tn=null,Zr=!1;function Ss(t,e,n){for(n=n.child;n!==null;)SP(t,e,n),n=n.sibling}function SP(t,e,n){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(um,n)}catch{}switch(n.tag){case 5:Ln||nl(n,e);case 6:var r=Tn,i=Zr;Tn=null,Ss(t,e,n),Tn=r,Zr=i,Tn!==null&&(Zr?(t=Tn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tn.removeChild(n.stateNode));break;case 18:Tn!==null&&(Zr?(t=Tn,n=n.stateNode,t.nodeType===8?Py(t.parentNode,n):t.nodeType===1&&Py(t,n),Qc(t)):Py(Tn,n.stateNode));break;case 4:r=Tn,i=Zr,Tn=n.stateNode.containerInfo,Zr=!0,Ss(t,e,n),Tn=r,Zr=i;break;case 0:case 11:case 14:case 15:if(!Ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&h_(n,e,o),i=i.next}while(i!==r)}Ss(t,e,n);break;case 1:if(!Ln&&(nl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ut(n,e,a)}Ss(t,e,n);break;case 21:Ss(t,e,n);break;case 22:n.mode&1?(Ln=(r=Ln)||n.memoizedState!==null,Ss(t,e,n),Ln=r):Ss(t,e,n);break;default:Ss(t,e,n)}}function hS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new I4),e.forEach(function(r){var i=M4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Tn=a.stateNode,Zr=!1;break e;case 3:Tn=a.stateNode.containerInfo,Zr=!0;break e;case 4:Tn=a.stateNode.containerInfo,Zr=!0;break e}a=a.return}if(Tn===null)throw Error(H(160));SP(s,o,i),Tn=null,Zr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ut(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)CP(e,t),e=e.sibling}function CP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xr(e,t),pi(t),r&4){try{Tc(3,t,t.return),ym(3,t)}catch(v){Ut(t,t.return,v)}try{Tc(5,t,t.return)}catch(v){Ut(t,t.return,v)}}break;case 1:Xr(e,t),pi(t),r&512&&n!==null&&nl(n,n.return);break;case 5:if(Xr(e,t),pi(t),r&512&&n!==null&&nl(n,n.return),t.flags&32){var i=t.stateNode;try{Hc(i,"")}catch(v){Ut(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Hb(i,s),Vv(a,o);var u=Vv(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Yb(i,d):c==="dangerouslySetInnerHTML"?Gb(i,d):c==="children"?Hc(i,d):z0(i,c,d,u)}switch(a){case"input":Dv(i,s);break;case"textarea":qb(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ul(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?ul(i,!!s.multiple,s.defaultValue,!0):ul(i,!!s.multiple,s.multiple?[]:"",!1))}i[ed]=s}catch(v){Ut(t,t.return,v)}}break;case 6:if(Xr(e,t),pi(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Ut(t,t.return,v)}}break;case 3:if(Xr(e,t),pi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qc(e.containerInfo)}catch(v){Ut(t,t.return,v)}break;case 4:Xr(e,t),pi(t);break;case 13:Xr(e,t),pi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(T1=Ht())),r&4&&hS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ln=(u=Ln)||c,Xr(e,t),Ln=u):Xr(e,t),pi(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Z=t,c=t.child;c!==null;){for(d=Z=c;Z!==null;){switch(h=Z,f=h.child,h.tag){case 0:case 11:case 14:case 15:Tc(4,h,h.return);break;case 1:nl(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Ut(r,n,v)}}break;case 5:nl(h,h.return);break;case 22:if(h.memoizedState!==null){pS(d);continue}}f!==null?(f.return=h,Z=f):pS(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Qb("display",o))}catch(v){Ut(t,t.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Ut(t,t.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xr(e,t),pi(t),r&4&&hS(t);break;case 21:break;default:Xr(e,t),pi(t)}}function pi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(TP(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Hc(i,""),r.flags&=-33);var s=dS(t);m_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=dS(t);p_(t,a,o);break;default:throw Error(H(161))}}catch(l){Ut(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function b4(t,e,n){Z=t,IP(t)}function IP(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var i=Z,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||qh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ln;a=qh;var u=Ln;if(qh=o,(Ln=l)&&!u)for(Z=i;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?mS(i):l!==null?(l.return=o,Z=l):mS(i);for(;s!==null;)Z=s,IP(s),s=s.sibling;Z=i,qh=a,Ln=u}fS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Z=s):fS(t)}}function fS(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ln||ym(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Jr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&YT(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}YT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Qc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Ln||e.flags&512&&f_(e)}catch(h){Ut(e,e.return,h)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function pS(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function mS(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ym(4,e)}catch(l){Ut(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ut(e,i,l)}}var s=e.return;try{f_(e)}catch(l){Ut(e,s,l)}break;case 5:var o=e.return;try{f_(e)}catch(l){Ut(e,o,l)}}}catch(l){Ut(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var x4=Math.ceil,lp=gs.ReactCurrentDispatcher,w1=gs.ReactCurrentOwner,Fr=gs.ReactCurrentBatchConfig,He=0,gn=null,Jt=null,bn=0,fr=0,rl=uo(0),an=0,od=null,ea=0,vm=0,E1=0,Sc=null,tr=null,T1=0,kl=1/0,Ki=null,up=!1,g_=null,Hs=null,Kh=!1,$s=null,cp=0,Cc=0,y_=null,If=-1,Rf=0;function Qn(){return He&6?Ht():If!==-1?If:If=Ht()}function qs(t){return t.mode&1?He&2&&bn!==0?bn&-bn:d4.transition!==null?(Rf===0&&(Rf=lx()),Rf):(t=Je,t!==0||(t=window.event,t=t===void 0?16:mx(t.type)),t):1}function oi(t,e,n,r){if(50<Cc)throw Cc=0,y_=null,Error(H(185));Ud(t,n,r),(!(He&2)||t!==gn)&&(t===gn&&(!(He&2)&&(vm|=n),an===4&&As(t,bn)),ar(t,r),n===1&&He===0&&!(e.mode&1)&&(kl=Ht()+500,pm&&co()))}function ar(t,e){var n=t.callbackNode;dL(t,e);var r=Kf(t,t===gn?bn:0);if(r===0)n!==null&&CT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&CT(n),e===1)t.tag===0?c4(gS.bind(null,t)):Dx(gS.bind(null,t)),o4(function(){!(He&6)&&co()}),n=null;else{switch(ux(r)){case 1:n=G0;break;case 4:n=ox;break;case 16:n=qf;break;case 536870912:n=ax;break;default:n=qf}n=OP(n,RP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function RP(t,e){if(If=-1,Rf=0,He&6)throw Error(H(327));var n=t.callbackNode;if(pl()&&t.callbackNode!==n)return null;var r=Kf(t,t===gn?bn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dp(t,r);else{e=r;var i=He;He|=2;var s=xP();(gn!==t||bn!==e)&&(Ki=null,kl=Ht()+500,Wo(t,e));do try{A4();break}catch(a){bP(t,a)}while(!0);a1(),lp.current=s,He=i,Jt!==null?e=0:(gn=null,bn=0,e=an)}if(e!==0){if(e===2&&(i=Wv(t),i!==0&&(r=i,e=v_(t,i))),e===1)throw n=od,Wo(t,0),As(t,r),ar(t,Ht()),n;if(e===6)As(t,r);else{if(i=t.current.alternate,!(r&30)&&!P4(i)&&(e=dp(t,r),e===2&&(s=Wv(t),s!==0&&(r=s,e=v_(t,s))),e===1))throw n=od,Wo(t,0),As(t,r),ar(t,Ht()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:Co(t,tr,Ki);break;case 3:if(As(t,r),(r&130023424)===r&&(e=T1+500-Ht(),10<e)){if(Kf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Qn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Jv(Co.bind(null,t,tr,Ki),e);break}Co(t,tr,Ki);break;case 4:if(As(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-si(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*x4(r/1960))-r,10<r){t.timeoutHandle=Jv(Co.bind(null,t,tr,Ki),r);break}Co(t,tr,Ki);break;case 5:Co(t,tr,Ki);break;default:throw Error(H(329))}}}return ar(t,Ht()),t.callbackNode===n?RP.bind(null,t):null}function v_(t,e){var n=Sc;return t.current.memoizedState.isDehydrated&&(Wo(t,e).flags|=256),t=dp(t,e),t!==2&&(e=tr,tr=n,e!==null&&__(e)),t}function __(t){tr===null?tr=t:tr.push.apply(tr,t)}function P4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!li(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function As(t,e){for(e&=~E1,e&=~vm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-si(e),r=1<<n;t[n]=-1,e&=~r}}function gS(t){if(He&6)throw Error(H(327));pl();var e=Kf(t,0);if(!(e&1))return ar(t,Ht()),null;var n=dp(t,e);if(t.tag!==0&&n===2){var r=Wv(t);r!==0&&(e=r,n=v_(t,r))}if(n===1)throw n=od,Wo(t,0),As(t,e),ar(t,Ht()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Co(t,tr,Ki),ar(t,Ht()),null}function S1(t,e){var n=He;He|=1;try{return t(e)}finally{He=n,He===0&&(kl=Ht()+500,pm&&co())}}function ta(t){$s!==null&&$s.tag===0&&!(He&6)&&pl();var e=He;He|=1;var n=Fr.transition,r=Je;try{if(Fr.transition=null,Je=1,t)return t()}finally{Je=r,Fr.transition=n,He=e,!(He&6)&&co()}}function C1(){fr=rl.current,yt(rl)}function Wo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,s4(n)),Jt!==null)for(n=Jt.return;n!==null;){var r=n;switch(i1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Jf();break;case 3:xl(),yt(sr),yt(Wn),f1();break;case 5:h1(r);break;case 4:xl();break;case 13:yt(Pt);break;case 19:yt(Pt);break;case 10:l1(r.type._context);break;case 22:case 23:C1()}n=n.return}if(gn=t,Jt=t=Ks(t.current,null),bn=fr=e,an=0,od=null,E1=vm=ea=0,tr=Sc=null,No!==null){for(e=0;e<No.length;e++)if(n=No[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}No=null}return t}function bP(t,e){do{var n=Jt;try{if(a1(),Tf.current=ap,op){for(var r=At.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}op=!1}if(Zo=0,hn=on=At=null,Ec=!1,rd=0,w1.current=null,n===null||n.return===null){an=1,od=e,Jt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=bn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=rS(o);if(f!==null){f.flags&=-257,iS(f,o,a,s,e),f.mode&1&&nS(s,u,e),e=f,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){nS(s,u,e),I1();break e}l=Error(H(426))}}else if(It&&a.mode&1){var E=rS(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),iS(E,o,a,s,e),s1(Pl(l,a));break e}}s=l=Pl(l,a),an!==4&&(an=2),Sc===null?Sc=[s]:Sc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=cP(s,l,e);QT(s,p);break e;case 1:a=l;var y=s.type,m=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Hs===null||!Hs.has(m)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=dP(s,a,e);QT(s,w);break e}}s=s.return}while(s!==null)}kP(n)}catch(I){e=I,Jt===n&&n!==null&&(Jt=n=n.return);continue}break}while(!0)}function xP(){var t=lp.current;return lp.current=ap,t===null?ap:t}function I1(){(an===0||an===3||an===2)&&(an=4),gn===null||!(ea&268435455)&&!(vm&268435455)||As(gn,bn)}function dp(t,e){var n=He;He|=2;var r=xP();(gn!==t||bn!==e)&&(Ki=null,Wo(t,e));do try{k4();break}catch(i){bP(t,i)}while(!0);if(a1(),He=n,lp.current=r,Jt!==null)throw Error(H(261));return gn=null,bn=0,an}function k4(){for(;Jt!==null;)PP(Jt)}function A4(){for(;Jt!==null&&!nL();)PP(Jt)}function PP(t){var e=NP(t.alternate,t,fr);t.memoizedProps=t.pendingProps,e===null?kP(t):Jt=e,w1.current=null}function kP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=C4(n,e),n!==null){n.flags&=32767,Jt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{an=6,Jt=null;return}}else if(n=S4(n,e,fr),n!==null){Jt=n;return}if(e=e.sibling,e!==null){Jt=e;return}Jt=e=t}while(e!==null);an===0&&(an=5)}function Co(t,e,n){var r=Je,i=Fr.transition;try{Fr.transition=null,Je=1,N4(t,e,n,r)}finally{Fr.transition=i,Je=r}return null}function N4(t,e,n,r){do pl();while($s!==null);if(He&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(hL(t,s),t===gn&&(Jt=gn=null,bn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kh||(Kh=!0,OP(qf,function(){return pl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Fr.transition,Fr.transition=null;var o=Je;Je=1;var a=He;He|=4,w1.current=null,R4(t,n),CP(n,t),JL(Yv),Gf=!!Qv,Yv=Qv=null,t.current=n,b4(n),rL(),He=a,Je=o,Fr.transition=s}else t.current=n;if(Kh&&(Kh=!1,$s=t,cp=i),s=t.pendingLanes,s===0&&(Hs=null),oL(n.stateNode),ar(t,Ht()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(up)throw up=!1,t=g_,g_=null,t;return cp&1&&t.tag!==0&&pl(),s=t.pendingLanes,s&1?t===y_?Cc++:(Cc=0,y_=t):Cc=0,co(),null}function pl(){if($s!==null){var t=ux(cp),e=Fr.transition,n=Je;try{if(Fr.transition=null,Je=16>t?16:t,$s===null)var r=!1;else{if(t=$s,$s=null,cp=0,He&6)throw Error(H(331));var i=He;for(He|=4,Z=t.current;Z!==null;){var s=Z,o=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Z=u;Z!==null;){var c=Z;switch(c.tag){case 0:case 11:case 15:Tc(8,c,s)}var d=c.child;if(d!==null)d.return=c,Z=d;else for(;Z!==null;){c=Z;var h=c.sibling,f=c.return;if(EP(c),c===u){Z=null;break}if(h!==null){h.return=f,Z=h;break}Z=f}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}Z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Z=o;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Tc(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,Z=p;break e}Z=s.return}}var y=t.current;for(Z=y;Z!==null;){o=Z;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,Z=m;else e:for(o=y;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ym(9,a)}}catch(I){Ut(a,a.return,I)}if(a===o){Z=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,Z=w;break e}Z=a.return}}if(He=i,co(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(um,t)}catch{}r=!0}return r}finally{Je=n,Fr.transition=e}}return!1}function yS(t,e,n){e=Pl(n,e),e=cP(t,e,1),t=Ws(t,e,1),e=Qn(),t!==null&&(Ud(t,1,e),ar(t,e))}function Ut(t,e,n){if(t.tag===3)yS(t,t,n);else for(;e!==null;){if(e.tag===3){yS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hs===null||!Hs.has(r))){t=Pl(n,t),t=dP(e,t,1),e=Ws(e,t,1),t=Qn(),e!==null&&(Ud(e,1,t),ar(e,t));break}}e=e.return}}function O4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qn(),t.pingedLanes|=t.suspendedLanes&n,gn===t&&(bn&n)===n&&(an===4||an===3&&(bn&130023424)===bn&&500>Ht()-T1?Wo(t,0):E1|=n),ar(t,e)}function AP(t,e){e===0&&(t.mode&1?(e=$h,$h<<=1,!($h&130023424)&&($h=4194304)):e=1);var n=Qn();t=ls(t,e),t!==null&&(Ud(t,e,n),ar(t,n))}function D4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),AP(t,n)}function M4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),AP(t,n)}var NP;NP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sr.current)rr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rr=!1,T4(t,e,n);rr=!!(t.flags&131072)}else rr=!1,It&&e.flags&1048576&&Mx(e,tp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cf(t,e),t=e.pendingProps;var i=Il(e,Wn.current);fl(e,n),i=m1(null,e,r,t,i,n);var s=g1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,or(r)?(s=!0,Zf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,c1(e),i.updater=mm,e.stateNode=i,i._reactInternals=e,s_(e,r,t,n),e=l_(null,e,r,!0,s,n)):(e.tag=0,It&&s&&r1(e),Kn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Cf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$4(r),t=Jr(r,t),i){case 0:e=a_(null,e,r,t,n);break e;case 1:e=aS(null,e,r,t,n);break e;case 11:e=sS(null,e,r,t,n);break e;case 14:e=oS(null,e,r,Jr(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jr(r,i),a_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jr(r,i),aS(t,e,r,i,n);case 3:e:{if(mP(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Vx(t,e),ip(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Pl(Error(H(423)),e),e=lS(t,e,r,n,i);break e}else if(r!==i){i=Pl(Error(H(424)),e),e=lS(t,e,r,n,i);break e}else for(mr=zs(e.stateNode.containerInfo.firstChild),vr=e,It=!0,ti=null,n=zx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rl(),r===i){e=us(t,e,n);break e}Kn(t,e,r,n)}e=e.child}return e;case 5:return Wx(e),t===null&&n_(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Xv(r,i)?o=null:s!==null&&Xv(r,s)&&(e.flags|=32),pP(t,e),Kn(t,e,o,n),e.child;case 6:return t===null&&n_(e),null;case 13:return gP(t,e,n);case 4:return d1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bl(e,null,r,n):Kn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jr(r,i),sS(t,e,r,i,n);case 7:return Kn(t,e,e.pendingProps,n),e.child;case 8:return Kn(t,e,e.pendingProps.children,n),e.child;case 12:return Kn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ut(np,r._currentValue),r._currentValue=o,s!==null)if(li(s.value,o)){if(s.children===i.children&&!sr.current){e=us(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ns(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),r_(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),r_(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Kn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fl(e,n),i=Br(i),r=r(i),e.flags|=1,Kn(t,e,r,n),e.child;case 14:return r=e.type,i=Jr(r,e.pendingProps),i=Jr(r.type,i),oS(t,e,r,i,n);case 15:return hP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Jr(r,i),Cf(t,e),e.tag=1,or(r)?(t=!0,Zf(e)):t=!1,fl(e,n),jx(e,r,i),s_(e,r,i,n),l_(null,e,r,!0,t,n);case 19:return yP(t,e,n);case 22:return fP(t,e,n)}throw Error(H(156,e.tag))};function OP(t,e){return sx(t,e)}function L4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(t,e,n,r){return new L4(t,e,n,r)}function R1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $4(t){if(typeof t=="function")return R1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===H0)return 11;if(t===q0)return 14}return 2}function Ks(t,e){var n=t.alternate;return n===null?(n=Mr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")R1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ka:return Ho(n.children,i,s,e);case W0:o=8,i|=8;break;case Pv:return t=Mr(12,n,e,i|2),t.elementType=Pv,t.lanes=s,t;case kv:return t=Mr(13,n,e,i),t.elementType=kv,t.lanes=s,t;case Av:return t=Mr(19,n,e,i),t.elementType=Av,t.lanes=s,t;case Bb:return _m(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ub:o=10;break e;case jb:o=9;break e;case H0:o=11;break e;case q0:o=14;break e;case xs:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=Mr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ho(t,e,n,r){return t=Mr(7,t,r,e),t.lanes=n,t}function _m(t,e,n,r){return t=Mr(22,t,r,e),t.elementType=Bb,t.lanes=n,t.stateNode={isHidden:!1},t}function $y(t,e,n){return t=Mr(6,t,null,e),t.lanes=n,t}function Fy(t,e,n){return e=Mr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function F4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vy(0),this.expirationTimes=vy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function b1(t,e,n,r,i,s,o,a,l){return t=new F4(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Mr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},c1(s),t}function V4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function DP(t){if(!t)return eo;t=t._reactInternals;e:{if(wa(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(or(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(or(n))return Ox(t,n,e)}return e}function MP(t,e,n,r,i,s,o,a,l){return t=b1(n,r,!0,t,i,s,o,a,l),t.context=DP(null),n=t.current,r=Qn(),i=qs(n),s=ns(r,i),s.callback=e??null,Ws(n,s,i),t.current.lanes=i,Ud(t,i,r),ar(t,r),t}function wm(t,e,n,r){var i=e.current,s=Qn(),o=qs(i);return n=DP(n),e.context===null?e.context=n:e.pendingContext=n,e=ns(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ws(i,e,o),t!==null&&(oi(t,i,o,s),Ef(t,i,o)),o}function hp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function x1(t,e){vS(t,e),(t=t.alternate)&&vS(t,e)}function U4(){return null}var LP=typeof reportError=="function"?reportError:function(t){console.error(t)};function P1(t){this._internalRoot=t}Em.prototype.render=P1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));wm(t,e,null,null)};Em.prototype.unmount=P1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ta(function(){wm(null,t,null,null)}),e[as]=null}};function Em(t){this._internalRoot=t}Em.prototype.unstable_scheduleHydration=function(t){if(t){var e=hx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ks.length&&e!==0&&e<ks[n].priority;n++);ks.splice(n,0,t),n===0&&px(t)}};function k1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _S(){}function j4(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=hp(o);s.call(u)}}var o=MP(e,r,t,0,null,!1,!1,"",_S);return t._reactRootContainer=o,t[as]=o.current,Jc(t.nodeType===8?t.parentNode:t),ta(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=hp(l);a.call(u)}}var l=b1(t,0,!1,null,null,!1,!1,"",_S);return t._reactRootContainer=l,t[as]=l.current,Jc(t.nodeType===8?t.parentNode:t),ta(function(){wm(e,l,n,r)}),l}function Sm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=hp(o);a.call(l)}}wm(e,o,t,i)}else o=j4(n,e,t,i,r);return hp(o)}cx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rc(e.pendingLanes);n!==0&&(Q0(e,n|1),ar(e,Ht()),!(He&6)&&(kl=Ht()+500,co()))}break;case 13:ta(function(){var r=ls(t,1);if(r!==null){var i=Qn();oi(r,t,1,i)}}),x1(t,1)}};Y0=function(t){if(t.tag===13){var e=ls(t,134217728);if(e!==null){var n=Qn();oi(e,t,134217728,n)}x1(t,134217728)}};dx=function(t){if(t.tag===13){var e=qs(t),n=ls(t,e);if(n!==null){var r=Qn();oi(n,t,e,r)}x1(t,e)}};hx=function(){return Je};fx=function(t,e){var n=Je;try{return Je=t,e()}finally{Je=n}};jv=function(t,e,n){switch(e){case"input":if(Dv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=fm(r);if(!i)throw Error(H(90));Wb(r),Dv(r,i)}}}break;case"textarea":qb(t,n);break;case"select":e=n.value,e!=null&&ul(t,!!n.multiple,e,!1)}};Zb=S1;ex=ta;var B4={usingClientEntryPoint:!1,Events:[Bd,Xa,fm,Xb,Jb,S1]},Nu={findFiberByHostInstance:Ao,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},z4={bundleType:Nu.bundleType,version:Nu.version,rendererPackageName:Nu.rendererPackageName,rendererConfig:Nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rx(t),t===null?null:t.stateNode},findFiberByHostInstance:Nu.findFiberByHostInstance||U4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gh.isDisabled&&Gh.supportsFiber)try{um=Gh.inject(z4),Ii=Gh}catch{}}Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B4;Cr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!k1(e))throw Error(H(200));return V4(t,e,null,n)};Cr.createRoot=function(t,e){if(!k1(t))throw Error(H(299));var n=!1,r="",i=LP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=b1(t,1,!1,null,null,n,!1,r,i),t[as]=e.current,Jc(t.nodeType===8?t.parentNode:t),new P1(e)};Cr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=rx(e),t=t===null?null:t.stateNode,t};Cr.flushSync=function(t){return ta(t)};Cr.hydrate=function(t,e,n){if(!Tm(e))throw Error(H(200));return Sm(null,t,e,!0,n)};Cr.hydrateRoot=function(t,e,n){if(!k1(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=LP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=MP(e,null,t,1,n??null,i,!1,s,o),t[as]=e.current,Jc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Em(e)};Cr.render=function(t,e,n){if(!Tm(e))throw Error(H(200));return Sm(null,t,e,!1,n)};Cr.unmountComponentAtNode=function(t){if(!Tm(t))throw Error(H(40));return t._reactRootContainer?(ta(function(){Sm(null,null,t,!1,function(){t._reactRootContainer=null,t[as]=null})}),!0):!1};Cr.unstable_batchedUpdates=S1;Cr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Tm(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return Sm(t,e,n,!1,r)};Cr.version="18.2.0-next-9e3b772b8-20220608";function $P(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($P)}catch(t){console.error(t)}}$P(),Mb.exports=Cr;var Wd=Mb.exports;const sc=Cb(Wd),W4=Sb({__proto__:null,default:sc},[Wd]);var wS=Wd;bv.createRoot=wS.createRoot,bv.hydrateRoot=wS.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jt(){return jt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jt.apply(this,arguments)}var Wt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wt||(Wt={}));const ES="popstate";function H4(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ad("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ra(i)}return K4(e,n,null,t)}function Se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function na(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function q4(){return Math.random().toString(36).substr(2,8)}function TS(t,e){return{usr:t.state,key:t.key,idx:e}}function ad(t,e,n,r){return n===void 0&&(n=null),jt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ys(e):e,{state:n,key:e&&e.key||r||q4()})}function ra(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ys(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function K4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Wt.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(jt({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Wt.Pop;let E=c(),p=E==null?null:E-u;u=E,l&&l({action:a,location:v.location,delta:p})}function h(E,p){a=Wt.Push;let y=ad(v.location,E,p);n&&n(y,E),u=c()+1;let m=TS(y,u),w=v.createHref(y);try{o.pushState(m,"",w)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(w)}s&&l&&l({action:a,location:v.location,delta:1})}function f(E,p){a=Wt.Replace;let y=ad(v.location,E,p);n&&n(y,E),u=c();let m=TS(y,u),w=v.createHref(y);o.replaceState(m,"",w),s&&l&&l({action:a,location:v.location,delta:0})}function g(E){let p=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof E=="string"?E:ra(E);return Se(p,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,p)}let v={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(ES,d),l=E,()=>{i.removeEventListener(ES,d),l=null}},createHref(E){return e(i,E)},createURL:g,encodeLocation(E){let p=g(E);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:f,go(E){return o.go(E)}};return v}var Vt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Vt||(Vt={}));const G4=new Set(["lazy","caseSensitive","path","id","index","children"]);function Q4(t){return t.index===!0}function w_(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(Se(i.index!==!0||!i.children,"Cannot specify children on an index route"),Se(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Q4(i)){let l=jt({},i,e(i),{id:a});return r[a]=l,l}else{let l=jt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=w_(i.children,e,o,r)),l}})}function il(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ys(e):e,i=nu(r.pathname||"/",n);if(i==null)return null;let s=FP(t);X4(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=o$(s[a],l$(i));return o}function Y4(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function FP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Se(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=rs([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Se(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),FP(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:i$(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of VP(s.path))i(s,o,l)}),e}function VP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=VP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function X4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:s$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const J4=/^:[\w-]+$/,Z4=3,e$=2,t$=1,n$=10,r$=-2,SS=t=>t==="*";function i$(t,e){let n=t.split("/"),r=n.length;return n.some(SS)&&(r+=r$),e&&(r+=e$),n.filter(i=>!SS(i)).reduce((i,s)=>i+(J4.test(s)?Z4:s===""?t$:n$),r)}function s$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function o$(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=UP({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:rs([i,c.pathname]),pathnameBase:h$(rs([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=rs([i,c.pathnameBase]))}return s}function UP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=a$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let v=a[d]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[d];return f&&!g?u[h]=void 0:u[h]=u$(g||"",h),u},{}),pathname:s,pathnameBase:o,pattern:t}}function a$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),na(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function l$(t){try{return decodeURI(t)}catch(e){return na(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function u$(t,e){try{return decodeURIComponent(t)}catch(n){return na(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function nu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function c$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ys(t):t;return{pathname:n?n.startsWith("/")?n:d$(n,e):e,search:f$(r),hash:p$(i)}}function d$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Vy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cm(t,e){let n=jP(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Im(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ys(t):(i=jt({},t),Se(!i.pathname||!i.pathname.includes("?"),Vy("?","pathname","search",i)),Se(!i.pathname||!i.pathname.includes("#"),Vy("#","pathname","hash",i)),Se(!i.search||!i.search.includes("#"),Vy("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=c$(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const rs=t=>t.join("/").replace(/\/\/+/g,"/"),h$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),f$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,p$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class A1{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function BP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zP=["post","put","patch","delete"],m$=new Set(zP),g$=["get",...zP],y$=new Set(g$),v$=new Set([301,302,303,307,308]),_$=new Set([307,308]),Uy={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},w$={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ou={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},WP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E$=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),HP="remix-router-transitions";function T$(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Se(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let k=t.detectErrorBoundary;i=N=>({hasErrorBoundary:k(N)})}else i=E$;let s={},o=w_(t.routes,i,void 0,s),a,l=t.basename||"/",u=jt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),c=null,d=new Set,h=null,f=null,g=null,v=t.hydrationData!=null,E=il(o,t.history.location,l),p=null;if(E==null){let k=xr(404,{pathname:t.history.location.pathname}),{matches:N,route:D}=AS(o);E=N,p={[D.id]:k}}let y,m=E.some(k=>k.route.lazy),w=E.some(k=>k.route.loader);if(m)y=!1;else if(!w)y=!0;else if(u.v7_partialHydration){let k=t.hydrationData?t.hydrationData.loaderData:null,N=t.hydrationData?t.hydrationData.errors:null;y=E.every(D=>D.route.loader&&D.route.loader.hydrate!==!0&&(k&&k[D.route.id]!==void 0||N&&N[D.route.id]!==void 0))}else y=t.hydrationData!=null;let I,T={historyAction:t.history.action,location:t.history.location,matches:E,initialized:y,navigation:Uy,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||p,fetchers:new Map,blockers:new Map},C=Wt.Pop,b=!1,P,x=!1,O=new Map,F=null,L=!1,U=!1,z=[],B=[],j=new Map,A=0,M=-1,W=new Map,ae=new Set,J=new Map,ne=new Map,Y=new Set,fe=new Map,ce=new Map,Me=!1;function Le(){if(c=t.history.listen(k=>{let{action:N,location:D,delta:q}=k;if(Me){Me=!1;return}na(ce.size===0||q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let te=hr({currentLocation:T.location,nextLocation:D,historyAction:N});if(te&&q!=null){Me=!0,t.history.go(q*-1),ot(te,{state:"blocked",location:D,proceed(){ot(te,{state:"proceeding",proceed:void 0,reset:void 0,location:D}),t.history.go(q)},reset(){let xe=new Map(T.blockers);xe.set(te,Ou),le({blockers:xe})}});return}return Ee(N,D)}),n){O$(e,O);let k=()=>D$(e,O);e.addEventListener("pagehide",k),F=()=>e.removeEventListener("pagehide",k)}return T.initialized||Ee(Wt.Pop,T.location,{initialHydration:!0}),I}function $e(){c&&c(),F&&F(),d.clear(),P&&P.abort(),T.fetchers.forEach((k,N)=>Gt(N)),T.blockers.forEach((k,N)=>qe(N))}function Rt(k){return d.add(k),()=>d.delete(k)}function le(k,N){N===void 0&&(N={}),T=jt({},T,k);let D=[],q=[];u.v7_fetcherPersist&&T.fetchers.forEach((te,xe)=>{te.state==="idle"&&(Y.has(xe)?q.push(xe):D.push(xe))}),[...d].forEach(te=>te(T,{deletedFetchers:q,unstable_viewTransitionOpts:N.viewTransitionOpts,unstable_flushSync:N.flushSync===!0})),u.v7_fetcherPersist&&(D.forEach(te=>T.fetchers.delete(te)),q.forEach(te=>Gt(te)))}function ze(k,N,D){var q,te;let{flushSync:xe}=D===void 0?{}:D,pe=T.actionData!=null&&T.navigation.formMethod!=null&&ei(T.navigation.formMethod)&&T.navigation.state==="loading"&&((q=k.state)==null?void 0:q._isRedirect)!==!0,de;N.actionData?Object.keys(N.actionData).length>0?de=N.actionData:de=null:pe?de=T.actionData:de=null;let se=N.loaderData?kS(T.loaderData,N.loaderData,N.matches||[],N.errors):T.loaderData,ke=T.blockers;ke.size>0&&(ke=new Map(ke),ke.forEach((Pe,xt)=>ke.set(xt,Ou)));let Et=b===!0||T.navigation.formMethod!=null&&ei(T.navigation.formMethod)&&((te=k.state)==null?void 0:te._isRedirect)!==!0;a&&(o=a,a=void 0),L||C===Wt.Pop||(C===Wt.Push?t.history.push(k,k.state):C===Wt.Replace&&t.history.replace(k,k.state));let _e;if(C===Wt.Pop){let Pe=O.get(T.location.pathname);Pe&&Pe.has(k.pathname)?_e={currentLocation:T.location,nextLocation:k}:O.has(k.pathname)&&(_e={currentLocation:k,nextLocation:T.location})}else if(x){let Pe=O.get(T.location.pathname);Pe?Pe.add(k.pathname):(Pe=new Set([k.pathname]),O.set(T.location.pathname,Pe)),_e={currentLocation:T.location,nextLocation:k}}le(jt({},N,{actionData:de,loaderData:se,historyAction:C,location:k,initialized:!0,navigation:Uy,revalidation:"idle",restoreScrollPosition:Ph(k,N.matches||T.matches),preventScrollReset:Et,blockers:ke}),{viewTransitionOpts:_e,flushSync:xe===!0}),C=Wt.Pop,b=!1,x=!1,L=!1,U=!1,z=[],B=[]}async function ve(k,N){if(typeof k=="number"){t.history.go(k);return}let D=E_(T.location,T.matches,l,u.v7_prependBasename,k,u.v7_relativeSplatPath,N==null?void 0:N.fromRouteId,N==null?void 0:N.relative),{path:q,submission:te,error:xe}=CS(u.v7_normalizeFormMethod,!1,D,N),pe=T.location,de=ad(T.location,q,N&&N.state);de=jt({},de,t.history.encodeLocation(de));let se=N&&N.replace!=null?N.replace:void 0,ke=Wt.Push;se===!0?ke=Wt.Replace:se===!1||te!=null&&ei(te.formMethod)&&te.formAction===T.location.pathname+T.location.search&&(ke=Wt.Replace);let Et=N&&"preventScrollReset"in N?N.preventScrollReset===!0:void 0,_e=(N&&N.unstable_flushSync)===!0,Pe=hr({currentLocation:pe,nextLocation:de,historyAction:ke});if(Pe){ot(Pe,{state:"blocked",location:de,proceed(){ot(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:de}),ve(k,N)},reset(){let xt=new Map(T.blockers);xt.set(Pe,Ou),le({blockers:xt})}});return}return await Ee(ke,de,{submission:te,pendingError:xe,preventScrollReset:Et,replace:N&&N.replace,enableViewTransition:N&&N.unstable_viewTransition,flushSync:_e})}function Fe(){if(dt(),le({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){Ee(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}Ee(C||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation})}}async function Ee(k,N,D){P&&P.abort(),P=null,C=k,L=(D&&D.startUninterruptedRevalidation)===!0,hy(T.location,T.matches),b=(D&&D.preventScrollReset)===!0,x=(D&&D.enableViewTransition)===!0;let q=a||o,te=D&&D.overrideNavigation,xe=il(q,N,l),pe=(D&&D.flushSync)===!0;if(!xe){let xt=xr(404,{pathname:N.pathname}),{matches:Zn,route:Tt}=AS(q);zi(),ze(N,{matches:Zn,loaderData:{},errors:{[Tt.id]:xt}},{flushSync:pe});return}if(T.initialized&&!U&&b$(T.location,N)&&!(D&&D.submission&&ei(D.submission.formMethod))){ze(N,{matches:xe},{flushSync:pe});return}P=new AbortController;let de=Mu(t.history,N,P.signal,D&&D.submission),se,ke;if(D&&D.pendingError)ke={[Ic(xe).route.id]:D.pendingError};else if(D&&D.submission&&ei(D.submission.formMethod)){let xt=await wn(de,N,D.submission,xe,{replace:D.replace,flushSync:pe});if(xt.shortCircuited)return;se=xt.pendingActionData,ke=xt.pendingActionError,te=jy(N,D.submission),pe=!1,de=new Request(de.url,{signal:de.signal})}let{shortCircuited:Et,loaderData:_e,errors:Pe}=await rn(de,N,xe,te,D&&D.submission,D&&D.fetcherSubmission,D&&D.replace,D&&D.initialHydration===!0,pe,se,ke);Et||(P=null,ze(N,jt({matches:xe},se?{actionData:se}:{},{loaderData:_e,errors:Pe})))}async function wn(k,N,D,q,te){te===void 0&&(te={}),dt();let xe=A$(N,D);le({navigation:xe},{flushSync:te.flushSync===!0});let pe,de=S_(q,N);if(!de.route.action&&!de.route.lazy)pe={type:Vt.error,error:xr(405,{method:k.method,pathname:N.pathname,routeId:de.route.id})};else if(pe=await Du("action",k,de,q,s,i,l,u.v7_relativeSplatPath),k.signal.aborted)return{shortCircuited:!0};if(Mo(pe)){let se;return te&&te.replace!=null?se=te.replace:se=pe.location===T.location.pathname+T.location.search,await Ae(T,pe,{submission:D,replace:se}),{shortCircuited:!0}}if(sl(pe)){let se=Ic(q,de.route.id);return(te&&te.replace)!==!0&&(C=Wt.Push),{pendingActionData:{},pendingActionError:{[se.route.id]:pe.error}}}if(Do(pe))throw xr(400,{type:"defer-action"});return{pendingActionData:{[de.route.id]:pe.data}}}async function rn(k,N,D,q,te,xe,pe,de,se,ke,Et){let _e=q||jy(N,te),Pe=te||xe||DS(_e),xt=a||o,[Zn,Tt]=IS(t.history,T,D,Pe,N,u.v7_partialHydration&&de===!0,U,z,B,Y,J,ae,xt,l,ke,Et);if(zi(Re=>!(D&&D.some(St=>St.route.id===Re))||Zn&&Zn.some(St=>St.route.id===Re)),M=++A,Zn.length===0&&Tt.length===0){let Re=br();return ze(N,jt({matches:D,loaderData:{},errors:Et||null},ke?{actionData:ke}:{},Re?{fetchers:new Map(T.fetchers)}:{}),{flushSync:se}),{shortCircuited:!0}}if(!L&&(!u.v7_partialHydration||!de)){Tt.forEach(St=>{let fi=T.fetchers.get(St.key),Ah=Lu(void 0,fi?fi.data:void 0);T.fetchers.set(St.key,Ah)});let Re=ke||T.actionData;le(jt({navigation:_e},Re?Object.keys(Re).length===0?{actionData:null}:{actionData:Re}:{},Tt.length>0?{fetchers:new Map(T.fetchers)}:{}),{flushSync:se})}Tt.forEach(Re=>{j.has(Re.key)&&re(Re.key),Re.controller&&j.set(Re.key,Re.controller)});let di=()=>Tt.forEach(Re=>re(Re.key));P&&P.signal.addEventListener("abort",di);let{results:Aa,loaderResults:Wi,fetcherResults:Yr}=await Kt(T.matches,D,Zn,Tt,k);if(k.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",di),Tt.forEach(Re=>j.delete(Re.key));let hi=NS(Aa);if(hi){if(hi.idx>=Zn.length){let Re=Tt[hi.idx-Zn.length].key;ae.add(Re)}return await Ae(T,hi.result,{replace:pe}),{shortCircuited:!0}}let{loaderData:Tu,errors:Su}=PS(T,D,Zn,Wi,Et,Tt,Yr,fe);fe.forEach((Re,St)=>{Re.subscribe(fi=>{(fi||Re.done)&&fe.delete(St)})});let Cu=br(),Ts=Jn(M),Ie=Cu||Ts||Tt.length>0;return jt({loaderData:Tu,errors:Su},Ie?{fetchers:new Map(T.fetchers)}:{})}function Dt(k,N,D,q){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");j.has(k)&&re(k);let te=(q&&q.unstable_flushSync)===!0,xe=a||o,pe=E_(T.location,T.matches,l,u.v7_prependBasename,D,u.v7_relativeSplatPath,N,q==null?void 0:q.relative),de=il(xe,pe,l);if(!de){bt(k,N,xr(404,{pathname:pe}),{flushSync:te});return}let{path:se,submission:ke,error:Et}=CS(u.v7_normalizeFormMethod,!0,pe,q);if(Et){bt(k,N,Et,{flushSync:te});return}let _e=S_(de,se);if(b=(q&&q.preventScrollReset)===!0,ke&&ei(ke.formMethod)){un(k,N,se,_e,de,te,ke);return}J.set(k,{routeId:N,path:se}),lt(k,N,se,_e,de,te,ke)}async function un(k,N,D,q,te,xe,pe){if(dt(),J.delete(k),!q.route.action&&!q.route.lazy){let St=xr(405,{method:pe.formMethod,pathname:D,routeId:N});bt(k,N,St,{flushSync:xe});return}let de=T.fetchers.get(k);be(k,N$(pe,de),{flushSync:xe});let se=new AbortController,ke=Mu(t.history,D,se.signal,pe);j.set(k,se);let Et=A,_e=await Du("action",ke,q,te,s,i,l,u.v7_relativeSplatPath);if(ke.signal.aborted){j.get(k)===se&&j.delete(k);return}if(u.v7_fetcherPersist&&Y.has(k)){if(Mo(_e)||sl(_e)){be(k,bs(void 0));return}}else{if(Mo(_e))if(j.delete(k),M>Et){be(k,bs(void 0));return}else return ae.add(k),be(k,Lu(pe)),Ae(T,_e,{fetcherSubmission:pe});if(sl(_e)){bt(k,N,_e.error);return}}if(Do(_e))throw xr(400,{type:"defer-action"});let Pe=T.navigation.location||T.location,xt=Mu(t.history,Pe,se.signal),Zn=a||o,Tt=T.navigation.state!=="idle"?il(Zn,T.navigation.location,l):T.matches;Se(Tt,"Didn't find any matches after fetcher action");let di=++A;W.set(k,di);let Aa=Lu(pe,_e.data);T.fetchers.set(k,Aa);let[Wi,Yr]=IS(t.history,T,Tt,pe,Pe,!1,U,z,B,Y,J,ae,Zn,l,{[q.route.id]:_e.data},void 0);Yr.filter(St=>St.key!==k).forEach(St=>{let fi=St.key,Ah=T.fetchers.get(fi),vM=Lu(void 0,Ah?Ah.data:void 0);T.fetchers.set(fi,vM),j.has(fi)&&re(fi),St.controller&&j.set(fi,St.controller)}),le({fetchers:new Map(T.fetchers)});let hi=()=>Yr.forEach(St=>re(St.key));se.signal.addEventListener("abort",hi);let{results:Tu,loaderResults:Su,fetcherResults:Cu}=await Kt(T.matches,Tt,Wi,Yr,xt);if(se.signal.aborted)return;se.signal.removeEventListener("abort",hi),W.delete(k),j.delete(k),Yr.forEach(St=>j.delete(St.key));let Ts=NS(Tu);if(Ts){if(Ts.idx>=Wi.length){let St=Yr[Ts.idx-Wi.length].key;ae.add(St)}return Ae(T,Ts.result)}let{loaderData:Ie,errors:Re}=PS(T,T.matches,Wi,Su,void 0,Yr,Cu,fe);if(T.fetchers.has(k)){let St=bs(_e.data);T.fetchers.set(k,St)}Jn(di),T.navigation.state==="loading"&&di>M?(Se(C,"Expected pending action"),P&&P.abort(),ze(T.navigation.location,{matches:Tt,loaderData:Ie,errors:Re,fetchers:new Map(T.fetchers)})):(le({errors:Re,loaderData:kS(T.loaderData,Ie,Tt,Re),fetchers:new Map(T.fetchers)}),U=!1)}async function lt(k,N,D,q,te,xe,pe){let de=T.fetchers.get(k);be(k,Lu(pe,de?de.data:void 0),{flushSync:xe});let se=new AbortController,ke=Mu(t.history,D,se.signal);j.set(k,se);let Et=A,_e=await Du("loader",ke,q,te,s,i,l,u.v7_relativeSplatPath);if(Do(_e)&&(_e=await GP(_e,ke.signal,!0)||_e),j.get(k)===se&&j.delete(k),!ke.signal.aborted){if(Y.has(k)){be(k,bs(void 0));return}if(Mo(_e))if(M>Et){be(k,bs(void 0));return}else{ae.add(k),await Ae(T,_e);return}if(sl(_e)){bt(k,N,_e.error);return}Se(!Do(_e),"Unhandled fetcher deferred data"),be(k,bs(_e.data))}}async function Ae(k,N,D){let{submission:q,fetcherSubmission:te,replace:xe}=D===void 0?{}:D;N.revalidate&&(U=!0);let pe=ad(k.location,N.location,{_isRedirect:!0});if(Se(pe,"Expected a location on the redirect navigation"),n){let Pe=!1;if(N.reloadDocument)Pe=!0;else if(WP.test(N.location)){const xt=t.history.createURL(N.location);Pe=xt.origin!==e.location.origin||nu(xt.pathname,l)==null}if(Pe){xe?e.location.replace(N.location):e.location.assign(N.location);return}}P=null;let de=xe===!0?Wt.Replace:Wt.Push,{formMethod:se,formAction:ke,formEncType:Et}=k.navigation;!q&&!te&&se&&ke&&Et&&(q=DS(k.navigation));let _e=q||te;if(_$.has(N.status)&&_e&&ei(_e.formMethod))await Ee(de,pe,{submission:jt({},_e,{formAction:N.location}),preventScrollReset:b});else{let Pe=jy(pe,q);await Ee(de,pe,{overrideNavigation:Pe,fetcherSubmission:te,preventScrollReset:b})}}async function Kt(k,N,D,q,te){let xe=await Promise.all([...D.map(se=>Du("loader",te,se,N,s,i,l,u.v7_relativeSplatPath)),...q.map(se=>se.matches&&se.match&&se.controller?Du("loader",Mu(t.history,se.path,se.controller.signal),se.match,se.matches,s,i,l,u.v7_relativeSplatPath):{type:Vt.error,error:xr(404,{pathname:se.path})})]),pe=xe.slice(0,D.length),de=xe.slice(D.length);return await Promise.all([OS(k,D,pe,pe.map(()=>te.signal),!1,T.loaderData),OS(k,q.map(se=>se.match),de,q.map(se=>se.controller?se.controller.signal:null),!0)]),{results:xe,loaderResults:pe,fetcherResults:de}}function dt(){U=!0,z.push(...zi()),J.forEach((k,N)=>{j.has(N)&&(B.push(N),re(N))})}function be(k,N,D){D===void 0&&(D={}),T.fetchers.set(k,N),le({fetchers:new Map(T.fetchers)},{flushSync:(D&&D.flushSync)===!0})}function bt(k,N,D,q){q===void 0&&(q={});let te=Ic(T.matches,N);Gt(k),le({errors:{[te.route.id]:D},fetchers:new Map(T.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function sn(k){return u.v7_fetcherPersist&&(ne.set(k,(ne.get(k)||0)+1),Y.has(k)&&Y.delete(k)),T.fetchers.get(k)||w$}function Gt(k){let N=T.fetchers.get(k);j.has(k)&&!(N&&N.state==="loading"&&W.has(k))&&re(k),J.delete(k),W.delete(k),ae.delete(k),Y.delete(k),T.fetchers.delete(k)}function We(k){if(u.v7_fetcherPersist){let N=(ne.get(k)||0)-1;N<=0?(ne.delete(k),Y.add(k)):ne.set(k,N)}else Gt(k);le({fetchers:new Map(T.fetchers)})}function re(k){let N=j.get(k);Se(N,"Expected fetch controller: "+k),N.abort(),j.delete(k)}function Mt(k){for(let N of k){let D=sn(N),q=bs(D.data);T.fetchers.set(N,q)}}function br(){let k=[],N=!1;for(let D of ae){let q=T.fetchers.get(D);Se(q,"Expected fetcher: "+D),q.state==="loading"&&(ae.delete(D),k.push(D),N=!0)}return Mt(k),N}function Jn(k){let N=[];for(let[D,q]of W)if(q<k){let te=T.fetchers.get(D);Se(te,"Expected fetcher: "+D),te.state==="loading"&&(re(D),W.delete(D),N.push(D))}return Mt(N),N.length>0}function oe(k,N){let D=T.blockers.get(k)||Ou;return ce.get(k)!==N&&ce.set(k,N),D}function qe(k){T.blockers.delete(k),ce.delete(k)}function ot(k,N){let D=T.blockers.get(k)||Ou;Se(D.state==="unblocked"&&N.state==="blocked"||D.state==="blocked"&&N.state==="blocked"||D.state==="blocked"&&N.state==="proceeding"||D.state==="blocked"&&N.state==="unblocked"||D.state==="proceeding"&&N.state==="unblocked","Invalid blocker state transition: "+D.state+" -> "+N.state);let q=new Map(T.blockers);q.set(k,N),le({blockers:q})}function hr(k){let{currentLocation:N,nextLocation:D,historyAction:q}=k;if(ce.size===0)return;ce.size>1&&na(!1,"A router only supports one blocker at a time");let te=Array.from(ce.entries()),[xe,pe]=te[te.length-1],de=T.blockers.get(xe);if(!(de&&de.state==="proceeding")&&pe({currentLocation:N,nextLocation:D,historyAction:q}))return xe}function zi(k){let N=[];return fe.forEach((D,q)=>{(!k||k(q))&&(D.cancel(),N.push(q),fe.delete(q))}),N}function bh(k,N,D){if(h=k,g=N,f=D||null,!v&&T.navigation===Uy){v=!0;let q=Ph(T.location,T.matches);q!=null&&le({restoreScrollPosition:q})}return()=>{h=null,g=null,f=null}}function xh(k,N){return f&&f(k,N.map(q=>Y4(q,T.loaderData)))||k.key}function hy(k,N){if(h&&g){let D=xh(k,N);h[D]=g()}}function Ph(k,N){if(h){let D=xh(k,N),q=h[D];if(typeof q=="number")return q}return null}function kh(k){s={},a=w_(k,i,void 0,s)}return I={get basename(){return l},get future(){return u},get state(){return T},get routes(){return o},get window(){return e},initialize:Le,subscribe:Rt,enableScrollRestoration:bh,navigate:ve,fetch:Dt,revalidate:Fe,createHref:k=>t.history.createHref(k),encodeLocation:k=>t.history.encodeLocation(k),getFetcher:sn,deleteFetcher:We,dispose:$e,getBlocker:oe,deleteBlocker:qe,_internalFetchControllers:j,_internalActiveDeferreds:fe,_internalSetRoutes:kh},I}function S$(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function E_(t,e,n,r,i,s,o,a){let l,u;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){u=d;break}}else l=e,u=e[e.length-1];let c=Im(i||".",Cm(l,s),nu(t.pathname,n)||t.pathname,a==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!N1(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:rs([n,c.pathname])),ra(c)}function CS(t,e,n,r){if(!r||!S$(r))return{path:n};if(r.formMethod&&!k$(r.formMethod))return{path:n,error:xr(405,{method:r.formMethod})};let i=()=>({path:n,error:xr(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=KP(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ei(o))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,g)=>{let[v,E]=g;return""+f+v+"="+E+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!ei(o))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}Se(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=T_(r.formData),u=r.formData;else if(r.body instanceof FormData)l=T_(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=xS(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=xS(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(ei(c.formMethod))return{path:n,submission:c};let d=ys(n);return e&&d.search&&N1(d.search)&&l.append("index",""),d.search="?"+l,{path:ra(d),submission:c}}function C$(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function IS(t,e,n,r,i,s,o,a,l,u,c,d,h,f,g,v){let E=v?Object.values(v)[0]:g?Object.values(g)[0]:void 0,p=t.createURL(e.location),y=t.createURL(i),m=v?Object.keys(v)[0]:void 0,I=C$(n,m).filter((C,b)=>{let{route:P}=C;if(P.lazy)return!0;if(P.loader==null)return!1;if(s)return P.loader.hydrate?!0:e.loaderData[P.id]===void 0&&(!e.errors||e.errors[P.id]===void 0);if(I$(e.loaderData,e.matches[b],C)||a.some(F=>F===C.route.id))return!0;let x=e.matches[b],O=C;return RS(C,jt({currentUrl:p,currentParams:x.params,nextUrl:y,nextParams:O.params},r,{actionResult:E,defaultShouldRevalidate:o||p.pathname+p.search===y.pathname+y.search||p.search!==y.search||qP(x,O)}))}),T=[];return c.forEach((C,b)=>{if(s||!n.some(L=>L.route.id===C.routeId)||u.has(b))return;let P=il(h,C.path,f);if(!P){T.push({key:b,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let x=e.fetchers.get(b),O=S_(P,C.path),F=!1;d.has(b)?F=!1:l.includes(b)?F=!0:x&&x.state!=="idle"&&x.data===void 0?F=o:F=RS(O,jt({currentUrl:p,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:E,defaultShouldRevalidate:o})),F&&T.push({key:b,routeId:C.routeId,path:C.path,matches:P,match:O,controller:new AbortController})}),[I,T]}function I$(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function qP(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function RS(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function bS(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Se(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";na(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!G4.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,jt({},e(i),{lazy:void 0}))}async function Du(t,e,n,r,i,s,o,a,l){l===void 0&&(l={});let u,c,d,h=v=>{let E,p=new Promise((y,m)=>E=m);return d=()=>E(),e.signal.addEventListener("abort",d),Promise.race([v({request:e,params:n.params,context:l.requestContext}),p])};try{let v=n.route[t];if(n.route.lazy)if(v){let E,p=await Promise.all([h(v).catch(y=>{E=y}),bS(n.route,s,i)]);if(E)throw E;c=p[0]}else if(await bS(n.route,s,i),v=n.route[t],v)c=await h(v);else if(t==="action"){let E=new URL(e.url),p=E.pathname+E.search;throw xr(405,{method:e.method,pathname:p,routeId:n.route.id})}else return{type:Vt.data,data:void 0};else if(v)c=await h(v);else{let E=new URL(e.url),p=E.pathname+E.search;throw xr(404,{pathname:p})}Se(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(v){u=Vt.error,c=v}finally{d&&e.signal.removeEventListener("abort",d)}if(P$(c)){let v=c.status;if(v$.has(v)){let p=c.headers.get("Location");if(Se(p,"Redirects returned/thrown from loaders/actions must have a Location header"),!WP.test(p))p=E_(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,p,a);else if(!l.isStaticRequest){let y=new URL(e.url),m=p.startsWith("//")?new URL(y.protocol+p):new URL(p),w=nu(m.pathname,o)!=null;m.origin===y.origin&&w&&(p=m.pathname+m.search+m.hash)}if(l.isStaticRequest)throw c.headers.set("Location",p),c;return{type:Vt.redirect,status:v,location:p,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===Vt.error?Vt.error:Vt.data,response:c};let E;try{let p=c.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?c.body==null?E=null:E=await c.json():E=await c.text()}catch(p){return{type:Vt.error,error:p}}return u===Vt.error?{type:u,error:new A1(v,c.statusText,E),headers:c.headers}:{type:Vt.data,data:E,statusCode:c.status,headers:c.headers}}if(u===Vt.error)return{type:u,error:c};if(x$(c)){var f,g;return{type:Vt.deferred,deferredData:c,statusCode:(f=c.init)==null?void 0:f.status,headers:((g=c.init)==null?void 0:g.headers)&&new Headers(c.init.headers)}}return{type:Vt.data,data:c}}function Mu(t,e,n,r){let i=t.createURL(KP(e)).toString(),s={signal:n};if(r&&ei(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=T_(r.formData):s.body=r.formData}return new Request(i,s)}function T_(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function xS(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function R$(t,e,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,d)=>{let h=e[d].route.id;if(Se(!Mo(c),"Cannot handle redirect results in processLoaderData"),sl(c)){let f=Ic(t,h),g=c.error;r&&(g=Object.values(r)[0],r=void 0),o=o||{},o[f.route.id]==null&&(o[f.route.id]=g),s[h]=void 0,l||(l=!0,a=BP(c.error)?c.error.status:500),c.headers&&(u[h]=c.headers)}else Do(c)?(i.set(h,c.deferredData),s[h]=c.deferredData.data):s[h]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[h]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function PS(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=R$(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:d,match:h,controller:f}=s[c];Se(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let g=o[c];if(!(f&&f.signal.aborted))if(sl(g)){let v=Ic(t.matches,h==null?void 0:h.route.id);u&&u[v.route.id]||(u=jt({},u,{[v.route.id]:g.error})),t.fetchers.delete(d)}else if(Mo(g))Se(!1,"Unhandled fetcher revalidation redirect");else if(Do(g))Se(!1,"Unhandled fetcher deferred data");else{let v=bs(g.data);t.fetchers.set(d,v)}}return{loaderData:l,errors:u}}function kS(t,e,n,r){let i=jt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Ic(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function AS(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function xr(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new A1(t||500,o,new Error(a),!0)}function NS(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Mo(n))return{result:n,idx:e}}}function KP(t){let e=typeof t=="string"?ys(t):t;return ra(jt({},e,{hash:""}))}function b$(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Do(t){return t.type===Vt.deferred}function sl(t){return t.type===Vt.error}function Mo(t){return(t&&t.type)===Vt.redirect}function x$(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function P$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function k$(t){return y$.has(t.toLowerCase())}function ei(t){return m$.has(t.toLowerCase())}async function OS(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!qP(u,l)&&(s&&s[l.route.id])!==void 0;if(Do(a)&&(i||c)){let d=r[o];Se(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await GP(a,d,i).then(h=>{h&&(n[o]=h||n[o])})}}}async function GP(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Vt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Vt.error,error:i}}return{type:Vt.data,data:t.deferredData.data}}}function N1(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function S_(t,e){let n=typeof e=="string"?ys(e).search:e.search;if(t[t.length-1].route.index&&N1(n||""))return t[t.length-1];let r=jP(t);return r[r.length-1]}function DS(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function jy(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function A$(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Lu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function N$(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function bs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function O$(t,e){try{let n=t.sessionStorage.getItem(HP);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function D$(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(HP,JSON.stringify(n))}catch(r){na(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ld.apply(this,arguments)}const Rm=_.createContext(null),QP=_.createContext(null),ho=_.createContext(null),bm=_.createContext(null),vs=_.createContext({outlet:null,matches:[],isDataRoute:!1}),YP=_.createContext(null);function M$(t,e){let{relative:n}=e===void 0?{}:e;Ea()||Se(!1);let{basename:r,navigator:i}=_.useContext(ho),{hash:s,pathname:o,search:a}=JP(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:rs([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ea(){return _.useContext(bm)!=null}function Ta(){return Ea()||Se(!1),_.useContext(bm).location}function L$(t){Ea()||Se(!1);let{pathname:e}=Ta();return _.useMemo(()=>UP(t,e),[e,t])}function XP(t){_.useContext(ho).static||_.useLayoutEffect(t)}function Sa(){let{isDataRoute:t}=_.useContext(vs);return t?Y$():$$()}function $$(){Ea()||Se(!1);let t=_.useContext(Rm),{basename:e,future:n,navigator:r}=_.useContext(ho),{matches:i}=_.useContext(vs),{pathname:s}=Ta(),o=JSON.stringify(Cm(i,n.v7_relativeSplatPath)),a=_.useRef(!1);return XP(()=>{a.current=!0}),_.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=Im(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:rs([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}const F$=_.createContext(null);function V$(t){let e=_.useContext(vs).outlet;return e&&_.createElement(F$.Provider,{value:t},e)}function JP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=_.useContext(ho),{matches:i}=_.useContext(vs),{pathname:s}=Ta(),o=JSON.stringify(Cm(i,r.v7_relativeSplatPath));return _.useMemo(()=>Im(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function U$(t,e,n,r){Ea()||Se(!1);let{navigator:i}=_.useContext(ho),{matches:s}=_.useContext(vs),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ta(),c;if(e){var d;let E=typeof e=="string"?ys(e):e;l==="/"||(d=E.pathname)!=null&&d.startsWith(l)||Se(!1),c=E}else c=u;let h=c.pathname||"/",f=l==="/"?h:h.slice(l.length)||"/",g=il(t,{pathname:f}),v=H$(g&&g.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:rs([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:rs([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&v?_.createElement(bm.Provider,{value:{location:ld({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Wt.Pop}},v):v}function j$(){let t=Q$(),e=BP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,null)}const B$=_.createElement(j$,null);class z$ extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(vs.Provider,{value:this.props.routeContext},_.createElement(YP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function W$(t){let{routeContext:e,match:n,children:r}=t,i=_.useContext(Rm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(vs.Provider,{value:e},r)}function H$(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||Se(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=n,g=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||g){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,g=!1,v=null,E=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,v=d.route.errorElement||B$,l&&(u<0&&h===0?(X$("route-fallback",!1),g=!0,E=null):u===h&&(g=!0,E=d.route.hydrateFallbackElement||null)));let p=e.concat(o.slice(0,h+1)),y=()=>{let m;return f?m=v:g?m=E:d.route.Component?m=_.createElement(d.route.Component,null):d.route.element?m=d.route.element:m=c,_.createElement(W$,{match:d,routeContext:{outlet:c,matches:p,isDataRoute:n!=null},children:m})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?_.createElement(z$,{location:n.location,revalidation:n.revalidation,component:v,error:f,children:y(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):y()},null)}var ZP=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ZP||{}),fp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(fp||{});function q$(t){let e=_.useContext(Rm);return e||Se(!1),e}function K$(t){let e=_.useContext(QP);return e||Se(!1),e}function G$(t){let e=_.useContext(vs);return e||Se(!1),e}function ek(t){let e=G$(),n=e.matches[e.matches.length-1];return n.route.id||Se(!1),n.route.id}function Q$(){var t;let e=_.useContext(YP),n=K$(fp.UseRouteError),r=ek(fp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Y$(){let{router:t}=q$(ZP.UseNavigateStable),e=ek(fp.UseNavigateStable),n=_.useRef(!1);return XP(()=>{n.current=!0}),_.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ld({fromRouteId:e},s)))},[t,e])}const MS={};function X$(t,e,n){!e&&!MS[t]&&(MS[t]=!0)}function J$(t){let{to:e,replace:n,state:r,relative:i}=t;Ea()||Se(!1);let{future:s,static:o}=_.useContext(ho),{matches:a}=_.useContext(vs),{pathname:l}=Ta(),u=Sa(),c=Im(e,Cm(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return _.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function O1(t){return V$(t.context)}function Hi(t){Se(!1)}function Z$(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Wt.Pop,navigator:s,static:o=!1,future:a}=t;Ea()&&Se(!1);let l=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:s,static:o,future:ld({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ys(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:g="default"}=r,v=_.useMemo(()=>{let E=nu(c,l);return E==null?null:{location:{pathname:E,search:d,hash:h,state:f,key:g},navigationType:i}},[l,c,d,h,f,g,i]);return v==null?null:_.createElement(ho.Provider,{value:u},_.createElement(bm.Provider,{children:n,value:v}))}new Promise(()=>{});function C_(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let s=[...e,i];if(r.type===_.Fragment){n.push.apply(n,C_(r.props.children,s));return}r.type!==Hi&&Se(!1),!r.props.index||!r.props.children||Se(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=C_(r.props.children,s)),n.push(o)}),n}function eF(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:_.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:_.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:_.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ud(){return ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ud.apply(this,arguments)}function tF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function nF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rF(t,e){return t.button===0&&(!e||e==="_self")&&!nF(t)}const iF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],sF="6";try{window.__reactRouterVersion=sF}catch{}function oF(t,e){return T$({basename:e==null?void 0:e.basename,future:ud({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:H4({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||aF(),routes:t,mapRouteProperties:eF,window:e==null?void 0:e.window}).initialize()}function aF(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ud({},e,{errors:lF(e.errors)})),e}function lF(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new A1(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const uF=_.createContext({isTransitioning:!1}),cF=_.createContext(new Map),dF="startTransition",LS=Bf[dF],hF="flushSync",$S=W4[hF];function fF(t){LS?LS(t):t()}function $u(t){$S?$S(t):t()}let pF=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function mF(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=_.useState(n.state),[o,a]=_.useState(),[l,u]=_.useState({isTransitioning:!1}),[c,d]=_.useState(),[h,f]=_.useState(),[g,v]=_.useState(),E=_.useRef(new Map),{v7_startTransition:p}=r||{},y=_.useCallback(C=>{p?fF(C):C()},[p]),m=_.useCallback((C,b)=>{let{deletedFetchers:P,unstable_flushSync:x,unstable_viewTransitionOpts:O}=b;P.forEach(L=>E.current.delete(L)),C.fetchers.forEach((L,U)=>{L.data!==void 0&&E.current.set(U,L.data)});let F=n.window==null||typeof n.window.document.startViewTransition!="function";if(!O||F){x?$u(()=>s(C)):y(()=>s(C));return}if(x){$u(()=>{h&&(c&&c.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let L=n.window.document.startViewTransition(()=>{$u(()=>s(C))});L.finished.finally(()=>{$u(()=>{d(void 0),f(void 0),a(void 0),u({isTransitioning:!1})})}),$u(()=>f(L));return}h?(c&&c.resolve(),h.skipTransition(),v({state:C,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(a(C),u({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[n.window,h,c,E,y]);_.useLayoutEffect(()=>n.subscribe(m),[n,m]),_.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new pF)},[l]),_.useEffect(()=>{if(c&&o&&n.window){let C=o,b=c.promise,P=n.window.document.startViewTransition(async()=>{y(()=>s(C)),await b});P.finished.finally(()=>{d(void 0),f(void 0),a(void 0),u({isTransitioning:!1})}),f(P)}},[y,o,c,n.window]),_.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,h,i.location,o]),_.useEffect(()=>{!l.isTransitioning&&g&&(a(g.state),u({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),v(void 0))},[l.isTransitioning,g]),_.useEffect(()=>{},[]);let w=_.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:C=>n.navigate(C),push:(C,b,P)=>n.navigate(C,{state:b,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(C,b,P)=>n.navigate(C,{replace:!0,state:b,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),I=n.basename||"/",T=_.useMemo(()=>({router:n,navigator:w,static:!1,basename:I}),[n,w,I]);return _.createElement(_.Fragment,null,_.createElement(Rm.Provider,{value:T},_.createElement(QP.Provider,{value:i},_.createElement(cF.Provider,{value:E.current},_.createElement(uF.Provider,{value:l},_.createElement(Z$,{basename:I,location:i.location,navigationType:i.historyAction,navigator:w,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?_.createElement(gF,{routes:n.routes,future:n.future,state:i}):e))))),null)}function gF(t){let{routes:e,future:n,state:r}=t;return U$(e,void 0,r,n)}const yF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FS=_.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,h=tF(e,iF),{basename:f}=_.useContext(ho),g,v=!1;if(typeof u=="string"&&vF.test(u)&&(g=u,yF))try{let m=new URL(window.location.href),w=u.startsWith("//")?new URL(m.protocol+u):new URL(u),I=nu(w.pathname,f);w.origin===m.origin&&I!=null?u=I+w.search+w.hash:v=!0}catch{}let E=M$(u,{relative:i}),p=_F(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function y(m){r&&r(m),m.defaultPrevented||p(m)}return _.createElement("a",ud({},h,{href:g||E,onClick:v||s?r:y,ref:n,target:l}))});var VS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(VS||(VS={}));var US;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(US||(US={}));function _F(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Sa(),u=Ta(),c=JP(t,{relative:o});return _.useCallback(d=>{if(rF(d,n)){d.preventDefault();let h=r!==void 0?r:ra(u)===ra(c);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}const wF={black:"#000",white:"#fff"},cd=wF,Io={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},EF={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Oa=EF,TF={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Da=TF,SF={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ma=SF,CF={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},La=CF,IF={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Fu=IF,RF={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},bF=RF;function to(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const Al="$$material";function R(){return R=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R.apply(this,arguments)}function ie(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function tk(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var xF=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,PF=tk(function(t){return xF.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function kF(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function AF(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var NF=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(AF(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=kF(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Dn="-ms-",pp="-moz-",Ke="-webkit-",nk="comm",D1="rule",M1="decl",OF="@import",rk="@keyframes",DF="@layer",MF=Math.abs,xm=String.fromCharCode,LF=Object.assign;function $F(t,e){return Sn(t,0)^45?(((e<<2^Sn(t,0))<<2^Sn(t,1))<<2^Sn(t,2))<<2^Sn(t,3):0}function ik(t){return t.trim()}function FF(t,e){return(t=e.exec(t))?t[0]:t}function Ge(t,e,n){return t.replace(e,n)}function I_(t,e){return t.indexOf(e)}function Sn(t,e){return t.charCodeAt(e)|0}function dd(t,e,n){return t.slice(e,n)}function gi(t){return t.length}function L1(t){return t.length}function Qh(t,e){return e.push(t),t}function VF(t,e){return t.map(e).join("")}var Pm=1,Nl=1,sk=0,dr=0,Xt=0,ru="";function km(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Pm,column:Nl,length:o,return:""}}function Vu(t,e){return LF(km("",null,null,"",null,null,0),t,{length:-t.length},e)}function UF(){return Xt}function jF(){return Xt=dr>0?Sn(ru,--dr):0,Nl--,Xt===10&&(Nl=1,Pm--),Xt}function _r(){return Xt=dr<sk?Sn(ru,dr++):0,Nl++,Xt===10&&(Nl=1,Pm++),Xt}function bi(){return Sn(ru,dr)}function xf(){return dr}function Hd(t,e){return dd(ru,t,e)}function hd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ok(t){return Pm=Nl=1,sk=gi(ru=t),dr=0,[]}function ak(t){return ru="",t}function Pf(t){return ik(Hd(dr-1,R_(t===91?t+2:t===40?t+1:t)))}function BF(t){for(;(Xt=bi())&&Xt<33;)_r();return hd(t)>2||hd(Xt)>3?"":" "}function zF(t,e){for(;--e&&_r()&&!(Xt<48||Xt>102||Xt>57&&Xt<65||Xt>70&&Xt<97););return Hd(t,xf()+(e<6&&bi()==32&&_r()==32))}function R_(t){for(;_r();)switch(Xt){case t:return dr;case 34:case 39:t!==34&&t!==39&&R_(Xt);break;case 40:t===41&&R_(t);break;case 92:_r();break}return dr}function WF(t,e){for(;_r()&&t+Xt!==57;)if(t+Xt===84&&bi()===47)break;return"/*"+Hd(e,dr-1)+"*"+xm(t===47?t:_r())}function HF(t){for(;!hd(bi());)_r();return Hd(t,dr)}function qF(t){return ak(kf("",null,null,null,[""],t=ok(t),0,[0],t))}function kf(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,f=0,g=0,v=1,E=1,p=1,y=0,m="",w=i,I=s,T=r,C=m;E;)switch(g=y,y=_r()){case 40:if(g!=108&&Sn(C,d-1)==58){I_(C+=Ge(Pf(y),"&","&\f"),"&\f")!=-1&&(p=-1);break}case 34:case 39:case 91:C+=Pf(y);break;case 9:case 10:case 13:case 32:C+=BF(g);break;case 92:C+=zF(xf()-1,7);continue;case 47:switch(bi()){case 42:case 47:Qh(KF(WF(_r(),xf()),e,n),l);break;default:C+="/"}break;case 123*v:a[u++]=gi(C)*p;case 125*v:case 59:case 0:switch(y){case 0:case 125:E=0;case 59+c:p==-1&&(C=Ge(C,/\f/g,"")),f>0&&gi(C)-d&&Qh(f>32?BS(C+";",r,n,d-1):BS(Ge(C," ","")+";",r,n,d-2),l);break;case 59:C+=";";default:if(Qh(T=jS(C,e,n,u,c,i,a,m,w=[],I=[],d),s),y===123)if(c===0)kf(C,e,T,T,w,s,d,a,I);else switch(h===99&&Sn(C,3)===110?100:h){case 100:case 108:case 109:case 115:kf(t,T,T,r&&Qh(jS(t,T,T,0,0,i,a,m,i,w=[],d),I),i,I,d,a,r?w:I);break;default:kf(C,T,T,T,[""],I,0,a,I)}}u=c=f=0,v=p=1,m=C="",d=o;break;case 58:d=1+gi(C),f=g;default:if(v<1){if(y==123)--v;else if(y==125&&v++==0&&jF()==125)continue}switch(C+=xm(y),y*v){case 38:p=c>0?1:(C+="\f",-1);break;case 44:a[u++]=(gi(C)-1)*p,p=1;break;case 64:bi()===45&&(C+=Pf(_r())),h=bi(),c=d=gi(m=C+=HF(xf())),y++;break;case 45:g===45&&gi(C)==2&&(v=0)}}return s}function jS(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],f=L1(h),g=0,v=0,E=0;g<r;++g)for(var p=0,y=dd(t,d+1,d=MF(v=o[g])),m=t;p<f;++p)(m=ik(v>0?h[p]+" "+y:Ge(y,/&\f/g,h[p])))&&(l[E++]=m);return km(t,e,n,i===0?D1:a,l,u,c)}function KF(t,e,n){return km(t,e,n,nk,xm(UF()),dd(t,2,-2),0)}function BS(t,e,n,r){return km(t,e,n,M1,dd(t,0,r),dd(t,r+1,-1),r)}function ml(t,e){for(var n="",r=L1(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function GF(t,e,n,r){switch(t.type){case DF:if(t.children.length)break;case OF:case M1:return t.return=t.return||t.value;case nk:return"";case rk:return t.return=t.value+"{"+ml(t.children,r)+"}";case D1:t.value=t.props.join(",")}return gi(n=ml(t.children,r))?t.return=t.value+"{"+n+"}":""}function QF(t){var e=L1(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function YF(t){return function(e){e.root||(e=e.return)&&t(e)}}var XF=function(e,n,r){for(var i=0,s=0;i=s,s=bi(),i===38&&s===12&&(n[r]=1),!hd(s);)_r();return Hd(e,dr)},JF=function(e,n){var r=-1,i=44;do switch(hd(i)){case 0:i===38&&bi()===12&&(n[r]=1),e[r]+=XF(dr-1,n,r);break;case 2:e[r]+=Pf(i);break;case 4:if(i===44){e[++r]=bi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=xm(i)}while(i=_r());return e},ZF=function(e,n){return ak(JF(ok(e),n))},zS=new WeakMap,eV=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!zS.get(r))&&!i){zS.set(e,!0);for(var s=[],o=ZF(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},tV=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function lk(t,e){switch($F(t,e)){case 5103:return Ke+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ke+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ke+t+pp+t+Dn+t+t;case 6828:case 4268:return Ke+t+Dn+t+t;case 6165:return Ke+t+Dn+"flex-"+t+t;case 5187:return Ke+t+Ge(t,/(\w+).+(:[^]+)/,Ke+"box-$1$2"+Dn+"flex-$1$2")+t;case 5443:return Ke+t+Dn+"flex-item-"+Ge(t,/flex-|-self/,"")+t;case 4675:return Ke+t+Dn+"flex-line-pack"+Ge(t,/align-content|flex-|-self/,"")+t;case 5548:return Ke+t+Dn+Ge(t,"shrink","negative")+t;case 5292:return Ke+t+Dn+Ge(t,"basis","preferred-size")+t;case 6060:return Ke+"box-"+Ge(t,"-grow","")+Ke+t+Dn+Ge(t,"grow","positive")+t;case 4554:return Ke+Ge(t,/([^-])(transform)/g,"$1"+Ke+"$2")+t;case 6187:return Ge(Ge(Ge(t,/(zoom-|grab)/,Ke+"$1"),/(image-set)/,Ke+"$1"),t,"")+t;case 5495:case 3959:return Ge(t,/(image-set\([^]*)/,Ke+"$1$`$1");case 4968:return Ge(Ge(t,/(.+:)(flex-)?(.*)/,Ke+"box-pack:$3"+Dn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ke+t+t;case 4095:case 3583:case 4068:case 2532:return Ge(t,/(.+)-inline(.+)/,Ke+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(gi(t)-1-e>6)switch(Sn(t,e+1)){case 109:if(Sn(t,e+4)!==45)break;case 102:return Ge(t,/(.+:)(.+)-([^]+)/,"$1"+Ke+"$2-$3$1"+pp+(Sn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~I_(t,"stretch")?lk(Ge(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Sn(t,e+1)!==115)break;case 6444:switch(Sn(t,gi(t)-3-(~I_(t,"!important")&&10))){case 107:return Ge(t,":",":"+Ke)+t;case 101:return Ge(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ke+(Sn(t,14)===45?"inline-":"")+"box$3$1"+Ke+"$2$3$1"+Dn+"$2box$3")+t}break;case 5936:switch(Sn(t,e+11)){case 114:return Ke+t+Dn+Ge(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ke+t+Dn+Ge(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ke+t+Dn+Ge(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ke+t+Dn+t+t}return t}var nV=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case M1:e.return=lk(e.value,e.length);break;case rk:return ml([Vu(e,{value:Ge(e.value,"@","@"+Ke)})],i);case D1:if(e.length)return VF(e.props,function(s){switch(FF(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ml([Vu(e,{props:[Ge(s,/:(read-\w+)/,":"+pp+"$1")]})],i);case"::placeholder":return ml([Vu(e,{props:[Ge(s,/:(plac\w+)/,":"+Ke+"input-$1")]}),Vu(e,{props:[Ge(s,/:(plac\w+)/,":"+pp+"$1")]}),Vu(e,{props:[Ge(s,/:(plac\w+)/,Dn+"input-$1")]})],i)}return""})}},rV=[nV],iV=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(v){var E=v.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var i=e.stylisPlugins||rV,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var E=v.getAttribute("data-emotion").split(" "),p=1;p<E.length;p++)s[E[p]]=!0;a.push(v)});var l,u=[eV,tV];{var c,d=[GF,YF(function(v){c.insert(v)})],h=QF(u.concat(i,d)),f=function(E){return ml(qF(E),h)};l=function(E,p,y,m){c=y,f(E?E+"{"+p.styles+"}":p.styles),m&&(g.inserted[p.name]=!0)}}var g={key:n,sheet:new NF({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g},uk={exports:{}},et={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vn=typeof Symbol=="function"&&Symbol.for,$1=vn?Symbol.for("react.element"):60103,F1=vn?Symbol.for("react.portal"):60106,Am=vn?Symbol.for("react.fragment"):60107,Nm=vn?Symbol.for("react.strict_mode"):60108,Om=vn?Symbol.for("react.profiler"):60114,Dm=vn?Symbol.for("react.provider"):60109,Mm=vn?Symbol.for("react.context"):60110,V1=vn?Symbol.for("react.async_mode"):60111,Lm=vn?Symbol.for("react.concurrent_mode"):60111,$m=vn?Symbol.for("react.forward_ref"):60112,Fm=vn?Symbol.for("react.suspense"):60113,sV=vn?Symbol.for("react.suspense_list"):60120,Vm=vn?Symbol.for("react.memo"):60115,Um=vn?Symbol.for("react.lazy"):60116,oV=vn?Symbol.for("react.block"):60121,aV=vn?Symbol.for("react.fundamental"):60117,lV=vn?Symbol.for("react.responder"):60118,uV=vn?Symbol.for("react.scope"):60119;function Rr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case $1:switch(t=t.type,t){case V1:case Lm:case Am:case Om:case Nm:case Fm:return t;default:switch(t=t&&t.$$typeof,t){case Mm:case $m:case Um:case Vm:case Dm:return t;default:return e}}case F1:return e}}}function ck(t){return Rr(t)===Lm}et.AsyncMode=V1;et.ConcurrentMode=Lm;et.ContextConsumer=Mm;et.ContextProvider=Dm;et.Element=$1;et.ForwardRef=$m;et.Fragment=Am;et.Lazy=Um;et.Memo=Vm;et.Portal=F1;et.Profiler=Om;et.StrictMode=Nm;et.Suspense=Fm;et.isAsyncMode=function(t){return ck(t)||Rr(t)===V1};et.isConcurrentMode=ck;et.isContextConsumer=function(t){return Rr(t)===Mm};et.isContextProvider=function(t){return Rr(t)===Dm};et.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===$1};et.isForwardRef=function(t){return Rr(t)===$m};et.isFragment=function(t){return Rr(t)===Am};et.isLazy=function(t){return Rr(t)===Um};et.isMemo=function(t){return Rr(t)===Vm};et.isPortal=function(t){return Rr(t)===F1};et.isProfiler=function(t){return Rr(t)===Om};et.isStrictMode=function(t){return Rr(t)===Nm};et.isSuspense=function(t){return Rr(t)===Fm};et.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Am||t===Lm||t===Om||t===Nm||t===Fm||t===sV||typeof t=="object"&&t!==null&&(t.$$typeof===Um||t.$$typeof===Vm||t.$$typeof===Dm||t.$$typeof===Mm||t.$$typeof===$m||t.$$typeof===aV||t.$$typeof===lV||t.$$typeof===uV||t.$$typeof===oV)};et.typeOf=Rr;uk.exports=et;var cV=uk.exports,dk=cV,dV={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hV={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},hk={};hk[dk.ForwardRef]=dV;hk[dk.Memo]=hV;var fV=!0;function pV(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var fk=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||fV===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},pk=function(e,n,r){fk(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function mV(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var gV={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},yV=/[A-Z]|^ms/g,vV=/_EMO_([^_]+?)_([^]*?)_EMO_/g,mk=function(e){return e.charCodeAt(1)===45},WS=function(e){return e!=null&&typeof e!="boolean"},By=tk(function(t){return mk(t)?t:t.replace(yV,"-$&").toLowerCase()}),HS=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(vV,function(r,i,s){return yi={name:i,styles:s,next:yi},i})}return gV[e]!==1&&!mk(e)&&typeof n=="number"&&n!==0?n+"px":n};function fd(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return yi={name:n.name,styles:n.styles,next:yi},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)yi={name:r.name,styles:r.styles,next:yi},r=r.next;var i=n.styles+";";return i}return _V(t,e,n)}case"function":{if(t!==void 0){var s=yi,o=n(t);return yi=s,fd(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function _V(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=fd(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":WS(o)&&(r+=By(s)+":"+HS(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)WS(o[a])&&(r+=By(s)+":"+HS(s,o[a])+";");else{var l=fd(t,e,o);switch(s){case"animation":case"animationName":{r+=By(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var qS=/label:\s*([^\s;\n{]+)\s*(;|$)/g,yi,U1=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";yi=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=fd(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=fd(r,n,e[a]),i&&(s+=o[a]);qS.lastIndex=0;for(var l="",u;(u=qS.exec(s))!==null;)l+="-"+u[1];var c=mV(s)+l;return{name:c,styles:s,next:yi}},wV=function(e){return e()},gk=Bf.useInsertionEffect?Bf.useInsertionEffect:!1,EV=gk||wV,KS=gk||_.useLayoutEffect,yk=_.createContext(typeof HTMLElement<"u"?iV({key:"css"}):null);yk.Provider;var vk=function(e){return _.forwardRef(function(n,r){var i=_.useContext(yk);return e(n,i,r)})},jm=_.createContext({}),TV=vk(function(t,e){var n=t.styles,r=U1([n],void 0,_.useContext(jm)),i=_.useRef();return KS(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),KS(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&pk(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function iu(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return U1(e)}var fo=function(){var e=iu.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},SV=PF,CV=function(e){return e!=="theme"},GS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?SV:CV},QS=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},IV=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return fk(n,r,i),EV(function(){return pk(n,r,i)}),null},RV=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=QS(e,n,r),l=a||GS(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,f=1;f<h;f++)d.push(c[f],c[0][f])}var g=vk(function(v,E,p){var y=u&&v.as||i,m="",w=[],I=v;if(v.theme==null){I={};for(var T in v)I[T]=v[T];I.theme=_.useContext(jm)}typeof v.className=="string"?m=pV(E.registered,w,v.className):v.className!=null&&(m=v.className+" ");var C=U1(d.concat(w),E.registered,I);m+=E.key+"-"+C.name,o!==void 0&&(m+=" "+o);var b=u&&a===void 0?GS(y):l,P={};for(var x in v)u&&x==="as"||b(x)&&(P[x]=v[x]);return P.className=m,P.ref=p,_.createElement(_.Fragment,null,_.createElement(IV,{cache:E,serialized:C,isStringTag:typeof y=="string"}),_.createElement(y,P))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=d,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(v,E){return t(v,R({},n,E,{shouldForwardProp:QS(g,E,!0)})).apply(void 0,d)},g}},bV=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],b_=RV.bind();bV.forEach(function(t){b_[t]=b_(t)});function xV(t){return t==null||Object.keys(t).length===0}function PV(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(xV(i)?n:i):e;return S.jsx(TV,{styles:r})}function _k(t,e){return b_(t,e)}const kV=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function Qi(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function wk(t){if(!Qi(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=wk(t[n])}),e}function lr(t,e,n={clone:!0}){const r=n.clone?R({},t):t;return Qi(t)&&Qi(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Qi(e[i])&&i in t&&Qi(t[i])?r[i]=lr(t[i],e[i],n):n.clone?r[i]=Qi(e[i])?wk(e[i]):e[i]:r[i]=e[i])}),r}function he(t){if(typeof t!="string")throw new Error(to(7));return t.charAt(0).toUpperCase()+t.slice(1)}function x_(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function Bm(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function AV(t,e){return()=>null}function Af(t,e){var n,r;return _.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function ln(t){return t&&t.ownerDocument||document}function Mi(t){return ln(t).defaultView||window}function NV(t,e){return()=>null}function mp(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const Li=typeof window<"u"?_.useLayoutEffect:_.useEffect;let YS=0;function OV(t){const[e,n]=_.useState(t),r=t||e;return _.useEffect(()=>{e==null&&(YS+=1,n(`mui-${YS}`))},[e]),r}const XS=Bf.useId;function zm(t){if(XS!==void 0){const e=XS();return t??e}return OV(t)}function DV(t,e,n,r,i){return null}function gp({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=_.useRef(t!==void 0),[s,o]=_.useState(e),a=i?t:s,l=_.useCallback(u=>{i||o(u)},[]);return[a,l]}function Lr(t){const e=_.useRef(t);return Li(()=>{e.current=t}),_.useRef((...n)=>(0,e.current)(...n)).current}function en(...t){return _.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{mp(n,e)})},t)}const JS={};function MV(t,e){const n=_.useRef(JS);return n.current===JS&&(n.current=t(e)),n}const LV=[];function $V(t){_.useEffect(t,LV)}class qd{constructor(){this.currentId=0,this.clear=()=>{this.currentId!==0&&(clearTimeout(this.currentId),this.currentId=0)},this.disposeEffect=()=>this.clear}static create(){return new qd}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=0,n()},e)}}function Lo(){const t=MV(qd.create).current;return $V(t.disposeEffect),t}let Wm=!0,P_=!1;const FV=new qd,VV={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function UV(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&VV[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function jV(t){t.metaKey||t.altKey||t.ctrlKey||(Wm=!0)}function zy(){Wm=!1}function BV(){this.visibilityState==="hidden"&&P_&&(Wm=!0)}function zV(t){t.addEventListener("keydown",jV,!0),t.addEventListener("mousedown",zy,!0),t.addEventListener("pointerdown",zy,!0),t.addEventListener("touchstart",zy,!0),t.addEventListener("visibilitychange",BV,!0)}function WV(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Wm||UV(e)}function j1(){const t=_.useCallback(i=>{i!=null&&zV(i.ownerDocument)},[]),e=_.useRef(!1);function n(){return e.current?(P_=!0,FV.start(100,()=>{P_=!1}),e.current=!1,!0):!1}function r(i){return WV(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function Ek(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function Tk(t,e){const n=R({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=R({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=R({},s),Object.keys(i).forEach(o=>{n[r][o]=Tk(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function tt(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const ZS=t=>t,HV=()=>{let t=ZS;return{configure(e){t=e},generate(e){return t(e)},reset(){t=ZS}}},qV=HV(),B1=qV,Sk={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function nt(t,e,n="Mui"){const r=Sk[e];return r?`${n}-${r}`:`${B1.generate(t)}-${e}`}function Xe(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=nt(t,i,n)}),r}function KV(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const GV=["values","unit","step"],QV=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>R({},n,{[r.key]:r.val}),{})};function YV(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=ie(t,GV),s=QV(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,f){const g=o.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(g!==-1&&typeof e[o[g]]=="number"?e[o[g]]:f)-r/100}${n})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return R({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const XV={borderRadius:4},JV=XV;function Rc(t,e){return e?lr(t,e,{clone:!1}):t}const z1={xs:0,sm:600,md:900,lg:1200,xl:1536},eC={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${z1[t]}px)`};function cs(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||eC;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||eC;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||z1).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function ZV(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function e5(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Hm(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function yp(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Hm(t,n)||r,e&&(i=e(i,r,t)),i}function qt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=Hm(l,r)||{};return cs(o,a,d=>{let h=yp(u,i,d);return d===h&&typeof d=="string"&&(h=yp(u,i,`${e}${d==="default"?"":he(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function t5(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const n5={m:"margin",p:"padding"},r5={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},tC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},i5=t5(t=>{if(t.length>2)if(tC[t])t=tC[t];else return[t];const[e,n]=t.split(""),r=n5[e],i=r5[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),W1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],H1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...W1,...H1];function Kd(t,e,n,r){var i;const s=(i=Hm(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function Ck(t){return Kd(t,"spacing",8)}function Gd(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function s5(t,e){return n=>t.reduce((r,i)=>(r[i]=Gd(e,n),r),{})}function o5(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=i5(n),s=s5(i,r),o=t[n];return cs(t,o,s)}function Ik(t,e){const n=Ck(t.theme);return Object.keys(t).map(r=>o5(t,e,r,n)).reduce(Rc,{})}function $t(t){return Ik(t,W1)}$t.propTypes={};$t.filterProps=W1;function Ft(t){return Ik(t,H1)}Ft.propTypes={};Ft.filterProps=H1;function a5(t=8){if(t.mui)return t;const e=Ck({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function qm(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?Rc(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Nr(t){return typeof t!="number"?t:`${t}px solid`}function Gr(t,e){return qt({prop:t,themeKey:"borders",transform:e})}const l5=Gr("border",Nr),u5=Gr("borderTop",Nr),c5=Gr("borderRight",Nr),d5=Gr("borderBottom",Nr),h5=Gr("borderLeft",Nr),f5=Gr("borderColor"),p5=Gr("borderTopColor"),m5=Gr("borderRightColor"),g5=Gr("borderBottomColor"),y5=Gr("borderLeftColor"),v5=Gr("outline",Nr),_5=Gr("outlineColor"),Km=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Kd(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Gd(e,r)});return cs(t,t.borderRadius,n)}return null};Km.propTypes={};Km.filterProps=["borderRadius"];qm(l5,u5,c5,d5,h5,f5,p5,m5,g5,y5,Km,v5,_5);const Gm=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Kd(t.theme,"spacing",8),n=r=>({gap:Gd(e,r)});return cs(t,t.gap,n)}return null};Gm.propTypes={};Gm.filterProps=["gap"];const Qm=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Kd(t.theme,"spacing",8),n=r=>({columnGap:Gd(e,r)});return cs(t,t.columnGap,n)}return null};Qm.propTypes={};Qm.filterProps=["columnGap"];const Ym=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Kd(t.theme,"spacing",8),n=r=>({rowGap:Gd(e,r)});return cs(t,t.rowGap,n)}return null};Ym.propTypes={};Ym.filterProps=["rowGap"];const w5=qt({prop:"gridColumn"}),E5=qt({prop:"gridRow"}),T5=qt({prop:"gridAutoFlow"}),S5=qt({prop:"gridAutoColumns"}),C5=qt({prop:"gridAutoRows"}),I5=qt({prop:"gridTemplateColumns"}),R5=qt({prop:"gridTemplateRows"}),b5=qt({prop:"gridTemplateAreas"}),x5=qt({prop:"gridArea"});qm(Gm,Qm,Ym,w5,E5,T5,S5,C5,I5,R5,b5,x5);function gl(t,e){return e==="grey"?e:t}const P5=qt({prop:"color",themeKey:"palette",transform:gl}),k5=qt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:gl}),A5=qt({prop:"backgroundColor",themeKey:"palette",transform:gl});qm(P5,k5,A5);function pr(t){return t<=1&&t!==0?`${t*100}%`:t}const N5=qt({prop:"width",transform:pr}),q1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||z1[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:pr(n)}};return cs(t,t.maxWidth,e)}return null};q1.filterProps=["maxWidth"];const O5=qt({prop:"minWidth",transform:pr}),D5=qt({prop:"height",transform:pr}),M5=qt({prop:"maxHeight",transform:pr}),L5=qt({prop:"minHeight",transform:pr});qt({prop:"size",cssProperty:"width",transform:pr});qt({prop:"size",cssProperty:"height",transform:pr});const $5=qt({prop:"boxSizing"});qm(N5,q1,O5,D5,M5,L5,$5);const F5={border:{themeKey:"borders",transform:Nr},borderTop:{themeKey:"borders",transform:Nr},borderRight:{themeKey:"borders",transform:Nr},borderBottom:{themeKey:"borders",transform:Nr},borderLeft:{themeKey:"borders",transform:Nr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Nr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Km},color:{themeKey:"palette",transform:gl},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:gl},backgroundColor:{themeKey:"palette",transform:gl},p:{style:Ft},pt:{style:Ft},pr:{style:Ft},pb:{style:Ft},pl:{style:Ft},px:{style:Ft},py:{style:Ft},padding:{style:Ft},paddingTop:{style:Ft},paddingRight:{style:Ft},paddingBottom:{style:Ft},paddingLeft:{style:Ft},paddingX:{style:Ft},paddingY:{style:Ft},paddingInline:{style:Ft},paddingInlineStart:{style:Ft},paddingInlineEnd:{style:Ft},paddingBlock:{style:Ft},paddingBlockStart:{style:Ft},paddingBlockEnd:{style:Ft},m:{style:$t},mt:{style:$t},mr:{style:$t},mb:{style:$t},ml:{style:$t},mx:{style:$t},my:{style:$t},margin:{style:$t},marginTop:{style:$t},marginRight:{style:$t},marginBottom:{style:$t},marginLeft:{style:$t},marginX:{style:$t},marginY:{style:$t},marginInline:{style:$t},marginInlineStart:{style:$t},marginInlineEnd:{style:$t},marginBlock:{style:$t},marginBlockStart:{style:$t},marginBlockEnd:{style:$t},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Gm},rowGap:{style:Ym},columnGap:{style:Qm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:pr},maxWidth:{style:q1},minWidth:{transform:pr},height:{transform:pr},maxHeight:{transform:pr},minHeight:{transform:pr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},Xm=F5;function V5(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function U5(t,e){return typeof t=="function"?t(e):t}function j5(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=Hm(i,u)||{};return d?d(o):cs(o,r,g=>{let v=yp(h,c,g);return g===v&&typeof g=="string"&&(v=yp(h,c,`${n}${g==="default"?"":he(g)}`,g)),l===!1?v:{[l]:v}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:Xm;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=ZV(s.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(f=>{const g=U5(u[f],s);if(g!=null)if(typeof g=="object")if(o[f])h=Rc(h,t(f,g,s,o));else{const v=cs({theme:s},g,E=>({[f]:E}));V5(v,g)?h[f]=e({sx:g,theme:s}):h=Rc(h,v)}else h=Rc(h,t(f,g,s,o))}),e5(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const Qd=j5();Qd.filterProps=["sx"];function B5(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const z5=["breakpoints","palette","spacing","shape"];function K1(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=ie(t,z5),a=YV(n),l=a5(i);let u=lr({breakpoints:a,direction:"ltr",components:{},palette:R({mode:"light"},r),spacing:l,shape:R({},JV,s)},o);return u.applyStyles=B5,u=e.reduce((c,d)=>lr(c,d),u),u.unstable_sxConfig=R({},Xm,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return Qd({sx:d,theme:this})},u}function W5(t){return Object.keys(t).length===0}function G1(t=null){const e=_.useContext(jm);return!e||W5(e)?t:e}const H5=K1();function Jm(t=H5){return G1(t)}function q5({styles:t,themeId:e,defaultTheme:n={}}){const r=Jm(n),i=typeof t=="function"?t(e&&r[e]||r):t;return S.jsx(PV,{styles:i})}const K5=["sx"],G5=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Xm;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function Q5(t){const{sx:e}=t,n=ie(t,K5),{systemProps:r,otherProps:i}=G5(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Qi(a)?R({},r,a):r}:s=R({},r,e),R({},i,{sx:s})}function Rk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Rk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Te(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Rk(t))&&(r&&(r+=" "),r+=e);return r}const Y5=["className","component"];function X5(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=_k("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Qd);return _.forwardRef(function(l,u){const c=Jm(n),d=Q5(l),{className:h,component:f="div"}=d,g=ie(d,Y5);return S.jsx(s,R({as:f,ref:u,className:Te(h,i?i(r):r),theme:e&&c[e]||c},g))})}const J5=Xe("MuiBox",["root"]),Z5=J5,eU=X5({defaultClassName:Z5.root,generateClassName:B1.generate}),bk=eU,tU=["variant"];function nC(t){return t.length===0}function xk(t){const{variant:e}=t,n=ie(t,tU);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=nC(r)?t[i]:he(t[i]):r+=`${nC(r)?i:he(i)}${he(t[i].toString())}`}),r}const nU=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function rU(t){return Object.keys(t).length===0}function iU(t){return typeof t=="string"&&t.charCodeAt(0)>96}const sU=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,vp=t=>{let e=0;const n={};return t&&t.forEach(r=>{let i="";typeof r.props=="function"?(i=`callback${e}`,e+=1):i=xk(r.props),n[i]=r.style}),n},oU=(t,e)=>{let n=[];return e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants),vp(n)},_p=(t,e,n)=>{const{ownerState:r={}}=t,i=[];let s=0;return n&&n.forEach(o=>{let a=!0;if(typeof o.props=="function"){const l=R({},t,r);a=o.props(l)}else Object.keys(o.props).forEach(l=>{r[l]!==o.props[l]&&t[l]!==o.props[l]&&(a=!1)});a&&(typeof o.props=="function"?i.push(e[`callback${s}`]):i.push(e[xk(o.props)])),typeof o.props=="function"&&(s+=1)}),i},aU=(t,e,n,r)=>{var i;const s=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return _p(t,e,s)};function bc(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const lU=K1(),uU=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Nf({defaultTheme:t,theme:e,themeId:n}){return rU(e)?t:e[n]||e}function cU(t){return t?(e,n)=>n[t]:null}const rC=({styledArg:t,props:e,defaultTheme:n,themeId:r})=>{const i=t(R({},e,{theme:Nf(R({},e,{defaultTheme:n,themeId:r}))}));let s;if(i&&i.variants&&(s=i.variants,delete i.variants),s){const o=_p(e,vp(s),s);return[i,...o]}return i};function dU(t={}){const{themeId:e,defaultTheme:n=lU,rootShouldForwardProp:r=bc,slotShouldForwardProp:i=bc}=t,s=o=>Qd(R({},o,{theme:Nf(R({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{kV(o,w=>w.filter(I=>!(I!=null&&I.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h=cU(uU(u))}=a,f=ie(a,nU),g=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,v=d||!1;let E,p=bc;u==="Root"||u==="root"?p=r:u?p=i:iU(o)&&(p=void 0);const y=_k(o,R({shouldForwardProp:p,label:E},f)),m=(w,...I)=>{const T=I?I.map(x=>{if(typeof x=="function"&&x.__emotion_real!==x)return O=>rC({styledArg:x,props:O,defaultTheme:n,themeId:e});if(Qi(x)){let O=x,F;return x&&x.variants&&(F=x.variants,delete O.variants,O=L=>{let U=x;return _p(L,vp(F),F).forEach(B=>{U=lr(U,B)}),U}),O}return x}):[];let C=w;if(Qi(w)){let x;w&&w.variants&&(x=w.variants,delete C.variants,C=O=>{let F=w;return _p(O,vp(x),x).forEach(U=>{F=lr(F,U)}),F})}else typeof w=="function"&&w.__emotion_real!==w&&(C=x=>rC({styledArg:w,props:x,defaultTheme:n,themeId:e}));l&&h&&T.push(x=>{const O=Nf(R({},x,{defaultTheme:n,themeId:e})),F=sU(l,O);if(F){const L={};return Object.entries(F).forEach(([U,z])=>{L[U]=typeof z=="function"?z(R({},x,{theme:O})):z}),h(x,L)}return null}),l&&!g&&T.push(x=>{const O=Nf(R({},x,{defaultTheme:n,themeId:e}));return aU(x,oU(l,O),O,l)}),v||T.push(s);const b=T.length-I.length;if(Array.isArray(w)&&b>0){const x=new Array(b).fill("");C=[...w,...x],C.raw=[...w.raw,...x]}const P=y(C,...T);return o.muiName&&(P.muiName=o.muiName),P};return y.withConfig&&(m.withConfig=y.withConfig),m}}function hU(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Tk(e.components[n].defaultProps,r)}function fU({props:t,name:e,defaultTheme:n,themeId:r}){let i=Jm(n);return r&&(i=i[r]||i),hU({theme:i,name:e,props:t})}function Q1(t,e=0,n=1){return KV(t,e,n)}function pU(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ia(t){if(t.type)return t;if(t.charAt(0)==="#")return ia(pU(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(to(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(to(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function Zm(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function mU(t){t=ia(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Zm({type:a,values:l})}function k_(t){t=ia(t);let e=t.type==="hsl"||t.type==="hsla"?ia(mU(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function gU(t,e){const n=k_(t),r=k_(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function sa(t,e){return t=ia(t),e=Q1(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Zm(t)}function pd(t,e){if(t=ia(t),e=Q1(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Zm(t)}function md(t,e){if(t=ia(t),e=Q1(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Zm(t)}function yU(t,e=.15){return k_(t)>.5?pd(t,e):md(t,e)}const vU=_.createContext(null),Pk=vU;function kk(){return _.useContext(Pk)}const _U=typeof Symbol=="function"&&Symbol.for,wU=_U?Symbol.for("mui.nested"):"__THEME_NESTED__";function EU(t,e){return typeof e=="function"?e(t):R({},t,e)}function TU(t){const{children:e,theme:n}=t,r=kk(),i=_.useMemo(()=>{const s=r===null?n:EU(r,n);return s!=null&&(s[wU]=r!==null),s},[n,r]);return S.jsx(Pk.Provider,{value:i,children:e})}const iC={};function sC(t,e,n,r=!1){return _.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const s=n(i),o=t?R({},e,{[t]:s}):s;return r?()=>o:o}return t?R({},e,{[t]:n}):R({},e,n)},[t,e,n,r])}function SU(t){const{children:e,theme:n,themeId:r}=t,i=G1(iC),s=kk()||iC,o=sC(r,i,n),a=sC(r,s,n,!0);return S.jsx(TU,{theme:a,children:S.jsx(jm.Provider,{value:o,children:e})})}function CU(t,e){return R({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const IU=["mode","contrastThreshold","tonalOffset"],oC={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:cd.white,default:cd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Wy={text:{primary:cd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:cd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function aC(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=md(t.main,i):e==="dark"&&(t.dark=pd(t.main,s)))}function RU(t="light"){return t==="dark"?{main:Da[200],light:Da[50],dark:Da[400]}:{main:Da[700],light:Da[400],dark:Da[800]}}function bU(t="light"){return t==="dark"?{main:Oa[200],light:Oa[50],dark:Oa[400]}:{main:Oa[500],light:Oa[300],dark:Oa[700]}}function xU(t="light"){return t==="dark"?{main:Io[500],light:Io[300],dark:Io[700]}:{main:Io[700],light:Io[400],dark:Io[800]}}function PU(t="light"){return t==="dark"?{main:Ma[400],light:Ma[300],dark:Ma[700]}:{main:Ma[700],light:Ma[500],dark:Ma[900]}}function kU(t="light"){return t==="dark"?{main:La[400],light:La[300],dark:La[700]}:{main:La[800],light:La[500],dark:La[900]}}function AU(t="light"){return t==="dark"?{main:Fu[400],light:Fu[300],dark:Fu[700]}:{main:"#ed6c02",light:Fu[500],dark:Fu[900]}}function NU(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=ie(t,IU),s=t.primary||RU(e),o=t.secondary||bU(e),a=t.error||xU(e),l=t.info||PU(e),u=t.success||kU(e),c=t.warning||AU(e);function d(v){return gU(v,Wy.text.primary)>=n?Wy.text.primary:oC.text.primary}const h=({color:v,name:E,mainShade:p=500,lightShade:y=300,darkShade:m=700})=>{if(v=R({},v),!v.main&&v[p]&&(v.main=v[p]),!v.hasOwnProperty("main"))throw new Error(to(11,E?` (${E})`:"",p));if(typeof v.main!="string")throw new Error(to(12,E?` (${E})`:"",JSON.stringify(v.main)));return aC(v,"light",y,r),aC(v,"dark",m,r),v.contrastText||(v.contrastText=d(v.main)),v},f={dark:Wy,light:oC};return lr(R({common:R({},cd),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:bF,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},f[e]),i)}const OU=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function DU(t){return Math.round(t*1e5)/1e5}const lC={textTransform:"uppercase"},uC='"Roboto", "Helvetica", "Arial", sans-serif';function MU(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=uC,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=ie(n,OU),f=i/14,g=d||(p=>`${p/u*f}rem`),v=(p,y,m,w,I)=>R({fontFamily:r,fontWeight:p,fontSize:g(y),lineHeight:m},r===uC?{letterSpacing:`${DU(w/y)}em`}:{},I,c),E={h1:v(s,96,1.167,-1.5),h2:v(s,60,1.2,-.5),h3:v(o,48,1.167,0),h4:v(o,34,1.235,.25),h5:v(o,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(o,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(o,16,1.5,.15),body2:v(o,14,1.43,.15),button:v(a,14,1.75,.4,lC),caption:v(o,12,1.66,.4),overline:v(o,12,2.66,1,lC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return lr(R({htmlFontSize:u,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},E),h,{clone:!1})}const LU=.2,$U=.14,FU=.12;function Ct(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${LU})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${$U})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${FU})`].join(",")}const VU=["none",Ct(0,2,1,-1,0,1,1,0,0,1,3,0),Ct(0,3,1,-2,0,2,2,0,0,1,5,0),Ct(0,3,3,-2,0,3,4,0,0,1,8,0),Ct(0,2,4,-1,0,4,5,0,0,1,10,0),Ct(0,3,5,-1,0,5,8,0,0,1,14,0),Ct(0,3,5,-1,0,6,10,0,0,1,18,0),Ct(0,4,5,-2,0,7,10,1,0,2,16,1),Ct(0,5,5,-3,0,8,10,1,0,3,14,2),Ct(0,5,6,-3,0,9,12,1,0,3,16,2),Ct(0,6,6,-3,0,10,14,1,0,4,18,3),Ct(0,6,7,-4,0,11,15,1,0,4,20,3),Ct(0,7,8,-4,0,12,17,2,0,5,22,4),Ct(0,7,8,-4,0,13,19,2,0,5,24,4),Ct(0,7,9,-4,0,14,21,2,0,5,26,4),Ct(0,8,9,-5,0,15,22,2,0,6,28,5),Ct(0,8,10,-5,0,16,24,2,0,6,30,5),Ct(0,8,11,-5,0,17,26,2,0,6,32,5),Ct(0,9,11,-5,0,18,28,2,0,7,34,6),Ct(0,9,12,-6,0,19,29,2,0,7,36,6),Ct(0,10,13,-6,0,20,31,3,0,8,38,7),Ct(0,10,13,-6,0,21,33,3,0,8,40,7),Ct(0,10,14,-6,0,22,35,3,0,8,42,7),Ct(0,11,14,-7,0,23,36,3,0,9,44,8),Ct(0,11,15,-7,0,24,38,3,0,9,46,8)],UU=["duration","easing","delay"],jU={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},BU={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function cC(t){return`${Math.round(t)}ms`}function zU(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function WU(t){const e=R({},jU,t.easing),n=R({},BU,t.duration);return R({getAutoHeightDuration:zU,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return ie(s,UU),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:cC(o)} ${a} ${typeof l=="string"?l:cC(l)}`).join(",")}},t,{easing:e,duration:n})}const HU={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},qU=HU,KU=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ak(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=ie(t,KU);if(t.vars)throw new Error(to(18));const a=NU(r),l=K1(t);let u=lr(l,{mixins:CU(l.breakpoints,n),palette:a,shadows:VU.slice(),typography:MU(a,s),transitions:WU(i),zIndex:R({},qU)});return u=lr(u,o),u=e.reduce((c,d)=>lr(c,d),u),u.unstable_sxConfig=R({},Xm,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return Qd({sx:d,theme:this})},u}const GU=Ak(),eg=GU;function Ca(){const t=Jm(eg);return t[Al]||t}function rt({props:t,name:e}){return fU({props:t,name:e,defaultTheme:eg,themeId:Al})}const Ui=t=>bc(t)&&t!=="classes",QU=bc,ee=dU({themeId:Al,defaultTheme:eg,rootShouldForwardProp:Ui}),YU=["theme"];function XU(t){let{theme:e}=t,n=ie(t,YU);const r=e[Al];return S.jsx(SU,R({},n,{themeId:r?Al:void 0,theme:r||e}))}const JU=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},dC=JU;function ZU(t){return nt("MuiSvgIcon",t)}Xe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const e6=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],t6=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${he(e)}`,`fontSize${he(n)}`]};return tt(i,ZU,r)},n6=ee("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${he(n.color)}`],e[`fontSize${he(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,c,d,h,f,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(f=(t.vars||t).palette)==null||(f=f.action)==null?void 0:f.active,disabled:(g=(t.vars||t).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[e.color]}}),A_=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,f=ie(r,e6),g=_.isValidElement(i)&&i.type==="svg",v=R({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:g}),E={};c||(E.viewBox=h);const p=t6(v);return S.jsxs(n6,R({as:a,className:Te(p.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},E,f,g&&i.props,{ownerState:v,children:[g?i.props.children:i,d?S.jsx("title",{children:d}):null]}))});A_.muiName="SvgIcon";function po(t,e){function n(r,i){return S.jsx(A_,R({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=A_.muiName,_.memo(_.forwardRef(n))}const r6={configure:t=>{B1.configure(t)}},i6=Object.freeze(Object.defineProperty({__proto__:null,capitalize:he,createChainedFunction:x_,createSvgIcon:po,debounce:Bm,deprecatedPropType:AV,isMuiElement:Af,ownerDocument:ln,ownerWindow:Mi,requirePropFactory:NV,setRef:mp,unstable_ClassNameGenerator:r6,unstable_useEnhancedEffect:Li,unstable_useId:zm,unsupportedProp:DV,useControlled:gp,useEventCallback:Lr,useForkRef:en,useIsFocusVisible:j1},Symbol.toStringTag,{value:"Module"}));var st={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y1=Symbol.for("react.element"),X1=Symbol.for("react.portal"),tg=Symbol.for("react.fragment"),ng=Symbol.for("react.strict_mode"),rg=Symbol.for("react.profiler"),ig=Symbol.for("react.provider"),sg=Symbol.for("react.context"),s6=Symbol.for("react.server_context"),og=Symbol.for("react.forward_ref"),ag=Symbol.for("react.suspense"),lg=Symbol.for("react.suspense_list"),ug=Symbol.for("react.memo"),cg=Symbol.for("react.lazy"),o6=Symbol.for("react.offscreen"),Nk;Nk=Symbol.for("react.module.reference");function Qr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Y1:switch(t=t.type,t){case tg:case rg:case ng:case ag:case lg:return t;default:switch(t=t&&t.$$typeof,t){case s6:case sg:case og:case cg:case ug:case ig:return t;default:return e}}case X1:return e}}}st.ContextConsumer=sg;st.ContextProvider=ig;st.Element=Y1;st.ForwardRef=og;st.Fragment=tg;st.Lazy=cg;st.Memo=ug;st.Portal=X1;st.Profiler=rg;st.StrictMode=ng;st.Suspense=ag;st.SuspenseList=lg;st.isAsyncMode=function(){return!1};st.isConcurrentMode=function(){return!1};st.isContextConsumer=function(t){return Qr(t)===sg};st.isContextProvider=function(t){return Qr(t)===ig};st.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Y1};st.isForwardRef=function(t){return Qr(t)===og};st.isFragment=function(t){return Qr(t)===tg};st.isLazy=function(t){return Qr(t)===cg};st.isMemo=function(t){return Qr(t)===ug};st.isPortal=function(t){return Qr(t)===X1};st.isProfiler=function(t){return Qr(t)===rg};st.isStrictMode=function(t){return Qr(t)===ng};st.isSuspense=function(t){return Qr(t)===ag};st.isSuspenseList=function(t){return Qr(t)===lg};st.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===tg||t===rg||t===ng||t===ag||t===lg||t===o6||typeof t=="object"&&t!==null&&(t.$$typeof===cg||t.$$typeof===ug||t.$$typeof===ig||t.$$typeof===sg||t.$$typeof===og||t.$$typeof===Nk||t.getModuleId!==void 0)};st.typeOf=Qr;function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function Ok(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,N_(t,e)}const hC={disabled:!1},wp=mn.createContext(null);var a6=function(e){return e.scrollTop},oc="unmounted",Ro="exited",bo="entering",ja="entered",O_="exiting",_s=function(t){Ok(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Ro,s.appearStatus=bo):l=ja:r.unmountOnExit||r.mountOnEnter?l=oc:l=Ro,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===oc?{status:Ro}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==bo&&o!==ja&&(s=bo):(o===bo||o===ja)&&(s=O_)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===bo){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:sc.findDOMNode(this);o&&a6(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ro&&this.setState({status:oc})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[sc.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||hC.disabled){this.safeSetState({status:ja},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:bo},function(){s.props.onEntering(u,c),s.onTransitionEnd(h,function(){s.safeSetState({status:ja},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:sc.findDOMNode(this);if(!s||hC.disabled){this.safeSetState({status:Ro},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:O_},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Ro},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:sc.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===oc)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=ie(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return mn.createElement(wp.Provider,{value:null},typeof o=="function"?o(i,a):mn.cloneElement(mn.Children.only(o),a))},e}(mn.Component);_s.contextType=wp;_s.propTypes={};function $a(){}_s.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:$a,onEntering:$a,onEntered:$a,onExit:$a,onExiting:$a,onExited:$a};_s.UNMOUNTED=oc;_s.EXITED=Ro;_s.ENTERING=bo;_s.ENTERED=ja;_s.EXITING=O_;const J1=_s;function l6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Z1(t,e){var n=function(s){return e&&_.isValidElement(s)?e(s):s},r=Object.create(null);return t&&_.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function u6(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function $o(t,e,n){return n[e]!=null?n[e]:t.props[e]}function c6(t,e){return Z1(t.children,function(n){return _.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:$o(n,"appear",t),enter:$o(n,"enter",t),exit:$o(n,"exit",t)})})}function d6(t,e,n){var r=Z1(t.children),i=u6(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(_.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=_.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=_.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:$o(o,"exit",t),enter:$o(o,"enter",t)}):!l&&a&&!c?i[s]=_.cloneElement(o,{in:!1}):l&&a&&_.isValidElement(u)&&(i[s]=_.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:$o(o,"exit",t),enter:$o(o,"enter",t)}))}}),i}var h6=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},f6={component:"div",childFactory:function(e){return e}},ew=function(t){Ok(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(l6(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?c6(i,a):d6(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Z1(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=R({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=ie(i,["component","childFactory"]),l=this.state.contextValue,u=h6(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?mn.createElement(wp.Provider,{value:l},u):mn.createElement(wp.Provider,{value:l},mn.createElement(s,a,u))},e}(mn.Component);ew.propTypes={};ew.defaultProps=f6;const p6=ew,tw=t=>t.scrollTop;function Ol(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function m6(t){return nt("MuiPaper",t)}Xe("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const g6=["className","component","elevation","square","variant"],y6=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return tt(s,m6,i)},v6=ee("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return R({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&R({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${sa("#fff",dC(e.elevation))}, ${sa("#fff",dC(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),_6=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=ie(r,g6),c=R({},r,{component:s,elevation:o,square:a,variant:l}),d=y6(c);return S.jsx(v6,R({as:s,ownerState:c,className:Te(d.root,i),ref:n},u))}),nw=_6;function Ep(t){return typeof t=="string"}function ac(t,e,n){return t===void 0||Ep(t)?e:R({},e,{ownerState:R({},e.ownerState,n)})}const w6={disableDefaultClasses:!1},E6=_.createContext(w6);function T6(t){const{disableDefaultClasses:e}=_.useContext(E6);return n=>e?"":t(n)}function Tp(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function S6(t,e,n){return typeof t=="function"?t(e,n):t}function fC(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function C6(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const f=Te(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),g=R({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),v=R({},n,i,r);return f.length>0&&(v.className=f),Object.keys(g).length>0&&(v.style=g),{props:v,internalRef:void 0}}const o=Tp(R({},i,r)),a=fC(r),l=fC(i),u=e(o),c=Te(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=R({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=R({},u,n,l,a);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}const I6=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function no(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=ie(t,I6),a=s?{}:S6(r,i),{props:l,internalRef:u}=C6(R({},o,{externalSlotProps:a})),c=en(u,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return ac(n,R({},l,{ref:c}),i)}function R6(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,d]=_.useState(!1),h=Te(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},g=Te(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),_.useEffect(()=>{if(!a&&l!=null){const v=setTimeout(l,u);return()=>{clearTimeout(v)}}},[l,a,u]),S.jsx("span",{className:h,style:f,children:S.jsx("span",{className:g})})}const Pr=Xe("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),b6=["center","classes","className"];let dg=t=>t,pC,mC,gC,yC;const D_=550,x6=80,P6=fo(pC||(pC=dg`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),k6=fo(mC||(mC=dg`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),A6=fo(gC||(gC=dg`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),N6=ee("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),O6=ee(R6,{name:"MuiTouchRipple",slot:"Ripple"})(yC||(yC=dg`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Pr.rippleVisible,P6,D_,({theme:t})=>t.transitions.easing.easeInOut,Pr.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Pr.child,Pr.childLeaving,k6,D_,({theme:t})=>t.transitions.easing.easeInOut,Pr.childPulsate,A6,({theme:t})=>t.transitions.easing.easeInOut),D6=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=ie(r,b6),[l,u]=_.useState([]),c=_.useRef(0),d=_.useRef(null);_.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=_.useRef(!1),f=Lo(),g=_.useRef(null),v=_.useRef(null),E=_.useCallback(w=>{const{pulsate:I,rippleX:T,rippleY:C,rippleSize:b,cb:P}=w;u(x=>[...x,S.jsx(O6,{classes:{ripple:Te(s.ripple,Pr.ripple),rippleVisible:Te(s.rippleVisible,Pr.rippleVisible),ripplePulsate:Te(s.ripplePulsate,Pr.ripplePulsate),child:Te(s.child,Pr.child),childLeaving:Te(s.childLeaving,Pr.childLeaving),childPulsate:Te(s.childPulsate,Pr.childPulsate)},timeout:D_,pulsate:I,rippleX:T,rippleY:C,rippleSize:b},c.current)]),c.current+=1,d.current=P},[s]),p=_.useCallback((w={},I={},T=()=>{})=>{const{pulsate:C=!1,center:b=i||I.pulsate,fakeElement:P=!1}=I;if((w==null?void 0:w.type)==="mousedown"&&h.current){h.current=!1;return}(w==null?void 0:w.type)==="touchstart"&&(h.current=!0);const x=P?null:v.current,O=x?x.getBoundingClientRect():{width:0,height:0,left:0,top:0};let F,L,U;if(b||w===void 0||w.clientX===0&&w.clientY===0||!w.clientX&&!w.touches)F=Math.round(O.width/2),L=Math.round(O.height/2);else{const{clientX:z,clientY:B}=w.touches&&w.touches.length>0?w.touches[0]:w;F=Math.round(z-O.left),L=Math.round(B-O.top)}if(b)U=Math.sqrt((2*O.width**2+O.height**2)/3),U%2===0&&(U+=1);else{const z=Math.max(Math.abs((x?x.clientWidth:0)-F),F)*2+2,B=Math.max(Math.abs((x?x.clientHeight:0)-L),L)*2+2;U=Math.sqrt(z**2+B**2)}w!=null&&w.touches?g.current===null&&(g.current=()=>{E({pulsate:C,rippleX:F,rippleY:L,rippleSize:U,cb:T})},f.start(x6,()=>{g.current&&(g.current(),g.current=null)})):E({pulsate:C,rippleX:F,rippleY:L,rippleSize:U,cb:T})},[i,E,f]),y=_.useCallback(()=>{p({},{pulsate:!0})},[p]),m=_.useCallback((w,I)=>{if(f.clear(),(w==null?void 0:w.type)==="touchend"&&g.current){g.current(),g.current=null,f.start(0,()=>{m(w,I)});return}g.current=null,u(T=>T.length>0?T.slice(1):T),d.current=I},[f]);return _.useImperativeHandle(n,()=>({pulsate:y,start:p,stop:m}),[y,p,m]),S.jsx(N6,R({className:Te(Pr.root,s.root,o),ref:v},a,{children:S.jsx(p6,{component:null,exit:!0,children:l})}))}),M6=D6;function L6(t){return nt("MuiButtonBase",t)}const $6=Xe("MuiButtonBase",["root","disabled","focusVisible"]),F6=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],V6=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=tt({root:["root",e&&"disabled",n&&"focusVisible"]},L6,i);return n&&r&&(o.root+=` ${r}`),o},U6=ee("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${$6.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),j6=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:g,onClick:v,onContextMenu:E,onDragLeave:p,onFocus:y,onFocusVisible:m,onKeyDown:w,onKeyUp:I,onMouseDown:T,onMouseLeave:C,onMouseUp:b,onTouchEnd:P,onTouchMove:x,onTouchStart:O,tabIndex:F=0,TouchRippleProps:L,touchRippleRef:U,type:z}=r,B=ie(r,F6),j=_.useRef(null),A=_.useRef(null),M=en(A,U),{isFocusVisibleRef:W,onFocus:ae,onBlur:J,ref:ne}=j1(),[Y,fe]=_.useState(!1);u&&Y&&fe(!1),_.useImperativeHandle(i,()=>({focusVisible:()=>{fe(!0),j.current.focus()}}),[]);const[ce,Me]=_.useState(!1);_.useEffect(()=>{Me(!0)},[]);const Le=ce&&!c&&!u;_.useEffect(()=>{Y&&h&&!c&&ce&&A.current.pulsate()},[c,h,Y,ce]);function $e(re,Mt,br=d){return Lr(Jn=>(Mt&&Mt(Jn),!br&&A.current&&A.current[re](Jn),!0))}const Rt=$e("start",T),le=$e("stop",E),ze=$e("stop",p),ve=$e("stop",b),Fe=$e("stop",re=>{Y&&re.preventDefault(),C&&C(re)}),Ee=$e("start",O),wn=$e("stop",P),rn=$e("stop",x),Dt=$e("stop",re=>{J(re),W.current===!1&&fe(!1),g&&g(re)},!1),un=Lr(re=>{j.current||(j.current=re.currentTarget),ae(re),W.current===!0&&(fe(!0),m&&m(re)),y&&y(re)}),lt=()=>{const re=j.current;return l&&l!=="button"&&!(re.tagName==="A"&&re.href)},Ae=_.useRef(!1),Kt=Lr(re=>{h&&!Ae.current&&Y&&A.current&&re.key===" "&&(Ae.current=!0,A.current.stop(re,()=>{A.current.start(re)})),re.target===re.currentTarget&&lt()&&re.key===" "&&re.preventDefault(),w&&w(re),re.target===re.currentTarget&&lt()&&re.key==="Enter"&&!u&&(re.preventDefault(),v&&v(re))}),dt=Lr(re=>{h&&re.key===" "&&A.current&&Y&&!re.defaultPrevented&&(Ae.current=!1,A.current.stop(re,()=>{A.current.pulsate(re)})),I&&I(re),v&&re.target===re.currentTarget&&lt()&&re.key===" "&&!re.defaultPrevented&&v(re)});let be=l;be==="button"&&(B.href||B.to)&&(be=f);const bt={};be==="button"?(bt.type=z===void 0?"button":z,bt.disabled=u):(!B.href&&!B.to&&(bt.role="button"),u&&(bt["aria-disabled"]=u));const sn=en(n,ne,j),Gt=R({},r,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:F,focusVisible:Y}),We=V6(Gt);return S.jsxs(U6,R({as:be,className:Te(We.root,a),ownerState:Gt,onBlur:Dt,onClick:v,onContextMenu:le,onFocus:un,onKeyDown:Kt,onKeyUp:dt,onMouseDown:Rt,onMouseLeave:Fe,onMouseUp:ve,onDragLeave:ze,onTouchEnd:wn,onTouchMove:rn,onTouchStart:Ee,ref:sn,tabIndex:u?-1:F,type:z},bt,B,{children:[o,Le?S.jsx(M6,R({ref:M,center:s},L)):null]}))}),B6=j6;function z6(t){return nt("MuiAlert",t)}const W6=Xe("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),vC=W6;function H6(t){return nt("MuiIconButton",t)}const q6=Xe("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),K6=["edge","children","className","color","disabled","disableFocusRipple","size"],G6=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${he(r)}`,i&&`edge${he(i)}`,`size${he(s)}`]};return tt(o,H6,e)},Q6=ee(B6,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${he(n.color)}`],n.edge&&e[`edge${he(n.edge)}`],e[`size${he(n.size)}`]]}})(({theme:t,ownerState:e})=>R({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:sa(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return R({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&R({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":R({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:sa(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${q6.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),Y6=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=r,d=ie(r,K6),h=R({},r,{edge:i,color:a,disabled:l,disableFocusRipple:u,size:c}),f=G6(h);return S.jsx(Q6,R({className:Te(f.root,o),centerRipple:!0,focusRipple:!u,disabled:l,ref:n,ownerState:h},d,{children:s}))}),X6=Y6,J6=po(S.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Z6=po(S.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),e3=po(S.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),t3=po(S.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),n3=po(S.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),r3=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],i3=t=>{const{variant:e,color:n,severity:r,classes:i}=t,s={root:["root",`${e}${he(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return tt(s,z6,i)},s3=ee(nw,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${he(n.color||n.severity)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?pd:md,r=t.palette.mode==="light"?md:pd,i=e.color||e.severity;return R({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},i&&e.variant==="standard"&&{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${i}StandardBg`]:r(t.palette[i].light,.9),[`& .${vC.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}},i&&e.variant==="outlined"&&{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),border:`1px solid ${(t.vars||t).palette[i].light}`,[`& .${vC.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}},i&&e.variant==="filled"&&R({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${i}FilledColor`],backgroundColor:t.vars.palette.Alert[`${i}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[i].dark:t.palette[i].main,color:t.palette.getContrastText(t.palette[i].main)}))}),o3=ee("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),a3=ee("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),_C=ee("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),wC={success:S.jsx(J6,{fontSize:"inherit"}),warning:S.jsx(Z6,{fontSize:"inherit"}),error:S.jsx(e3,{fontSize:"inherit"}),info:S.jsx(t3,{fontSize:"inherit"})},l3=_.forwardRef(function(e,n){var r,i,s,o,a,l;const u=rt({props:e,name:"MuiAlert"}),{action:c,children:d,className:h,closeText:f="Close",color:g,components:v={},componentsProps:E={},icon:p,iconMapping:y=wC,onClose:m,role:w="alert",severity:I="success",slotProps:T={},slots:C={},variant:b="standard"}=u,P=ie(u,r3),x=R({},u,{color:g,severity:I,variant:b}),O=i3(x),F=(r=(i=C.closeButton)!=null?i:v.CloseButton)!=null?r:X6,L=(s=(o=C.closeIcon)!=null?o:v.CloseIcon)!=null?s:n3,U=(a=T.closeButton)!=null?a:E.closeButton,z=(l=T.closeIcon)!=null?l:E.closeIcon;return S.jsxs(s3,R({role:w,elevation:0,ownerState:x,className:Te(O.root,h),ref:n},P,{children:[p!==!1?S.jsx(o3,{ownerState:x,className:O.icon,children:p||y[I]||wC[I]}):null,S.jsx(a3,{ownerState:x,className:O.message,children:d}),c!=null?S.jsx(_C,{ownerState:x,className:O.action,children:c}):null,c==null&&m?S.jsx(_C,{ownerState:x,className:O.action,children:S.jsx(F,R({size:"small","aria-label":f,title:f,color:"inherit",onClick:m},U,{children:S.jsx(L,R({fontSize:"small"},z))}))}):null]}))}),Dk=l3,Mk="base";function u3(t){return`${Mk}--${t}`}function c3(t,e){return`${Mk}-${t}-${e}`}function Lk(t,e){const n=Sk[e];return n?u3(n):c3(t,e)}function d3(t,e){const n={};return e.forEach(r=>{n[r]=Lk(t,r)}),n}function EC(t){return t.substring(2).toLowerCase()}function h3(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function f3(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:s="onTouchEnd"}=t,o=_.useRef(!1),a=_.useRef(null),l=_.useRef(!1),u=_.useRef(!1);_.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const c=en(e.ref,a),d=Lr(g=>{const v=u.current;u.current=!1;const E=ln(a.current);if(!l.current||!a.current||"clientX"in g&&h3(g,E))return;if(o.current){o.current=!1;return}let p;g.composedPath?p=g.composedPath().indexOf(a.current)>-1:p=!E.documentElement.contains(g.target)||a.current.contains(g.target),!p&&(n||!v)&&i(g)}),h=g=>v=>{u.current=!0;const E=e.props[g];E&&E(v)},f={ref:c};return s!==!1&&(f[s]=h(s)),_.useEffect(()=>{if(s!==!1){const g=EC(s),v=ln(a.current),E=()=>{o.current=!0};return v.addEventListener(g,d),v.addEventListener("touchmove",E),()=>{v.removeEventListener(g,d),v.removeEventListener("touchmove",E)}}},[d,s]),r!==!1&&(f[r]=h(r)),_.useEffect(()=>{if(r!==!1){const g=EC(r),v=ln(a.current);return v.addEventListener(g,d),()=>{v.removeEventListener(g,d)}}},[d,r]),S.jsx(_.Fragment,{children:_.cloneElement(e,f)})}const p3=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function m3(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function g3(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function y3(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||g3(t))}function v3(t){const e=[],n=[];return Array.from(t.querySelectorAll(p3)).forEach((r,i)=>{const s=m3(r);s===-1||!y3(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function _3(){return!0}function w3(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=v3,isEnabled:o=_3,open:a}=t,l=_.useRef(!1),u=_.useRef(null),c=_.useRef(null),d=_.useRef(null),h=_.useRef(null),f=_.useRef(!1),g=_.useRef(null),v=en(e.ref,g),E=_.useRef(null);_.useEffect(()=>{!a||!g.current||(f.current=!n)},[n,a]),_.useEffect(()=>{if(!a||!g.current)return;const m=ln(g.current);return g.current.contains(m.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),f.current&&g.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),_.useEffect(()=>{if(!a||!g.current)return;const m=ln(g.current),w=C=>{E.current=C,!(r||!o()||C.key!=="Tab")&&m.activeElement===g.current&&C.shiftKey&&(l.current=!0,c.current&&c.current.focus())},I=()=>{const C=g.current;if(C===null)return;if(!m.hasFocus()||!o()||l.current){l.current=!1;return}if(C.contains(m.activeElement)||r&&m.activeElement!==u.current&&m.activeElement!==c.current)return;if(m.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!f.current)return;let b=[];if((m.activeElement===u.current||m.activeElement===c.current)&&(b=s(g.current)),b.length>0){var P,x;const O=!!((P=E.current)!=null&&P.shiftKey&&((x=E.current)==null?void 0:x.key)==="Tab"),F=b[0],L=b[b.length-1];typeof F!="string"&&typeof L!="string"&&(O?L.focus():F.focus())}else C.focus()};m.addEventListener("focusin",I),m.addEventListener("keydown",w,!0);const T=setInterval(()=>{m.activeElement&&m.activeElement.tagName==="BODY"&&I()},50);return()=>{clearInterval(T),m.removeEventListener("focusin",I),m.removeEventListener("keydown",w,!0)}},[n,r,i,o,a,s]);const p=m=>{d.current===null&&(d.current=m.relatedTarget),f.current=!0,h.current=m.target;const w=e.props.onFocus;w&&w(m)},y=m=>{d.current===null&&(d.current=m.relatedTarget),f.current=!0};return S.jsxs(_.Fragment,{children:[S.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),_.cloneElement(e,{ref:v,onFocus:p}),S.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:c,"data-testid":"sentinelEnd"})]})}var ur="top",Wr="bottom",Hr="right",cr="left",rw="auto",Yd=[ur,Wr,Hr,cr],Dl="start",gd="end",E3="clippingParents",$k="viewport",Uu="popper",T3="reference",TC=Yd.reduce(function(t,e){return t.concat([e+"-"+Dl,e+"-"+gd])},[]),Fk=[].concat(Yd,[rw]).reduce(function(t,e){return t.concat([e,e+"-"+Dl,e+"-"+gd])},[]),S3="beforeRead",C3="read",I3="afterRead",R3="beforeMain",b3="main",x3="afterMain",P3="beforeWrite",k3="write",A3="afterWrite",N3=[S3,C3,I3,R3,b3,x3,P3,k3,A3];function $i(t){return t?(t.nodeName||"").toLowerCase():null}function Tr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function oa(t){var e=Tr(t).Element;return t instanceof e||t instanceof Element}function Vr(t){var e=Tr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function iw(t){if(typeof ShadowRoot>"u")return!1;var e=Tr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function O3(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!Vr(s)||!$i(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function D3(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!Vr(i)||!$i(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const M3={name:"applyStyles",enabled:!0,phase:"write",fn:O3,effect:D3,requires:["computeStyles"]};function xi(t){return t.split("-")[0]}var qo=Math.max,Sp=Math.min,Ml=Math.round;function M_(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Vk(){return!/^((?!chrome|android).)*safari/i.test(M_())}function Ll(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Vr(t)&&(i=t.offsetWidth>0&&Ml(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Ml(r.height)/t.offsetHeight||1);var o=oa(t)?Tr(t):window,a=o.visualViewport,l=!Vk()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function sw(t){var e=Ll(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Uk(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&iw(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ds(t){return Tr(t).getComputedStyle(t)}function L3(t){return["table","td","th"].indexOf($i(t))>=0}function mo(t){return((oa(t)?t.ownerDocument:t.document)||window.document).documentElement}function hg(t){return $i(t)==="html"?t:t.assignedSlot||t.parentNode||(iw(t)?t.host:null)||mo(t)}function SC(t){return!Vr(t)||ds(t).position==="fixed"?null:t.offsetParent}function $3(t){var e=/firefox/i.test(M_()),n=/Trident/i.test(M_());if(n&&Vr(t)){var r=ds(t);if(r.position==="fixed")return null}var i=hg(t);for(iw(i)&&(i=i.host);Vr(i)&&["html","body"].indexOf($i(i))<0;){var s=ds(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Xd(t){for(var e=Tr(t),n=SC(t);n&&L3(n)&&ds(n).position==="static";)n=SC(n);return n&&($i(n)==="html"||$i(n)==="body"&&ds(n).position==="static")?e:n||$3(t)||e}function ow(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function xc(t,e,n){return qo(t,Sp(e,n))}function F3(t,e,n){var r=xc(t,e,n);return r>n?n:r}function jk(){return{top:0,right:0,bottom:0,left:0}}function Bk(t){return Object.assign({},jk(),t)}function zk(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var V3=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Bk(typeof e!="number"?e:zk(e,Yd))};function U3(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=xi(n.placement),l=ow(a),u=[cr,Hr].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=V3(i.padding,n),h=sw(s),f=l==="y"?ur:cr,g=l==="y"?Wr:Hr,v=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],E=o[l]-n.rects.reference[l],p=Xd(s),y=p?l==="y"?p.clientHeight||0:p.clientWidth||0:0,m=v/2-E/2,w=d[f],I=y-h[c]-d[g],T=y/2-h[c]/2+m,C=xc(w,T,I),b=l;n.modifiersData[r]=(e={},e[b]=C,e.centerOffset=C-T,e)}}function j3(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Uk(e.elements.popper,i)&&(e.elements.arrow=i))}const B3={name:"arrow",enabled:!0,phase:"main",fn:U3,effect:j3,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $l(t){return t.split("-")[1]}var z3={top:"auto",right:"auto",bottom:"auto",left:"auto"};function W3(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Ml(n*i)/i||0,y:Ml(r*i)/i||0}}function CC(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,h=o.x,f=h===void 0?0:h,g=o.y,v=g===void 0?0:g,E=typeof c=="function"?c({x:f,y:v}):{x:f,y:v};f=E.x,v=E.y;var p=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),m=cr,w=ur,I=window;if(u){var T=Xd(n),C="clientHeight",b="clientWidth";if(T===Tr(n)&&(T=mo(n),ds(T).position!=="static"&&a==="absolute"&&(C="scrollHeight",b="scrollWidth")),T=T,i===ur||(i===cr||i===Hr)&&s===gd){w=Wr;var P=d&&T===I&&I.visualViewport?I.visualViewport.height:T[C];v-=P-r.height,v*=l?1:-1}if(i===cr||(i===ur||i===Wr)&&s===gd){m=Hr;var x=d&&T===I&&I.visualViewport?I.visualViewport.width:T[b];f-=x-r.width,f*=l?1:-1}}var O=Object.assign({position:a},u&&z3),F=c===!0?W3({x:f,y:v},Tr(n)):{x:f,y:v};if(f=F.x,v=F.y,l){var L;return Object.assign({},O,(L={},L[w]=y?"0":"",L[m]=p?"0":"",L.transform=(I.devicePixelRatio||1)<=1?"translate("+f+"px, "+v+"px)":"translate3d("+f+"px, "+v+"px, 0)",L))}return Object.assign({},O,(e={},e[w]=y?v+"px":"",e[m]=p?f+"px":"",e.transform="",e))}function H3(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:xi(e.placement),variation:$l(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,CC(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,CC(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const q3={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:H3,data:{}};var Yh={passive:!0};function K3(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Tr(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,Yh)}),a&&l.addEventListener("resize",n.update,Yh),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Yh)}),a&&l.removeEventListener("resize",n.update,Yh)}}const G3={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:K3,data:{}};var Q3={left:"right",right:"left",bottom:"top",top:"bottom"};function Of(t){return t.replace(/left|right|bottom|top/g,function(e){return Q3[e]})}var Y3={start:"end",end:"start"};function IC(t){return t.replace(/start|end/g,function(e){return Y3[e]})}function aw(t){var e=Tr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function lw(t){return Ll(mo(t)).left+aw(t).scrollLeft}function X3(t,e){var n=Tr(t),r=mo(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=Vk();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+lw(t),y:l}}function J3(t){var e,n=mo(t),r=aw(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=qo(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=qo(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+lw(t),l=-r.scrollTop;return ds(i||n).direction==="rtl"&&(a+=qo(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function uw(t){var e=ds(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Wk(t){return["html","body","#document"].indexOf($i(t))>=0?t.ownerDocument.body:Vr(t)&&uw(t)?t:Wk(hg(t))}function Pc(t,e){var n;e===void 0&&(e=[]);var r=Wk(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Tr(r),o=i?[s].concat(s.visualViewport||[],uw(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Pc(hg(o)))}function L_(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Z3(t,e){var n=Ll(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function RC(t,e,n){return e===$k?L_(X3(t,n)):oa(e)?Z3(e,n):L_(J3(mo(t)))}function ej(t){var e=Pc(hg(t)),n=["absolute","fixed"].indexOf(ds(t).position)>=0,r=n&&Vr(t)?Xd(t):t;return oa(r)?e.filter(function(i){return oa(i)&&Uk(i,r)&&$i(i)!=="body"}):[]}function tj(t,e,n,r){var i=e==="clippingParents"?ej(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var c=RC(t,u,r);return l.top=qo(c.top,l.top),l.right=Sp(c.right,l.right),l.bottom=Sp(c.bottom,l.bottom),l.left=qo(c.left,l.left),l},RC(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Hk(t){var e=t.reference,n=t.element,r=t.placement,i=r?xi(r):null,s=r?$l(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case ur:l={x:o,y:e.y-n.height};break;case Wr:l={x:o,y:e.y+e.height};break;case Hr:l={x:e.x+e.width,y:a};break;case cr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?ow(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case Dl:l[u]=l[u]-(e[c]/2-n[c]/2);break;case gd:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function yd(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?E3:a,u=n.rootBoundary,c=u===void 0?$k:u,d=n.elementContext,h=d===void 0?Uu:d,f=n.altBoundary,g=f===void 0?!1:f,v=n.padding,E=v===void 0?0:v,p=Bk(typeof E!="number"?E:zk(E,Yd)),y=h===Uu?T3:Uu,m=t.rects.popper,w=t.elements[g?y:h],I=tj(oa(w)?w:w.contextElement||mo(t.elements.popper),l,c,o),T=Ll(t.elements.reference),C=Hk({reference:T,element:m,strategy:"absolute",placement:i}),b=L_(Object.assign({},m,C)),P=h===Uu?b:T,x={top:I.top-P.top+p.top,bottom:P.bottom-I.bottom+p.bottom,left:I.left-P.left+p.left,right:P.right-I.right+p.right},O=t.modifiersData.offset;if(h===Uu&&O){var F=O[i];Object.keys(x).forEach(function(L){var U=[Hr,Wr].indexOf(L)>=0?1:-1,z=[ur,Wr].indexOf(L)>=0?"y":"x";x[L]+=F[z]*U})}return x}function nj(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?Fk:l,c=$l(r),d=c?a?TC:TC.filter(function(g){return $l(g)===c}):Yd,h=d.filter(function(g){return u.indexOf(g)>=0});h.length===0&&(h=d);var f=h.reduce(function(g,v){return g[v]=yd(t,{placement:v,boundary:i,rootBoundary:s,padding:o})[xi(v)],g},{});return Object.keys(f).sort(function(g,v){return f[g]-f[v]})}function rj(t){if(xi(t)===rw)return[];var e=Of(t);return[IC(t),e,IC(e)]}function ij(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,g=f===void 0?!0:f,v=n.allowedAutoPlacements,E=e.options.placement,p=xi(E),y=p===E,m=l||(y||!g?[Of(E)]:rj(E)),w=[E].concat(m).reduce(function(Y,fe){return Y.concat(xi(fe)===rw?nj(e,{placement:fe,boundary:c,rootBoundary:d,padding:u,flipVariations:g,allowedAutoPlacements:v}):fe)},[]),I=e.rects.reference,T=e.rects.popper,C=new Map,b=!0,P=w[0],x=0;x<w.length;x++){var O=w[x],F=xi(O),L=$l(O)===Dl,U=[ur,Wr].indexOf(F)>=0,z=U?"width":"height",B=yd(e,{placement:O,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),j=U?L?Hr:cr:L?Wr:ur;I[z]>T[z]&&(j=Of(j));var A=Of(j),M=[];if(s&&M.push(B[F]<=0),a&&M.push(B[j]<=0,B[A]<=0),M.every(function(Y){return Y})){P=O,b=!1;break}C.set(O,M)}if(b)for(var W=g?3:1,ae=function(fe){var ce=w.find(function(Me){var Le=C.get(Me);if(Le)return Le.slice(0,fe).every(function($e){return $e})});if(ce)return P=ce,"break"},J=W;J>0;J--){var ne=ae(J);if(ne==="break")break}e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}}const sj={name:"flip",enabled:!0,phase:"main",fn:ij,requiresIfExists:["offset"],data:{_skip:!1}};function bC(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function xC(t){return[ur,Hr,Wr,cr].some(function(e){return t[e]>=0})}function oj(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=yd(e,{elementContext:"reference"}),a=yd(e,{altBoundary:!0}),l=bC(o,r),u=bC(a,i,s),c=xC(l),d=xC(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const aj={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:oj};function lj(t,e,n){var r=xi(t),i=[cr,ur].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[cr,Hr].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function uj(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=Fk.reduce(function(c,d){return c[d]=lj(d,e.rects,s),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const cj={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:uj};function dj(t){var e=t.state,n=t.name;e.modifiersData[n]=Hk({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const hj={name:"popperOffsets",enabled:!0,phase:"read",fn:dj,data:{}};function fj(t){return t==="x"?"y":"x"}function pj(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,g=n.tetherOffset,v=g===void 0?0:g,E=yd(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),p=xi(e.placement),y=$l(e.placement),m=!y,w=ow(p),I=fj(w),T=e.modifiersData.popperOffsets,C=e.rects.reference,b=e.rects.popper,P=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,x=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,F={x:0,y:0};if(T){if(s){var L,U=w==="y"?ur:cr,z=w==="y"?Wr:Hr,B=w==="y"?"height":"width",j=T[w],A=j+E[U],M=j-E[z],W=f?-b[B]/2:0,ae=y===Dl?C[B]:b[B],J=y===Dl?-b[B]:-C[B],ne=e.elements.arrow,Y=f&&ne?sw(ne):{width:0,height:0},fe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:jk(),ce=fe[U],Me=fe[z],Le=xc(0,C[B],Y[B]),$e=m?C[B]/2-W-Le-ce-x.mainAxis:ae-Le-ce-x.mainAxis,Rt=m?-C[B]/2+W+Le+Me+x.mainAxis:J+Le+Me+x.mainAxis,le=e.elements.arrow&&Xd(e.elements.arrow),ze=le?w==="y"?le.clientTop||0:le.clientLeft||0:0,ve=(L=O==null?void 0:O[w])!=null?L:0,Fe=j+$e-ve-ze,Ee=j+Rt-ve,wn=xc(f?Sp(A,Fe):A,j,f?qo(M,Ee):M);T[w]=wn,F[w]=wn-j}if(a){var rn,Dt=w==="x"?ur:cr,un=w==="x"?Wr:Hr,lt=T[I],Ae=I==="y"?"height":"width",Kt=lt+E[Dt],dt=lt-E[un],be=[ur,cr].indexOf(p)!==-1,bt=(rn=O==null?void 0:O[I])!=null?rn:0,sn=be?Kt:lt-C[Ae]-b[Ae]-bt+x.altAxis,Gt=be?lt+C[Ae]+b[Ae]-bt-x.altAxis:dt,We=f&&be?F3(sn,lt,Gt):xc(f?sn:Kt,lt,f?Gt:dt);T[I]=We,F[I]=We-lt}e.modifiersData[r]=F}}const mj={name:"preventOverflow",enabled:!0,phase:"main",fn:pj,requiresIfExists:["offset"]};function gj(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function yj(t){return t===Tr(t)||!Vr(t)?aw(t):gj(t)}function vj(t){var e=t.getBoundingClientRect(),n=Ml(e.width)/t.offsetWidth||1,r=Ml(e.height)/t.offsetHeight||1;return n!==1||r!==1}function _j(t,e,n){n===void 0&&(n=!1);var r=Vr(e),i=Vr(e)&&vj(e),s=mo(e),o=Ll(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(($i(e)!=="body"||uw(s))&&(a=yj(e)),Vr(e)?(l=Ll(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=lw(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function wj(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Ej(t){var e=wj(t);return N3.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Tj(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Sj(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var PC={placement:"bottom",modifiers:[],strategy:"absolute"};function kC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Cj(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?PC:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},PC,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:c,setOptions:function(p){var y=typeof p=="function"?p(c.options):p;v(),c.options=Object.assign({},s,c.options,y),c.scrollParents={reference:oa(a)?Pc(a):a.contextElement?Pc(a.contextElement):[],popper:Pc(l)};var m=Ej(Sj([].concat(r,c.options.modifiers)));return c.orderedModifiers=m.filter(function(w){return w.enabled}),g(),f.update()},forceUpdate:function(){if(!h){var p=c.elements,y=p.reference,m=p.popper;if(kC(y,m)){c.rects={reference:_j(y,Xd(m),c.options.strategy==="fixed"),popper:sw(m)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(x){return c.modifiersData[x.name]=Object.assign({},x.data)});for(var w=0;w<c.orderedModifiers.length;w++){if(c.reset===!0){c.reset=!1,w=-1;continue}var I=c.orderedModifiers[w],T=I.fn,C=I.options,b=C===void 0?{}:C,P=I.name;typeof T=="function"&&(c=T({state:c,options:b,name:P,instance:f})||c)}}}},update:Tj(function(){return new Promise(function(E){f.forceUpdate(),E(c)})}),destroy:function(){v(),h=!0}};if(!kC(a,l))return f;f.setOptions(u).then(function(E){!h&&u.onFirstUpdate&&u.onFirstUpdate(E)});function g(){c.orderedModifiers.forEach(function(E){var p=E.name,y=E.options,m=y===void 0?{}:y,w=E.effect;if(typeof w=="function"){var I=w({state:c,name:p,instance:f,options:m}),T=function(){};d.push(I||T)}})}function v(){d.forEach(function(E){return E()}),d=[]}return f}}var Ij=[G3,hj,q3,M3,cj,sj,mj,B3,aj],Rj=Cj({defaultModifiers:Ij});function bj(t){return typeof t=="function"?t():t}const qk=_.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=_.useState(null),l=en(_.isValidElement(r)?r.ref:null,n);if(Li(()=>{s||a(bj(i)||document.body)},[i,s]),Li(()=>{if(o&&!s)return mp(n,o),()=>{mp(n,null)}},[n,o,s]),s){if(_.isValidElement(r)){const u={ref:l};return _.cloneElement(r,u)}return S.jsx(_.Fragment,{children:r})}return S.jsx(_.Fragment,{children:o&&Wd.createPortal(r,o)})}),Kk="Popper";function xj(t){return Lk(Kk,t)}d3(Kk,["root"]);const Pj=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],kj=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Aj(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function $_(t){return typeof t=="function"?t():t}function Nj(t){return t.nodeType!==void 0}const Oj=()=>tt({root:["root"]},T6(xj)),Dj={},Mj=_.forwardRef(function(e,n){var r;const{anchorEl:i,children:s,direction:o,disablePortal:a,modifiers:l,open:u,placement:c,popperOptions:d,popperRef:h,slotProps:f={},slots:g={},TransitionProps:v}=e,E=ie(e,Pj),p=_.useRef(null),y=en(p,n),m=_.useRef(null),w=en(m,h),I=_.useRef(w);Li(()=>{I.current=w},[w]),_.useImperativeHandle(h,()=>m.current,[]);const T=Aj(c,o),[C,b]=_.useState(T),[P,x]=_.useState($_(i));_.useEffect(()=>{m.current&&m.current.forceUpdate()}),_.useEffect(()=>{i&&x($_(i))},[i]),Li(()=>{if(!P||!u)return;const z=A=>{b(A.placement)};let B=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:A})=>{z(A)}}];l!=null&&(B=B.concat(l)),d&&d.modifiers!=null&&(B=B.concat(d.modifiers));const j=Rj(P,p.current,R({placement:T},d,{modifiers:B}));return I.current(j),()=>{j.destroy(),I.current(null)}},[P,a,l,u,d,T]);const O={placement:C};v!==null&&(O.TransitionProps=v);const F=Oj(),L=(r=g.root)!=null?r:"div",U=no({elementType:L,externalSlotProps:f.root,externalForwardedProps:E,additionalProps:{role:"tooltip",ref:y},ownerState:e,className:F.root});return S.jsx(L,R({},U,{children:typeof s=="function"?s(O):s}))}),Lj=_.forwardRef(function(e,n){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:h=Dj,popperRef:f,style:g,transition:v=!1,slotProps:E={},slots:p={}}=e,y=ie(e,kj),[m,w]=_.useState(!0),I=()=>{w(!1)},T=()=>{w(!0)};if(!l&&!c&&(!v||m))return null;let C;if(s)C=s;else if(r){const x=$_(r);C=x&&Nj(x)?ln(x).body:ln(null).body}const b=!c&&l&&(!v||m)?"none":void 0,P=v?{in:c,onEnter:I,onExited:T}:void 0;return S.jsx(qk,{disablePortal:a,container:C,children:S.jsx(Mj,R({anchorEl:r,direction:o,disablePortal:a,modifiers:u,ref:n,open:v?!m:c,placement:d,popperOptions:h,popperRef:f,slotProps:E,slots:p},y,{style:R({position:"fixed",top:0,left:0,display:b},g),TransitionProps:P,children:i}))})});function $j(t){const e=ln(t);return e.body===t?Mi(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function kc(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function AC(t){return parseInt(Mi(t).getComputedStyle(t).paddingRight,10)||0}function Fj(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function NC(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!Fj(o);a&&l&&kc(o,i)})}function Hy(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function Vj(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if($j(r)){const o=Ek(ln(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${AC(r)+o}px`;const a=ln(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${AC(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=ln(r).body;else{const o=r.parentElement,a=Mi(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function Uj(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class jj{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&kc(e.modalRef,!1);const i=Uj(n);NC(n,e.mount,e.modalRef,i,!0);const s=Hy(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Hy(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=Vj(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Hy(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&kc(e.modalRef,n),NC(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&kc(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function Bj(t){return typeof t=="function"?t():t}function zj(t){return t?t.props.hasOwnProperty("in"):!1}const Wj=new jj;function Hj(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=Wj,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:u,open:c,rootRef:d}=t,h=_.useRef({}),f=_.useRef(null),g=_.useRef(null),v=en(g,d),[E,p]=_.useState(!c),y=zj(l);let m=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(m=!1);const w=()=>ln(f.current),I=()=>(h.current.modalRef=g.current,h.current.mount=f.current,h.current),T=()=>{i.mount(I(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},C=Lr(()=>{const B=Bj(e)||w().body;i.add(I(),B),g.current&&T()}),b=_.useCallback(()=>i.isTopModal(I()),[i]),P=Lr(B=>{f.current=B,B&&(c&&b()?T():g.current&&kc(g.current,m))}),x=_.useCallback(()=>{i.remove(I(),m)},[m,i]);_.useEffect(()=>()=>{x()},[x]),_.useEffect(()=>{c?C():(!y||!s)&&x()},[c,x,y,s,C]);const O=B=>j=>{var A;(A=B.onKeyDown)==null||A.call(B,j),!(j.key!=="Escape"||j.which===229||!b())&&(n||(j.stopPropagation(),u&&u(j,"escapeKeyDown")))},F=B=>j=>{var A;(A=B.onClick)==null||A.call(B,j),j.target===j.currentTarget&&u&&u(j,"backdropClick")};return{getRootProps:(B={})=>{const j=Tp(t);delete j.onTransitionEnter,delete j.onTransitionExited;const A=R({},j,B);return R({role:"presentation"},A,{onKeyDown:O(A),ref:v})},getBackdropProps:(B={})=>{const j=B;return R({"aria-hidden":!0},j,{onClick:F(j),open:c})},getTransitionProps:()=>{const B=()=>{p(!1),o&&o()},j=()=>{p(!0),a&&a(),s&&x()};return{onEnter:x_(B,l==null?void 0:l.props.onEnter),onExited:x_(j,l==null?void 0:l.props.onExited)}},rootRef:v,portalRef:P,isTopModal:b,exited:E,hasTransition:y}}function qj(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:s}=t,o=Lo();_.useEffect(()=>{if(!i)return;function p(y){y.defaultPrevented||(y.key==="Escape"||y.key==="Esc")&&(r==null||r(y,"escapeKeyDown"))}return document.addEventListener("keydown",p),()=>{document.removeEventListener("keydown",p)}},[i,r]);const a=Lr((p,y)=>{r==null||r(p,y)}),l=Lr(p=>{!r||p==null||o.start(p,()=>{a(null,"timeout")})});_.useEffect(()=>(i&&l(e),o.clear),[i,e,l,o]);const u=p=>{r==null||r(p,"clickaway")},c=o.clear,d=_.useCallback(()=>{e!=null&&l(s??e*.5)},[e,s,l]),h=p=>y=>{const m=p.onBlur;m==null||m(y),d()},f=p=>y=>{const m=p.onFocus;m==null||m(y),c()},g=p=>y=>{const m=p.onMouseEnter;m==null||m(y),c()},v=p=>y=>{const m=p.onMouseLeave;m==null||m(y),d()};return _.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",d),window.addEventListener("blur",c),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",c)}},[n,i,d,c]),{getRootProps:(p={})=>{const y=R({},Tp(t),Tp(p));return R({role:"presentation"},p,y,{onBlur:h(y),onFocus:f(y),onMouseEnter:g(y),onMouseLeave:v(y)})},onClickAway:u}}const Kj=["onChange","maxRows","minRows","style","value"];function Xh(t){return parseInt(t,10)||0}const Gj={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function OC(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const Qj=_.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=ie(e,Kj),{current:u}=_.useRef(a!=null),c=_.useRef(null),d=en(n,c),h=_.useRef(null),f=_.useRef(0),[g,v]=_.useState({outerHeightStyle:0}),E=_.useCallback(()=>{const w=c.current,T=Mi(w).getComputedStyle(w);if(T.width==="0px")return{outerHeightStyle:0};const C=h.current;C.style.width=T.width,C.value=w.value||e.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const b=T.boxSizing,P=Xh(T.paddingBottom)+Xh(T.paddingTop),x=Xh(T.borderBottomWidth)+Xh(T.borderTopWidth),O=C.scrollHeight;C.value="x";const F=C.scrollHeight;let L=O;s&&(L=Math.max(Number(s)*F,L)),i&&(L=Math.min(Number(i)*F,L)),L=Math.max(L,F);const U=L+(b==="border-box"?P+x:0),z=Math.abs(L-O)<=1;return{outerHeightStyle:U,overflow:z}},[i,s,e.placeholder]),p=(w,I)=>{const{outerHeightStyle:T,overflow:C}=I;return f.current<20&&(T>0&&Math.abs((w.outerHeightStyle||0)-T)>1||w.overflow!==C)?(f.current+=1,{overflow:C,outerHeightStyle:T}):w},y=_.useCallback(()=>{const w=E();OC(w)||v(I=>p(I,w))},[E]);Li(()=>{const w=()=>{const O=E();OC(O)||Wd.flushSync(()=>{v(F=>p(F,O))})},I=()=>{f.current=0,w()};let T;const C=Bm(I),b=c.current,P=Mi(b);P.addEventListener("resize",C);let x;return typeof ResizeObserver<"u"&&(x=new ResizeObserver(I),x.observe(b)),()=>{C.clear(),cancelAnimationFrame(T),P.removeEventListener("resize",C),x&&x.disconnect()}},[E]),Li(()=>{y()}),_.useEffect(()=>{f.current=0},[a]);const m=w=>{f.current=0,u||y(),r&&r(w)};return S.jsxs(_.Fragment,{children:[S.jsx("textarea",R({value:a,onChange:m,ref:d,rows:s,style:R({height:g.outerHeightStyle,overflow:g.overflow?"hidden":void 0},o)},l)),S.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:R({},Gj.shadow,o,{paddingTop:0,paddingBottom:0})})]})}),Yj=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Xj=ee(Lj,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Jj=_.forwardRef(function(e,n){var r;const i=G1(),s=rt({props:e,name:"MuiPopper"}),{anchorEl:o,component:a,components:l,componentsProps:u,container:c,disablePortal:d,keepMounted:h,modifiers:f,open:g,placement:v,popperOptions:E,popperRef:p,transition:y,slots:m,slotProps:w}=s,I=ie(s,Yj),T=(r=m==null?void 0:m.root)!=null?r:l==null?void 0:l.Root,C=R({anchorEl:o,container:c,disablePortal:d,keepMounted:h,modifiers:f,open:g,placement:v,popperOptions:E,popperRef:p,transition:y},I);return S.jsx(Xj,R({as:a,direction:i==null?void 0:i.direction,slots:{root:T},slotProps:w??u},C,{ref:n}))}),Gk=Jj;function su({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const Zj=_.createContext(void 0),cw=Zj;function ou(){return _.useContext(cw)}function e9(t){return S.jsx(q5,R({},t,{defaultTheme:eg,themeId:Al}))}function DC(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Cp(t,e=!1){return t&&(DC(t.value)&&t.value!==""||e&&DC(t.defaultValue)&&t.defaultValue!=="")}function t9(t){return t.startAdornment}function n9(t){return nt("MuiInputBase",t)}const r9=Xe("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),Fl=r9,i9=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],fg=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${he(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},pg=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},s9=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:f,type:g}=t,v={root:["root",`color${he(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h&&h!=="medium"&&`size${he(h)}`,c&&"multiline",f&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",g==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return tt(v,n9,e)},mg=ee("div",{name:"MuiInputBase",slot:"Root",overridesResolver:fg})(({theme:t,ownerState:e})=>R({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Fl.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&R({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),gg=ee("input",{name:"MuiInputBase",slot:"Input",overridesResolver:pg})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=R({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return R({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Fl.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${Fl.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),o9=S.jsx(e9,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),a9=_.forwardRef(function(e,n){var r;const i=rt({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:u={},componentsProps:c={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:g,fullWidth:v=!1,id:E,inputComponent:p="input",inputProps:y={},inputRef:m,maxRows:w,minRows:I,multiline:T=!1,name:C,onBlur:b,onChange:P,onClick:x,onFocus:O,onKeyDown:F,onKeyUp:L,placeholder:U,readOnly:z,renderSuffix:B,rows:j,slotProps:A={},slots:M={},startAdornment:W,type:ae="text",value:J}=i,ne=ie(i,i9),Y=y.value!=null?y.value:J,{current:fe}=_.useRef(Y!=null),ce=_.useRef(),Me=_.useCallback(We=>{},[]),Le=en(ce,m,y.ref,Me),[$e,Rt]=_.useState(!1),le=ou(),ze=su({props:i,muiFormControl:le,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ze.focused=le?le.focused:$e,_.useEffect(()=>{!le&&h&&$e&&(Rt(!1),b&&b())},[le,h,$e,b]);const ve=le&&le.onFilled,Fe=le&&le.onEmpty,Ee=_.useCallback(We=>{Cp(We)?ve&&ve():Fe&&Fe()},[ve,Fe]);Li(()=>{fe&&Ee({value:Y})},[Y,Ee,fe]);const wn=We=>{if(ze.disabled){We.stopPropagation();return}O&&O(We),y.onFocus&&y.onFocus(We),le&&le.onFocus?le.onFocus(We):Rt(!0)},rn=We=>{b&&b(We),y.onBlur&&y.onBlur(We),le&&le.onBlur?le.onBlur(We):Rt(!1)},Dt=(We,...re)=>{if(!fe){const Mt=We.target||ce.current;if(Mt==null)throw new Error(to(1));Ee({value:Mt.value})}y.onChange&&y.onChange(We,...re),P&&P(We,...re)};_.useEffect(()=>{Ee(ce.current)},[]);const un=We=>{ce.current&&We.currentTarget===We.target&&ce.current.focus(),x&&x(We)};let lt=p,Ae=y;T&&lt==="input"&&(j?Ae=R({type:void 0,minRows:j,maxRows:j},Ae):Ae=R({type:void 0,maxRows:w,minRows:I},Ae),lt=Qj);const Kt=We=>{Ee(We.animationName==="mui-auto-fill-cancel"?ce.current:{value:"x"})};_.useEffect(()=>{le&&le.setAdornedStart(!!W)},[le,W]);const dt=R({},i,{color:ze.color||"primary",disabled:ze.disabled,endAdornment:g,error:ze.error,focused:ze.focused,formControl:le,fullWidth:v,hiddenLabel:ze.hiddenLabel,multiline:T,size:ze.size,startAdornment:W,type:ae}),be=s9(dt),bt=M.root||u.Root||mg,sn=A.root||c.root||{},Gt=M.input||u.Input||gg;return Ae=R({},Ae,(r=A.input)!=null?r:c.input),S.jsxs(_.Fragment,{children:[!f&&o9,S.jsxs(bt,R({},sn,!Ep(bt)&&{ownerState:R({},dt,sn.ownerState)},{ref:n,onClick:un},ne,{className:Te(be.root,sn.className,l,z&&"MuiInputBase-readOnly"),children:[W,S.jsx(cw.Provider,{value:null,children:S.jsx(Gt,R({ownerState:dt,"aria-invalid":ze.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:ze.disabled,id:E,onAnimationStart:Kt,name:C,placeholder:U,readOnly:z,required:ze.required,rows:j,value:Y,onKeyDown:F,onKeyUp:L,type:ae},Ae,!Ep(Gt)&&{as:lt,ownerState:R({},dt,Ae.ownerState)},{ref:Le,className:Te(be.input,Ae.className,z&&"MuiInputBase-readOnly"),onBlur:rn,onChange:Dt,onFocus:wn}))}),g,B?B(R({},ze,{startAdornment:W})):null]}))]})}),dw=a9;function l9(t){return nt("MuiInput",t)}const u9=R({},Fl,Xe("MuiInput",["root","underline","input"])),ju=u9;function c9(t){return nt("MuiOutlinedInput",t)}const d9=R({},Fl,Xe("MuiOutlinedInput",["root","notchedOutline","input"])),Cs=d9;function h9(t){return nt("MuiFilledInput",t)}const f9=R({},Fl,Xe("MuiFilledInput",["root","underline","input"])),To=f9,p9=po(S.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),m9=po(S.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function g9(t){return nt("MuiAvatar",t)}Xe("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const y9=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],v9=t=>{const{classes:e,variant:n,colorDefault:r}=t;return tt({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},g9,e)},_9=ee("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:R({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:R({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),w9=ee("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),E9=ee(m9,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function T9({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,s]=_.useState(!1);return _.useEffect(()=>{if(!n&&!r)return;s(!1);let o=!0;const a=new Image;return a.onload=()=>{o&&s("loaded")},a.onerror=()=>{o&&s("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{o=!1}},[t,e,n,r]),i}const S9=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:o,component:a="div",imgProps:l,sizes:u,src:c,srcSet:d,variant:h="circular"}=r,f=ie(r,y9);let g=null;const v=T9(R({},l,{src:c,srcSet:d})),E=c||d,p=E&&v!=="error",y=R({},r,{colorDefault:!p,component:a,variant:h}),m=v9(y);return p?g=S.jsx(w9,R({alt:i,srcSet:d,src:c,sizes:u,ownerState:y,className:m.img},l)):s!=null&&s!==""&&typeof s!="boolean"?g=s:E&&i?g=i[0]:g=S.jsx(E9,{ownerState:y,className:m.fallback}),S.jsx(_9,R({as:a,ownerState:y,className:Te(m.root,o),ref:n},f,{children:g}))}),vd=S9,C9=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],I9={entering:{opacity:1},entered:{opacity:1}},R9=_.forwardRef(function(e,n){const r=Ca(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:f,onExited:g,onExiting:v,style:E,timeout:p=i,TransitionComponent:y=J1}=e,m=ie(e,C9),w=_.useRef(null),I=en(w,a.ref,n),T=U=>z=>{if(U){const B=w.current;z===void 0?U(B):U(B,z)}},C=T(h),b=T((U,z)=>{tw(U);const B=Ol({style:E,timeout:p,easing:l},{mode:"enter"});U.style.webkitTransition=r.transitions.create("opacity",B),U.style.transition=r.transitions.create("opacity",B),c&&c(U,z)}),P=T(d),x=T(v),O=T(U=>{const z=Ol({style:E,timeout:p,easing:l},{mode:"exit"});U.style.webkitTransition=r.transitions.create("opacity",z),U.style.transition=r.transitions.create("opacity",z),f&&f(U)}),F=T(g),L=U=>{s&&s(w.current,U)};return S.jsx(y,R({appear:o,in:u,nodeRef:w,onEnter:b,onEntered:P,onEntering:C,onExit:O,onExited:F,onExiting:x,addEndListener:L,timeout:p},m,{children:(U,z)=>_.cloneElement(a,R({style:R({opacity:0,visibility:U==="exited"&&!u?"hidden":void 0},I9[U],E,a.props.style),ref:I},z))}))}),Qk=R9;function b9(t){return nt("MuiBackdrop",t)}Xe("MuiBackdrop",["root","invisible"]);const x9=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],P9=t=>{const{classes:e,invisible:n}=t;return tt({root:["root",n&&"invisible"]},b9,e)},k9=ee("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>R({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),A9=_.forwardRef(function(e,n){var r,i,s;const o=rt({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:u="div",components:c={},componentsProps:d={},invisible:h=!1,open:f,slotProps:g={},slots:v={},TransitionComponent:E=Qk,transitionDuration:p}=o,y=ie(o,x9),m=R({},o,{component:u,invisible:h}),w=P9(m),I=(r=g.root)!=null?r:d.root;return S.jsx(E,R({in:f,timeout:p},y,{children:S.jsx(k9,R({"aria-hidden":!0},I,{as:(i=(s=v.root)!=null?s:c.Root)!=null?i:u,className:Te(w.root,l,I==null?void 0:I.className),ownerState:R({},m,I==null?void 0:I.ownerState),classes:w,ref:n,children:a}))}))}),N9=A9;function O9(t){return nt("MuiCircularProgress",t)}Xe("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const D9=["className","color","disableShrink","size","style","thickness","value","variant"];let yg=t=>t,MC,LC,$C,FC;const Is=44,M9=fo(MC||(MC=yg`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),L9=fo(LC||(LC=yg`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),$9=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${he(r)}`],svg:["svg"],circle:["circle",`circle${he(n)}`,i&&"circleDisableShrink"]};return tt(s,O9,e)},F9=ee("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${he(n.color)}`]]}})(({ownerState:t,theme:e})=>R({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&iu($C||($C=yg`
      animation: ${0} 1.4s linear infinite;
    `),M9)),V9=ee("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),U9=ee("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${he(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>R({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&iu(FC||(FC=yg`
      animation: ${0} 1.4s ease-in-out infinite;
    `),L9)),j9=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:u=3.6,value:c=0,variant:d="indeterminate"}=r,h=ie(r,D9),f=R({},r,{color:s,disableShrink:o,size:a,thickness:u,value:c,variant:d}),g=$9(f),v={},E={},p={};if(d==="determinate"){const y=2*Math.PI*((Is-u)/2);v.strokeDasharray=y.toFixed(3),p["aria-valuenow"]=Math.round(c),v.strokeDashoffset=`${((100-c)/100*y).toFixed(3)}px`,E.transform="rotate(-90deg)"}return S.jsx(F9,R({className:Te(g.root,i),style:R({width:a,height:a},E,l),ownerState:f,ref:n,role:"progressbar"},p,h,{children:S.jsx(V9,{className:g.svg,ownerState:f,viewBox:`${Is/2} ${Is/2} ${Is} ${Is}`,children:S.jsx(U9,{className:g.circle,style:v,ownerState:f,cx:Is,cy:Is,r:(Is-u)/2,fill:"none",strokeWidth:u})})}))}),B9=j9;function z9(t){return nt("MuiModal",t)}Xe("MuiModal",["root","hidden","backdrop"]);const W9=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],H9=t=>{const{open:e,exited:n,classes:r}=t;return tt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},z9,r)},q9=ee("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>R({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),K9=ee(N9,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),G9=_.forwardRef(function(e,n){var r,i,s,o,a,l;const u=rt({name:"MuiModal",props:e}),{BackdropComponent:c=K9,BackdropProps:d,className:h,closeAfterTransition:f=!1,children:g,container:v,component:E,components:p={},componentsProps:y={},disableAutoFocus:m=!1,disableEnforceFocus:w=!1,disableEscapeKeyDown:I=!1,disablePortal:T=!1,disableRestoreFocus:C=!1,disableScrollLock:b=!1,hideBackdrop:P=!1,keepMounted:x=!1,onBackdropClick:O,open:F,slotProps:L,slots:U}=u,z=ie(u,W9),B=R({},u,{closeAfterTransition:f,disableAutoFocus:m,disableEnforceFocus:w,disableEscapeKeyDown:I,disablePortal:T,disableRestoreFocus:C,disableScrollLock:b,hideBackdrop:P,keepMounted:x}),{getRootProps:j,getBackdropProps:A,getTransitionProps:M,portalRef:W,isTopModal:ae,exited:J,hasTransition:ne}=Hj(R({},B,{rootRef:n})),Y=R({},B,{exited:J}),fe=H9(Y),ce={};if(g.props.tabIndex===void 0&&(ce.tabIndex="-1"),ne){const{onEnter:ve,onExited:Fe}=M();ce.onEnter=ve,ce.onExited=Fe}const Me=(r=(i=U==null?void 0:U.root)!=null?i:p.Root)!=null?r:q9,Le=(s=(o=U==null?void 0:U.backdrop)!=null?o:p.Backdrop)!=null?s:c,$e=(a=L==null?void 0:L.root)!=null?a:y.root,Rt=(l=L==null?void 0:L.backdrop)!=null?l:y.backdrop,le=no({elementType:Me,externalSlotProps:$e,externalForwardedProps:z,getSlotProps:j,additionalProps:{ref:n,as:E},ownerState:Y,className:Te(h,$e==null?void 0:$e.className,fe==null?void 0:fe.root,!Y.open&&Y.exited&&(fe==null?void 0:fe.hidden))}),ze=no({elementType:Le,externalSlotProps:Rt,additionalProps:d,getSlotProps:ve=>A(R({},ve,{onClick:Fe=>{O&&O(Fe),ve!=null&&ve.onClick&&ve.onClick(Fe)}})),className:Te(Rt==null?void 0:Rt.className,d==null?void 0:d.className,fe==null?void 0:fe.backdrop),ownerState:Y});return!x&&!F&&(!ne||J)?null:S.jsx(qk,{ref:W,container:v,disablePortal:T,children:S.jsxs(Me,R({},le,{children:[!P&&c?S.jsx(Le,R({},ze)):null,S.jsx(w3,{disableEnforceFocus:w,disableAutoFocus:m,disableRestoreFocus:C,isEnabled:ae,open:F,children:_.cloneElement(g,ce)})]}))})}),Q9=G9;function Y9(t){return nt("MuiDivider",t)}Xe("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const X9=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],J9=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:s,orientation:o,textAlign:a,variant:l}=t;return tt({root:["root",e&&"absolute",l,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},Y9,r)},Z9=ee("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>R({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:sa(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>R({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>R({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>R({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>R({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),eB=ee("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>R({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),Yk=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,component:a=s?"div":"hr",flexItem:l=!1,light:u=!1,orientation:c="horizontal",role:d=a!=="hr"?"separator":void 0,textAlign:h="center",variant:f="fullWidth"}=r,g=ie(r,X9),v=R({},r,{absolute:i,component:a,flexItem:l,light:u,orientation:c,role:d,textAlign:h,variant:f}),E=J9(v);return S.jsx(Z9,R({as:a,className:Te(E.root,o),role:d,ref:n,ownerState:v},g,{children:s?S.jsx(eB,{className:E.wrapper,ownerState:v,children:s}):null}))});Yk.muiSkipListHighlight=!0;const F_=Yk,tB=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function nB(t,e,n){const r=e.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),s=Mi(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const u=s.getComputedStyle(e);o=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let a=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const u=o.split("(")[1].split(")")[0].split(",");a=parseInt(u[4],10),l=parseInt(u[5],10)}return t==="left"?i?`translateX(${i.right+a-r.left}px)`:`translateX(${s.innerWidth+a-r.left}px)`:t==="right"?i?`translateX(-${r.right-i.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:t==="up"?i?`translateY(${i.bottom+l-r.top}px)`:`translateY(${s.innerHeight+l-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function rB(t){return typeof t=="function"?t():t}function Jh(t,e,n){const r=rB(n),i=nB(t,e,r);i&&(e.style.webkitTransform=i,e.style.transform=i)}const iB=_.forwardRef(function(e,n){const r=Ca(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:u,direction:c="down",easing:d=i,in:h,onEnter:f,onEntered:g,onEntering:v,onExit:E,onExited:p,onExiting:y,style:m,timeout:w=s,TransitionComponent:I=J1}=e,T=ie(e,tB),C=_.useRef(null),b=en(l.ref,C,n),P=A=>M=>{A&&(M===void 0?A(C.current):A(C.current,M))},x=P((A,M)=>{Jh(c,A,u),tw(A),f&&f(A,M)}),O=P((A,M)=>{const W=Ol({timeout:w,style:m,easing:d},{mode:"enter"});A.style.webkitTransition=r.transitions.create("-webkit-transform",R({},W)),A.style.transition=r.transitions.create("transform",R({},W)),A.style.webkitTransform="none",A.style.transform="none",v&&v(A,M)}),F=P(g),L=P(y),U=P(A=>{const M=Ol({timeout:w,style:m,easing:d},{mode:"exit"});A.style.webkitTransition=r.transitions.create("-webkit-transform",M),A.style.transition=r.transitions.create("transform",M),Jh(c,A,u),E&&E(A)}),z=P(A=>{A.style.webkitTransition="",A.style.transition="",p&&p(A)}),B=A=>{o&&o(C.current,A)},j=_.useCallback(()=>{C.current&&Jh(c,C.current,u)},[c,u]);return _.useEffect(()=>{if(h||c==="down"||c==="right")return;const A=Bm(()=>{C.current&&Jh(c,C.current,u)}),M=Mi(C.current);return M.addEventListener("resize",A),()=>{A.clear(),M.removeEventListener("resize",A)}},[c,h,u]),_.useEffect(()=>{h||j()},[h,j]),S.jsx(I,R({nodeRef:C,onEnter:x,onEntered:F,onEntering:O,onExit:U,onExited:z,onExiting:L,addEndListener:B,appear:a,in:h,timeout:w},T,{children:(A,M)=>_.cloneElement(l,R({ref:b,style:R({visibility:A==="exited"&&!h?"hidden":void 0},m,l.props.style)},M))}))}),sB=iB,oB=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],aB=t=>{const{classes:e,disableUnderline:n}=t,i=tt({root:["root",!n&&"underline"],input:["input"]},h9,e);return R({},e,i)},lB=ee(mg,{shouldForwardProp:t=>Ui(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...fg(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return R({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${To.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${To.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${To.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${To.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${To.disabled}, .${To.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${To.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&R({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),uB=ee(gg,{name:"MuiFilledInput",slot:"Input",overridesResolver:pg})(({theme:t,ownerState:e})=>R({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Xk=_.forwardRef(function(e,n){var r,i,s,o;const a=rt({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:g={},type:v="text"}=a,E=ie(a,oB),p=R({},a,{fullWidth:c,inputComponent:d,multiline:h,type:v}),y=aB(a),m={root:{ownerState:p},input:{ownerState:p}},w=f??u?lr(m,f??u):m,I=(r=(i=g.root)!=null?i:l.Root)!=null?r:lB,T=(s=(o=g.input)!=null?o:l.Input)!=null?s:uB;return S.jsx(dw,R({slots:{root:I,input:T},componentsProps:w,fullWidth:c,inputComponent:d,multiline:h,ref:n,type:v},E,{classes:y}))});Xk.muiName="Input";const Jk=Xk;function cB(t){return nt("MuiFormControl",t)}Xe("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const dB=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],hB=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${he(n)}`,r&&"fullWidth"]};return tt(i,cB,e)},fB=ee("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>R({},e.root,e[`margin${he(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>R({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),pB=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:g=!1,size:v="medium",variant:E="outlined"}=r,p=ie(r,dB),y=R({},r,{color:o,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:f,required:g,size:v,variant:E}),m=hB(y),[w,I]=_.useState(()=>{let L=!1;return i&&_.Children.forEach(i,U=>{if(!Af(U,["Input","Select"]))return;const z=Af(U,["Select"])?U.props.input:U;z&&t9(z.props)&&(L=!0)}),L}),[T,C]=_.useState(()=>{let L=!1;return i&&_.Children.forEach(i,U=>{Af(U,["Input","Select"])&&(Cp(U.props,!0)||Cp(U.props.inputProps,!0))&&(L=!0)}),L}),[b,P]=_.useState(!1);l&&b&&P(!1);const x=c!==void 0&&!l?c:b;let O;const F=_.useMemo(()=>({adornedStart:w,setAdornedStart:I,color:o,disabled:l,error:u,filled:T,focused:x,fullWidth:d,hiddenLabel:h,size:v,onBlur:()=>{P(!1)},onEmpty:()=>{C(!1)},onFilled:()=>{C(!0)},onFocus:()=>{P(!0)},registerEffect:O,required:g,variant:E}),[w,o,l,u,T,x,d,h,O,g,v,E]);return S.jsx(cw.Provider,{value:F,children:S.jsx(fB,R({as:a,ownerState:y,className:Te(m.root,s),ref:n},p,{children:i}))})}),mB=pB;function gB(t){return nt("MuiFormHelperText",t)}const yB=Xe("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),VC=yB;var UC;const vB=["children","className","component","disabled","error","filled","focused","margin","required","variant"],_B=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,u={root:["root",i&&"disabled",s&&"error",r&&`size${he(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return tt(u,gB,e)},wB=ee("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${he(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>R({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${VC.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${VC.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),EB=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=ie(r,vB),l=ou(),u=su({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=R({},r,{component:o,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=_B(c);return S.jsx(wB,R({as:o,ownerState:c,className:Te(d.root,s),ref:n},a,{children:i===" "?UC||(UC=S.jsx("span",{className:"notranslate",children:""})):i}))}),TB=EB;function SB(t){return nt("MuiFormLabel",t)}const CB=Xe("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Ac=CB,IB=["children","className","color","component","disabled","error","filled","focused","required"],RB=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${he(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return tt(l,SB,e)},bB=ee("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>R({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>R({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Ac.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Ac.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Ac.error}`]:{color:(t.vars||t).palette.error.main}})),xB=ee("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Ac.error}`]:{color:(t.vars||t).palette.error.main}})),PB=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=ie(r,IB),l=ou(),u=su({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=R({},r,{color:u.color||"primary",component:o,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=RB(c);return S.jsxs(bB,R({as:o,ownerState:c,className:Te(d.root,s),ref:n},a,{children:[i,u.required&&S.jsxs(xB,{ownerState:c,"aria-hidden":!0,className:d.asterisk,children:["","*"]})]}))}),kB=PB,AB=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function V_(t){return`scale(${t}, ${t**2})`}const NB={entering:{opacity:1,transform:V_(1)},entered:{opacity:1,transform:"none"}},qy=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Zk=_.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:f,style:g,timeout:v="auto",TransitionComponent:E=J1}=e,p=ie(e,AB),y=Lo(),m=_.useRef(),w=Ca(),I=_.useRef(null),T=en(I,s.ref,n),C=z=>B=>{if(z){const j=I.current;B===void 0?z(j):z(j,B)}},b=C(c),P=C((z,B)=>{tw(z);const{duration:j,delay:A,easing:M}=Ol({style:g,timeout:v,easing:o},{mode:"enter"});let W;v==="auto"?(W=w.transitions.getAutoHeightDuration(z.clientHeight),m.current=W):W=j,z.style.transition=[w.transitions.create("opacity",{duration:W,delay:A}),w.transitions.create("transform",{duration:qy?W:W*.666,delay:A,easing:M})].join(","),l&&l(z,B)}),x=C(u),O=C(f),F=C(z=>{const{duration:B,delay:j,easing:A}=Ol({style:g,timeout:v,easing:o},{mode:"exit"});let M;v==="auto"?(M=w.transitions.getAutoHeightDuration(z.clientHeight),m.current=M):M=B,z.style.transition=[w.transitions.create("opacity",{duration:M,delay:j}),w.transitions.create("transform",{duration:qy?M:M*.666,delay:qy?j:j||M*.333,easing:A})].join(","),z.style.opacity=0,z.style.transform=V_(.75),d&&d(z)}),L=C(h),U=z=>{v==="auto"&&y.start(m.current||0,z),r&&r(I.current,z)};return S.jsx(E,R({appear:i,in:a,nodeRef:I,onEnter:P,onEntered:x,onEntering:b,onExit:F,onExited:L,onExiting:O,addEndListener:U,timeout:v==="auto"?null:v},p,{children:(z,B)=>_.cloneElement(s,R({style:R({opacity:0,transform:V_(.75),visibility:z==="exited"&&!a?"hidden":void 0},NB[z],g,s.props.style),ref:T},B))}))});Zk.muiSupportAuto=!0;const Ip=Zk,OB=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],DB=t=>{const{classes:e,disableUnderline:n}=t,i=tt({root:["root",!n&&"underline"],input:["input"]},l9,e);return R({},e,i)},MB=ee(mg,{shouldForwardProp:t=>Ui(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...fg(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),R({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ju.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ju.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ju.disabled}, .${ju.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${ju.disabled}:before`]:{borderBottomStyle:"dotted"}})}),LB=ee(gg,{name:"MuiInput",slot:"Input",overridesResolver:pg})({}),eA=_.forwardRef(function(e,n){var r,i,s,o;const a=rt({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:d=!1,inputComponent:h="input",multiline:f=!1,slotProps:g,slots:v={},type:E="text"}=a,p=ie(a,OB),y=DB(a),w={root:{ownerState:{disableUnderline:l}}},I=g??c?lr(g??c,w):w,T=(r=(i=v.root)!=null?i:u.Root)!=null?r:MB,C=(s=(o=v.input)!=null?o:u.Input)!=null?s:LB;return S.jsx(dw,R({slots:{root:T,input:C},slotProps:I,fullWidth:d,inputComponent:h,multiline:f,ref:n,type:E},p,{classes:y}))});eA.muiName="Input";const tA=eA;function $B(t){return nt("MuiInputLabel",t)}Xe("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const FB=["disableAnimation","margin","shrink","variant","className"],VB=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,l={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${he(r)}`,o],asterisk:[a&&"asterisk"]},u=tt(l,$B,e);return R({},e,u)},UB=ee(kB,{shouldForwardProp:t=>Ui(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Ac.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>R({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&R({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&R({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&R({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),jB=_.forwardRef(function(e,n){const r=rt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=ie(r,FB),l=ou();let u=s;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=su({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=R({},r,{disableAnimation:i,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),h=VB(d);return S.jsx(UB,R({"data-shrink":u,ownerState:d,ref:n,className:Te(h.root,o)},a,{classes:h}))}),BB=jB;function zB(t){return nt("MuiLinearProgress",t)}Xe("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const WB=["className","color","value","valueBuffer","variant"];let au=t=>t,jC,BC,zC,WC,HC,qC;const U_=4,HB=fo(jC||(jC=au`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),qB=fo(BC||(BC=au`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),KB=fo(zC||(zC=au`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),GB=t=>{const{classes:e,variant:n,color:r}=t,i={root:["root",`color${he(r)}`,n],dashed:["dashed",`dashedColor${he(r)}`],bar1:["bar",`barColor${he(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${he(r)}`,n==="buffer"&&`color${he(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return tt(i,zB,e)},hw=(t,e)=>e==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?md(t.palette[e].main,.62):pd(t.palette[e].main,.5),QB=ee("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${he(n.color)}`],e[n.variant]]}})(({ownerState:t,theme:e})=>R({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:hw(e,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),YB=ee("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${he(n.color)}`]]}})(({ownerState:t,theme:e})=>{const n=hw(e,t.color);return R({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},iu(WC||(WC=au`
    animation: ${0} 3s infinite linear;
  `),KB)),XB=ee("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${he(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:t,theme:e})=>R({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${U_}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${U_}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&iu(HC||(HC=au`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),HB)),JB=ee("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${he(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:t,theme:e})=>R({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:hw(e,t.color),transition:`transform .${U_}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&iu(qC||(qC=au`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),qB)),ZB=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiLinearProgress"}),{className:i,color:s="primary",value:o,valueBuffer:a,variant:l="indeterminate"}=r,u=ie(r,WB),c=R({},r,{color:s,variant:l}),d=GB(c),h=Ca(),f={},g={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&o!==void 0){f["aria-valuenow"]=Math.round(o),f["aria-valuemin"]=0,f["aria-valuemax"]=100;let v=o-100;h.direction==="rtl"&&(v=-v),g.bar1.transform=`translateX(${v}%)`}if(l==="buffer"&&a!==void 0){let v=(a||0)-100;h.direction==="rtl"&&(v=-v),g.bar2.transform=`translateX(${v}%)`}return S.jsxs(QB,R({className:Te(d.root,i),ownerState:c,role:"progressbar"},f,{ref:n},u,{children:[l==="buffer"?S.jsx(YB,{className:d.dashed,ownerState:c}):null,S.jsx(XB,{className:d.bar1,ownerState:c,style:g.bar1}),l==="determinate"?null:S.jsx(JB,{className:d.bar2,ownerState:c,style:g.bar2})]}))}),e8=ZB,t8=_.createContext({}),n8=t8;function r8(t){return nt("MuiList",t)}Xe("MuiList",["root","padding","dense","subheader"]);const i8=["children","className","component","dense","disablePadding","subheader"],s8=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return tt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},r8,e)},o8=ee("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>R({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),a8=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,c=ie(r,i8),d=_.useMemo(()=>({dense:a}),[a]),h=R({},r,{component:o,dense:a,disablePadding:l}),f=s8(h);return S.jsx(n8.Provider,{value:d,children:S.jsxs(o8,R({as:o,className:Te(f.root,s),ref:n,ownerState:h},c,{children:[u,i]}))})}),l8=a8,u8=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Ky(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function KC(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function nA(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Bu(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!nA(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const c8=_.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=e,h=ie(e,u8),f=_.useRef(null),g=_.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Li(()=>{i&&f.current.focus()},[i]),_.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(m,w)=>{const I=!f.current.style.width;if(m.clientHeight<f.current.clientHeight&&I){const T=`${Ek(ln(m))}px`;f.current.style[w.direction==="rtl"?"paddingLeft":"paddingRight"]=T,f.current.style.width=`calc(100% + ${T})`}return f.current}}),[]);const v=m=>{const w=f.current,I=m.key,T=ln(w).activeElement;if(I==="ArrowDown")m.preventDefault(),Bu(w,T,u,l,Ky);else if(I==="ArrowUp")m.preventDefault(),Bu(w,T,u,l,KC);else if(I==="Home")m.preventDefault(),Bu(w,null,u,l,Ky);else if(I==="End")m.preventDefault(),Bu(w,null,u,l,KC);else if(I.length===1){const C=g.current,b=I.toLowerCase(),P=performance.now();C.keys.length>0&&(P-C.lastTime>500?(C.keys=[],C.repeating=!0,C.previousKeyMatched=!0):C.repeating&&b!==C.keys[0]&&(C.repeating=!1)),C.lastTime=P,C.keys.push(b);const x=T&&!C.repeating&&nA(T,C);C.previousKeyMatched&&(x||Bu(w,T,!1,l,Ky,C))?m.preventDefault():C.previousKeyMatched=!1}c&&c(m)},E=en(f,n);let p=-1;_.Children.forEach(o,(m,w)=>{if(!_.isValidElement(m)){p===w&&(p+=1,p>=o.length&&(p=-1));return}m.props.disabled||(d==="selectedMenu"&&m.props.selected||p===-1)&&(p=w),p===w&&(m.props.disabled||m.props.muiSkipListHighlight||m.type.muiSkipListHighlight)&&(p+=1,p>=o.length&&(p=-1))});const y=_.Children.map(o,(m,w)=>{if(w===p){const I={};return s&&(I.autoFocus=!0),m.props.tabIndex===void 0&&d==="selectedMenu"&&(I.tabIndex=0),_.cloneElement(m,I)}return m});return S.jsx(l8,R({role:"menu",ref:E,className:a,onKeyDown:v,tabIndex:i?0:-1},h,{children:y}))}),d8=c8;function h8(t){return nt("MuiPopover",t)}Xe("MuiPopover",["root","paper"]);const f8=["onEntering"],p8=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],m8=["slotProps"];function GC(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function QC(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function YC(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Gy(t){return typeof t=="function"?t():t}const g8=t=>{const{classes:e}=t;return tt({root:["root"],paper:["paper"]},h8,e)},y8=ee(Q9,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),rA=ee(nw,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),v8=_.forwardRef(function(e,n){var r,i,s;const o=rt({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:h,className:f,container:g,elevation:v=8,marginThreshold:E=16,open:p,PaperProps:y={},slots:m,slotProps:w,transformOrigin:I={vertical:"top",horizontal:"left"},TransitionComponent:T=Ip,transitionDuration:C="auto",TransitionProps:{onEntering:b}={},disableScrollLock:P=!1}=o,x=ie(o.TransitionProps,f8),O=ie(o,p8),F=(r=w==null?void 0:w.paper)!=null?r:y,L=_.useRef(),U=en(L,F.ref),z=R({},o,{anchorOrigin:u,anchorReference:d,elevation:v,marginThreshold:E,externalPaperSlotProps:F,transformOrigin:I,TransitionComponent:T,transitionDuration:C,TransitionProps:x}),B=g8(z),j=_.useCallback(()=>{if(d==="anchorPosition")return c;const ve=Gy(l),Ee=(ve&&ve.nodeType===1?ve:ln(L.current).body).getBoundingClientRect();return{top:Ee.top+GC(Ee,u.vertical),left:Ee.left+QC(Ee,u.horizontal)}},[l,u.horizontal,u.vertical,c,d]),A=_.useCallback(ve=>({vertical:GC(ve,I.vertical),horizontal:QC(ve,I.horizontal)}),[I.horizontal,I.vertical]),M=_.useCallback(ve=>{const Fe={width:ve.offsetWidth,height:ve.offsetHeight},Ee=A(Fe);if(d==="none")return{top:null,left:null,transformOrigin:YC(Ee)};const wn=j();let rn=wn.top-Ee.vertical,Dt=wn.left-Ee.horizontal;const un=rn+Fe.height,lt=Dt+Fe.width,Ae=Mi(Gy(l)),Kt=Ae.innerHeight-E,dt=Ae.innerWidth-E;if(E!==null&&rn<E){const be=rn-E;rn-=be,Ee.vertical+=be}else if(E!==null&&un>Kt){const be=un-Kt;rn-=be,Ee.vertical+=be}if(E!==null&&Dt<E){const be=Dt-E;Dt-=be,Ee.horizontal+=be}else if(lt>dt){const be=lt-dt;Dt-=be,Ee.horizontal+=be}return{top:`${Math.round(rn)}px`,left:`${Math.round(Dt)}px`,transformOrigin:YC(Ee)}},[l,d,j,A,E]),[W,ae]=_.useState(p),J=_.useCallback(()=>{const ve=L.current;if(!ve)return;const Fe=M(ve);Fe.top!==null&&(ve.style.top=Fe.top),Fe.left!==null&&(ve.style.left=Fe.left),ve.style.transformOrigin=Fe.transformOrigin,ae(!0)},[M]);_.useEffect(()=>(P&&window.addEventListener("scroll",J),()=>window.removeEventListener("scroll",J)),[l,P,J]);const ne=(ve,Fe)=>{b&&b(ve,Fe),J()},Y=()=>{ae(!1)};_.useEffect(()=>{p&&J()}),_.useImperativeHandle(a,()=>p?{updatePosition:()=>{J()}}:null,[p,J]),_.useEffect(()=>{if(!p)return;const ve=Bm(()=>{J()}),Fe=Mi(l);return Fe.addEventListener("resize",ve),()=>{ve.clear(),Fe.removeEventListener("resize",ve)}},[l,p,J]);let fe=C;C==="auto"&&!T.muiSupportAuto&&(fe=void 0);const ce=g||(l?ln(Gy(l)).body:void 0),Me=(i=m==null?void 0:m.root)!=null?i:y8,Le=(s=m==null?void 0:m.paper)!=null?s:rA,$e=no({elementType:Le,externalSlotProps:R({},F,{style:W?F.style:R({},F.style,{opacity:0})}),additionalProps:{elevation:v,ref:U},ownerState:z,className:Te(B.paper,F==null?void 0:F.className)}),Rt=no({elementType:Me,externalSlotProps:(w==null?void 0:w.root)||{},externalForwardedProps:O,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:ce,open:p},ownerState:z,className:Te(B.root,f)}),{slotProps:le}=Rt,ze=ie(Rt,m8);return S.jsx(Me,R({},ze,!Ep(Me)&&{slotProps:le,disableScrollLock:P},{children:S.jsx(T,R({appear:!0,in:p,onEntering:ne,onExited:Y,timeout:fe},x,{children:S.jsx(Le,R({},$e,{children:h}))}))}))}),_8=v8;function w8(t){return nt("MuiMenu",t)}Xe("MuiMenu",["root","paper","list"]);const E8=["onEntering"],T8=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],S8={vertical:"top",horizontal:"right"},C8={vertical:"top",horizontal:"left"},I8=t=>{const{classes:e}=t;return tt({root:["root"],paper:["paper"],list:["list"]},w8,e)},R8=ee(_8,{shouldForwardProp:t=>Ui(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),b8=ee(rA,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),x8=ee(d8,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),P8=_.forwardRef(function(e,n){var r,i;const s=rt({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:d,open:h,PaperProps:f={},PopoverClasses:g,transitionDuration:v="auto",TransitionProps:{onEntering:E}={},variant:p="selectedMenu",slots:y={},slotProps:m={}}=s,w=ie(s.TransitionProps,E8),I=ie(s,T8),T=Ca(),C=T.direction==="rtl",b=R({},s,{autoFocus:o,disableAutoFocusItem:u,MenuListProps:c,onEntering:E,PaperProps:f,transitionDuration:v,TransitionProps:w,variant:p}),P=I8(b),x=o&&!u&&h,O=_.useRef(null),F=(M,W)=>{O.current&&O.current.adjustStyleForScrollbar(M,T),E&&E(M,W)},L=M=>{M.key==="Tab"&&(M.preventDefault(),d&&d(M,"tabKeyDown"))};let U=-1;_.Children.map(a,(M,W)=>{_.isValidElement(M)&&(M.props.disabled||(p==="selectedMenu"&&M.props.selected||U===-1)&&(U=W))});const z=(r=y.paper)!=null?r:b8,B=(i=m.paper)!=null?i:f,j=no({elementType:y.root,externalSlotProps:m.root,ownerState:b,className:[P.root,l]}),A=no({elementType:z,externalSlotProps:B,ownerState:b,className:P.paper});return S.jsx(R8,R({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?S8:C8,slots:{paper:z,root:y.root},slotProps:{root:j,paper:A},open:h,ref:n,transitionDuration:v,TransitionProps:R({onEntering:F},w),ownerState:b},I,{classes:g,children:S.jsx(x8,R({onKeyDown:L,actions:O,autoFocus:o&&(U===-1||u),autoFocusItem:x,variant:p},c,{className:Te(P.list,c.className),children:a}))}))}),k8=P8;function A8(t){return nt("MuiNativeSelect",t)}const N8=Xe("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),fw=N8,O8=["className","disabled","error","IconComponent","inputRef","variant"],D8=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${he(n)}`,s&&"iconOpen",r&&"disabled"]};return tt(a,A8,e)},iA=({ownerState:t,theme:e})=>R({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":R({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${fw.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),M8=ee("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ui,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${fw.multiple}`]:e.multiple}]}})(iA),sA=({ownerState:t,theme:e})=>R({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${fw.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),L8=ee("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${he(n.variant)}`],n.open&&e.iconOpen]}})(sA),$8=_.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=e,u=ie(e,O8),c=R({},e,{disabled:i,variant:l,error:s}),d=D8(c);return S.jsxs(_.Fragment,{children:[S.jsx(M8,R({ownerState:c,className:Te(d.select,r),disabled:i,ref:a||n},u)),e.multiple?null:S.jsx(L8,{as:o,ownerState:c,className:d.icon})]})}),F8=$8;var XC;const V8=["children","classes","className","label","notched"],U8=ee("fieldset",{shouldForwardProp:Ui})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),j8=ee("legend",{shouldForwardProp:Ui})(({ownerState:t,theme:e})=>R({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&R({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function B8(t){const{className:e,label:n,notched:r}=t,i=ie(t,V8),s=n!=null&&n!=="",o=R({},t,{notched:r,withLabel:s});return S.jsx(U8,R({"aria-hidden":!0,className:e,ownerState:o},i,{children:S.jsx(j8,{ownerState:o,children:s?S.jsx("span",{children:n}):XC||(XC=S.jsx("span",{className:"notranslate",children:""}))})}))}const z8=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],W8=t=>{const{classes:e}=t,r=tt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},c9,e);return R({},e,r)},H8=ee(mg,{shouldForwardProp:t=>Ui(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:fg})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return R({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Cs.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Cs.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Cs.focused} .${Cs.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Cs.error} .${Cs.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Cs.disabled} .${Cs.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&R({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),q8=ee(B8,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),K8=ee(gg,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:pg})(({theme:t,ownerState:e})=>R({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),oA=_.forwardRef(function(e,n){var r,i,s,o,a;const l=rt({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:d="input",label:h,multiline:f=!1,notched:g,slots:v={},type:E="text"}=l,p=ie(l,z8),y=W8(l),m=ou(),w=su({props:l,muiFormControl:m,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),I=R({},l,{color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:m,fullWidth:c,hiddenLabel:w.hiddenLabel,multiline:f,size:w.size,type:E}),T=(r=(i=v.root)!=null?i:u.Root)!=null?r:H8,C=(s=(o=v.input)!=null?o:u.Input)!=null?s:K8;return S.jsx(dw,R({slots:{root:T,input:C},renderSuffix:b=>S.jsx(q8,{ownerState:I,className:y.notchedOutline,label:h!=null&&h!==""&&w.required?a||(a=S.jsxs(_.Fragment,{children:[h,"","*"]})):h,notched:typeof g<"u"?g:!!(b.startAdornment||b.filled||b.focused)}),fullWidth:c,inputComponent:d,multiline:f,ref:n,type:E},p,{classes:R({},y,{notchedOutline:null})}))});oA.muiName="Input";const aA=oA;function G8(t){return nt("MuiSelect",t)}const zu=Xe("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var JC;const Q8=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Y8=ee("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${zu.select}`]:e.select},{[`&.${zu.select}`]:e[n.variant]},{[`&.${zu.error}`]:e.error},{[`&.${zu.multiple}`]:e.multiple}]}})(iA,{[`&.${zu.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),X8=ee("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${he(n.variant)}`],n.open&&e.iconOpen]}})(sA),J8=ee("input",{shouldForwardProp:t=>QU(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function ZC(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Z8(t){return t==null||typeof t=="string"&&!t.trim()}const ez=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${he(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return tt(a,G8,e)},tz=_.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:l,className:u,defaultOpen:c,defaultValue:d,disabled:h,displayEmpty:f,error:g=!1,IconComponent:v,inputRef:E,labelId:p,MenuProps:y={},multiple:m,name:w,onBlur:I,onChange:T,onClose:C,onFocus:b,onOpen:P,open:x,readOnly:O,renderValue:F,SelectDisplayProps:L={},tabIndex:U,value:z,variant:B="standard"}=e,j=ie(e,Q8),[A,M]=gp({controlled:z,default:d,name:"Select"}),[W,ae]=gp({controlled:x,default:c,name:"Select"}),J=_.useRef(null),ne=_.useRef(null),[Y,fe]=_.useState(null),{current:ce}=_.useRef(x!=null),[Me,Le]=_.useState(),$e=en(n,E),Rt=_.useCallback(oe=>{ne.current=oe,oe&&fe(oe)},[]),le=Y==null?void 0:Y.parentNode;_.useImperativeHandle($e,()=>({focus:()=>{ne.current.focus()},node:J.current,value:A}),[A]),_.useEffect(()=>{c&&W&&Y&&!ce&&(Le(a?null:le.clientWidth),ne.current.focus())},[Y,a]),_.useEffect(()=>{o&&ne.current.focus()},[o]),_.useEffect(()=>{if(!p)return;const oe=ln(ne.current).getElementById(p);if(oe){const qe=()=>{getSelection().isCollapsed&&ne.current.focus()};return oe.addEventListener("click",qe),()=>{oe.removeEventListener("click",qe)}}},[p]);const ze=(oe,qe)=>{oe?P&&P(qe):C&&C(qe),ce||(Le(a?null:le.clientWidth),ae(oe))},ve=oe=>{oe.button===0&&(oe.preventDefault(),ne.current.focus(),ze(!0,oe))},Fe=oe=>{ze(!1,oe)},Ee=_.Children.toArray(l),wn=oe=>{const qe=Ee.find(ot=>ot.props.value===oe.target.value);qe!==void 0&&(M(qe.props.value),T&&T(oe,qe))},rn=oe=>qe=>{let ot;if(qe.currentTarget.hasAttribute("tabindex")){if(m){ot=Array.isArray(A)?A.slice():[];const hr=A.indexOf(oe.props.value);hr===-1?ot.push(oe.props.value):ot.splice(hr,1)}else ot=oe.props.value;if(oe.props.onClick&&oe.props.onClick(qe),A!==ot&&(M(ot),T)){const hr=qe.nativeEvent||qe,zi=new hr.constructor(hr.type,hr);Object.defineProperty(zi,"target",{writable:!0,value:{value:ot,name:w}}),T(zi,oe)}m||ze(!1,qe)}},Dt=oe=>{O||[" ","ArrowUp","ArrowDown","Enter"].indexOf(oe.key)!==-1&&(oe.preventDefault(),ze(!0,oe))},un=Y!==null&&W,lt=oe=>{!un&&I&&(Object.defineProperty(oe,"target",{writable:!0,value:{value:A,name:w}}),I(oe))};delete j["aria-invalid"];let Ae,Kt;const dt=[];let be=!1;(Cp({value:A})||f)&&(F?Ae=F(A):be=!0);const bt=Ee.map(oe=>{if(!_.isValidElement(oe))return null;let qe;if(m){if(!Array.isArray(A))throw new Error(to(2));qe=A.some(ot=>ZC(ot,oe.props.value)),qe&&be&&dt.push(oe.props.children)}else qe=ZC(A,oe.props.value),qe&&be&&(Kt=oe.props.children);return _.cloneElement(oe,{"aria-selected":qe?"true":"false",onClick:rn(oe),onKeyUp:ot=>{ot.key===" "&&ot.preventDefault(),oe.props.onKeyUp&&oe.props.onKeyUp(ot)},role:"option",selected:qe,value:void 0,"data-value":oe.props.value})});be&&(m?dt.length===0?Ae=null:Ae=dt.reduce((oe,qe,ot)=>(oe.push(qe),ot<dt.length-1&&oe.push(", "),oe),[]):Ae=Kt);let sn=Me;!a&&ce&&Y&&(sn=le.clientWidth);let Gt;typeof U<"u"?Gt=U:Gt=h?null:0;const We=L.id||(w?`mui-component-select-${w}`:void 0),re=R({},e,{variant:B,value:A,open:un,error:g}),Mt=ez(re),br=R({},y.PaperProps,(r=y.slotProps)==null?void 0:r.paper),Jn=zm();return S.jsxs(_.Fragment,{children:[S.jsx(Y8,R({ref:Rt,tabIndex:Gt,role:"combobox","aria-controls":Jn,"aria-disabled":h?"true":void 0,"aria-expanded":un?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[p,We].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Dt,onMouseDown:h||O?null:ve,onBlur:lt,onFocus:b},L,{ownerState:re,className:Te(L.className,Mt.select,u),id:We,children:Z8(Ae)?JC||(JC=S.jsx("span",{className:"notranslate",children:""})):Ae})),S.jsx(J8,R({"aria-invalid":g,value:Array.isArray(A)?A.join(","):A,name:w,ref:J,"aria-hidden":!0,onChange:wn,tabIndex:-1,disabled:h,className:Mt.nativeInput,autoFocus:o,ownerState:re},j)),S.jsx(X8,{as:v,className:Mt.icon,ownerState:re}),S.jsx(k8,R({id:`menu-${w||""}`,anchorEl:le,open:un,onClose:Fe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:R({"aria-labelledby":p,role:"listbox","aria-multiselectable":m?"true":void 0,disableListWrap:!0,id:Jn},y.MenuListProps),slotProps:R({},y.slotProps,{paper:R({},br,{style:R({minWidth:sn},br!=null?br.style:null)})}),children:bt}))]})}),nz=tz,rz=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],iz=["root"],sz=t=>{const{classes:e}=t;return e},pw={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Ui(t)&&t!=="variant",slot:"Root"},oz=ee(tA,pw)(""),az=ee(aA,pw)(""),lz=ee(Jk,pw)(""),lA=_.forwardRef(function(e,n){const r=rt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=p9,id:d,input:h,inputProps:f,label:g,labelId:v,MenuProps:E,multiple:p=!1,native:y=!1,onClose:m,onOpen:w,open:I,renderValue:T,SelectDisplayProps:C,variant:b="outlined"}=r,P=ie(r,rz),x=y?F8:nz,O=ou(),F=su({props:r,muiFormControl:O,states:["variant","error"]}),L=F.variant||b,U=R({},r,{variant:L,classes:o}),z=sz(U),B=ie(z,iz),j=h||{standard:S.jsx(oz,{ownerState:U}),outlined:S.jsx(az,{label:g,ownerState:U}),filled:S.jsx(lz,{ownerState:U})}[L],A=en(n,j.ref);return S.jsx(_.Fragment,{children:_.cloneElement(j,R({inputComponent:x,inputProps:R({children:s,error:F.error,IconComponent:c,variant:L,type:void 0,multiple:p},y?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:v,MenuProps:E,onClose:m,onOpen:w,open:I,renderValue:T,SelectDisplayProps:R({id:d},C)},f,{classes:f?lr(B,f.classes):B},h?h.props.inputProps:{})},(p&&y||u)&&L==="outlined"?{notched:!0}:{},{ref:A,className:Te(j.props.className,a,z.root)},!h&&{variant:L},P))})});lA.muiName="Select";const uz=lA;function cz(t){return nt("MuiSnackbarContent",t)}Xe("MuiSnackbarContent",["root","message","action"]);const dz=["action","className","message","role"],hz=t=>{const{classes:e}=t;return tt({root:["root"],action:["action"],message:["message"]},cz,e)},fz=ee(nw,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,n=yU(t.palette.background.default,e);return R({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),pz=ee("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),mz=ee("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),gz=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSnackbarContent"}),{action:i,className:s,message:o,role:a="alert"}=r,l=ie(r,dz),u=r,c=hz(u);return S.jsxs(fz,R({role:a,square:!0,elevation:6,className:Te(c.root,s),ownerState:u,ref:n},l,{children:[S.jsx(pz,{className:c.message,ownerState:u,children:o}),i?S.jsx(mz,{className:c.action,ownerState:u,children:i}):null]}))}),yz=gz;function vz(t){return nt("MuiSnackbar",t)}Xe("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const _z=["onEnter","onExited"],wz=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Ez=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${he(n.vertical)}${he(n.horizontal)}`]};return tt(r,vz,e)},eI=ee("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${he(n.anchorOrigin.vertical)}${he(n.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return R({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:R({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&n,e.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},e.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),Tz=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSnackbar"}),i=Ca(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:u=null,children:c,className:d,ClickAwayListenerProps:h,ContentProps:f,disableWindowBlurListener:g=!1,message:v,open:E,TransitionComponent:p=Ip,transitionDuration:y=s,TransitionProps:{onEnter:m,onExited:w}={}}=r,I=ie(r.TransitionProps,_z),T=ie(r,wz),C=R({},r,{anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:u,disableWindowBlurListener:g,TransitionComponent:p,transitionDuration:y}),b=Ez(C),{getRootProps:P,onClickAway:x}=qj(R({},C)),[O,F]=_.useState(!0),L=no({elementType:eI,getSlotProps:P,externalForwardedProps:T,ownerState:C,additionalProps:{ref:n},className:[b.root,d]}),U=B=>{F(!0),w&&w(B)},z=(B,j)=>{F(!1),m&&m(B,j)};return!E&&O?null:S.jsx(f3,R({onClickAway:x},h,{children:S.jsx(eI,R({},L,{children:S.jsx(p,R({appear:!0,in:E,timeout:y,direction:a==="top"?"down":"up",onEnter:z,onExited:U},I,{children:c||S.jsx(yz,R({message:v,action:o},f))}))}))}))}),Sz=Tz;function Cz(t){return nt("MuiTooltip",t)}const Iz=Xe("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Fs=Iz,Rz=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function bz(t){return Math.round(t*1e5)/1e5}const xz=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:s}=t,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${he(s.split("-")[0])}`],arrow:["arrow"]};return tt(o,Cz,e)},Pz=ee(Gk,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>R({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${Fs.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Fs.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Fs.arrow}`]:R({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Fs.arrow}`]:R({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),kz=ee("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${he(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>R({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:sa(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${bz(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${Fs.popper}[data-popper-placement*="left"] &`]:R({transformOrigin:"right center"},e.isRtl?R({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):R({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${Fs.popper}[data-popper-placement*="right"] &`]:R({transformOrigin:"left center"},e.isRtl?R({marginRight:"14px"},e.touch&&{marginRight:"24px"}):R({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${Fs.popper}[data-popper-placement*="top"] &`]:R({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${Fs.popper}[data-popper-placement*="bottom"] &`]:R({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),Az=ee("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:sa(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Zh=!1;const tI=new qd;let Wu={x:0,y:0};function ef(t,e){return n=>{e&&e(n),t(n)}}const Nz=_.forwardRef(function(e,n){var r,i,s,o,a,l,u,c,d,h,f,g,v,E,p,y,m,w,I;const T=rt({props:e,name:"MuiTooltip"}),{arrow:C=!1,children:b,components:P={},componentsProps:x={},describeChild:O=!1,disableFocusListener:F=!1,disableHoverListener:L=!1,disableInteractive:U=!1,disableTouchListener:z=!1,enterDelay:B=100,enterNextDelay:j=0,enterTouchDelay:A=700,followCursor:M=!1,id:W,leaveDelay:ae=0,leaveTouchDelay:J=1500,onClose:ne,onOpen:Y,open:fe,placement:ce="bottom",PopperComponent:Me,PopperProps:Le={},slotProps:$e={},slots:Rt={},title:le,TransitionComponent:ze=Ip,TransitionProps:ve}=T,Fe=ie(T,Rz),Ee=_.isValidElement(b)?b:S.jsx("span",{children:b}),wn=Ca(),rn=wn.direction==="rtl",[Dt,un]=_.useState(),[lt,Ae]=_.useState(null),Kt=_.useRef(!1),dt=U||M,be=Lo(),bt=Lo(),sn=Lo(),Gt=Lo(),[We,re]=gp({controlled:fe,default:!1,name:"Tooltip",state:"open"});let Mt=We;const br=zm(W),Jn=_.useRef(),oe=Lr(()=>{Jn.current!==void 0&&(document.body.style.WebkitUserSelect=Jn.current,Jn.current=void 0),Gt.clear()});_.useEffect(()=>oe,[oe]);const qe=Ie=>{tI.clear(),Zh=!0,re(!0),Y&&!Mt&&Y(Ie)},ot=Lr(Ie=>{tI.start(800+ae,()=>{Zh=!1}),re(!1),ne&&Mt&&ne(Ie),be.start(wn.transitions.duration.shortest,()=>{Kt.current=!1})}),hr=Ie=>{Kt.current&&Ie.type!=="touchstart"||(Dt&&Dt.removeAttribute("title"),bt.clear(),sn.clear(),B||Zh&&j?bt.start(Zh?j:B,()=>{qe(Ie)}):qe(Ie))},zi=Ie=>{bt.clear(),sn.start(ae,()=>{ot(Ie)})},{isFocusVisibleRef:bh,onBlur:xh,onFocus:hy,ref:Ph}=j1(),[,kh]=_.useState(!1),k=Ie=>{xh(Ie),bh.current===!1&&(kh(!1),zi(Ie))},N=Ie=>{Dt||un(Ie.currentTarget),hy(Ie),bh.current===!0&&(kh(!0),hr(Ie))},D=Ie=>{Kt.current=!0;const Re=Ee.props;Re.onTouchStart&&Re.onTouchStart(Ie)},q=hr,te=zi,xe=Ie=>{D(Ie),sn.clear(),be.clear(),oe(),Jn.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Gt.start(A,()=>{document.body.style.WebkitUserSelect=Jn.current,hr(Ie)})},pe=Ie=>{Ee.props.onTouchEnd&&Ee.props.onTouchEnd(Ie),oe(),sn.start(J,()=>{ot(Ie)})};_.useEffect(()=>{if(!Mt)return;function Ie(Re){(Re.key==="Escape"||Re.key==="Esc")&&ot(Re)}return document.addEventListener("keydown",Ie),()=>{document.removeEventListener("keydown",Ie)}},[ot,Mt]);const de=en(Ee.ref,Ph,un,n);!le&&le!==0&&(Mt=!1);const se=_.useRef(),ke=Ie=>{const Re=Ee.props;Re.onMouseMove&&Re.onMouseMove(Ie),Wu={x:Ie.clientX,y:Ie.clientY},se.current&&se.current.update()},Et={},_e=typeof le=="string";O?(Et.title=!Mt&&_e&&!L?le:null,Et["aria-describedby"]=Mt?br:null):(Et["aria-label"]=_e?le:null,Et["aria-labelledby"]=Mt&&!_e?br:null);const Pe=R({},Et,Fe,Ee.props,{className:Te(Fe.className,Ee.props.className),onTouchStart:D,ref:de},M?{onMouseMove:ke}:{}),xt={};z||(Pe.onTouchStart=xe,Pe.onTouchEnd=pe),L||(Pe.onMouseOver=ef(q,Pe.onMouseOver),Pe.onMouseLeave=ef(te,Pe.onMouseLeave),dt||(xt.onMouseOver=q,xt.onMouseLeave=te)),F||(Pe.onFocus=ef(N,Pe.onFocus),Pe.onBlur=ef(k,Pe.onBlur),dt||(xt.onFocus=N,xt.onBlur=k));const Zn=_.useMemo(()=>{var Ie;let Re=[{name:"arrow",enabled:!!lt,options:{element:lt,padding:4}}];return(Ie=Le.popperOptions)!=null&&Ie.modifiers&&(Re=Re.concat(Le.popperOptions.modifiers)),R({},Le.popperOptions,{modifiers:Re})},[lt,Le]),Tt=R({},T,{isRtl:rn,arrow:C,disableInteractive:dt,placement:ce,PopperComponentProp:Me,touch:Kt.current}),di=xz(Tt),Aa=(r=(i=Rt.popper)!=null?i:P.Popper)!=null?r:Pz,Wi=(s=(o=(a=Rt.transition)!=null?a:P.Transition)!=null?o:ze)!=null?s:Ip,Yr=(l=(u=Rt.tooltip)!=null?u:P.Tooltip)!=null?l:kz,hi=(c=(d=Rt.arrow)!=null?d:P.Arrow)!=null?c:Az,Tu=ac(Aa,R({},Le,(h=$e.popper)!=null?h:x.popper,{className:Te(di.popper,Le==null?void 0:Le.className,(f=(g=$e.popper)!=null?g:x.popper)==null?void 0:f.className)}),Tt),Su=ac(Wi,R({},ve,(v=$e.transition)!=null?v:x.transition),Tt),Cu=ac(Yr,R({},(E=$e.tooltip)!=null?E:x.tooltip,{className:Te(di.tooltip,(p=(y=$e.tooltip)!=null?y:x.tooltip)==null?void 0:p.className)}),Tt),Ts=ac(hi,R({},(m=$e.arrow)!=null?m:x.arrow,{className:Te(di.arrow,(w=(I=$e.arrow)!=null?I:x.arrow)==null?void 0:w.className)}),Tt);return S.jsxs(_.Fragment,{children:[_.cloneElement(Ee,Pe),S.jsx(Aa,R({as:Me??Gk,placement:ce,anchorEl:M?{getBoundingClientRect:()=>({top:Wu.y,left:Wu.x,right:Wu.x,bottom:Wu.y,width:0,height:0})}:Dt,popperRef:se,open:Dt?Mt:!1,id:br,transition:!0},xt,Tu,{popperOptions:Zn,children:({TransitionProps:Ie})=>S.jsx(Wi,R({timeout:wn.transitions.duration.shorter},Ie,Su,{children:S.jsxs(Yr,R({},Cu,{children:[le,C?S.jsx(hi,R({},Ts,{ref:Ae})):null]}))}))}))]})}),Oz=Nz;function Dz(t){return nt("MuiTextField",t)}Xe("MuiTextField",["root"]);const Mz=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Lz={standard:tA,filled:Jk,outlined:aA},$z=t=>{const{classes:e}=t;return tt({root:["root"]},Dz,e)},Fz=ee(mB,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Vz=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:f=!1,helperText:g,id:v,InputLabelProps:E,inputProps:p,InputProps:y,inputRef:m,label:w,maxRows:I,minRows:T,multiline:C=!1,name:b,onBlur:P,onChange:x,onFocus:O,placeholder:F,required:L=!1,rows:U,select:z=!1,SelectProps:B,type:j,value:A,variant:M="outlined"}=r,W=ie(r,Mz),ae=R({},r,{autoFocus:s,color:l,disabled:c,error:d,fullWidth:f,multiline:C,required:L,select:z,variant:M}),J=$z(ae),ne={};M==="outlined"&&(E&&typeof E.shrink<"u"&&(ne.notched=E.shrink),ne.label=w),z&&((!B||!B.native)&&(ne.id=void 0),ne["aria-describedby"]=void 0);const Y=zm(v),fe=g&&Y?`${Y}-helper-text`:void 0,ce=w&&Y?`${Y}-label`:void 0,Me=Lz[M],Le=S.jsx(Me,R({"aria-describedby":fe,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:f,multiline:C,name:b,rows:U,maxRows:I,minRows:T,type:j,value:A,id:Y,inputRef:m,onBlur:P,onChange:x,onFocus:O,placeholder:F,inputProps:p},ne,y));return S.jsxs(Fz,R({className:Te(J.root,a),disabled:c,error:d,fullWidth:f,ref:n,required:L,color:l,variant:M,ownerState:ae},W,{children:[w!=null&&w!==""&&S.jsx(BB,R({htmlFor:Y,id:ce},E,{children:w})),z?S.jsx(uz,R({"aria-describedby":fe,id:Y,labelId:ce,value:A,input:Le},B,{children:o})):Le,g&&S.jsx(TB,R({id:fe},h,{children:g}))]}))}),Nc=Vz;_.createContext(null);const Uz=Ak({palette:{primary:{main:"#000000"},secondary:{main:"#CBFF6A"},error:{main:Io.A400}}});function jz(){const t=Sa();Ta();const e=L$("/pract-chat");return _.useEffect(()=>{e&&t("/pract-chat/chat")},[t,e]),S.jsx("div",{children:S.jsx(XU,{theme:Uz,children:S.jsx(O1,{})})})}var mw={},uA={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(uA);var Jd=uA.exports,Qy={};const Bz=_M(i6);var nI;function Zd(){return nI||(nI=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=Bz}(Qy)),Qy}var zz=Jd;Object.defineProperty(mw,"__esModule",{value:!0});var gw=mw.default=void 0,Wz=zz(Zd()),Hz=S;gw=mw.default=(0,Wz.default)((0,Hz.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7"}),"VisibilityOutlined");var yw={},qz=Jd;Object.defineProperty(yw,"__esModule",{value:!0});var vw=yw.default=void 0,Kz=qz(Zd()),Gz=S;vw=yw.default=(0,Kz.default)((0,Gz.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6m-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14M2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45zm7.5 7.5 2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13m-3.4-3.4 1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53"}),"VisibilityOffOutlined");var rI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(t,e){if(!t)throw lu(e)},lu=function(t){return new Error("Firebase Database ("+cA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Qz=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},_w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Qz(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Yz;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const g=u<<6&192|d;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Yz extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hA=function(t){const e=dA(t);return _w.encodeByteArray(e,!0)},Rp=function(t){return hA(t).replace(/\./g,"")},bp=function(t){try{return _w.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xz(t){return fA(void 0,t)}function fA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Jz(n)||(t[n]=fA(t[n],e[n]));return t}function Jz(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zz(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e7=()=>Zz().__FIREBASE_DEFAULTS__,t7=()=>{if(typeof process>"u"||typeof rI>"u")return;const t=rI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},n7=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bp(t[1]);return e&&JSON.parse(e)},vg=()=>{try{return e7()||t7()||n7()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pA=t=>{var e,n;return(n=(e=vg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mA=t=>{const e=pA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gA=()=>{var t;return(t=vg())===null||t===void 0?void 0:t.config},yA=t=>{var e;return(e=vg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Rp(JSON.stringify(n)),Rp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ew(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function r7(){var t;const e=(t=vg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function i7(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function _A(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function s7(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function wA(){return cA.NODE_ADMIN===!0}function o7(){return!r7()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function EA(){try{return typeof indexedDB=="object"}catch{return!1}}function a7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l7="FirebaseError";class ji extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=l7,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eh.prototype.create)}}class eh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?u7(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ji(i,a,r)}}function u7(t,e){return t.replace(c7,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const c7=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t){return JSON.parse(t)}function In(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=_d(bp(s[0])||""),n=_d(bp(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},d7=function(t){const e=TA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},h7=function(t){const e=TA(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ws(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Vl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function j_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function xp(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function wd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(iI(s)&&iI(o)){if(!wd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function iI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function lc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function uc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function p7(t,e){const n=new m7(t,e);return n.subscribe.bind(n)}class m7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");g7(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Yy),i.error===void 0&&(i.error=Yy),i.complete===void 0&&(i.complete=Yy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function g7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yy(){}function y7(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v7=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,G(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},_g=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t){return t&&t._delegate?t._delegate:t}class hs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ww;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(E7(e))try{this.getOrInitializeService({instanceIdentifier:xo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xo){return this.instances.has(e)}getOptions(e=xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:w7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xo){return this.component?this.component.multipleInstances?e:xo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w7(t){return t===xo?void 0:t}function E7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const S7={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},C7=Ne.INFO,I7={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},R7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=I7[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wg{constructor(e){this.name=e,this._logLevel=C7,this._logHandler=R7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?S7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const b7=(t,e)=>e.some(n=>t instanceof n);let sI,oI;function x7(){return sI||(sI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P7(){return oI||(oI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SA=new WeakMap,B_=new WeakMap,CA=new WeakMap,Xy=new WeakMap,Tw=new WeakMap;function k7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&SA.set(n,t)}).catch(()=>{}),Tw.set(e,t),e}function A7(t){if(B_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});B_.set(t,e)}let z_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return B_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function N7(t){z_=t(z_)}function O7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Jy(this),e,...n);return CA.set(r,e.sort?e.sort():[e]),Gs(r)}:P7().includes(t)?function(...e){return t.apply(Jy(this),e),Gs(SA.get(this))}:function(...e){return Gs(t.apply(Jy(this),e))}}function D7(t){return typeof t=="function"?O7(t):(t instanceof IDBTransaction&&A7(t),b7(t,x7())?new Proxy(t,z_):t)}function Gs(t){if(t instanceof IDBRequest)return k7(t);if(Xy.has(t))return Xy.get(t);const e=D7(t);return e!==t&&(Xy.set(t,e),Tw.set(e,t)),e}const Jy=t=>Tw.get(t);function M7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Gs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Gs(o.result),l.oldVersion,l.newVersion,Gs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const L7=["get","getKey","getAll","getAllKeys","count"],$7=["put","add","delete","clear"],Zy=new Map;function aI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zy.get(e))return Zy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||L7.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Zy.set(e,s),s}N7(t=>({...t,get:(e,n,r)=>aI(e,n)||t.get(e,n,r),has:(e,n)=>!!aI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(V7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function V7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const W_="@firebase/app",lI="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new wg("@firebase/app"),U7="@firebase/app-compat",j7="@firebase/analytics-compat",B7="@firebase/analytics",z7="@firebase/app-check-compat",W7="@firebase/app-check",H7="@firebase/auth",q7="@firebase/auth-compat",K7="@firebase/database",G7="@firebase/database-compat",Q7="@firebase/functions",Y7="@firebase/functions-compat",X7="@firebase/installations",J7="@firebase/installations-compat",Z7="@firebase/messaging",eW="@firebase/messaging-compat",tW="@firebase/performance",nW="@firebase/performance-compat",rW="@firebase/remote-config",iW="@firebase/remote-config-compat",sW="@firebase/storage",oW="@firebase/storage-compat",aW="@firebase/firestore",lW="@firebase/firestore-compat",uW="firebase",cW="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="[DEFAULT]",dW={[W_]:"fire-core",[U7]:"fire-core-compat",[B7]:"fire-analytics",[j7]:"fire-analytics-compat",[W7]:"fire-app-check",[z7]:"fire-app-check-compat",[H7]:"fire-auth",[q7]:"fire-auth-compat",[K7]:"fire-rtdb",[G7]:"fire-rtdb-compat",[Q7]:"fire-fn",[Y7]:"fire-fn-compat",[X7]:"fire-iid",[J7]:"fire-iid-compat",[Z7]:"fire-fcm",[eW]:"fire-fcm-compat",[tW]:"fire-perf",[nW]:"fire-perf-compat",[rW]:"fire-rc",[iW]:"fire-rc-compat",[sW]:"fire-gcs",[oW]:"fire-gcs-compat",[aW]:"fire-fst",[lW]:"fire-fst-compat","fire-js":"fire-js",[uW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp=new Map,q_=new Map;function hW(t,e){try{t.container.addComponent(e)}catch(n){aa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ro(t){const e=t.name;if(q_.has(e))return aa.debug(`There were multiple attempts to register component ${e}.`),!1;q_.set(e,t);for(const n of Pp.values())hW(n,t);return!0}function Eg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Qs=new eh("app","Firebase",fW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pW{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=cW;function IA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:H_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qs.create("bad-app-name",{appName:String(i)});if(n||(n=gA()),!n)throw Qs.create("no-options");const s=Pp.get(i);if(s){if(wd(n,s.options)&&wd(r,s.config))return s;throw Qs.create("duplicate-app",{appName:i})}const o=new T7(i);for(const l of q_.values())o.addComponent(l);const a=new pW(n,r,o);return Pp.set(i,a),a}function Sw(t=H_){const e=Pp.get(t);if(!e&&t===H_&&gA())return IA();if(!e)throw Qs.create("no-app",{appName:t});return e}function Ur(t,e,n){var r;let i=(r=dW[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),aa.warn(a.join(" "));return}ro(new hs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mW="firebase-heartbeat-database",gW=1,Ed="firebase-heartbeat-store";let ev=null;function RA(){return ev||(ev=M7(mW,gW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ed)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qs.create("idb-open",{originalErrorMessage:t.message})})),ev}async function yW(t){try{const n=(await RA()).transaction(Ed),r=await n.objectStore(Ed).get(bA(t));return await n.done,r}catch(e){if(e instanceof ji)aa.warn(e.message);else{const n=Qs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});aa.warn(n.message)}}}async function uI(t,e){try{const r=(await RA()).transaction(Ed,"readwrite");await r.objectStore(Ed).put(e,bA(t)),await r.done}catch(n){if(n instanceof ji)aa.warn(n.message);else{const r=Qs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});aa.warn(r.message)}}}function bA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW=1024,_W=30*24*60*60*1e3;class wW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=cI();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=_W}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=cI(),{heartbeatsToSend:r,unsentEntries:i}=EW(this._heartbeatsCache.heartbeats),s=Rp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function cI(){return new Date().toISOString().substring(0,10)}function EW(t,e=vW){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),dI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return EA()?a7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await yW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return uI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function dI(t){return Rp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SW(t){ro(new hs("platform-logger",e=>new F7(e),"PRIVATE")),ro(new hs("heartbeat",e=>new wW(e),"PRIVATE")),Ur(W_,lI,t),Ur(W_,lI,"esm2017"),Ur("fire-js","")}SW("");function Cw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function xA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CW=xA,PA=new eh("auth","Firebase",xA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp=new wg("@firebase/auth");function IW(t,...e){kp.logLevel<=Ne.WARN&&kp.warn(`Auth (${go}): ${t}`,...e)}function Df(t,...e){kp.logLevel<=Ne.ERROR&&kp.error(`Auth (${go}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(t,...e){throw Iw(t,...e)}function Pi(t,...e){return Iw(t,...e)}function kA(t,e,n){const r=Object.assign(Object.assign({},CW()),{[e]:n});return new eh("auth","Firebase",r).create(e,{appName:t.name})}function RW(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&qr(t,"argument-error"),kA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Iw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return PA.create(t,...e)}function me(t,e,...n){if(!t)throw Iw(e,...n)}function Ji(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Df(e),new Error(e)}function fs(t,e){t||Ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function bW(){return hI()==="http:"||hI()==="https:"}function hI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xW(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(bW()||i7()||"connection"in navigator)?navigator.onLine:!0}function PW(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e,n){this.shortDelay=e,this.longDelay=n,fs(n>e,"Short delay should be less than long delay!"),this.isMobile=Ew()||_A()}get(){return xW()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t,e){fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kW={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AW=new th(3e4,6e4);function yo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Es(t,e,n,r,i={}){return NA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=uu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),AA.fetch()(OA(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function NA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},kW),e);try{const i=new OW(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw tf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw tf(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw tf(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw tf(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw kA(t,c,u);qr(t,c)}}catch(i){if(i instanceof ji)throw i;qr(t,"network-request-failed",{message:String(i)})}}async function nh(t,e,n,r,i={}){const s=await Es(t,e,n,r,i);return"mfaPendingCredential"in s&&qr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function OA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Rw(t.config,i):`${t.config.apiScheme}://${i}`}function NW(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OW{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pi(this.auth,"network-request-failed")),AW.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Pi(t,e,r);return i.customData._tokenResponse=n,i}function fI(t){return t!==void 0&&t.enterprise!==void 0}class DW{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return NW(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function MW(t,e){return Es(t,"GET","/v2/recaptchaConfig",yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LW(t,e){return Es(t,"POST","/v1/accounts:delete",e)}async function $W(t,e){return Es(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FW(t,e=!1){const n=vt(t),r=await n.getIdToken(e),i=bw(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Oc(tv(i.auth_time)),issuedAtTime:Oc(tv(i.iat)),expirationTime:Oc(tv(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function tv(t){return Number(t)*1e3}function bw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Df("JWT malformed, contained fewer than 3 sections"),null;try{const i=bp(n);return i?JSON.parse(i):(Df("Failed to decode base64 JWT payload"),null)}catch(i){return Df("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function VW(t){const e=bw(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ji&&UW(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function UW({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oc(this.lastLoginAt),this.creationTime=Oc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ap(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ul(t,$W(n,{idToken:r}));me(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?WW(s.providerUserInfo):[],a=zW(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new DA(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function BW(t){const e=vt(t);await Ap(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zW(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function WW(t){return t.map(e=>{var{providerId:n}=e,r=Cw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HW(t,e){const n=await NA(t,{},async()=>{const r=uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=OA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",AA.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qW(t,e){return Es(t,"POST","/v2/accounts:revokeToken",yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):VW(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return me(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await HW(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Td;return r&&(me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(me(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Td,this.toJSON())}_performRefresh(){return Ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ko{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Cw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jW(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new DA(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ul(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FW(this,e)}reload(){return BW(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ko(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ap(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ul(this,LW(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,g=(o=n.photoURL)!==null&&o!==void 0?o:void 0,v=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,p=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:m,emailVerified:w,isAnonymous:I,providerData:T,stsTokenManager:C}=n;me(m&&C,e,"internal-error");const b=Td.fromJSON(this.name,C);me(typeof m=="string",e,"internal-error"),Rs(d,e.name),Rs(h,e.name),me(typeof w=="boolean",e,"internal-error"),me(typeof I=="boolean",e,"internal-error"),Rs(f,e.name),Rs(g,e.name),Rs(v,e.name),Rs(E,e.name),Rs(p,e.name),Rs(y,e.name);const P=new Ko({uid:m,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:I,photoURL:g,phoneNumber:f,tenantId:v,stsTokenManager:b,createdAt:p,lastLoginAt:y});return T&&Array.isArray(T)&&(P.providerData=T.map(x=>Object.assign({},x))),E&&(P._redirectEventId=E),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Td;i.updateFromServerResponse(n);const s=new Ko({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ap(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=new Map;function Zi(t){fs(t instanceof Function,"Expected a class definition");let e=pI.get(t);return e?(fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}MA.type="NONE";const mI=MA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(t,e,n){return`firebase:${t}:${e}:${n}`}class yl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Mf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Mf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ko._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new yl(Zi(mI),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Zi(mI);const o=Mf(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Ko._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new yl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new yl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(FA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(LA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(UA(e))return"Blackberry";if(jA(e))return"Webos";if(xw(e))return"Safari";if((e.includes("chrome/")||$A(e))&&!e.includes("edge/"))return"Chrome";if(VA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function LA(t=tn()){return/firefox\//i.test(t)}function xw(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $A(t=tn()){return/crios\//i.test(t)}function FA(t=tn()){return/iemobile/i.test(t)}function VA(t=tn()){return/android/i.test(t)}function UA(t=tn()){return/blackberry/i.test(t)}function jA(t=tn()){return/webos/i.test(t)}function Tg(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function KW(t=tn()){var e;return Tg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GW(){return s7()&&document.documentMode===10}function BA(t=tn()){return Tg(t)||VA(t)||jA(t)||UA(t)||/windows phone/i.test(t)||FA(t)}function QW(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t,e=[]){let n;switch(t){case"Browser":n=gI(tn());break;case"Worker":n=`${gI(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${go}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XW(t,e={}){return Es(t,"GET","/v2/passwordPolicy",yo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JW=6;class ZW{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:JW,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yI(this),this.idTokenSubscription=new yI(this),this.beforeStateQueue=new YW(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await yl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ap(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PW()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?vt(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await XW(this),n=new ZW(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new eh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await qW(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zi(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await yl.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&IW(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function vo(t){return vt(t)}class yI{constructor(e){this.auth=e,this.observer=null,this.addObserver=p7(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tH(t){Sg=t}function WA(t){return Sg.loadJS(t)}function nH(){return Sg.recaptchaEnterpriseScript}function rH(){return Sg.gapiScript}function iH(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const sH="recaptcha-enterprise",oH="NO_RECAPTCHA";class aH{constructor(e){this.type=sH,this.auth=vo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{MW(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new DW(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;fI(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(oH)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&fI(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=nH();l.length!==0&&(l+=a),WA(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function vI(t,e,n,r=!1){const i=new aH(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function G_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await vI(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await vI(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lH(t,e){const n=Eg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(wd(s,e??{}))return i;qr(i,"already-initialized")}return n.initialize({options:e})}function uH(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Zi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function cH(t,e,n){const r=vo(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=HA(e),{host:o,port:a}=dH(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||hH()}function HA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function dH(t){const e=HA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:_I(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:_I(o)}}}function _I(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function hH(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,n){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}async function fH(t,e){return Es(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pH(t,e){return nh(t,"POST","/v1/accounts:signInWithPassword",yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mH(t,e){return nh(t,"POST","/v1/accounts:signInWithEmailLink",yo(t,e))}async function gH(t,e){return nh(t,"POST","/v1/accounts:signInWithEmailLink",yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd extends Pw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Sd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Sd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return G_(e,n,"signInWithPassword",pH);case"emailLink":return mH(e,{email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return G_(e,r,"signUpPassword",fH);case"emailLink":return gH(e,{idToken:n,email:this._email,oobCode:this._password});default:qr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(t,e){return nh(t,"POST","/v1/accounts:signInWithIdp",yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yH="http://localhost";class la extends Pw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Cw(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new la(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return vl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,vl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vl(e,n)}buildRequest(){const e={requestUri:yH,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vH(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _H(t){const e=lc(uc(t)).link,n=e?lc(uc(e)).deep_link_id:null,r=lc(uc(t)).deep_link_id;return(r?lc(uc(r)).link:null)||r||n||e||t}class kw{constructor(e){var n,r,i,s,o,a;const l=lc(uc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=vH((i=l.mode)!==null&&i!==void 0?i:null);me(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=_H(e);try{return new kw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(){this.providerId=cu.PROVIDER_ID}static credential(e,n){return Sd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=kw.parseLink(n);return me(r,"argument-error"),Sd._fromEmailAndCode(e,r.code,r.tenantId)}}cu.PROVIDER_ID="password";cu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh extends Aw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns extends rh{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ns.credentialFromTaggedObject(e)}static credentialFromError(e){return Ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ns.credential(e.oauthAccessToken)}catch{return null}}}Ns.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ns.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends rh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return la._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _i.credential(n,r)}catch{return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com";_i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends rh{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.GITHUB_SIGN_IN_METHOD="github.com";Os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends rh{constructor(){super("twitter.com")}static credential(e,n){return la._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ds.credential(n,r)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wH(t,e){return nh(t,"POST","/v1/accounts:signUp",yo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Ko._fromIdTokenResponse(e,r,i),o=wI(r);return new ua({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=wI(r);return new ua({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function wI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np extends ji{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Np.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Np(e,n,r,i)}}function qA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Np._fromErrorAndOperation(t,s,e,r):s})}async function EH(t,e,n=!1){const r=await Ul(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ua._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TH(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ul(t,qA(r,i,e,t),n);me(s.idToken,r,"internal-error");const o=bw(s.idToken);me(o,r,"internal-error");const{sub:a}=o;return me(t.uid===a,r,"user-mismatch"),ua._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&qr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KA(t,e,n=!1){const r="signIn",i=await qA(t,r,e),s=await ua._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function SH(t,e){return KA(vo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GA(t){const e=vo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function CH(t,e,n){const r=vo(t),o=await G_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wH).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&GA(t),l}),a=await ua._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function IH(t,e,n){return SH(vt(t),cu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&GA(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RH(t,e){return Es(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bH(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=vt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ul(r,RH(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function xH(t,e,n,r){return vt(t).onIdTokenChanged(e,n,r)}function PH(t,e,n){return vt(t).beforeAuthStateChanged(e,n)}function kH(t,e,n,r){return vt(t).onAuthStateChanged(e,n,r)}function AH(t){return vt(t).signOut()}const Op="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Op,"1"),this.storage.removeItem(Op),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NH(){const t=tn();return xw(t)||Tg(t)}const OH=1e3,DH=10;class YA extends QA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=NH()&&QW(),this.fallbackToPolling=BA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);GW()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,DH):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},OH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}YA.type="LOCAL";const MH=YA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA extends QA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}XA.type="SESSION";const JA=XA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LH(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Cg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await LH(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $H{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Nw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return window}function FH(t){ki().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function VH(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UH(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jH(){return ZA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="firebaseLocalStorageDb",BH=1,Dp="firebaseLocalStorage",t2="fbase_key";class ih{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ig(t,e){return t.transaction([Dp],e?"readwrite":"readonly").objectStore(Dp)}function zH(){const t=indexedDB.deleteDatabase(e2);return new ih(t).toPromise()}function Q_(){const t=indexedDB.open(e2,BH);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Dp,{keyPath:t2})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Dp)?e(r):(r.close(),await zH(),e(await Q_()))})})}async function EI(t,e,n){const r=Ig(t,!0).put({[t2]:e,value:n});return new ih(r).toPromise()}async function WH(t,e){const n=Ig(t,!1).get(e),r=await new ih(n).toPromise();return r===void 0?null:r.value}function TI(t,e){const n=Ig(t,!0).delete(e);return new ih(n).toPromise()}const HH=800,qH=3;class n2{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Q_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qH)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cg._getInstance(jH()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await VH(),!this.activeServiceWorker)return;this.sender=new $H(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UH()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Q_();return await EI(e,Op,"1"),await TI(e,Op),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>EI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>WH(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>TI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Ig(i,!1).getAll();return new ih(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HH)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}n2.type="LOCAL";const KH=n2;new th(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(t,e){return e?Zi(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow extends Pw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GH(t){return KA(t.auth,new Ow(t),t.bypassAuthState)}function QH(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),TH(n,new Ow(t),t.bypassAuthState)}async function YH(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),EH(n,new Ow(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GH;case"linkViaPopup":case"linkViaRedirect":return YH;case"reauthViaPopup":case"reauthViaRedirect":return QH;default:qr(this.auth,"internal-error")}}resolve(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH=new th(2e3,1e4);async function s2(t,e,n){const r=vo(t);RW(t,e,Aw);const i=r2(r,n);return new Fo(r,"signInViaPopup",e,i).executeNotNull()}class Fo extends i2{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Fo.currentPopupAction&&Fo.currentPopupAction.cancel(),Fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const e=Nw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,XH.get())};e()}}Fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH="pendingRedirect",Lf=new Map;class ZH extends i2{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Lf.get(this.auth._key());if(!e){try{const r=await eq(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Lf.set(this.auth._key(),e)}return this.bypassAuthState||Lf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eq(t,e){const n=rq(e),r=nq(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function tq(t,e){Lf.set(t._key(),e)}function nq(t){return Zi(t._redirectPersistence)}function rq(t){return Mf(JH,t.config.apiKey,t.name)}async function iq(t,e,n=!1){const r=vo(t),i=r2(r,e),o=await new ZH(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq=10*60*1e3;class oq{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aq(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!o2(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sq&&this.cachedEventUids.clear(),this.cachedEventUids.has(SI(e))}saveEventToCache(e){this.cachedEventUids.add(SI(e)),this.lastProcessedEventTime=Date.now()}}function SI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function o2({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aq(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o2(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lq(t,e={}){return Es(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uq=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cq=/^https?/;async function dq(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lq(t);for(const n of e)try{if(hq(n))return}catch{}qr(t,"unauthorized-domain")}function hq(t){const e=K_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!cq.test(n))return!1;if(uq.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fq=new th(3e4,6e4);function CI(){const t=ki().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pq(t){return new Promise((e,n)=>{var r,i,s;function o(){CI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{CI(),n(Pi(t,"network-request-failed"))},timeout:fq.get()})}if(!((i=(r=ki().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ki().gapi)===null||s===void 0)&&s.load)o();else{const a=iH("iframefcb");return ki()[a]=()=>{gapi.load?o():n(Pi(t,"network-request-failed"))},WA(`${rH()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw $f=null,e})}let $f=null;function mq(t){return $f=$f||pq(t),$f}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gq=new th(5e3,15e3),yq="__/auth/iframe",vq="emulator/auth/iframe",_q={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wq=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Eq(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Rw(e,vq):`https://${t.config.authDomain}/${yq}`,r={apiKey:e.apiKey,appName:t.name,v:go},i=wq.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${uu(r).slice(1)}`}async function Tq(t){const e=await mq(t),n=ki().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:Eq(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_q,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Pi(t,"network-request-failed"),a=ki().setTimeout(()=>{s(o)},gq.get());function l(){ki().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sq={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Cq=500,Iq=600,Rq="_blank",bq="http://localhost";class II{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xq(t,e,n,r=Cq,i=Iq){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Sq),{width:r.toString(),height:i.toString(),top:s,left:o}),u=tn().toLowerCase();n&&(a=$A(u)?Rq:n),LA(u)&&(e=e||bq,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(KW(u)&&a!=="_self")return Pq(e||"",a),new II(null);const d=window.open(e||"",a,c);me(d,t,"popup-blocked");try{d.focus()}catch{}return new II(d)}function Pq(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kq="__/auth/handler",Aq="emulator/auth/handler",Nq=encodeURIComponent("fac");async function RI(t,e,n,r,i,s){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:go,eventId:i};if(e instanceof Aw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",j_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof rh){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${Nq}=${encodeURIComponent(l)}`:"";return`${Oq(t)}?${uu(a).slice(1)}${u}`}function Oq({config:t}){return t.emulator?Rw(t,Aq):`https://${t.authDomain}/${kq}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv="webStorageSupport";class Dq{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JA,this._completeRedirectFn=iq,this._overrideRedirectResult=tq}async _openPopup(e,n,r,i){var s;fs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await RI(e,n,r,K_(),i);return xq(e,o,Nw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await RI(e,n,r,K_(),i);return FH(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(fs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Tq(e),r=new oq(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nv,{type:nv},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[nv];o!==void 0&&n(!!o),qr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dq(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BA()||xw()||Tg()}}const Mq=Dq;var bI="@firebase/auth",xI="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lq{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $q(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Fq(t){ro(new hs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zA(t)},u=new eH(r,i,s,l);return uH(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ro(new hs("auth-internal",e=>{const n=vo(e.getProvider("auth").getImmediate());return(r=>new Lq(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(bI,xI,$q(t)),Ur(bI,xI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vq=5*60,Uq=yA("authIdTokenMaxAge")||Vq;let PI=null;const jq=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Uq)return;const i=n==null?void 0:n.token;PI!==i&&(PI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Bq(t=Sw()){const e=Eg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lH(t,{popupRedirectResolver:Mq,persistence:[KH,MH,JA]}),r=yA("authTokenSyncURL");if(r){const s=jq(r);PH(n,s,()=>s(n.currentUser)),xH(n,o=>s(o))}const i=pA("auth");return i&&cH(n,`http://${i}`),n}function zq(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}tH({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Pi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",zq().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Fq("Browser");var Wq="firebase",Hq="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur(Wq,Hq,"app");var qq=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q,Dw=Dw||{},ye=qq||self;function Rg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function sh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Kq(t){return Object.prototype.hasOwnProperty.call(t,rv)&&t[rv]||(t[rv]=++Gq)}var rv="closure_uid_"+(1e9*Math.random()>>>0),Gq=0;function Qq(t,e,n){return t.call.apply(t.bind,arguments)}function Yq(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function jn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?jn=Qq:jn=Yq,jn.apply(null,arguments)}function nf(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function _n(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function _o(){this.s=this.s,this.o=this.o}var Xq=0;_o.prototype.s=!1;_o.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Xq!=0)&&Kq(this)};_o.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const a2=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Mw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function kI(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Rg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Bn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Bn.prototype.h=function(){this.defaultPrevented=!0};var Jq=function(){if(!ye.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ye.addEventListener("test",n,e),ye.removeEventListener("test",n,e)}catch{}return t}();function Cd(t){return/^[\s\xa0]*$/.test(t)}function bg(){var t=ye.navigator;return t&&(t=t.userAgent)?t:""}function wi(t){return bg().indexOf(t)!=-1}function Lw(t){return Lw[" "](t),t}Lw[" "]=function(){};function Zq(t,e){var n=HK;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var eK=wi("Opera"),jl=wi("Trident")||wi("MSIE"),l2=wi("Edge"),Y_=l2||jl,u2=wi("Gecko")&&!(bg().toLowerCase().indexOf("webkit")!=-1&&!wi("Edge"))&&!(wi("Trident")||wi("MSIE"))&&!wi("Edge"),tK=bg().toLowerCase().indexOf("webkit")!=-1&&!wi("Edge");function c2(){var t=ye.document;return t?t.documentMode:void 0}var X_;e:{var iv="",sv=function(){var t=bg();if(u2)return/rv:([^\);]+)(\)|;)/.exec(t);if(l2)return/Edge\/([\d\.]+)/.exec(t);if(jl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(tK)return/WebKit\/(\S+)/.exec(t);if(eK)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(sv&&(iv=sv?sv[1]:""),jl){var ov=c2();if(ov!=null&&ov>parseFloat(iv)){X_=String(ov);break e}}X_=iv}var J_;if(ye.document&&jl){var AI=c2();J_=AI||parseInt(X_,10)||void 0}else J_=void 0;var nK=J_;function Id(t,e){if(Bn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(u2){e:{try{Lw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:rK[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Id.$.h.call(this)}}_n(Id,Bn);var rK={2:"touch",3:"pen",4:"mouse"};Id.prototype.h=function(){Id.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var oh="closure_listenable_"+(1e6*Math.random()|0),iK=0;function sK(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++iK,this.fa=this.ia=!1}function xg(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function $w(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function oK(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function d2(t){const e={};for(const n in t)e[n]=t[n];return e}const NI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function h2(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<NI.length;s++)n=NI[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Pg(t){this.src=t,this.g={},this.h=0}Pg.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=e0(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new sK(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function Z_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=a2(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(xg(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function e0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Fw="closure_lm_"+(1e6*Math.random()|0),av={};function f2(t,e,n,r,i){if(r&&r.once)return m2(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)f2(t,e[s],n,r,i);return null}return n=jw(n),t&&t[oh]?t.O(e,n,sh(r)?!!r.capture:!!r,i):p2(t,e,n,!1,r,i)}function p2(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=sh(i)?!!i.capture:!!i,a=Uw(t);if(a||(t[Fw]=a=new Pg(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=aK(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Jq||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(y2(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function aK(){function t(n){return e.call(t.src,t.listener,n)}const e=lK;return t}function m2(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)m2(t,e[s],n,r,i);return null}return n=jw(n),t&&t[oh]?t.P(e,n,sh(r)?!!r.capture:!!r,i):p2(t,e,n,!0,r,i)}function g2(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)g2(t,e[s],n,r,i);else r=sh(r)?!!r.capture:!!r,n=jw(n),t&&t[oh]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=e0(s,n,r,i),-1<n&&(xg(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Uw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=e0(e,n,r,i)),(n=-1<t?e[t]:null)&&Vw(n))}function Vw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[oh])Z_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(y2(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Uw(e))?(Z_(n,t),n.h==0&&(n.src=null,e[Fw]=null)):xg(t)}}}function y2(t){return t in av?av[t]:av[t]="on"+t}function lK(t,e){if(t.fa)t=!0;else{e=new Id(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Vw(t),t=n.call(r,e)}return t}function Uw(t){return t=t[Fw],t instanceof Pg?t:null}var lv="__closure_events_fn_"+(1e9*Math.random()>>>0);function jw(t){return typeof t=="function"?t:(t[lv]||(t[lv]=function(e){return t.handleEvent(e)}),t[lv])}function yn(){_o.call(this),this.i=new Pg(this),this.S=this,this.J=null}_n(yn,_o);yn.prototype[oh]=!0;yn.prototype.removeEventListener=function(t,e,n,r){g2(this,t,e,n,r)};function xn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Bn(e,t);else if(e instanceof Bn)e.target=e.target||t;else{var i=e;e=new Bn(r,t),h2(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=rf(o,r,!0,e)&&i}if(o=e.g=t,i=rf(o,r,!0,e)&&i,i=rf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=rf(o,r,!1,e)&&i}yn.prototype.N=function(){if(yn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xg(n[r]);delete t.g[e],t.h--}}this.J=null};yn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};yn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function rf(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Z_(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Bw=ye.JSON.stringify;class uK{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function cK(){var t=zw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class dK{constructor(){this.h=this.g=null}add(e,n){const r=v2.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var v2=new uK(()=>new hK,t=>t.reset());class hK{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function fK(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function pK(t){ye.setTimeout(()=>{throw t},0)}let Rd,bd=!1,zw=new dK,_2=()=>{const t=ye.Promise.resolve(void 0);Rd=()=>{t.then(mK)}};var mK=()=>{for(var t;t=cK();){try{t.h.call(t.g)}catch(n){pK(n)}var e=v2;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}bd=!1};function kg(t,e){yn.call(this),this.h=t||1,this.g=e||ye,this.j=jn(this.qb,this),this.l=Date.now()}_n(kg,yn);Q=kg.prototype;Q.ga=!1;Q.T=null;Q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xn(this,"tick"),this.ga&&(Ww(this),this.start()))}};Q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ww(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Q.N=function(){kg.$.N.call(this),Ww(this),delete this.g};function Hw(t,e,n){if(typeof t=="function")n&&(t=jn(t,n));else if(t&&typeof t.handleEvent=="function")t=jn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ye.setTimeout(t,e||0)}function w2(t){t.g=Hw(()=>{t.g=null,t.i&&(t.i=!1,w2(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class gK extends _o{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:w2(this)}N(){super.N(),this.g&&(ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xd(t){_o.call(this),this.h=t,this.g={}}_n(xd,_o);var OI=[];function E2(t,e,n,r){Array.isArray(n)||(n&&(OI[0]=n.toString()),n=OI);for(var i=0;i<n.length;i++){var s=f2(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function T2(t){$w(t.g,function(e,n){this.g.hasOwnProperty(n)&&Vw(e)},t),t.g={}}xd.prototype.N=function(){xd.$.N.call(this),T2(this)};xd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ag(){this.g=!0}Ag.prototype.Ea=function(){this.g=!1};function yK(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function vK(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ol(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+wK(t,n)+(r?" "+r:"")})}function _K(t,e){t.info(function(){return"TIMEOUT: "+e})}Ag.prototype.info=function(){};function wK(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Bw(n)}catch{return e}}var Ia={},DI=null;function Ng(){return DI=DI||new yn}Ia.Ta="serverreachability";function S2(t){Bn.call(this,Ia.Ta,t)}_n(S2,Bn);function Pd(t){const e=Ng();xn(e,new S2(e))}Ia.STAT_EVENT="statevent";function C2(t,e){Bn.call(this,Ia.STAT_EVENT,t),this.stat=e}_n(C2,Bn);function Gn(t){const e=Ng();xn(e,new C2(e,t))}Ia.Ua="timingevent";function I2(t,e){Bn.call(this,Ia.Ua,t),this.size=e}_n(I2,Bn);function ah(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ye.setTimeout(function(){t()},e)}var Og={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},R2={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qw(){}qw.prototype.h=null;function MI(t){return t.h||(t.h=t.i())}function b2(){}var lh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Kw(){Bn.call(this,"d")}_n(Kw,Bn);function Gw(){Bn.call(this,"c")}_n(Gw,Bn);var t0;function Dg(){}_n(Dg,qw);Dg.prototype.g=function(){return new XMLHttpRequest};Dg.prototype.i=function(){return{}};t0=new Dg;function uh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new xd(this),this.P=EK,t=Y_?125:void 0,this.V=new kg(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new x2}function x2(){this.i=null,this.g="",this.h=!1}var EK=45e3,P2={},n0={};Q=uh.prototype;Q.setTimeout=function(t){this.P=t};function r0(t,e,n){t.L=1,t.A=Lg(ps(e)),t.u=n,t.S=!0,k2(t,null)}function k2(t,e){t.G=Date.now(),ch(t),t.B=ps(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),F2(n.i,"t",r),t.o=0,n=t.l.J,t.h=new x2,t.g=sN(t.l,n?e:null,!t.u),0<t.O&&(t.M=new gK(jn(t.Pa,t,t.g),t.O)),E2(t.U,t.g,"readystatechange",t.nb),e=t.I?d2(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Pd(),yK(t.j,t.v,t.B,t.m,t.W,t.u)}Q.nb=function(t){t=t.target;const e=this.M;e&&Ei(t)==3?e.l():this.Pa(t)};Q.Pa=function(t){try{if(t==this.g)e:{const c=Ei(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Y_||this.g&&(this.h.h||this.g.ja()||VI(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Pd(3):Pd(2)),Mg(this);var n=this.g.da();this.ca=n;t:if(A2(this)){var r=VI(this.g);t="";var i=r.length,s=Ei(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vo(this),Dc(this);var o="";break t}this.h.i=new ye.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,vK(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cd(a)){var u=a;break t}}u=null}if(n=u)ol(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,i0(this,n);else{this.i=!1,this.s=3,Gn(12),Vo(this),Dc(this);break e}}this.S?(N2(this,c,o),Y_&&this.i&&c==3&&(E2(this.U,this.V,"tick",this.mb),this.V.start())):(ol(this.j,this.m,o,null),i0(this,o)),c==4&&Vo(this),this.i&&!this.J&&(c==4?tN(this.l,this):(this.i=!1,ch(this)))}else BK(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Gn(12)):(this.s=0,Gn(13)),Vo(this),Dc(this)}}}catch{}finally{}};function A2(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function N2(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=TK(t,n),i==n0){e==4&&(t.s=4,Gn(14),r=!1),ol(t.j,t.m,null,"[Incomplete Response]");break}else if(i==P2){t.s=4,Gn(15),ol(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ol(t.j,t.m,i,null),i0(t,i);A2(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Gn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),eE(e),e.M=!0,Gn(11))):(ol(t.j,t.m,n,"[Invalid Chunked Response]"),Vo(t),Dc(t))}Q.mb=function(){if(this.g){var t=Ei(this.g),e=this.g.ja();this.o<e.length&&(Mg(this),N2(this,t,e),this.i&&t!=4&&ch(this))}};function TK(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?n0:(n=Number(e.substring(n,r)),isNaN(n)?P2:(r+=1,r+n>e.length?n0:(e=e.slice(r,r+n),t.o=r+n,e)))}Q.cancel=function(){this.J=!0,Vo(this)};function ch(t){t.Y=Date.now()+t.P,O2(t,t.P)}function O2(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=ah(jn(t.lb,t),e)}function Mg(t){t.C&&(ye.clearTimeout(t.C),t.C=null)}Q.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(_K(this.j,this.B),this.L!=2&&(Pd(),Gn(17)),Vo(this),this.s=2,Dc(this)):O2(this,this.Y-t)};function Dc(t){t.l.H==0||t.J||tN(t.l,t)}function Vo(t){Mg(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Ww(t.V),T2(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function i0(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||s0(n.i,t))){if(!t.K&&s0(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)$p(n),Ug(n);else break e;Zw(n),Gn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=ah(jn(n.ib,n),6e3));if(1>=j2(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Uo(n,11)}else if((t.K||n.g==t)&&$p(n),!Cd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.i;s.g||g.indexOf("spdy")==-1&&g.indexOf("quic")==-1&&g.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Qw(s,s.h),s.h=null))}if(r.F){const v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.Da=v,mt(r.I,r.F,v))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=iN(r,r.J?r.pa:null,r.Y),o.K){B2(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Mg(a),ch(a)),r.g=o}else Z2(r);0<n.j.length&&jg(n)}else u[0]!="stop"&&u[0]!="close"||Uo(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Uo(n,7):Jw(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Pd(4)}catch{}}function SK(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Rg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function CK(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Rg(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function D2(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Rg(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=CK(t),r=SK(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var M2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function IK(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Go(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Go){this.h=t.h,Mp(this,t.j),this.s=t.s,this.g=t.g,Lp(this,t.m),this.l=t.l;var e=t.i,n=new kd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),LI(this,n),this.o=t.o}else t&&(e=String(t).match(M2))?(this.h=!1,Mp(this,e[1]||"",!0),this.s=cc(e[2]||""),this.g=cc(e[3]||"",!0),Lp(this,e[4]),this.l=cc(e[5]||"",!0),LI(this,e[6]||"",!0),this.o=cc(e[7]||"")):(this.h=!1,this.i=new kd(null,this.h))}Go.prototype.toString=function(){var t=[],e=this.j;e&&t.push(dc(e,$I,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(dc(e,$I,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(dc(n,n.charAt(0)=="/"?xK:bK,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",dc(n,kK)),t.join("")};function ps(t){return new Go(t)}function Mp(t,e,n){t.j=n?cc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Lp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function LI(t,e,n){e instanceof kd?(t.i=e,AK(t.i,t.h)):(n||(e=dc(e,PK)),t.i=new kd(e,t.h))}function mt(t,e,n){t.i.set(e,n)}function Lg(t){return mt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function cc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function dc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,RK),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function RK(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var $I=/[#\/\?@]/g,bK=/[#\?:]/g,xK=/[#\?]/g,PK=/[#\?@]/g,kK=/#/g;function kd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function wo(t){t.g||(t.g=new Map,t.h=0,t.i&&IK(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Q=kd.prototype;Q.add=function(t,e){wo(this),this.i=null,t=du(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function L2(t,e){wo(t),e=du(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function $2(t,e){return wo(t),e=du(t,e),t.g.has(e)}Q.forEach=function(t,e){wo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Q.ta=function(){wo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Q.Z=function(t){wo(this);let e=[];if(typeof t=="string")$2(this,t)&&(e=e.concat(this.g.get(du(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Q.set=function(t,e){return wo(this),this.i=null,t=du(this,t),$2(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function F2(t,e,n){L2(t,e),0<n.length&&(t.i=null,t.g.set(du(t,e),Mw(n)),t.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function du(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function AK(t,e){e&&!t.j&&(wo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(L2(this,r),F2(this,i,n))},t)),t.j=e}var NK=class{constructor(t,e){this.g=t,this.map=e}};function V2(t){this.l=t||OK,ye.PerformanceNavigationTiming?(t=ye.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ye.g&&ye.g.Ka&&ye.g.Ka()&&ye.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var OK=10;function U2(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function j2(t){return t.h?1:t.g?t.g.size:0}function s0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Qw(t,e){t.g?t.g.add(e):t.h=e}function B2(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}V2.prototype.cancel=function(){if(this.i=z2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function z2(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Mw(t.i)}var DK=class{stringify(t){return ye.JSON.stringify(t,void 0)}parse(t){return ye.JSON.parse(t,void 0)}};function MK(){this.g=new DK}function LK(t,e,n){const r=n||"";try{D2(t,function(i,s){let o=i;sh(i)&&(o=Bw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function $K(t,e){const n=new Ag;if(ye.Image){const r=new Image;r.onload=nf(sf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=nf(sf,n,r,"TestLoadImage: error",!1,e),r.onabort=nf(sf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=nf(sf,n,r,"TestLoadImage: timeout",!1,e),ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function sf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function $g(t){this.l=t.ec||null,this.j=t.ob||!1}_n($g,qw);$g.prototype.g=function(){return new Fg(this.l,this.j)};$g.prototype.i=function(t){return function(){return t}}({});function Fg(t,e){yn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Yw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_n(Fg,yn);var Yw=0;Q=Fg.prototype;Q.open=function(t,e){if(this.readyState!=Yw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ad(this)};Q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ye).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,dh(this)),this.readyState=Yw};Q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ad(this)),this.g&&(this.readyState=3,Ad(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ye.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;W2(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function W2(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?dh(this):Ad(this),this.readyState==3&&W2(this)}};Q.Za=function(t){this.g&&(this.response=this.responseText=t,dh(this))};Q.Ya=function(t){this.g&&(this.response=t,dh(this))};Q.ka=function(){this.g&&dh(this)};function dh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ad(t)}Q.setRequestHeader=function(t,e){this.v.append(t,e)};Q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ad(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Fg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var FK=ye.JSON.parse;function Bt(t){yn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=H2,this.L=this.M=!1}_n(Bt,yn);var H2="",VK=/^https?$/i,UK=["POST","PUT"];Q=Bt.prototype;Q.Oa=function(t){this.M=t};Q.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():t0.g(),this.C=this.u?MI(this.u):MI(t0),this.g.onreadystatechange=jn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){FI(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ye.FormData&&t instanceof ye.FormData,!(0<=a2(UK,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{G2(this),0<this.B&&((this.L=jK(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jn(this.ua,this)):this.A=Hw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){FI(this,s)}};function jK(t){return jl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Q.ua=function(){typeof Dw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xn(this,"timeout"),this.abort(8))};function FI(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,q2(t),Vg(t)}function q2(t){t.F||(t.F=!0,xn(t,"complete"),xn(t,"error"))}Q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,xn(this,"complete"),xn(this,"abort"),Vg(this))};Q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vg(this,!0)),Bt.$.N.call(this)};Q.La=function(){this.s||(this.G||this.v||this.l?K2(this):this.kb())};Q.kb=function(){K2(this)};function K2(t){if(t.h&&typeof Dw<"u"&&(!t.C[1]||Ei(t)!=4||t.da()!=2)){if(t.v&&Ei(t)==4)Hw(t.La,0,t);else if(xn(t,"readystatechange"),Ei(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(M2)[1]||null;!i&&ye.self&&ye.self.location&&(i=ye.self.location.protocol.slice(0,-1)),r=!VK.test(i?i.toLowerCase():"")}n=r}if(n)xn(t,"complete"),xn(t,"success");else{t.m=6;try{var s=2<Ei(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",q2(t)}}finally{Vg(t)}}}}function Vg(t,e){if(t.g){G2(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||xn(t,"ready");try{n.onreadystatechange=r}catch{}}}function G2(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ye.clearTimeout(t.A),t.A=null)}Q.isActive=function(){return!!this.g};function Ei(t){return t.g?t.g.readyState:0}Q.da=function(){try{return 2<Ei(this)?this.g.status:-1}catch{return-1}};Q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),FK(e)}};function VI(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case H2:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function BK(t){const e={};t=(t.g&&2<=Ei(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Cd(t[r]))continue;var n=fK(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}oK(e,function(r){return r.join(", ")})}Q.Ia=function(){return this.m};Q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Q2(t){let e="";return $w(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Xw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Q2(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):mt(t,e,n))}function Hu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Y2(t){this.Ga=0,this.j=[],this.l=new Ag,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Hu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Hu("baseRetryDelayMs",5e3,t),this.hb=Hu("retryDelaySeedMs",1e4,t),this.eb=Hu("forwardChannelMaxRetries",2,t),this.xa=Hu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new V2(t&&t.concurrentRequestLimit),this.Ja=new MK,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Q=Y2.prototype;Q.ra=8;Q.H=1;function Jw(t){if(X2(t),t.H==3){var e=t.W++,n=ps(t.I);if(mt(n,"SID",t.K),mt(n,"RID",e),mt(n,"TYPE","terminate"),hh(t,n),e=new uh(t,t.l,e),e.L=2,e.A=Lg(ps(n)),n=!1,ye.navigator&&ye.navigator.sendBeacon)try{n=ye.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ye.Image&&(new Image().src=e.A,n=!0),n||(e.g=sN(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ch(e)}rN(t)}function Ug(t){t.g&&(eE(t),t.g.cancel(),t.g=null)}function X2(t){Ug(t),t.u&&(ye.clearTimeout(t.u),t.u=null),$p(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ye.clearTimeout(t.m),t.m=null)}function jg(t){if(!U2(t.i)&&!t.m){t.m=!0;var e=t.Na;Rd||_2(),bd||(Rd(),bd=!0),zw.add(e,t),t.C=0}}function zK(t,e){return j2(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ah(jn(t.Na,t,e),nN(t,t.C)),t.C++,!0)}Q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new uh(this,this.l,t);let s=this.s;if(this.U&&(s?(s=d2(s),h2(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=J2(this,i,e),n=ps(this.I),mt(n,"RID",t),mt(n,"CVER",22),this.F&&mt(n,"X-HTTP-Session-Id",this.F),hh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Q2(s)))+"&"+e:this.o&&Xw(n,this.o,s)),Qw(this.i,i),this.bb&&mt(n,"TYPE","init"),this.P?(mt(n,"$req",e),mt(n,"SID","null"),i.aa=!0,r0(i,n,null)):r0(i,n,e),this.H=2}}else this.H==3&&(t?UI(this,t):this.j.length==0||U2(this.i)||UI(this))};function UI(t,e){var n;e?n=e.m:n=t.W++;const r=ps(t.I);mt(r,"SID",t.K),mt(r,"RID",n),mt(r,"AID",t.V),hh(t,r),t.o&&t.s&&Xw(r,t.o,t.s),n=new uh(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=J2(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Qw(t.i,n),r0(n,r,e)}function hh(t,e){t.na&&$w(t.na,function(n,r){mt(e,r,n)}),t.h&&D2({},function(n,r){mt(e,r,n)})}function J2(t,e,n){n=Math.min(t.j.length,n);var r=t.h?jn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{LK(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Z2(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Rd||_2(),bd||(Rd(),bd=!0),zw.add(e,t),t.A=0}}function Zw(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ah(jn(t.Ma,t),nN(t,t.A)),t.A++,!0)}Q.Ma=function(){if(this.u=null,eN(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ah(jn(this.jb,this),t)}};Q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Gn(10),Ug(this),eN(this))};function eE(t){t.B!=null&&(ye.clearTimeout(t.B),t.B=null)}function eN(t){t.g=new uh(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ps(t.wa);mt(e,"RID","rpc"),mt(e,"SID",t.K),mt(e,"AID",t.V),mt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&mt(e,"TO",t.qa),mt(e,"TYPE","xmlhttp"),hh(t,e),t.o&&t.s&&Xw(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Lg(ps(e)),n.u=null,n.S=!0,k2(n,t)}Q.ib=function(){this.v!=null&&(this.v=null,Ug(this),Zw(this),Gn(19))};function $p(t){t.v!=null&&(ye.clearTimeout(t.v),t.v=null)}function tN(t,e){var n=null;if(t.g==e){$p(t),eE(t),t.g=null;var r=2}else if(s0(t.i,e))n=e.F,B2(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Ng(),xn(r,new I2(r,n)),jg(t)}else Z2(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&zK(t,e)||r==2&&Zw(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Uo(t,5);break;case 4:Uo(t,10);break;case 3:Uo(t,6);break;default:Uo(t,2)}}}function nN(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Uo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=jn(t.pb,t);n||(n=new Go("//www.google.com/images/cleardot.gif"),ye.location&&ye.location.protocol=="http"||Mp(n,"https"),Lg(n)),$K(n.toString(),r)}else Gn(2);t.H=0,t.h&&t.h.za(e),rN(t),X2(t)}Q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Gn(2)):(this.l.info("Failed to ping google.com"),Gn(1))};function rN(t){if(t.H=0,t.ma=[],t.h){const e=z2(t.i);(e.length!=0||t.j.length!=0)&&(kI(t.ma,e),kI(t.ma,t.j),t.i.i.length=0,Mw(t.j),t.j.length=0),t.h.ya()}}function iN(t,e,n){var r=n instanceof Go?ps(n):new Go(n);if(r.g!="")e&&(r.g=e+"."+r.g),Lp(r,r.m);else{var i=ye.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Go(null);r&&Mp(s,r),e&&(s.g=e),i&&Lp(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&mt(r,n,e),mt(r,"VER",t.ra),hh(t,r),r}function sN(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Bt(new $g({ob:n})):new Bt(t.va),e.Oa(t.J),e}Q.isActive=function(){return!!this.h&&this.h.isActive(this)};function oN(){}Q=oN.prototype;Q.Ba=function(){};Q.Aa=function(){};Q.za=function(){};Q.ya=function(){};Q.isActive=function(){return!0};Q.Va=function(){};function Fp(){if(jl&&!(10<=Number(nK)))throw Error("Environmental error: no available transport.")}Fp.prototype.g=function(t,e){return new Sr(t,e)};function Sr(t,e){yn.call(this),this.g=new Y2(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Cd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cd(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new hu(this)}_n(Sr,yn);Sr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Gn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=iN(t,null,t.Y),jg(t)};Sr.prototype.close=function(){Jw(this.g)};Sr.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Bw(t),t=n);e.j.push(new NK(e.fb++,t)),e.H==3&&jg(e)};Sr.prototype.N=function(){this.g.h=null,delete this.j,Jw(this.g),delete this.g,Sr.$.N.call(this)};function aN(t){Kw.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}_n(aN,Kw);function lN(){Gw.call(this),this.status=1}_n(lN,Gw);function hu(t){this.g=t}_n(hu,oN);hu.prototype.Ba=function(){xn(this.g,"a")};hu.prototype.Aa=function(t){xn(this.g,new aN(t))};hu.prototype.za=function(t){xn(this.g,new lN)};hu.prototype.ya=function(){xn(this.g,"b")};function WK(){this.blockSize=-1}function ui(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}_n(ui,WK);ui.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function uv(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}ui.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)uv(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){uv(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){uv(this,r),i=0;break}}this.h=i,this.i+=e};ui.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ze(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var HK={};function tE(t){return-128<=t&&128>t?Zq(t,function(e){return new Ze([e|0],0>e?-1:0)}):new Ze([t|0],0>t?-1:0)}function Ti(t){if(isNaN(t)||!isFinite(t))return _l;if(0>t)return Cn(Ti(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=o0;return new Ze(e,0)}function uN(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Cn(uN(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ti(Math.pow(e,8)),r=_l,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Ti(Math.pow(e,s)),r=r.R(s).add(Ti(o))):(r=r.R(n),r=r.add(Ti(o)))}return r}var o0=4294967296,_l=tE(0),a0=tE(1),jI=tE(16777216);Q=Ze.prototype;Q.ea=function(){if(Or(this))return-Cn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:o0+r)*e,e*=o0}return t};Q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(es(this))return"0";if(Or(this))return"-"+Cn(this).toString(t);for(var e=Ti(Math.pow(t,6)),n=this,r="";;){var i=Up(n,e).g;n=Vp(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,es(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function es(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Or(t){return t.h==-1}Q.X=function(t){return t=Vp(this,t),Or(t)?-1:es(t)?0:1};function Cn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ze(n,~t.h).add(a0)}Q.abs=function(){return Or(this)?Cn(this):this};Q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ze(n,n[n.length-1]&-2147483648?-1:0)};function Vp(t,e){return t.add(Cn(e))}Q.R=function(t){if(es(this)||es(t))return _l;if(Or(this))return Or(t)?Cn(this).R(Cn(t)):Cn(Cn(this).R(t));if(Or(t))return Cn(this.R(Cn(t)));if(0>this.X(jI)&&0>t.X(jI))return Ti(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,of(n,2*r+2*i),n[2*r+2*i+1]+=s*l,of(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,of(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,of(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ze(n,0)};function of(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function qu(t,e){this.g=t,this.h=e}function Up(t,e){if(es(e))throw Error("division by zero");if(es(t))return new qu(_l,_l);if(Or(t))return e=Up(Cn(t),e),new qu(Cn(e.g),Cn(e.h));if(Or(e))return e=Up(t,Cn(e)),new qu(Cn(e.g),e.h);if(30<t.g.length){if(Or(t)||Or(e))throw Error("slowDivide_ only works with positive integers.");for(var n=a0,r=e;0>=r.X(t);)n=BI(n),r=BI(r);var i=Fa(n,1),s=Fa(r,1);for(r=Fa(r,2),n=Fa(n,2);!es(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Fa(r,1),n=Fa(n,1)}return e=Vp(t,i.R(e)),new qu(i,e)}for(i=_l;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Ti(n),o=s.R(e);Or(o)||0<o.X(t);)n-=r,s=Ti(n),o=s.R(e);es(s)&&(s=a0),i=i.add(s),t=Vp(t,o)}return new qu(i,t)}Q.gb=function(t){return Up(this,t).h};Q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ze(n,this.h&t.h)};Q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ze(n,this.h|t.h)};Q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ze(n,this.h^t.h)};function BI(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ze(n,t.h)}function Fa(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ze(i,t.h)}Fp.prototype.createWebChannel=Fp.prototype.g;Sr.prototype.send=Sr.prototype.u;Sr.prototype.open=Sr.prototype.m;Sr.prototype.close=Sr.prototype.close;Og.NO_ERROR=0;Og.TIMEOUT=8;Og.HTTP_ERROR=6;R2.COMPLETE="complete";b2.EventType=lh;lh.OPEN="a";lh.CLOSE="b";lh.ERROR="c";lh.MESSAGE="d";yn.prototype.listen=yn.prototype.O;Bt.prototype.listenOnce=Bt.prototype.P;Bt.prototype.getLastError=Bt.prototype.Sa;Bt.prototype.getLastErrorCode=Bt.prototype.Ia;Bt.prototype.getStatus=Bt.prototype.da;Bt.prototype.getResponseJson=Bt.prototype.Wa;Bt.prototype.getResponseText=Bt.prototype.ja;Bt.prototype.send=Bt.prototype.ha;Bt.prototype.setWithCredentials=Bt.prototype.Oa;ui.prototype.digest=ui.prototype.l;ui.prototype.reset=ui.prototype.reset;ui.prototype.update=ui.prototype.j;Ze.prototype.add=Ze.prototype.add;Ze.prototype.multiply=Ze.prototype.R;Ze.prototype.modulo=Ze.prototype.gb;Ze.prototype.compare=Ze.prototype.X;Ze.prototype.toNumber=Ze.prototype.ea;Ze.prototype.toString=Ze.prototype.toString;Ze.prototype.getBits=Ze.prototype.D;Ze.fromNumber=Ti;Ze.fromString=uN;var qK=function(){return new Fp},KK=function(){return Ng()},cv=Og,GK=R2,QK=Ia,zI={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},af=b2,YK=Bt,XK=ui,wl=Ze;const WI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fu="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new wg("@firebase/firestore");function Ku(){return ca.logLevel}function K(t,...e){if(ca.logLevel<=Ne.DEBUG){const n=e.map(nE);ca.debug(`Firestore (${fu}): ${t}`,...n)}}function Fi(t,...e){if(ca.logLevel<=Ne.ERROR){const n=e.map(nE);ca.error(`Firestore (${fu}): ${t}`,...n)}}function Bl(t,...e){if(ca.logLevel<=Ne.WARN){const n=e.map(nE);ca.warn(`Firestore (${fu}): ${t}`,...n)}}function nE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${fu}) INTERNAL ASSERTION FAILED: `+t;throw Fi(e),new Error(e)}function ct(t,e){t||ge()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends ji{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JK{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mn.UNAUTHENTICATED))}shutdown(){}}class ZK{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class eG{constructor(e){this.t=e,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ai;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ai,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ai)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ct(typeof r.accessToken=="string"),new cN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string"),new Mn(e)}}class tG{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class nG{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new tG(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iG{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ct(typeof n.token=="string"),this.R=n.token,new rG(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sG(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=sG(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function zl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new kt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new kt(0,0))}static max(){return new we(new kt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Nd.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nd?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class gt extends Nd{construct(e,n,r){return new gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new gt(n)}static emptyPath(){return new gt([])}}const oG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends Nd{construct(e,n,r){return new Rn(e,n,r)}static isValidIdentifier(e){return oG.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new X($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new X($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(n)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(gt.fromString(e))}static fromName(e){return new ue(gt.fromString(e).popFirst(5))}static empty(){return new ue(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new gt(e.slice()))}}function aG(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new kt(n+1,0):new kt(n,r));return new io(i,ue.empty(),e)}function lG(t){return new io(t.readTime,t.key,-1)}class io{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new io(we.min(),ue.empty(),-1)}static max(){return new io(we.max(),ue.empty(),-1)}}function uG(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==cG)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new V((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof V?n:V.resolve(n)}catch(n){return V.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):V.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):V.reject(n)}static resolve(e){return new V((n,r)=>{n(e)})}static reject(e){return new V((n,r)=>{r(e)})}static waitFor(e){return new V((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=V.resolve(!1);for(const r of e)n=n.next(i=>i?V.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new V((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new V((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Ai,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Mc(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=iE(r.target.error);this.V.reject(new Mc(e,i))}}static open(e,n,r,i){try{return new rE(n,e.transaction(i,r))}catch(s){throw new Mc(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(K("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new fG(n)}}class jo{constructor(e,n,r){this.name=e,this.version=n,this.p=r,jo.S(tn())===12.2&&Fi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return K("SimpleDb","Removing database:",e),ko(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!EA())return!1;if(jo.C())return!0;const e=tn(),n=jo.S(e),r=0<n&&n<10,i=jo.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(K("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Mc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new X($.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new X($.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Mc(e,o))},i.onupgradeneeded=s=>{K("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{K("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=rE.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),V.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(K("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class hG{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return ko(this.k.delete())}}class Mc extends X{constructor(e,n){super($.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ph(t){return t.name==="IndexedDbTransactionError"}class fG{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(K("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(K("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ko(r)}add(e){return K("SimpleDb","ADD",this.store.name,e,e),ko(this.store.add(e))}get(e){return ko(this.store.get(e)).next(n=>(n===void 0&&(n=null),K("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return K("SimpleDb","DELETE",this.store.name,e),ko(this.store.delete(e))}count(){return K("SimpleDb","COUNT",this.store.name),ko(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new V((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new V((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){K("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new V((r,i)=>{n.onerror=s=>{const o=iE(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new V((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new hG(a),u=n(a.primaryKey,a.value,l);if(u instanceof V){const c=u.catch(d=>(l.done(),V.reject(d)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>V.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ko(t){return new V((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=iE(r.target.error);n(i)}})}let HI=!1;function iE(t){const e=jo.S(tn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new X("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return HI||(HI=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}sE._e=-1;function Bg(t){return t==null}function jp(t){return t===0&&1/t==-1/0}function pG(t){return typeof t=="number"&&Number.isInteger(t)&&!jp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ra(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nn=class l0{constructor(e,n){this.comparator=e,this.root=n||Ys.EMPTY}insert(e,n){return new l0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ys.BLACK,null,null))}remove(e){return new l0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ys.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new lf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new lf(this.root,e,this.comparator,!1)}getReverseIterator(){return new lf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new lf(this.root,e,this.comparator,!0)}},lf=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ys=class qi{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??qi.RED,this.left=i??qi.EMPTY,this.right=s??qi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new qi(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return qi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}};Ys.EMPTY=null,Ys.RED=!0,Ys.BLACK=!1;Ys.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ys(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new KI(this.data.getIterator())}getIteratorFrom(e){return new KI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pn(this.comparator);return n.data=e,n}}class KI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new gr([])}unionWith(e){let n=new Pn(Rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new gr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new fN("Invalid base64 string: "+s):s}}(e);return new Hn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const mG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function so(t){if(ct(!!t),typeof t=="string"){let e=0;const n=mG.exec(t);if(ct(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function da(t){return typeof t=="string"?Hn.fromBase64String(t):Hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function aE(t){const e=t.mapValue.fields.__previous_value__;return oE(e)?aE(e):e}function Od(t){const e=so(t.mapValue.fields.__local_write_time__.timestampValue);return new kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Dd{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Dd("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Dd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ha(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oE(t)?4:yG(t)?9007199254740991:10:ge()}function Vi(t,e){if(t===e)return!0;const n=ha(t);if(n!==ha(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Od(t).isEqual(Od(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=so(i.timestampValue),a=so(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return da(i.bytesValue).isEqual(da(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Yt(i.geoPointValue.latitude)===Yt(s.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Yt(i.integerValue)===Yt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Yt(i.doubleValue),a=Yt(s.doubleValue);return o===a?jp(o)===jp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return zl(t.arrayValue.values||[],e.arrayValue.values||[],Vi);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(qI(o)!==qI(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Vi(o[l],a[l])))return!1;return!0}(t,e);default:return ge()}}function Md(t,e){return(t.values||[]).find(n=>Vi(n,e))!==void 0}function Wl(t,e){if(t===e)return 0;const n=ha(t),r=ha(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Yt(s.integerValue||s.doubleValue),l=Yt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return GI(t.timestampValue,e.timestampValue);case 4:return GI(Od(t),Od(e));case 5:return Qe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=da(s),l=da(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Qe(a[u],l[u]);if(c!==0)return c}return Qe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Qe(Yt(s.latitude),Yt(o.latitude));return a!==0?a:Qe(Yt(s.longitude),Yt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Wl(a[u],l[u]);if(c)return c}return Qe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===uf.mapValue&&o===uf.mapValue)return 0;if(s===uf.mapValue)return 1;if(o===uf.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Qe(l[d],c[d]);if(h!==0)return h;const f=Wl(a[l[d]],u[c[d]]);if(f!==0)return f}return Qe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ge()}}function GI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=so(t),r=so(e),i=Qe(n.seconds,r.seconds);return i!==0?i:Qe(n.nanos,r.nanos)}function Hl(t){return u0(t)}function u0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=so(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return da(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=u0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${u0(n.fields[o])}`;return i+"}"}(t.mapValue):ge()}function QI(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function c0(t){return!!t&&"integerValue"in t}function lE(t){return!!t&&"arrayValue"in t}function YI(t){return!!t&&"nullValue"in t}function XI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ff(t){return!!t&&"mapValue"in t}function Lc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ra(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Lc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function yG(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.value=e}static empty(){return new nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ff(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lc(n)}setAll(e){let n=Rn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Lc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ff(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ff(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ra(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new nr(Lc(this.value))}}function pN(t){const e=[];return Ra(t.fields,(n,r)=>{const i=new Rn([n]);if(Ff(r)){const s=pN(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new gr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $n(e,0,we.min(),we.min(),we.min(),nr.empty(),0)}static newFoundDocument(e,n,r,i){return new $n(e,1,n,we.min(),r,i,0)}static newNoDocument(e,n){return new $n(e,2,n,we.min(),we.min(),nr.empty(),0)}static newUnknownDocument(e,n){return new $n(e,3,n,we.min(),we.min(),nr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,n){this.position=e,this.inclusive=n}}function JI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ue.comparator(ue.fromName(o.referenceValue),n.key):r=Wl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function ZI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Vi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n="asc"){this.field=e,this.dir=n}}function vG(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{}class Zt extends mN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wG(e,n,r):n==="array-contains"?new SG(e,r):n==="in"?new CG(e,r):n==="not-in"?new IG(e,r):n==="array-contains-any"?new RG(e,r):new Zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new EG(e,r):new TG(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wl(n,this.value)):n!==null&&ha(this.value)===ha(n)&&this.matchesComparison(Wl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ci extends mN{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new ci(e,n)}matches(e){return gN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function gN(t){return t.op==="and"}function yN(t){return _G(t)&&gN(t)}function _G(t){for(const e of t.filters)if(e instanceof ci)return!1;return!0}function d0(t){if(t instanceof Zt)return t.field.canonicalString()+t.op.toString()+Hl(t.value);if(yN(t))return t.filters.map(e=>d0(e)).join(",");{const e=t.filters.map(n=>d0(n)).join(",");return`${t.op}(${e})`}}function vN(t,e){return t instanceof Zt?function(r,i){return i instanceof Zt&&r.op===i.op&&r.field.isEqual(i.field)&&Vi(r.value,i.value)}(t,e):t instanceof ci?function(r,i){return i instanceof ci&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&vN(o,i.filters[a]),!0):!1}(t,e):void ge()}function _N(t){return t instanceof Zt?function(n){return`${n.field.canonicalString()} ${n.op} ${Hl(n.value)}`}(t):t instanceof ci?function(n){return n.op.toString()+" {"+n.getFilters().map(_N).join(" ,")+"}"}(t):"Filter"}class wG extends Zt{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class EG extends Zt{constructor(e,n){super(e,"in",n),this.keys=wN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class TG extends Zt{constructor(e,n){super(e,"not-in",n),this.keys=wN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class SG extends Zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lE(n)&&Md(n.arrayValue,this.value)}}class CG extends Zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Md(this.value.arrayValue,n)}}class IG extends Zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Md(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Md(this.value.arrayValue,n)}}class RG extends Zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Md(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function eR(t,e=null,n=[],r=[],i=null,s=null,o=null){return new bG(t,e,n,r,i,s,o)}function uE(t){const e=Ce(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>d0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Bg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hl(r)).join(",")),e.ce=n}return e.ce}function cE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vG(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!vN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZI(t.startAt,e.startAt)&&ZI(t.endAt,e.endAt)}function h0(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function xG(t,e,n,r,i,s,o,a){return new mh(t,e,n,r,i,s,o,a)}function zg(t){return new mh(t)}function tR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function EN(t){return t.collectionGroup!==null}function $c(t){const e=Ce(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Pn(Rn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new zp(s,r))}),n.has(Rn.keyField().canonicalString())||e.le.push(new zp(Rn.keyField(),r))}return e.le}function Ni(t){const e=Ce(t);return e.he||(e.he=PG(e,$c(t))),e.he}function PG(t,e){if(t.limitType==="F")return eR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new zp(i.field,s)});const n=t.endAt?new Bp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Bp(t.startAt.position,t.startAt.inclusive):null;return eR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function f0(t,e){const n=t.filters.concat([e]);return new mh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function p0(t,e,n){return new mh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wg(t,e){return cE(Ni(t),Ni(e))&&t.limitType===e.limitType}function TN(t){return`${uE(Ni(t))}|lt:${t.limitType}`}function Ba(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>_N(i)).join(", ")}]`),Bg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Hl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Hl(i)).join(",")),`Target(${r})`}(Ni(t))}; limitType=${t.limitType})`}function Hg(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ue.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of $c(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=JI(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,$c(r),i)||r.endAt&&!function(o,a,l){const u=JI(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,$c(r),i))}(t,e)}function kG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SN(t){return(e,n)=>{let r=!1;for(const i of $c(t)){const s=AG(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function AG(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Wl(l,u):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ra(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return hN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG=new nn(ue.comparator);function ms(){return NG}const CN=new nn(ue.comparator);function hc(...t){let e=CN;for(const n of t)e=e.insert(n.key,n);return e}function IN(t){let e=CN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bo(){return Fc()}function RN(){return Fc()}function Fc(){return new pu(t=>t.toString(),(t,e)=>t.isEqual(e))}const OG=new nn(ue.comparator),DG=new Pn(ue.comparator);function Oe(...t){let e=DG;for(const n of t)e=e.add(n);return e}const MG=new Pn(Qe);function LG(){return MG}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jp(e)?"-0":e}}function xN(t){return{integerValue:""+t}}function $G(t,e){return pG(e)?xN(e):bN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(){this._=void 0}}function FG(t,e,n){return t instanceof Wp?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&oE(s)&&(s=aE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ql?kN(t,e):t instanceof Ld?AN(t,e):function(i,s){const o=PN(i,s),a=nR(o)+nR(i.Ie);return c0(o)&&c0(i.Ie)?xN(a):bN(i.serializer,a)}(t,e)}function VG(t,e,n){return t instanceof ql?kN(t,e):t instanceof Ld?AN(t,e):n}function PN(t,e){return t instanceof Hp?function(r){return c0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Wp extends qg{}class ql extends qg{constructor(e){super(),this.elements=e}}function kN(t,e){const n=NN(e);for(const r of t.elements)n.some(i=>Vi(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ld extends qg{constructor(e){super(),this.elements=e}}function AN(t,e){let n=NN(e);for(const r of t.elements)n=n.filter(i=>!Vi(i,r));return{arrayValue:{values:n}}}class Hp extends qg{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function nR(t){return Yt(t.integerValue||t.doubleValue)}function NN(t){return lE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UG{constructor(e,n){this.field=e,this.transform=n}}function jG(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ql&&i instanceof ql||r instanceof Ld&&i instanceof Ld?zl(r.elements,i.elements,Vi):r instanceof Hp&&i instanceof Hp?Vi(r.Ie,i.Ie):r instanceof Wp&&i instanceof Wp}(t.transform,e.transform)}class BG{constructor(e,n){this.version=e,this.transformResults=n}}class Oi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Oi}static exists(e){return new Oi(void 0,e)}static updateTime(e){return new Oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Kg{}function ON(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new MN(t.key,Oi.none()):new gh(t.key,t.data,Oi.none());{const n=t.data,r=nr.empty();let i=new Pn(Rn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Eo(t.key,r,new gr(i.toArray()),Oi.none())}}function zG(t,e,n){t instanceof gh?function(i,s,o){const a=i.value.clone(),l=iR(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Eo?function(i,s,o){if(!Vf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=iR(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(DN(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Vc(t,e,n,r){return t instanceof gh?function(s,o,a,l){if(!Vf(s.precondition,o))return a;const u=s.value.clone(),c=sR(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Eo?function(s,o,a,l){if(!Vf(s.precondition,o))return a;const u=sR(s.fieldTransforms,l,o),c=o.data;return c.setAll(DN(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return Vf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function WG(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=PN(r.transform,i||null);s!=null&&(n===null&&(n=nr.empty()),n.set(r.field,s))}return n||null}function rR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zl(r,i,(s,o)=>jG(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class gh extends Kg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Eo extends Kg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function DN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function iR(t,e,n){const r=new Map;ct(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,VG(o,a,n[i]))}return r}function sR(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,FG(s,o,e))}return r}class MN extends Kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class HG extends Kg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qG{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&zG(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RN();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=ON(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&zl(this.mutations,e.mutations,(n,r)=>rR(n,r))&&zl(this.baseMutations,e.baseMutations,(n,r)=>rR(n,r))}}class dE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ct(e.mutations.length===r.length);let i=function(){return OG}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new dE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KG{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GG{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,Ue;function QG(t){switch(t){default:return ge();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function LN(t){if(t===void 0)return Fi("GRPC error has no .code"),$.UNKNOWN;switch(t){case Qt.OK:return $.OK;case Qt.CANCELLED:return $.CANCELLED;case Qt.UNKNOWN:return $.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return $.INTERNAL;case Qt.UNAVAILABLE:return $.UNAVAILABLE;case Qt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Qt.NOT_FOUND:return $.NOT_FOUND;case Qt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Qt.ABORTED:return $.ABORTED;case Qt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Qt.DATA_LOSS:return $.DATA_LOSS;default:return ge()}}(Ue=Qt||(Qt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YG(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XG=new wl([4294967295,4294967295],0);function oR(t){const e=YG().encode(t),n=new XK;return n.update(e),new Uint8Array(n.digest())}function aR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new wl([n,r],0),new wl([i,s],0)]}class hE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new fc(`Invalid padding: ${n}`);if(r<0)throw new fc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new fc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new fc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=wl.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(wl.fromNumber(r)));return i.compare(XG)===1&&(i=new wl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=oR(e),[r,i]=aR(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new hE(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=oR(e),[r,i]=aR(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class fc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,yh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Gg(we.min(),i,new nn(Qe),ms(),Oe())}}class yh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yh(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class $N{constructor(e,n){this.targetId=e,this.fe=n}}class FN{constructor(e,n,r=Hn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class lR{constructor(){this.ge=0,this.pe=cR(),this.ye=Hn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Oe(),n=Oe(),r=Oe();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new yh(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=cR()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ct(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class JG{constructor(e){this.Le=e,this.ke=new Map,this.qe=ms(),this.Qe=uR(),this.Ke=new nn(Qe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(h0(s))if(r===0){const o=new ue(s.path);this.We(n,o,$n.newNoDocument(o,we.min()))}else ct(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=da(r).toUint8Array()}catch(l){if(l instanceof fN)return Bl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new hE(o,i,s)}catch(l){return Bl(l instanceof fc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&h0(a.target)){const l=new ue(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,$n.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Oe();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Gg(e,n,this.Ke,this.qe,r);return this.qe=ms(),this.Qe=uR(),this.Ke=new nn(Qe),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new lR,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Pn(Qe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new lR),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function uR(){return new nn(ue.comparator)}function cR(){return new nn(ue.comparator)}const ZG={asc:"ASCENDING",desc:"DESCENDING"},eQ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tQ={and:"AND",or:"OR"};class nQ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function m0(t,e){return t.useProto3Json||Bg(e)?e:{value:e}}function qp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function VN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rQ(t,e){return qp(t,e.toTimestamp())}function Di(t){return ct(!!t),we.fromTimestamp(function(n){const r=so(n);return new kt(r.seconds,r.nanos)}(t))}function fE(t,e){return g0(t,e).canonicalString()}function g0(t,e){const n=function(i){return new gt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function UN(t){const e=gt.fromString(t);return ct(HN(e)),e}function y0(t,e){return fE(t.databaseId,e.path)}function dv(t,e){const n=UN(e);if(n.get(1)!==t.databaseId.projectId)throw new X($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(BN(n))}function jN(t,e){return fE(t.databaseId,e)}function iQ(t){const e=UN(t);return e.length===4?gt.emptyPath():BN(e)}function v0(t){return new gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BN(t){return ct(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function dR(t,e,n){return{name:y0(t,e),fields:n.value.mapValue.fields}}function sQ(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(ct(c===void 0||typeof c=="string"),Hn.fromBase64String(c||"")):(ct(c===void 0||c instanceof Uint8Array),Hn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?$.UNKNOWN:LN(u.code);return new X(c,u.message||"")}(o);n=new FN(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=dv(t,r.document.name),s=Di(r.document.updateTime),o=r.document.createTime?Di(r.document.createTime):we.min(),a=new nr({mapValue:{fields:r.document.fields}}),l=$n.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Uf(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=dv(t,r.document),s=r.readTime?Di(r.readTime):we.min(),o=$n.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Uf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=dv(t,r.document),s=r.removedTargetIds||[];n=new Uf([],s,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new GG(i,s),a=r.targetId;n=new $N(a,o)}}return n}function oQ(t,e){let n;if(e instanceof gh)n={update:dR(t,e.key,e.value)};else if(e instanceof MN)n={delete:y0(t,e.key)};else if(e instanceof Eo)n={update:dR(t,e.key,e.data),updateMask:mQ(e.fieldMask)};else{if(!(e instanceof HG))return ge();n={verify:y0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Wp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ql)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ld)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Hp)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:rQ(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge()}(t,e.precondition)),n}function aQ(t,e){return t&&t.length>0?(ct(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Di(i.updateTime):Di(s);return o.isEqual(we.min())&&(o=Di(s)),new BG(o,i.transformResults||[])}(n,e))):[]}function lQ(t,e){return{documents:[jN(t,e.path)]}}function uQ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=jN(t,i);const s=function(u){if(u.length!==0)return WN(ci.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:za(h.field),direction:hQ(h.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=m0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function cQ(t){let e=iQ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ct(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=zN(d);return h instanceof ci&&yN(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(g){return new zp(Wa(g.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,Bg(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new Bp(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new Bp(f,h)}(n.endAt)),xG(e,i,o,s,a,"F",l,u)}function dQ(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function zN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wa(n.unaryFilter.field);return Zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wa(n.unaryFilter.field);return Zt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Wa(n.unaryFilter.field);return Zt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Wa(n.unaryFilter.field);return Zt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return Zt.create(Wa(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ci.create(n.compositeFilter.filters.map(r=>zN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function hQ(t){return ZG[t]}function fQ(t){return eQ[t]}function pQ(t){return tQ[t]}function za(t){return{fieldPath:t.canonicalString()}}function Wa(t){return Rn.fromServerFormat(t.fieldPath)}function WN(t){return t instanceof Zt?function(n){if(n.op==="=="){if(XI(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NAN"}};if(YI(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(XI(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NAN"}};if(YI(n.value))return{unaryFilter:{field:za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(n.field),op:fQ(n.op),value:n.value}}}(t):t instanceof ci?function(n){const r=n.getFilters().map(i=>WN(i));return r.length===1?r[0]:{compositeFilter:{op:pQ(n.op),filters:r}}}(t):ge()}function mQ(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function HN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n,r,i,s=we.min(),o=we.min(),a=Hn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(e){this.ct=e}}function yQ(t){const e=cQ({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?p0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vQ{constructor(){this._n=new _Q}addToCollectionParentIndex(e,n){return this._n.add(n),V.resolve()}getCollectionParents(e,n){return V.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return V.resolve()}deleteFieldIndex(e,n){return V.resolve()}deleteAllFieldIndexes(e){return V.resolve()}createTargetIndexes(e,n){return V.resolve()}getDocumentsMatchingTarget(e,n){return V.resolve(null)}getIndexType(e,n){return V.resolve(0)}getFieldIndexes(e,n){return V.resolve([])}getNextCollectionGroupToUpdate(e){return V.resolve(null)}getMinOffset(e,n){return V.resolve(io.min())}getMinOffsetFromCollectionGroup(e,n){return V.resolve(io.min())}updateCollectionGroup(e,n,r){return V.resolve()}updateIndexEntries(e,n){return V.resolve()}}class _Q{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pn(gt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pn(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Kl(0)}static Bn(){return new Kl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wQ{constructor(){this.changes=new pu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?V.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TQ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Vc(r.mutation,i,gr.empty(),kt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const i=Bo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=hc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Bo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ms();const o=Fc(),a=function(){return Fc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Eo)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Vc(c.mutation,u,c.mutation.getFieldMask(),kt.now())):o.set(u.key,gr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new EQ(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Fc();let i=new nn((o,a)=>o-a),s=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||gr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Oe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=RN();c.forEach(h=>{if(!s.has(h)){const f=ON(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return V.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):V.resolve(Bo());let a=-1,l=s;return o.next(u=>V.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?V.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Oe())).next(c=>({batchId:a,changes:IN(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let i=hc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=hc();return this.indexManager.getCollectionParents(e,s).next(a=>V.forEach(a,l=>{const u=function(d,h){return new mh(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,$n.newInvalidDocument(c)))});let a=hc();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Vc(c.mutation,u,gr.empty(),kt.now()),Hg(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SQ{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return V.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Di(i.createTime)}}(n)),V.resolve()}getNamedQuery(e,n){return V.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:yQ(i.bundledQuery),readTime:Di(i.readTime)}}(n)),V.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CQ{constructor(){this.overlays=new nn(ue.comparator),this.hr=new Map}getOverlay(e,n){return V.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bo();return V.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),V.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),V.resolve()}getOverlaysForCollection(e,n,r){const i=Bo(),s=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return V.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new nn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Bo(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Bo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return V.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new KG(n,r));let s=this.hr.get(n);s===void 0&&(s=Oe(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.Pr=new Pn(dn.Ir),this.Tr=new Pn(dn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new dn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new dn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ue(new gt([])),r=new dn(n,e),i=new dn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ue(new gt([])),r=new dn(n,e),i=new dn(n,e+1);let s=Oe();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new dn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ue.comparator(e.key,n.key)||Qe(e.pr,n.pr)}static Er(e,n){return Qe(e.pr,n.pr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Pn(dn.Ir)}checkEmpty(e){return V.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new qG(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new dn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return V.resolve(o)}lookupMutationBatch(e,n){return V.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return V.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return V.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return V.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dn(n,0),i=new dn(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),V.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pn(Qe);return n.forEach(i=>{const s=new dn(i,0),o=new dn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),V.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ue.isDocumentKey(s)||(s=s.child(""));const o=new dn(new ue(s),0);let a=new Pn(Qe);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),V.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ct(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return V.forEach(n.mutations,i=>{const s=new dn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new dn(n,0),i=this.wr.firstAfterOrEqual(r);return V.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,V.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RQ{constructor(e){this.vr=e,this.docs=function(){return new nn(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return V.resolve(r?r.document.mutableCopy():$n.newInvalidDocument(n))}getEntries(e,n){let r=ms();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$n.newInvalidDocument(i))}),V.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ms();const o=n.path,a=new ue(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||uG(lG(c),r)<=0||(i.has(c.key)||Hg(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return V.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ge()}Fr(e,n){return V.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new bQ(this)}getSize(e){return V.resolve(this.size)}}class bQ extends wQ{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),V.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xQ{constructor(e){this.persistence=e,this.Mr=new pu(n=>uE(n),cE),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Or=0,this.Nr=new pE,this.targetCount=0,this.Br=Kl.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),V.resolve()}getLastRemoteSnapshotVersion(e){return V.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return V.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),V.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),V.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Kl(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,V.resolve()}updateTargetData(e,n){return this.qn(n),V.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,V.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),V.waitFor(s).next(()=>i)}getTargetCount(e){return V.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return V.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),V.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),V.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),V.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return V.resolve(r)}containsKey(e,n){return V.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(e,n){this.Lr={},this.overlays={},this.kr=new sE(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new xQ(this),this.indexManager=new vQ,this.remoteDocumentCache=function(i){return new RQ(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new gQ(n),this.$r=new SQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CQ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new IQ(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new kQ(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return V.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class kQ extends dG{constructor(e){super(),this.currentSequenceNumber=e}}class mE{constructor(e){this.persistence=e,this.zr=new pE,this.jr=null}static Hr(e){return new mE(e)}get Jr(){if(this.jr)return this.jr;throw ge()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),V.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),V.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),V.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return V.forEach(this.Jr,r=>{const i=ue.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,we.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return V.or([()=>V.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Oe(),i=Oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new gE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NQ{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return o7()?8:jo.v(tn())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new AQ;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ku()<=Ne.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Ba(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),V.resolve()):(Ku()<=Ne.DEBUG&&K("QueryEngine","Query:",Ba(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ku()<=Ne.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Ba(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ni(n))):V.resolve())}ji(e,n){if(tR(n))return V.resolve(null);let r=Ni(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=p0(n,null,"F"),r=Ni(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Oe(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,p0(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return tR(n)||i.isEqual(we.min())?V.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?V.resolve(null):(Ku()<=Ne.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ba(n)),this.es(e,o,n,aG(i,-1)).next(a=>a))})}Zi(e,n){let r=new Pn(SN(e));return n.forEach((i,s)=>{Hg(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ku()<=Ne.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Ba(n)),this.zi.getDocumentsMatchingQuery(e,n,io.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OQ{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new nn(Qe),this.rs=new pu(s=>uE(s),cE),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new TQ(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function DQ(t,e,n,r){return new OQ(t,e,n,r)}async function qN(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Oe();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function MQ(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=V.resolve();return h.forEach(g=>{f=f.next(()=>c.getEntry(l,g)).next(v=>{const E=u.docVersions.get(g);ct(E!==null),v.version.compareTo(E)<0&&(d.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function KN(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function LQ(t,e){const n=Ce(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Hn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(v,E,p){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:p.addedDocuments.size+p.modifiedDocuments.size+p.removedDocuments.size>0}(h,f,c)&&a.push(n.Qr.updateTargetData(s,f))});let l=ms(),u=Oe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push($Q(s,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(we.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return V.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function $Q(t,e,n){let r=Oe(),i=Oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ms();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function FQ(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function VQ(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,V.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new Vs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function _0(t,e,n){const r=Ce(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ph(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function hR(t,e,n){const r=Ce(t);let i=we.min(),s=Oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=Ce(l),h=d.rs.get(c);return h!==void 0?V.resolve(d.ns.get(h)):d.Qr.getTargetData(u,c)}(r,o,Ni(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:we.min(),n?s:Oe())).next(a=>(UQ(r,kG(e),a),{documents:a,hs:s})))}function UQ(t,e,n){let r=t.ss.get(e)||we.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class fR{constructor(){this.activeTargetIds=LG()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jQ{constructor(){this.no=new fR,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new fR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BQ{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cf=null;function hv(){return cf===null?cf=function(){return 268435456+Math.round(2147483648*Math.random())}():cf++,"0x"+cf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WQ{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class HQ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=hv(),l=this.bo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,l,u,i).then(c=>(K("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Bl("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+fu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=zQ[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=hv();return new Promise((o,a)=>{const l=new YK;l.setWithCredentials(!0),l.listenOnce(GK.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case cv.NO_ERROR:const c=l.getResponseJson();K(On,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case cv.TIMEOUT:K(On,`RPC '${e}' ${s} timed out`),a(new X($.DEADLINE_EXCEEDED,"Request time out"));break;case cv.HTTP_ERROR:const d=l.getStatus();if(K(On,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const g=function(E){const p=E.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(p)>=0?p:$.UNKNOWN}(f.status);a(new X(g,f.message))}else a(new X($.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X($.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{K(On,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);K(On,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=hv(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=qK(),a=KK(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");K(On,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const g=new WQ({lo:E=>{f?K(On,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(h||(K(On,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),K(On,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},ho:()=>d.close()}),v=(E,p,y)=>{E.listen(p,m=>{try{y(m)}catch(w){setTimeout(()=>{throw w},0)}})};return v(d,af.EventType.OPEN,()=>{f||K(On,`RPC '${e}' stream ${i} transport opened.`)}),v(d,af.EventType.CLOSE,()=>{f||(f=!0,K(On,`RPC '${e}' stream ${i} transport closed`),g.Vo())}),v(d,af.EventType.ERROR,E=>{f||(f=!0,Bl(On,`RPC '${e}' stream ${i} transport errored:`,E),g.Vo(new X($.UNAVAILABLE,"The operation could not be completed")))}),v(d,af.EventType.MESSAGE,E=>{var p;if(!f){const y=E.data[0];ct(!!y);const m=y,w=m.error||((p=m[0])===null||p===void 0?void 0:p.error);if(w){K(On,`RPC '${e}' stream ${i} received error:`,w);const I=w.status;let T=function(P){const x=Qt[P];if(x!==void 0)return LN(x)}(I),C=w.message;T===void 0&&(T=$.INTERNAL,C="Unknown error status: "+I+" with message "+w.message),f=!0,g.Vo(new X(T,C)),d.close()}else K(On,`RPC '${e}' stream ${i} received:`,y),g.mo(y)}}),v(a,QK.STAT_EVENT,E=>{E.stat===zI.PROXY?K(On,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===zI.NOPROXY&&K(On,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.Ro()},0),g}}function fv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qg(t){return new nQ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new GN(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Fi(n.toString()),Fi("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new X($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qQ extends QN{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=sQ(this.serializer,e),r=function(s){if(!("targetChange"in s))return we.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?we.min():o.readTime?Di(o.readTime):we.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=v0(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=h0(l)?{documents:lQ(s,l)}:{query:uQ(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=VN(s,o.resumeToken);const u=m0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(we.min())>0){a.readTime=qp(s,o.snapshotVersion.toTimestamp());const u=m0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=dQ(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=v0(this.serializer),n.removeTarget=e,this.t_(n)}}class KQ extends QN{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ct(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=aQ(e.writeResults,e.commitTime),r=Di(e.commitTime);return this.listener.T_(r,n)}return ct(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=v0(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>oQ(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GQ extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new X($.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,g0(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X($.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,g0(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X($.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class QQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Fi(n),this.g_=!1):K("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{ba(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ce(l);u.v_.add(4),await vh(u),u.x_.set("Unknown"),u.v_.delete(4),await Yg(u)}(this))})}),this.x_=new QQ(r,i)}}async function Yg(t){if(ba(t))for(const e of t.F_)await e(!0)}async function vh(t){for(const e of t.F_)await e(!1)}function YN(t,e){const n=Ce(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),_E(n)?vE(n):mu(n).Jo()&&yE(n,e))}function XN(t,e){const n=Ce(t),r=mu(n);n.C_.delete(e),r.Jo()&&JN(n,e),n.C_.size===0&&(r.Jo()?r.Xo():ba(n)&&n.x_.set("Unknown"))}function yE(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}mu(t).c_(e)}function JN(t,e){t.O_.Oe(e),mu(t).l_(e)}function vE(t){t.O_=new JG({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),mu(t).start(),t.x_.p_()}function _E(t){return ba(t)&&!mu(t).Ho()&&t.C_.size>0}function ba(t){return Ce(t).v_.size===0}function ZN(t){t.O_=void 0}async function XQ(t){t.C_.forEach((e,n)=>{yE(t,e)})}async function JQ(t,e){ZN(t),_E(t)?(t.x_.S_(e),vE(t)):t.x_.set("Unknown")}async function ZQ(t,e,n){if(t.x_.set("Online"),e instanceof FN&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Kp(t,r)}else if(e instanceof Uf?t.O_.$e(e):e instanceof $N?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(we.min()))try{const r=await KN(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.C_.get(u);c&&s.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.C_.get(l);if(!c)return;s.C_.set(l,c.withResumeToken(Hn.EMPTY_BYTE_STRING,c.snapshotVersion)),JN(s,l);const d=new Vs(c.target,l,u,c.sequenceNumber);yE(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await Kp(t,r)}}async function Kp(t,e,n){if(!ph(e))throw e;t.v_.add(1),await vh(t),t.x_.set("Offline"),n||(n=()=>KN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Yg(t)})}function eO(t,e){return e().catch(n=>Kp(t,n,e))}async function Xg(t){const e=Ce(t),n=oo(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;eY(e);)try{const i=await FQ(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,tY(e,i)}catch(i){await Kp(e,i)}tO(e)&&nO(e)}function eY(t){return ba(t)&&t.D_.length<10}function tY(t,e){t.D_.push(e);const n=oo(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function tO(t){return ba(t)&&!oo(t).Ho()&&t.D_.length>0}function nO(t){oo(t).start()}async function nY(t){oo(t).d_()}async function rY(t){const e=oo(t);for(const n of t.D_)e.I_(n.mutations)}async function iY(t,e,n){const r=t.D_.shift(),i=dE.from(r,e,n);await eO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xg(t)}async function sY(t,e){e&&oo(t).P_&&await async function(r,i){if(function(o){return QG(o)&&o!==$.ABORTED}(i.code)){const s=r.D_.shift();oo(r).Zo(),await eO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Xg(r)}}(t,e),tO(t)&&nO(t)}async function mR(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=ba(n);n.v_.add(3),await vh(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Yg(n)}async function oY(t,e){const n=Ce(t);e?(n.v_.delete(2),await Yg(n)):e||(n.v_.add(2),await vh(n),n.x_.set("Unknown"))}function mu(t){return t.N_||(t.N_=function(n,r,i){const s=Ce(n);return s.R_(),new qQ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:XQ.bind(null,t),To:JQ.bind(null,t),u_:ZQ.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),_E(t)?vE(t):t.x_.set("Unknown")):(await t.N_.stop(),ZN(t))})),t.N_}function oo(t){return t.B_||(t.B_=function(n,r,i){const s=Ce(n);return s.R_(),new KQ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:nY.bind(null,t),To:sY.bind(null,t),E_:rY.bind(null,t),T_:iY.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Xg(t)):(await t.B_.stop(),t.D_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new wE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function EE(t,e){if(Fi("AsyncQueue",`${e}: ${t}`),ph(t))return new X($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=hc(),this.sortedSet=new nn(this.comparator)}static emptySet(e){return new El(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof El)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new El;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.L_=new nn(ue.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):ge():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Gl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Gl(e,n,El.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aY{constructor(){this.q_=void 0,this.Q_=[]}}class lY{constructor(){this.queries=new pu(e=>TN(e),Wg),this.onlineState="Unknown",this.K_=new Set}}async function TE(t,e){const n=Ce(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new aY),i)try{s.q_=await n.onListen(r)}catch(o){const a=EE(o,`Initialization of query '${Ba(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&CE(n)}async function SE(t,e){const n=Ce(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function uY(t,e){const n=Ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&CE(n)}function cY(t,e,n){const r=Ce(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function CE(t){t.K_.forEach(e=>{e.next()})}class IE{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Gl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.key=e}}class iO{constructor(e){this.key=e}}class dY{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Oe(),this.mutatedKeys=Oe(),this.ua=SN(e),this.ca=new El(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new gR,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=Hg(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let E=!1;h&&f?h.data.isEqual(f.data)?g!==v&&(r.track({type:3,doc:f}),E=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),E=!0,(l&&this.ua(f,l)>0||u&&this.ua(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),E=!0):h&&!f&&(r.track({type:1,doc:h}),E=!0,(l||u)&&(a=!0)),E&&(f?(o=o.add(f),s=v?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((c,d)=>function(f,g){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return v(f)-v(g)}(c.type,d.type)||this.ua(c.doc,d.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,o.length!==0||u?{snapshot:new Gl(this.query,e.ca,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new gR,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Oe(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new iO(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new rO(r))}),n}Ra(e){this.oa=e.hs,this.aa=Oe();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Gl.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class hY{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fY{constructor(e){this.key=e,this.ma=!1}}class pY{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new pu(a=>TN(a),Wg),this.pa=new Map,this.ya=new Set,this.wa=new nn(ue.comparator),this.Sa=new Map,this.ba=new pE,this.Da={},this.Ca=new Map,this.va=Kl.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function mY(t,e){const n=IY(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await VQ(n.localStore,Ni(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await gY(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&YN(n.remoteStore,o)}return i}async function gY(t,e,n,r,i){t.Ma=(d,h,f)=>async function(v,E,p,y){let m=E.view.ha(p);m.Xi&&(m=await hR(v.localStore,E.query,!1).then(({documents:C})=>E.view.ha(C,m)));const w=y&&y.targetChanges.get(E.targetId),I=y&&y.targetMismatches.get(E.targetId)!=null,T=E.view.applyChanges(m,v.isPrimaryClient,w,I);return vR(v,E.targetId,T.da),T.snapshot}(t,d,h,f);const s=await hR(t.localStore,e,!0),o=new dY(e,s.hs),a=o.ha(s.documents),l=yh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);vR(t,n,u.da);const c=new hY(e,n,o);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function yY(t,e){const n=Ce(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Wg(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await _0(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),XN(n.remoteStore,r.targetId),w0(n,r.targetId)}).catch(fh)):(w0(n,r.targetId),await _0(n.localStore,r.targetId,!0))}async function vY(t,e,n){const r=RY(t);try{const i=await function(o,a){const l=Ce(o),u=kt.now(),c=a.reduce((f,g)=>f.add(g.key),Oe());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let g=ms(),v=Oe();return l.os.getEntries(f,c).next(E=>{g=E,g.forEach((p,y)=>{y.isValidDocument()||(v=v.add(p))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,g)).next(E=>{d=E;const p=[];for(const y of a){const m=WG(y,d.get(y.key).overlayedDocument);m!=null&&p.push(new Eo(y.key,m,pN(m.value.mapValue),Oi.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,p,a)}).next(E=>{h=E;const p=E.applyToLocalDocumentSet(d,v);return l.documentOverlayCache.saveOverlays(f,E.batchId,p)})}).then(()=>({batchId:h.batchId,changes:IN(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Da[o.currentUser.toKey()];u||(u=new nn(Qe)),u=u.insert(a,l),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),await _h(r,i.changes),await Xg(r.remoteStore)}catch(i){const s=EE(i,"Failed to persist write");n.reject(s)}}async function sO(t,e){const n=Ce(t);try{const r=await LQ(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?ct(o.ma):i.removedDocuments.size>0&&(ct(o.ma),o.ma=!1))}),await _h(n,r,e)}catch(r){await fh(r)}}function yR(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ce(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.Q_)h.U_(a)&&(u=!0)}),u&&CE(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _Y(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new nn(ue.comparator);o=o.insert(s,$n.newNoDocument(s,we.min()));const a=Oe().add(s),l=new Gg(we.min(),new Map,new nn(Qe),o,a);await sO(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),RE(r)}else await _0(r.localStore,e,!1).then(()=>w0(r,e,n)).catch(fh)}async function wY(t,e){const n=Ce(t),r=e.batch.batchId;try{const i=await MQ(n.localStore,e);aO(n,r,null),oO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await _h(n,i)}catch(i){await fh(i)}}async function EY(t,e,n){const r=Ce(t);try{const i=await function(o,a){const l=Ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(ct(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);aO(r,e,n),oO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await _h(r,i)}catch(i){await fh(i)}}function oO(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function aO(t,e,n){const r=Ce(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function w0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||lO(t,r)})}function lO(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(XN(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),RE(t))}function vR(t,e,n){for(const r of n)r instanceof rO?(t.ba.addReference(r.key,e),TY(t,r)):r instanceof iO?(K("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||lO(t,r.key)):ge()}function TY(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(K("SyncEngine","New document in limbo: "+n),t.ya.add(r),RE(t))}function RE(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new ue(gt.fromString(e)),r=t.va.next();t.Sa.set(r,new fY(n)),t.wa=t.wa.insert(n,r),YN(t.remoteStore,new Vs(Ni(zg(n.path)),r,"TargetPurposeLimboResolution",sE._e))}}async function _h(t,e,n){const r=Ce(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=gE.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.fa.u_(i),await async function(l,u){const c=Ce(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>V.forEach(u,h=>V.forEach(h.qi,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>V.forEach(h.Qi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ph(d))throw d;K("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.ns.get(h),g=f.snapshotVersion,v=f.withLastLimboFreeSnapshotVersion(g);c.ns=c.ns.insert(h,v)}}}(r.localStore,s))}async function SY(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await qN(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new X($.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await _h(n,r.us)}}function CY(t,e){const n=Ce(t),r=n.Sa.get(e);if(r&&r.ma)return Oe().add(r.key);{let i=Oe();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function IY(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CY.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_Y.bind(null,e),e.fa.u_=uY.bind(null,e.eventManager),e.fa.xa=cY.bind(null,e.eventManager),e}function RY(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=wY.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EY.bind(null,e),e}class _R{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Qg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return DQ(this.persistence,new NQ,e.initialUser,this.serializer)}createPersistence(e){return new PQ(mE.Hr,this.serializer)}createSharedClientState(e){return new jQ}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class bY{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>yR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=SY.bind(null,this.syncEngine),await oY(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lY}()}createDatastore(e){const n=Qg(e.databaseInfo.databaseId),r=function(s){return new HQ(s)}(e.databaseInfo);return function(s,o,a,l){return new GQ(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new YQ(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>yR(this.syncEngine,n,0),function(){return pR.D()?new pR:new BQ}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new pY(i,s,o,a,l,u);return c&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ce(r);K("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await vh(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Fi("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xY{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Mn.UNAUTHENTICATED,this.clientId=dN.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{K("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=EE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function pv(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await qN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function wR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kY(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>mR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>mR(e.remoteStore,i)),t._onlineComponents=e}function PY(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function kY(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await pv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!PY(n))throw n;Bl("Error using user provided cache. Falling back to memory cache: "+n),await pv(t,new _R)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await pv(t,new _R);return t._offlineComponents}async function uO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await wR(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await wR(t,new bY))),t._onlineComponents}function AY(t){return uO(t).then(e=>e.syncEngine)}async function Gp(t){const e=await uO(t),n=e.eventManager;return n.onListen=mY.bind(null,e.syncEngine),n.onUnlisten=yY.bind(null,e.syncEngine),n}function NY(t,e,n={}){const r=new Ai;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new bE({next:h=>{o.enqueueAndForget(()=>SE(s,d));const f=h.docs.has(a);!f&&h.fromCache?u.reject(new X($.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new X($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new IE(zg(a.path),c,{includeMetadataChanges:!0,Z_:!0});return TE(s,d)}(await Gp(t),t.asyncQueue,e,n,r)),r.promise}function OY(t,e,n={}){const r=new Ai;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new bE({next:h=>{o.enqueueAndForget(()=>SE(s,d)),h.fromCache&&l.source==="server"?u.reject(new X($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new IE(a,c,{includeMetadataChanges:!0,Z_:!0});return TE(s,d)}(await Gp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dO(t,e,n){if(!n)throw new X($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DY(t,e,n,r){if(e===!0&&r===!0)throw new X($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function TR(t){if(!ue.isDocumentKey(t))throw new X($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function SR(t){if(ue.isDocumentKey(t))throw new X($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function jr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jg(t);throw new X($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CR(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new JK;switch(r.type){case"firstParty":return new nG(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ER.get(n);r&&(K("ComponentProvider","Removing Datastore"),ER.delete(n),r.terminate())}(this),Promise.resolve()}}function MY(t,e,n,r={}){var i;const s=(t=jr(t,Zg))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Mn.MOCK_USER;else{a=vA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new X($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Mn(u)}t._authCredentials=new ZK(new cN(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xa(this.firestore,e,this._query)}}class zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class Xs extends xa{constructor(e,n,r){super(e,n,zg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new ue(e))}withConverter(e){return new Xs(this.firestore,e,this._path)}}function LY(t,e,...n){if(t=vt(t),dO("collection","path",e),t instanceof Zg){const r=gt.fromString(e,...n);return SR(r),new Xs(t,null,r)}{if(!(t instanceof zn||t instanceof Xs))throw new X($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return SR(r),new Xs(t.firestore,null,r)}}function ni(t,e,...n){if(t=vt(t),arguments.length===1&&(e=dN.newId()),dO("doc","path",e),t instanceof Zg){const r=gt.fromString(e,...n);return TR(r),new zn(t,null,new ue(r))}{if(!(t instanceof zn||t instanceof Xs))throw new X($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gt.fromString(e,...n));return TR(r),new zn(t.firestore,t instanceof Xs?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new GN(this,"async_queue_retry"),this._u=()=>{const n=fv();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=fv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=fv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Ai;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!ph(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Fi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=wE.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&ge()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function IR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class fa extends Zg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new $Y}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||hO(this),this._firestoreClient.terminate()}}function FY(t,e){const n=typeof t=="object"?t:Sw(),r=typeof t=="string"?t:e||"(default)",i=Eg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=mA("firestore");s&&MY(i,...s)}return i}function ey(t){return t._firestoreClient||hO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function hO(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new gG(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,cO(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new xY(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ql(Hn.fromBase64String(e))}catch(n){throw new X($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ql(Hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VY=/^__.*__$/;class UY{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Eo(e,this.data,this.fieldMask,n,this.fieldTransforms):new gh(e,this.data,n,this.fieldTransforms)}}class fO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Eo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function pO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class ry{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new ry(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Qp(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(pO(this.du)&&VY.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class jY{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Qg(e)}Su(e,n,r,i=!1){return new ry({du:e,methodName:n,wu:r,path:Rn.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function PE(t){const e=t._freezeSettings(),n=Qg(t._databaseId);return new jY(t._databaseId,!!e.ignoreUndefinedProperties,n)}function BY(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);AE("Data must be an object, but it was:",o,r);const a=mO(r,o);let l,u;if(s.merge)l=new gr(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=E0(e,d,n);if(!o.contains(h))throw new X($.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);yO(c,h)||c.push(h)}l=new gr(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new UY(new nr(a),l,u)}class iy extends ny{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof iy}}function zY(t,e,n){return new ry({du:3,wu:e.settings.wu,methodName:t._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class kE extends ny{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=zY(this,e,!0),r=this.bu.map(s=>gu(s,n)),i=new ql(r);return new UG(e.path,i)}isEqual(e){return e instanceof kE&&wd(this.bu,e.bu)}}function WY(t,e,n,r){const i=t.Su(1,e,n);AE("Data must be an object, but it was:",i,r);const s=[],o=nr.empty();Ra(r,(l,u)=>{const c=NE(e,l,n);u=vt(u);const d=i.fu(c);if(u instanceof iy)s.push(c);else{const h=gu(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new gr(s);return new fO(o,a,i.fieldTransforms)}function HY(t,e,n,r,i,s){const o=t.Su(1,e,n),a=[E0(e,r,n)],l=[i];if(s.length%2!=0)throw new X($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(E0(e,s[h])),l.push(s[h+1]);const u=[],c=nr.empty();for(let h=a.length-1;h>=0;--h)if(!yO(u,a[h])){const f=a[h];let g=l[h];g=vt(g);const v=o.fu(f);if(g instanceof iy)u.push(f);else{const E=gu(g,v);E!=null&&(u.push(f),c.set(f,E))}}const d=new gr(u);return new fO(c,d,o.fieldTransforms)}function qY(t,e,n,r=!1){return gu(n,t.Su(r?4:3,e))}function gu(t,e){if(gO(t=vt(t)))return AE("Unsupported field value:",e,t),mO(t,e);if(t instanceof ny)return function(r,i){if(!pO(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=gu(a,i.gu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $G(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=kt.fromDate(r);return{timestampValue:qp(i.serializer,s)}}if(r instanceof kt){const s=new kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qp(i.serializer,s)}}if(r instanceof xE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ql)return{bytesValue:VN(i.serializer,r._byteString)};if(r instanceof zn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:fE(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Jg(r)}`)}(t,e)}function mO(t,e){const n={};return hN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ra(t,(r,i)=>{const s=gu(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function gO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof kt||t instanceof xE||t instanceof Ql||t instanceof zn||t instanceof ny)}function AE(t,e,n){if(!gO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Jg(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function E0(t,e,n){if((e=vt(e))instanceof ty)return e._internalPath;if(typeof e=="string")return NE(t,e);throw Qp("Field path arguments must be of type string or ",t,!1,void 0,n)}const KY=new RegExp("[~\\*/\\[\\]]");function NE(t,e,n){if(e.search(KY)>=0)throw Qp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ty(...e.split("."))._internalPath}catch{throw Qp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new X($.INVALID_ARGUMENT,a+t+l)}function yO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(OE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GY extends vO{data(){return super.data()}}function OE(t,e){return typeof e=="string"?NE(t,e):e instanceof ty?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DE{}class QY extends DE{}function YY(t,e,...n){let r=[];e instanceof DE&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof ME).length,a=s.filter(l=>l instanceof sy).length;if(o>1||o>0&&a>0)throw new X($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class sy extends QY{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new sy(e,n,r)}_apply(e){const n=this._parse(e);return wO(e._query,n),new xa(e.firestore,e.converter,f0(e._query,n))}_parse(e){const n=PE(e.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new X($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){bR(d,c);const f=[];for(const g of d)f.push(RR(l,s,g));h={arrayValue:{values:f}}}else h=RR(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||bR(d,c),h=qY(a,o,d,c==="in"||c==="not-in");return Zt.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function XY(t,e,n){const r=e,i=OE("where",t);return sy._create(i,r,n)}class ME extends DE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ME(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ci.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)wO(o,l),o=f0(o,l)}(e._query,n),new xa(e.firestore,e.converter,f0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function RR(t,e,n){if(typeof(n=vt(n))=="string"){if(n==="")throw new X($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EN(e)&&n.indexOf("/")!==-1)throw new X($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(gt.fromString(n));if(!ue.isDocumentKey(r))throw new X($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return QI(t,new ue(r))}if(n instanceof zn)return QI(t,n._key);throw new X($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jg(n)}.`)}function bR(t,e){if(!Array.isArray(t)||t.length===0)throw new X($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wO(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class JY{convertValue(e,n="none"){switch(ha(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ra(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new xE(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=aE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Od(e));default:return null}}convertTimestamp(e){const n=so(e);return new kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gt.fromString(e);ct(HN(r));const i=new Dd(r.get(1),r.get(3)),s=new ue(r.popFirst(5));return i.isEqual(n)||Fi(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZY(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class EO extends vO{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(OE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class jf extends EO{data(e={}){return super.data(e)}}class TO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new pc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jf(this._firestore,this._userDataWriter,r.key,r,new pc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new jf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new jf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new pc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:eX(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function eX(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(t){t=jr(t,zn);const e=jr(t.firestore,fa);return NY(ey(e),t._key).then(n=>IO(e,t,n))}class LE extends JY{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ql(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function tX(t){t=jr(t,xa);const e=jr(t.firestore,fa),n=ey(e),r=new LE(e);return _O(t._query),OY(n,t._query).then(i=>new TO(e,r,t,i))}function Yp(t,e,n){t=jr(t,zn);const r=jr(t.firestore,fa),i=ZY(t.converter,e,n);return CO(r,[BY(PE(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Oi.none())])}function mc(t,e,n,...r){t=jr(t,zn);const i=jr(t.firestore,fa),s=PE(i);let o;return o=typeof(e=vt(e))=="string"||e instanceof ty?HY(s,"updateDoc",t._key,e,n,r):WY(s,"updateDoc",t._key,e),CO(i,[o.toMutation(t._key,Oi.exists(!0))])}function SO(t,...e){var n,r,i;t=vt(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||IR(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(IR(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof zn)u=jr(t.firestore,fa),c=zg(t._key.path),l={next:d=>{e[o]&&e[o](IO(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=jr(t,xa);u=jr(d.firestore,fa),c=d._query;const h=new LE(u);l={next:f=>{e[o]&&e[o](new TO(u,h,d,f))},error:e[o+1],complete:e[o+2]},_O(t._query)}return function(h,f,g,v){const E=new bE(v),p=new IE(f,E,g);return h.asyncQueue.enqueueAndForget(async()=>TE(await Gp(h),p)),()=>{E.La(),h.asyncQueue.enqueueAndForget(async()=>SE(await Gp(h),p))}}(ey(u),c,a,l)}function CO(t,e){return function(r,i){const s=new Ai;return r.asyncQueue.enqueueAndForget(async()=>vY(await AY(r),i,s)),s.promise}(ey(t),e)}function IO(t,e,n){const r=n.docs.get(e._key),i=new LE(t);return new EO(t,i,e._key,r,new pc(n.hasPendingWrites,n.fromCache),e.converter)}function PR(...t){return new kE("arrayUnion",t)}(function(e,n=!0){(function(i){fu=i})(go),ro(new hs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new fa(new eG(r.getProvider("auth-internal")),new iG(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dd(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ur(WI,"4.4.2",e),Ur(WI,"4.4.2","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="firebasestorage.googleapis.com",bO="storageBucket",nX=2*60*1e3,rX=10*60*1e3,iX=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot extends ji{constructor(e,n,r=0){super(mv(e),`Firebase Storage: ${n} (${mv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _t;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_t||(_t={}));function mv(t){return"storage/"+t}function $E(){const t="An unknown error occurred, please check the error payload for server response.";return new Ot(_t.UNKNOWN,t)}function sX(t){return new Ot(_t.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function oX(t){return new Ot(_t.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aX(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ot(_t.UNAUTHENTICATED,t)}function lX(){return new Ot(_t.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function uX(t){return new Ot(_t.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function xO(){return new Ot(_t.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function PO(){return new Ot(_t.CANCELED,"User canceled the upload/download.")}function cX(t){return new Ot(_t.INVALID_URL,"Invalid URL '"+t+"'.")}function dX(t){return new Ot(_t.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hX(){return new Ot(_t.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+bO+"' property when initializing the app?")}function kO(){return new Ot(_t.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function fX(){return new Ot(_t.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function pX(){return new Ot(_t.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function mX(t){return new Ot(_t.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function T0(t){return new Ot(_t.INVALID_ARGUMENT,t)}function AO(){return new Ot(_t.APP_DELETED,"The Firebase app was deleted.")}function gX(t){return new Ot(_t.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Uc(t,e){return new Ot(_t.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Gu(t){throw new Ot(_t.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yr.makeFromUrl(e,n)}catch{return new yr(e,"")}if(r.path==="")return r;throw dX(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(w){w.path_=decodeURIComponent(w.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},v=n===RO?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",p=new RegExp(`^https?://${v}/${i}/${E}`,"i"),m=[{regex:a,indices:l,postModify:s},{regex:f,indices:g,postModify:u},{regex:p,indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<m.length;w++){const I=m[w],T=I.regex.exec(e);if(T){const C=T[I.indices.bucket];let b=T[I.indices.path];b||(b=""),r=new yr(C,b),I.postModify(r);break}}if(r==null)throw cX(e);return r}}class yX{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vX(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...E){u||(u=!0,e.apply(null,E))}function d(E){i=setTimeout(()=>{i=null,t(f,l())},E)}function h(){s&&clearTimeout(s)}function f(E,...p){if(u){h();return}if(E){h(),c.call(null,E,...p);return}if(l()||o){h(),c.call(null,E,...p);return}r<64&&(r*=2);let m;a===1?(a=2,m=0):m=(r+Math.random())*1e3,d(m)}let g=!1;function v(E){g||(g=!0,h(),!u&&(i!==null?(E||(a=2),clearTimeout(i),d(0)):E||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}function _X(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wX(t){return t!==void 0}function EX(t){return typeof t=="function"}function TX(t){return typeof t=="object"&&!Array.isArray(t)}function oy(t){return typeof t=="string"||t instanceof String}function kR(t){return FE()&&t instanceof Blob}function FE(){return typeof Blob<"u"}function AR(t,e,n,r){if(r<e)throw T0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw T0(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function NO(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Qo||(Qo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SX{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,g)=>{this.resolve_=f,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new df(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Qo.NO_ERROR,l=s.getStatus();if(!a||OO(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Qo.ABORT;r(!1,new df(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new df(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());wX(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=$E();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?AO():PO();o(l)}else{const l=xO();o(l)}};this.canceled_?n(!1,new df(!1,null,!0)):this.backoffId_=vX(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_X(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class df{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function CX(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function IX(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function RX(t,e){e&&(t["X-Firebase-GMPID"]=e)}function bX(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function xX(t,e,n,r,i,s,o=!0){const a=NO(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return RX(u,e),CX(u,n),IX(u,s),bX(u,r),new SX(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PX(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function kX(...t){const e=PX();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(FE())return new Blob(t);throw new Ot(_t.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function AX(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NX(t){if(typeof atob>"u")throw mX("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gv{constructor(e,n){this.data=e,this.contentType=n||null}}function OX(t,e){switch(t){case Si.RAW:return new gv(DO(e));case Si.BASE64:case Si.BASE64URL:return new gv(MO(t,e));case Si.DATA_URL:return new gv(MX(e),LX(e))}throw $E()}function DO(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function DX(t){let e;try{e=decodeURIComponent(t)}catch{throw Uc(Si.DATA_URL,"Malformed data URL.")}return DO(e)}function MO(t,e){switch(t){case Si.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Uc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Si.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Uc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=NX(e)}catch(i){throw i.message.includes("polyfill")?i:Uc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class LO{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Uc(Si.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=$X(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function MX(t){const e=new LO(t);return e.base64?MO(Si.BASE64,e.rest):DX(e.rest)}function LX(t){return new LO(t).contentType}function $X(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n){let r=0,i="";kR(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(kR(this.data_)){const r=this.data_,i=AX(r,e,n);return i===null?null:new Ms(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ms(r,!0)}}static getBlob(...e){if(FE()){const n=e.map(r=>r instanceof Ms?r.data_:r);return new Ms(kX.apply(null,n))}else{const n=e.map(o=>oy(o)?OX(Si.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Ms(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t){let e;try{e=JSON.parse(t)}catch{return null}return TX(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FX(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function VX(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function FO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UX(t,e){return e}class qn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||UX}}let hf=null;function jX(t){return!oy(t)||t.length<2?t:FO(t)}function VO(){if(hf)return hf;const t=[];t.push(new qn("bucket")),t.push(new qn("generation")),t.push(new qn("metageneration")),t.push(new qn("name","fullPath",!0));function e(s,o){return jX(o)}const n=new qn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new qn("size");return i.xform=r,t.push(i),t.push(new qn("timeCreated")),t.push(new qn("updated")),t.push(new qn("md5Hash",null,!0)),t.push(new qn("cacheControl",null,!0)),t.push(new qn("contentDisposition",null,!0)),t.push(new qn("contentEncoding",null,!0)),t.push(new qn("contentLanguage",null,!0)),t.push(new qn("contentType",null,!0)),t.push(new qn("metadata","customMetadata",!0)),hf=t,hf}function BX(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new yr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function zX(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return BX(r,t),r}function UO(t,e,n){const r=$O(e);return r===null?null:zX(t,r,n)}function WX(t,e,n,r){const i=$O(e);if(i===null||!oy(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),f=wh(h,n,r),g=NO({alt:"media",token:u});return f+g})[0]}function jO(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class yu{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(t){if(!t)throw $E()}function VE(t,e){function n(r,i){const s=UO(t,i,e);return is(s!==null),s}return n}function HX(t,e){function n(r,i){const s=UO(t,i,e);return is(s!==null),WX(s,i,t.host,t._protocol)}return n}function Eh(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=lX():i=aX():n.getStatus()===402?i=oX(t.bucket):n.getStatus()===403?i=uX(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function BO(t){const e=Eh(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=sX(t.path)),s.serverResponse=i.serverResponse,s}return n}function qX(t,e,n){const r=e.fullServerUrl(),i=wh(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new yu(i,s,VE(t,n),o);return a.errorHandler=BO(e),a}function KX(t,e,n){const r=e.fullServerUrl(),i=wh(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new yu(i,s,HX(t,n),o);return a.errorHandler=BO(e),a}function GX(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function zO(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=GX(null,e)),r}function QX(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let m="";for(let w=0;w<2;w++)m=m+Math.random().toString().slice(2);return m}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=zO(e,r,i),c=jO(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=Ms.getBlob(d,r,h);if(f===null)throw kO();const g={name:u.fullPath},v=wh(s,t.host,t._protocol),E="POST",p=t.maxUploadRetryTime,y=new yu(v,E,VE(t,n),p);return y.urlParams=g,y.headers=o,y.body=f.uploadData(),y.errorHandler=Eh(e),y}class Xp{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function UE(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{is(!1)}return is(!!n&&(e||["active"]).indexOf(n)!==-1),n}function YX(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=zO(e,r,i),a={name:o.fullPath},l=wh(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=jO(o,n),h=t.maxUploadRetryTime;function f(v){UE(v);let E;try{E=v.getResponseHeader("X-Goog-Upload-URL")}catch{is(!1)}return is(oy(E)),E}const g=new yu(l,u,f,h);return g.urlParams=a,g.headers=c,g.body=d,g.errorHandler=Eh(e),g}function XX(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=UE(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{is(!1)}d||is(!1);const h=Number(d);return is(!isNaN(h)),new Xp(h,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new yu(n,o,s,a);return l.headers=i,l.errorHandler=Eh(e),l}const NR=256*1024;function JX(t,e,n,r,i,s,o,a){const l=new Xp(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw fX();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,h=d+c;let f="";c===0?f="finalize":u===c?f="upload, finalize":f="upload";const g={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},v=r.slice(d,h);if(v===null)throw kO();function E(w,I){const T=UE(w,["active","final"]),C=l.current+c,b=r.size();let P;return T==="final"?P=VE(e,s)(w,I):P=null,new Xp(C,b,T==="final",P)}const p="POST",y=e.maxUploadRetryTime,m=new yu(n,p,E,y);return m.headers=g,m.body=v.uploadData(),m.progressCallback=a||null,m.errorHandler=Eh(t),m}const er={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function yv(t){switch(t){case"running":case"pausing":case"canceling":return er.RUNNING;case"paused":return er.PAUSED;case"success":return er.SUCCESS;case"canceled":return er.CANCELED;case"error":return er.ERROR;default:return er.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZX{constructor(e,n,r){if(EX(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class eJ{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Qo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Qo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Qo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Gu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Gu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Gu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Gu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Gu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class tJ extends eJ{initXhr(){this.xhr_.responseType="text"}}function Ha(){return new tJ}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJ{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=VO(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(_t.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(OO(i.status,[]))if(s)i=xO();else{this.sleepTime=Math.max(this.sleepTime*2,iX),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(_t.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=YX(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ha,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=XX(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Ha,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=NR*this._chunkMultiplier,n=new Xp(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=JX(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Ha,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){NR*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=qX(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ha,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=QX(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ha,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=PO(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=yv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new ZX(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(yv(this._state)){case er.SUCCESS:Va(this._resolve.bind(null,this.snapshot))();break;case er.CANCELED:case er.ERROR:const n=this._reject;Va(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(yv(this._state)){case er.RUNNING:case er.PAUSED:e.next&&Va(e.next.bind(e,this.snapshot))();break;case er.SUCCESS:e.complete&&Va(e.complete.bind(e))();break;case er.CANCELED:case er.ERROR:e.error&&Va(e.error.bind(e,this._error))();break;default:e.error&&Va(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this._service=e,n instanceof yr?this._location=n:this._location=yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new pa(e,n)}get root(){const e=new yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FO(this._location.path)}get storage(){return this._service}get parent(){const e=FX(this._location.path);if(e===null)return null;const n=new yr(this._location.bucket,e);return new pa(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw gX(e)}}function rJ(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new nJ(t,new Ms(e),n)}function iJ(t){t._throwIfRoot("getDownloadURL");const e=KX(t.storage,t._location,VO());return t.storage.makeRequestWithTokens(e,Ha).then(n=>{if(n===null)throw pX();return n})}function sJ(t,e){const n=VX(t._location.path,e),r=new yr(t._location.bucket,n);return new pa(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oJ(t){return/^[A-Za-z]+:\/\//.test(t)}function aJ(t,e){return new pa(t,e)}function WO(t,e){if(t instanceof jE){const n=t;if(n._bucket==null)throw hX();const r=new pa(n,n._bucket);return e!=null?WO(r,e):r}else return e!==void 0?sJ(t,e):t}function lJ(t,e){if(e&&oJ(e)){if(t instanceof jE)return aJ(t,e);throw T0("To use ref(service, url), the first argument must be a Storage instance.")}else return WO(t,e)}function OR(t,e){const n=e==null?void 0:e[bO];return n==null?null:yr.makeFromBucketSpec(n,t)}function uJ(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:vA(i,t.app.options.projectId))}class jE{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=RO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nX,this._maxUploadRetryTime=rX,this._requests=new Set,i!=null?this._bucket=yr.makeFromBucketSpec(i,this._host):this._bucket=OR(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yr.makeFromBucketSpec(this._url,e):this._bucket=OR(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){AR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){AR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new pa(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new yX(AO());{const o=xX(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const DR="@firebase/storage",MR="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="storage";function qO(t,e,n){return t=vt(t),rJ(t,e,n)}function KO(t){return t=vt(t),iJ(t)}function GO(t,e){return t=vt(t),lJ(t,e)}function QO(t=Sw(),e){t=vt(t);const r=Eg(t,HO).getImmediate({identifier:e}),i=mA("storage");return i&&cJ(r,...i),r}function cJ(t,e,n,r={}){uJ(t,e,n,r)}function dJ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new jE(n,r,i,e,go)}function hJ(){ro(new hs(HO,dJ,"PUBLIC").setMultipleInstances(!0)),Ur(DR,MR,""),Ur(DR,MR,"esm2017")}hJ();const fJ={apiKey:"AIzaSyDqHW7C7SIvkp_Bp9pJrWSHONl181jPSdo",authDomain:"pract-chat.firebaseapp.com",databaseURL:"https://pract-chat-default-rtdb.firebaseio.com",projectId:"pract-chat",storageBucket:"pract-chat.appspot.com",messagingSenderId:"828679656058",appId:"1:828679656058:web:a62aff6d72a5cf8ec2e1c3",measurementId:"G-LYH1TBF56B"};IA(fJ);const Yl=Bq(),pJ=QO(),Dr=FY();var YO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},LR=mn.createContext&&mn.createContext(YO),mJ=["attr","size","title"];function gJ(t,e){if(t==null)return{};var n=yJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Jp(){return Jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jp.apply(this,arguments)}function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){vJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vJ(t,e,n){return e=_J(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _J(t){var e=wJ(t,"string");return typeof e=="symbol"?e:String(e)}function wJ(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XO(t){return t&&t.map((e,n)=>mn.createElement(e.tag,Zp({key:n},e.attr),XO(e.child)))}function Bi(t){return e=>mn.createElement(EJ,Jp({attr:Zp({},t.attr)},e),XO(t.child))}function EJ(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=gJ(t,mJ),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),mn.createElement("svg",Jp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:Zp(Zp({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&mn.createElement("title",null,s),t.children)};return LR!==void 0?mn.createElement(LR.Consumer,null,n=>e(n)):e(YO)}function JO(t){return Bi({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFC107",d:`M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12\r
	c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24\r
	c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z`},child:[]},{tag:"path",attr:{fill:"#FF3D00",d:`M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657\r
	C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z`},child:[]},{tag:"path",attr:{fill:"#4CAF50",d:`M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36\r
	c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z`},child:[]},{tag:"path",attr:{fill:"#1976D2",d:`M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571\r
	c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z`},child:[]}]})(t)}const TJ=()=>{const[t,e]=_.useState(""),[n,r]=_.useState(!1),[i,s]=_.useState(""),[o,a]=_.useState(""),[l,u]=_.useState(!1),[c,d]=_.useState(""),[h,f]=_.useState(!1),[g,v]=_.useState(!1),E=Sa(),p=async C=>{C.preventDefault(),(!n||!l)&&IH(Yl,t,o).then(()=>{E("/pract-chat/chat")}).catch(b=>{b.code,b.message,console.log(b),f(!0)})},y=C=>{const b=/^[^]+@[^]+\.[a-z]{2,3}$/,P=C.target.value;e(P),P===""||!P.match(b)?(r(!0),s("Please enter a valid email address")):(r(!1),s(""))},m=C=>{const b=C.target.value;a(b),b===""||b.length<6?(u(!0),d("You must have at least 6 characters")):(u(!1),d(""))},w=()=>{v(!g)},I=()=>{const C=new _i;s2(Yl,C).then(b=>{console.log("Google Sign-In successful:",b.user),E("/pract-chat/chat")}).catch(b=>{console.error("Google Sign-In failed:",b),f(!0)})},T={container:{maxWidth:"400px",margin:"auto",padding:"50px",textAlign:"center"},p:{marginTop:"-10px",color:"#6B6B6B"},inputContainer:{margin:"0 auto",marginTop:"50px",alignItems:"center",justifyContent:"center"},btn:{width:"70%",padding:"10px",border:"none",outline:"none",backgroundColor:"black",color:"white",borderRadius:"50px",marginTop:"20px",cursor:"pointer",height:"45px",fontWeight:"600"},googleBtn:{display:"flex",alignItems:"center",justifyContent:"center",width:"70%",padding:"10px",border:"none",outline:"none",backgroundColor:"#D9D9D9",color:"black",borderRadius:"50px",marginTop:"20px",cursor:"pointer",height:"45px",fontWeight:"600",marginLeft:"60px",icon:{paddingRight:"10px"}},suggestion:{color:"#6B6B6B",marginTop:"50px"},link:{textDecoration:"none",color:"black",fontWeight:"500",cursor:"pointer"}};return S.jsxs("div",{style:T.container,children:[h?S.jsx(Dk,{severity:"error",children:"Your email or password is incorrect."}):null,S.jsx("h1",{children:"Welcome Back!"}),S.jsx("p",{style:T.p,children:"Please enter your information"}),S.jsxs("div",{style:T.inputContainer,children:[S.jsx(Nc,{color:"primary",error:n,helperText:i,onChange:y,value:t,sx:{width:"70%"},id:"standard-basic",label:"Email",variant:"standard"}),S.jsxs(bk,{sx:{alignItems:"center",position:"relative"},children:[S.jsx(Nc,{error:l,helperText:c,onChange:m,sx:{width:"70%",marginTop:"20px"},id:"standard-password-input",label:"Password",type:g?"text":"password",autoComplete:"current-password",variant:"standard"}),g?S.jsx(gw,{onClick:w,sx:{marginTop:"40px",marginLeft:"-25px",position:"absolute",cursor:"pointer"}}):S.jsx(vw,{onClick:w,sx:{marginTop:"40px",marginLeft:"-25px",position:"absolute",cursor:"pointer"}})]}),S.jsx("button",{onClick:p,style:T.btn,children:"Log In"}),S.jsxs("button",{onClick:I,style:T.googleBtn,children:[S.jsx(JO,{style:T.googleBtn.icon,size:20})," Log In with Google"]})]}),S.jsxs("p",{style:T.suggestion,children:["Don't Have an account? ",S.jsx("a",{style:T.link,onClick:()=>{E("/pract-chat/sign-up")},children:"Sign Up"})]})]})},ZO=_.createContext(null),SJ=({children:t})=>{const[e,n]=_.useState(null),[r,i]=_.useState(!1);_.useEffect(()=>{kH(Yl,o=>{n(o),i(!0)})},[]);const s=()=>{AH(Yl)};return console.log(e),S.jsx(ZO.Provider,{value:{user:e,logOut:s,isInitialized:r},children:t})},vu=()=>_.useContext(ZO),CJ=()=>{const{user:t}=vu();return console.log(t),t?S.jsx(O1,{}):alert("You have to be logged in to get access to the chat")||S.jsx(J$,{to:"log-in"})},IJ=()=>{const{isInitialized:t}=vu();return t?S.jsx(O1,{}):S.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:S.jsx(B9,{style:{color:"darkgray"}})})};var BE={},RJ=Jd;Object.defineProperty(BE,"__esModule",{value:!0});var eD=BE.default=void 0,bJ=RJ(Zd()),xJ=S;eD=BE.default=(0,bJ.default)((0,xJ.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout");var zE={},PJ=Jd;Object.defineProperty(zE,"__esModule",{value:!0});var tD=zE.default=void 0,kJ=PJ(Zd()),AJ=S;tD=zE.default=(0,kJ.default)((0,AJ.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"}),"Circle");var WE={},NJ=Jd;Object.defineProperty(WE,"__esModule",{value:!0});var nD=WE.default=void 0,OJ=NJ(Zd()),DJ=S;nD=WE.default=(0,OJ.default)((0,DJ.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 11c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1m1 4h-2v-2h2z"}),"ErrorRounded");function MJ(t){return Bi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM40,128A88,88,0,0,1,190.2,65.8L65.8,190.2A87.76,87.76,0,0,1,40,128Z"},child:[]}]})(t)}function LJ(t){return Bi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,24A104,104,0,0,0,36.18,176.88L24.83,210.93a16,16,0,0,0,20.24,20.24l34.05-11.35A104,104,0,1,0,128,24Zm0,192a87.87,87.87,0,0,1-44.06-11.81,8,8,0,0,0-6.54-.67L40,216,52.47,178.6a8,8,0,0,0-.66-6.54A88,88,0,1,1,128,216Z"},child:[]}]})(t)}function $J(t){return Bi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,80a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160Zm88-29.84q.06-2.16,0-4.32l14.92-18.64a8,8,0,0,0,1.48-7.06,107.21,107.21,0,0,0-10.88-26.25,8,8,0,0,0-6-3.93l-23.72-2.64q-1.48-1.56-3-3L186,40.54a8,8,0,0,0-3.94-6,107.71,107.71,0,0,0-26.25-10.87,8,8,0,0,0-7.06,1.49L130.16,40Q128,40,125.84,40L107.2,25.11a8,8,0,0,0-7.06-1.48A107.6,107.6,0,0,0,73.89,34.51a8,8,0,0,0-3.93,6L67.32,64.27q-1.56,1.49-3,3L40.54,70a8,8,0,0,0-6,3.94,107.71,107.71,0,0,0-10.87,26.25,8,8,0,0,0,1.49,7.06L40,125.84Q40,128,40,130.16L25.11,148.8a8,8,0,0,0-1.48,7.06,107.21,107.21,0,0,0,10.88,26.25,8,8,0,0,0,6,3.93l23.72,2.64q1.49,1.56,3,3L70,215.46a8,8,0,0,0,3.94,6,107.71,107.71,0,0,0,26.25,10.87,8,8,0,0,0,7.06-1.49L125.84,216q2.16.06,4.32,0l18.64,14.92a8,8,0,0,0,7.06,1.48,107.21,107.21,0,0,0,26.25-10.88,8,8,0,0,0,3.93-6l2.64-23.72q1.56-1.48,3-3L215.46,186a8,8,0,0,0,6-3.94,107.71,107.71,0,0,0,10.87-26.25,8,8,0,0,0-1.49-7.06Zm-16.1-6.5a73.93,73.93,0,0,1,0,8.68,8,8,0,0,0,1.74,5.48l14.19,17.73a91.57,91.57,0,0,1-6.23,15L187,173.11a8,8,0,0,0-5.1,2.64,74.11,74.11,0,0,1-6.14,6.14,8,8,0,0,0-2.64,5.1l-2.51,22.58a91.32,91.32,0,0,1-15,6.23l-17.74-14.19a8,8,0,0,0-5-1.75h-.48a73.93,73.93,0,0,1-8.68,0,8,8,0,0,0-5.48,1.74L100.45,215.8a91.57,91.57,0,0,1-15-6.23L82.89,187a8,8,0,0,0-2.64-5.1,74.11,74.11,0,0,1-6.14-6.14,8,8,0,0,0-5.1-2.64L46.43,170.6a91.32,91.32,0,0,1-6.23-15l14.19-17.74a8,8,0,0,0,1.74-5.48,73.93,73.93,0,0,1,0-8.68,8,8,0,0,0-1.74-5.48L40.2,100.45a91.57,91.57,0,0,1,6.23-15L69,82.89a8,8,0,0,0,5.1-2.64,74.11,74.11,0,0,1,6.14-6.14A8,8,0,0,0,82.89,69L85.4,46.43a91.32,91.32,0,0,1,15-6.23l17.74,14.19a8,8,0,0,0,5.48,1.74,73.93,73.93,0,0,1,8.68,0,8,8,0,0,0,5.48-1.74L155.55,40.2a91.57,91.57,0,0,1,15,6.23L173.11,69a8,8,0,0,0,2.64,5.1,74.11,74.11,0,0,1,6.14,6.14,8,8,0,0,0,5.1,2.64l22.58,2.51a91.32,91.32,0,0,1,6.23,15l-14.19,17.74A8,8,0,0,0,199.87,123.66Z"},child:[]}]})(t)}function FJ(t){return Bi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,152H168V104h48a8,8,0,0,0,0-16H168V40a8,8,0,0,0-16,0V88H104V40a8,8,0,0,0-16,0V88H40a8,8,0,0,0,0,16H88v48H40a8,8,0,0,0,0,16H88v48a8,8,0,0,0,16,0V168h48v48a8,8,0,0,0,16,0V168h48a8,8,0,0,0,0-16Zm-112,0V104h48v48Z"},child:[]}]})(t)}function VJ(t){return Bi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"},child:[]}]})(t)}function rD(t){return Bi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM40,56H80V200H40ZM216,200H96V56H216V200Z"},child:[]}]})(t)}function UJ(t){return Bi({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.404 14.596A6.5 6.5 0 1116.5 10a1.25 1.25 0 01-2.5 0 4 4 0 10-.571 2.06A2.75 2.75 0 0018 10a8 8 0 10-2.343 5.657.75.75 0 00-1.06-1.06 6.5 6.5 0 01-9.193 0zM10 7.5a2.5 2.5 0 100 5 2.5 2.5 0 000-5z",clipRule:"evenodd"},child:[]}]})(t)}const jJ="_container_byhgx_1",BJ="_section_byhgx_9",zJ="_userContainer_byhgx_17",WJ="_userContainerInfo_byhgx_22",HJ="_displayName_byhgx_25",qJ="_userInfoContainer_byhgx_34",KJ="_infoSectionContainer_byhgx_40",GJ="_infoSectionItem_byhgx_46",QJ="_label_byhgx_53",YJ="_bottom_byhgx_57",XJ="_warningContainer_byhgx_64",JJ="_warningContainerInfo_byhgx_74",ZJ="_logOutBtn_byhgx_77",eZ="_NoChats_byhgx_89",at={container:jJ,section:BJ,userContainer:zJ,userContainerInfo:WJ,displayName:HJ,userInfoContainer:qJ,infoSectionContainer:KJ,infoSectionItem:GJ,label:QJ,bottom:YJ,warningContainer:XJ,warningContainerInfo:JJ,logOutBtn:ZJ,NoChats:eZ},iD=()=>{const[t,e]=_.useState(!1),{user:n,logOut:r}=vu(),[i,s]=_.useState(!1),o=()=>{s(l=>!l)},a=()=>{e(!0),navigator.clipboard.writeText(n.uid),setTimeout(()=>{e(!1)},5e3)};return S.jsxs("div",{className:`${at.container} ${i?at.dark:""}`,children:[S.jsx(Sz,{open:t,message:"Copied!",anchorOrigin:{vertical:"top",horizontal:"right"},ContentProps:{style:{backgroundColor:"var(--main-color)",color:"var(--main-bg-color)",padding:"10px",paddingLeft:"20px",paddingRight:"0px",borderRadius:"15px",zIndex:"100000"}}}),S.jsxs("div",{className:at.section,children:[S.jsxs("div",{className:at.userContainer,children:[S.jsx(vd,{src:n.photoURL,sx:{width:46,height:46,fontSize:27}}),S.jsxs("div",{className:at.userContainerInfo,children:[S.jsx("h1",{className:at.displayName,children:n.displayName}),S.jsxs("p",{children:[S.jsx(tD,{sx:{width:12,height:12,color:"var(--accent-color-mixed)"}})," Online"]})]})]}),S.jsxs("div",{className:at.userInfoContainer,children:[S.jsx(UJ,{style:{marginTop:"5px"},size:25}),S.jsxs("div",{className:at.infoSectionContainer,children:[S.jsx("p",{className:at.infoSectionItem,children:n.email}),S.jsx("p",{className:at.label,children:"Email"})]})]}),S.jsx(Oz,{title:"Copy",placement:"right",children:S.jsxs("div",{className:at.userInfoContainer,onClick:a,children:[S.jsx(FJ,{style:{marginTop:"5px"},size:25}),S.jsxs("div",{className:at.infoSectionContainer,children:[S.jsx("p",{className:at.infoSectionItem,children:n.uid}),S.jsx("p",{className:at.label,children:"User ID"})]})]})}),S.jsx(F_,{variant:"middle"}),S.jsxs(FS,{to:"/pract-chat/chat",className:at.userInfoContainer,children:[S.jsx(LJ,{style:{marginTop:"5px",marginLeft:"2px"},size:22}),S.jsx("div",{className:at.infoSectionContainer,children:S.jsx("p",{className:at.infoSectionItem,children:"Messages"})})]}),S.jsxs("div",{className:at.userInfoContainer,children:[S.jsx(MJ,{style:{marginTop:"5px"},size:23}),S.jsx("div",{className:at.infoSectionContainer,children:S.jsx("p",{className:at.infoSectionItem,onClick:o,children:i?"Light Mode":"Dark Mode"})})]}),S.jsxs(FS,{to:"/pract-chat/settings",className:at.userInfoContainer,children:[S.jsx($J,{style:{marginTop:"5px"},size:24}),S.jsx("div",{className:at.infoSectionContainer,children:S.jsx("p",{className:at.infoSectionItem,children:"Settings"})})]}),S.jsxs("div",{className:at.bottom,children:[S.jsxs("div",{className:at.warningContainer,children:[S.jsx(nD,{sx:{fontSize:"30px"}}),S.jsx("div",{className:at.warningContainerInfo,children:S.jsx("p",{children:"This is a practice project, let's keep it appropriate"})})]}),S.jsxs("button",{className:at.logOutBtn,onClick:r,children:[S.jsx(eD,{sx:{color:"var(--highlight-color)",fontSize:"21px",position:"absolute",left:"20px",top:"13px"}})," Log Out"]})]})]})]})};var FR={};const VR="@firebase/database",UR="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sD="";function tZ(t){sD=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nZ{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),In(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:_d(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ws(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new nZ(e)}}catch{}return new rZ},zo=oD("localStorage"),S0=oD("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=new wg("@firebase/database"),iZ=function(){let t=1;return function(){return t++}}(),aD=function(t){const e=v7(t),n=new f7;n.update(e);const r=n.digest();return _w.encodeByteArray(r)},Th=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Th.apply(null,r):typeof r=="object"?e+=In(r):e+=r,e+=" "}return e};let Yo=null,jR=!0;const sZ=function(t,e){G(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Tl.logLevel=Ne.VERBOSE,Yo=Tl.log.bind(Tl),e&&S0.set("logging_enabled",!0)):typeof t=="function"?Yo=t:(Yo=null,S0.remove("logging_enabled"))},Fn=function(...t){if(jR===!0&&(jR=!1,Yo===null&&S0.get("logging_enabled")===!0&&sZ(!0)),Yo){const e=Th.apply(null,t);Yo(e)}},Sh=function(t){return function(...e){Fn(t,...e)}},C0=function(...t){const e="FIREBASE INTERNAL ERROR: "+Th(...t);Tl.error(e)},ma=function(...t){const e=`FIREBASE FATAL ERROR: ${Th(...t)}`;throw Tl.error(e),new Error(e)},wr=function(...t){const e="FIREBASE WARNING: "+Th(...t);Tl.warn(e)},oZ=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&wr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},lD=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},aZ=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Xl="[MIN_NAME]",ga="[MAX_NAME]",_u=function(t,e){if(t===e)return 0;if(t===Xl||e===ga)return-1;if(e===Xl||t===ga)return 1;{const n=BR(t),r=BR(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},lZ=function(t,e){return t===e?0:t<e?-1:1},Qu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+In(e))},HE=function(t){if(typeof t!="object"||t===null)return In(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=In(e[r]),n+=":",n+=HE(t[e[r]]);return n+="}",n},uD=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Kr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const cD=function(t){G(!lD(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},uZ=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},cZ=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},dZ=new RegExp("^-?(0*)\\d{1,10}$"),hZ=-2147483648,fZ=2147483647,BR=function(t){if(dZ.test(t)){const e=Number(t);if(e>=hZ&&e<=fZ)return e}return null},Ch=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw wr("Exception was thrown by user callback.",n),e},Math.floor(0))}},pZ=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},jc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mZ{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){wr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gZ{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Fn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wr(e)}}class I0{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}I0.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="5",dD="v",hD="s",fD="r",pD="f",mD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gD="ls",yD="p",R0="ac",vD="websocket",_D="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yZ{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&zo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function vZ(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function wD(t,e,n){G(typeof e=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");let r;if(e===vD)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===_D)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);vZ(t)&&(n.ns=t.namespace);const i=[];return Kr(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z{constructor(){this.counters_={}}incrementCounter(e,n=1){ws(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Xz(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv={},_v={};function KE(t){const e=t.toString();return vv[e]||(vv[e]=new _Z),vv[e]}function wZ(t,e){const n=t.toString();return _v[n]||(_v[n]=e()),_v[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EZ{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Ch(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="start",TZ="close",SZ="pLPCommand",CZ="pRTLPCB",ED="id",TD="pw",SD="ser",IZ="cb",RZ="seg",bZ="ts",xZ="d",PZ="dframe",CD=1870,ID=30,kZ=CD-ID,AZ=25e3,NZ=3e4;class al{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Sh(e),this.stats_=KE(n),this.urlFn=l=>(this.appCheckToken&&(l[R0]=this.appCheckToken),wD(n,_D,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new EZ(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(NZ)),aZ(()=>{if(this.isClosed_)return;this.scriptTagHolder=new GE((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===zR)this.id=a,this.password=l;else if(o===TZ)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[zR]="t",r[SD]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[IZ]=this.scriptTagHolder.uniqueCallbackIdentifier),r[dD]=qE,this.transportSessionId&&(r[hD]=this.transportSessionId),this.lastSessionId&&(r[gD]=this.lastSessionId),this.applicationId&&(r[yD]=this.applicationId),this.appCheckToken&&(r[R0]=this.appCheckToken),typeof location<"u"&&location.hostname&&mD.test(location.hostname)&&(r[fD]=pD);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){al.forceAllow_=!0}static forceDisallow(){al.forceDisallow_=!0}static isAvailable(){return al.forceAllow_?!0:!al.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!uZ()&&!cZ()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=In(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=hA(n),i=uD(r,kZ);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[PZ]="t",r[ED]=e,r[TD]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=In(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class GE{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=iZ(),window[SZ+this.uniqueCallbackIdentifier]=e,window[CZ+this.uniqueCallbackIdentifier]=n,this.myIFrame=GE.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Fn("frame writing exception"),a.stack&&Fn(a.stack),Fn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Fn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[ED]=this.myID,e[TD]=this.myPW,e[SD]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ID+r.length<=CD;){const o=this.pendingSegs.shift();r=r+"&"+RZ+i+"="+o.seg+"&"+bZ+i+"="+o.ts+"&"+xZ+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(AZ)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Fn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OZ=16384,DZ=45e3;let em=null;typeof MozWebSocket<"u"?em=MozWebSocket:typeof WebSocket<"u"&&(em=WebSocket);class ri{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Sh(this.connId),this.stats_=KE(n),this.connURL=ri.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[dD]=qE,typeof location<"u"&&location.hostname&&mD.test(location.hostname)&&(o[fD]=pD),n&&(o[hD]=n),r&&(o[gD]=r),i&&(o[R0]=i),s&&(o[yD]=s),wD(e,vD,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zo.set("previous_websocket_failure",!0);try{let r;wA(),this.mySock=new em(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ri.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&em!==null&&!ri.forceDisallow_}static previouslyFailed(){return zo.isInMemoryStorage||zo.get("previous_websocket_failure")===!0}markConnectionHealthy(){zo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=_d(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=In(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=uD(n,OZ);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(DZ))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ri.responsesRequiredToBeHealthy=2;ri.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[al,ri]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ri&&ri.isAvailable();let r=n&&!ri.previouslyFailed();if(e.webSocketOnly&&(n||wr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ri];else{const i=this.transports_=[];for(const s of $d.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);$d.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}$d.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MZ=6e4,LZ=5e3,$Z=10*1024,FZ=100*1024,wv="t",WR="d",VZ="s",HR="r",UZ="e",qR="o",KR="a",GR="n",QR="p",jZ="h";class BZ{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Sh("c:"+this.id+":"),this.transportManager_=new $d(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=jc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>FZ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>$Z?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(wv in e){const n=e[wv];n===KR?this.upgradeIfSecondaryHealthy_():n===HR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===qR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Qu("t",e),r=Qu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:QR,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:KR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:GR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Qu("t",e),r=Qu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Qu(wv,e);if(WR in e){const r=e[WR];if(n===jZ){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===GR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===VZ?this.onConnectionShutdown_(r):n===HR?this.onReset_(r):n===UZ?C0("Server Error: "+r):n===qR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):C0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),qE!==r&&wr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),jc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(MZ))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):jc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(LZ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:QR,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){G(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm extends bD{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ew()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new tm}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=32,XR=768;class wt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function it(){return new wt("")}function je(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ao(t){return t.pieces_.length-t.pieceNum_}function pt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new wt(t.pieces_,e)}function xD(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function zZ(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function PD(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function kD(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new wt(e,0)}function pn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof wt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new wt(n,0)}function Ve(t){return t.pieceNum_>=t.pieces_.length}function $r(t,e){const n=je(t),r=je(e);if(n===null)return e;if(n===r)return $r(pt(t),pt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function AD(t,e){if(ao(t)!==ao(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ii(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ao(t)>ao(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class WZ{constructor(e,n){this.errorPrefix_=n,this.parts_=PD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=_g(this.parts_[r]);ND(this)}}function HZ(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=_g(e),ND(t)}function qZ(t){const e=t.parts_.pop();t.byteLength_-=_g(e),t.parts_.length>0&&(t.byteLength_-=1)}function ND(t){if(t.byteLength_>XR)throw new Error(t.errorPrefix_+"has a key path longer than "+XR+" bytes ("+t.byteLength_+").");if(t.parts_.length>YR)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+YR+") or object contains a cycle "+Po(t))}function Po(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE extends bD{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new QE}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=1e3,KZ=60*5*1e3,JR=30*1e3,GZ=1.3,QZ=3e4,YZ="server_kill",ZR=3;class ss extends RD{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=ss.nextPersistentConnectionId_++,this.log_=Sh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Yu,this.maxReconnectDelay_=KZ,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!wA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");QE.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&tm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(In(s)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new ww,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;ss.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ws(e,"w")){const r=Vl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();wr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||h7(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=JR)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=d7(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+In(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):C0("Unrecognized action received from server: "+In(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Yu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>QZ&&(this.reconnectDelay_=Yu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*GZ)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ss.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){G(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Fn("getToken() completed but was canceled"):(Fn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new BZ(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{wr(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(YZ)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&wr(d),l())}}}interrupt(e){Fn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Fn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],j_(this.interruptReasons_)&&(this.reconnectDelay_=Yu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>HE(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new wt(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Fn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ZR&&(this.reconnectDelay_=JR,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Fn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ZR&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+sD.replace(/\./g,"-")]=1,Ew()?e["framework.cordova"]=1:_A()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=tm.getInstance().currentlyOnline();return j_(this.interruptReasons_)&&e}}ss.nextPersistentConnectionId_=0;ss.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Be(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Be(Xl,e),i=new Be(Xl,n);return this.compare(r,i)!==0}minPost(){return Be.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ff;class OD extends ay{static get __EMPTY_NODE(){return ff}static set __EMPTY_NODE(e){ff=e}compare(e,n){return _u(e.name,n.name)}isDefinedOn(e){throw lu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Be.MIN}maxPost(){return new Be(ga,ff)}makePost(e,n){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new Be(e,ff)}toString(){return".key"}}const Sl=new OD;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class fn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??fn.RED,this.left=i??ir.EMPTY_NODE,this.right=s??ir.EMPTY_NODE}copy(e,n,r,i,s){return new fn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ir.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return ir.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}fn.RED=!0;fn.BLACK=!1;class XZ{copy(e,n,r,i,s){return this}insert(e,n,r){return new fn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ir{constructor(e,n=ir.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new ir(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,fn.BLACK,null,null))}remove(e){return new ir(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,fn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new pf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new pf(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new pf(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new pf(this.root_,null,this.comparator_,!0,e)}}ir.EMPTY_NODE=new XZ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JZ(t,e){return _u(t.name,e.name)}function YE(t,e){return _u(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b0;function ZZ(t){b0=t}const DD=function(t){return typeof t=="number"?"number:"+cD(t):"string:"+t},MD=function(t){if(t.isLeafNode()){const e=t.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ws(e,".sv"),"Priority must be a string or number.")}else G(t===b0||t.isEmpty(),"priority of unexpected type.");G(t===b0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eb;class cn{constructor(e,n=cn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),MD(this.priorityNode_)}static set __childrenNodeConstructor(e){eb=e}static get __childrenNodeConstructor(){return eb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new cn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:cn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ve(e)?this:je(e)===".priority"?this.priorityNode_:cn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:cn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=je(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(G(r!==".priority"||ao(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,cn.__childrenNodeConstructor.EMPTY_NODE.updateChild(pt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+DD(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=cD(this.value_):e+=this.value_,this.lazyHash_=aD(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===cn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof cn.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=cn.VALUE_TYPE_ORDER.indexOf(n),s=cn.VALUE_TYPE_ORDER.indexOf(r);return G(i>=0,"Unknown leaf type: "+n),G(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}cn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LD,$D;function eee(t){LD=t}function tee(t){$D=t}class nee extends ay{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?_u(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Be.MIN}maxPost(){return new Be(ga,new cn("[PRIORITY-POST]",$D))}makePost(e,n){const r=LD(e);return new Be(n,new cn("[PRIORITY-POST]",r))}toString(){return".priority"}}const Un=new nee;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ree=Math.log(2);class iee{constructor(e){const n=s=>parseInt(Math.log(s)/ree,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const nm=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new fn(h,d.node,fn.BLACK,null,null);{const f=parseInt(c/2,10)+l,g=i(l,f),v=i(f+1,u);return d=t[f],h=n?n(d):d,new fn(h,d.node,fn.BLACK,g,v)}},s=function(l){let u=null,c=null,d=t.length;const h=function(g,v){const E=d-g,p=d;d-=g;const y=i(E+1,p),m=t[E],w=n?n(m):m;f(new fn(w,m.node,v,null,y))},f=function(g){u?(u.left=g,u=g):(c=g,u=g)};for(let g=0;g<l.count;++g){const v=l.nextBitIsOne(),E=Math.pow(2,l.count-(g+1));v?h(E,fn.BLACK):(h(E,fn.BLACK),h(E,fn.RED))}return c},o=new iee(t.length),a=s(o);return new ir(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ev;const Ua={};class ts{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return G(Ua&&Un,"ChildrenNode.ts has not been loaded"),Ev=Ev||new ts({".priority":Ua},{".priority":Un}),Ev}get(e){const n=Vl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ir?n:null}hasIndex(e){return ws(this.indexSet_,e.toString())}addIndex(e,n){G(e!==Sl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Be.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=nm(r,e.getCompare()):a=Ua;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new ts(c,u)}addToIndexes(e,n){const r=xp(this.indexes_,(i,s)=>{const o=Vl(this.indexSet_,s);if(G(o,"Missing index implementation for "+s),i===Ua)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Be.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),nm(a,o.getCompare())}else return Ua;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Be(e.name,a))),l.insert(e,e.node)}});return new ts(r,this.indexSet_)}removeFromIndexes(e,n){const r=xp(this.indexes_,i=>{if(i===Ua)return i;{const s=n.get(e.name);return s?i.remove(new Be(e.name,s)):i}});return new ts(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu;class Ye{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&MD(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Xu||(Xu=new Ye(new ir(YE),null,ts.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Xu}updatePriority(e){return this.children_.isEmpty()?this:new Ye(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Xu:n}}getChild(e){const n=je(e);return n===null?this:this.getImmediateChild(n).getChild(pt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(G(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Be(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Xu:this.priorityNode_;return new Ye(i,o,s)}}updateChild(e,n){const r=je(e);if(r===null)return n;{G(je(e)!==".priority"||ao(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(pt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Un,(o,a)=>{n[o]=a.val(e),r++,s&&Ye.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+DD(this.getPriority().val())+":"),this.forEachChild(Un,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":aD(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Be(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Be(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Be(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Be.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Be.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ih?-1:0}withIndex(e){if(e===Sl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ye(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Sl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Un),i=n.getIterator(Un);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Sl?null:this.indexMap_.get(e.toString())}}Ye.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class see extends Ye{constructor(){super(new ir(YE),Ye.EMPTY_NODE,ts.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ye.EMPTY_NODE}isEmpty(){return!1}}const Ih=new see;Object.defineProperties(Be,{MIN:{value:new Be(Xl,Ye.EMPTY_NODE)},MAX:{value:new Be(ga,Ih)}});OD.__EMPTY_NODE=Ye.EMPTY_NODE;cn.__childrenNodeConstructor=Ye;ZZ(Ih);tee(Ih);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oee=!0;function Vn(t,e=null){if(t===null)return Ye.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new cn(n,Vn(e))}if(!(t instanceof Array)&&oee){const n=[];let r=!1;if(Kr(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Vn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Be(o,l)))}}),n.length===0)return Ye.EMPTY_NODE;const s=nm(n,JZ,o=>o.name,YE);if(r){const o=nm(n,Un.getCompare());return new Ye(s,Vn(e),new ts({".priority":o},{".priority":Un}))}else return new Ye(s,Vn(e),ts.Default)}else{let n=Ye.EMPTY_NODE;return Kr(t,(r,i)=>{if(ws(t,r)&&r.substring(0,1)!=="."){const s=Vn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Vn(e))}}eee(Vn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aee extends ay{constructor(e){super(),this.indexPath_=e,G(!Ve(e)&&je(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?_u(e.name,n.name):s}makePost(e,n){const r=Vn(e),i=Ye.EMPTY_NODE.updateChild(this.indexPath_,r);return new Be(n,i)}maxPost(){const e=Ye.EMPTY_NODE.updateChild(this.indexPath_,Ih);return new Be(ga,e)}toString(){return PD(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lee extends ay{compare(e,n){const r=e.node.compareTo(n.node);return r===0?_u(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Be.MIN}maxPost(){return Be.MAX}makePost(e,n){const r=Vn(e);return new Be(n,r)}toString(){return".value"}}const uee=new lee;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cee(t){return{type:"value",snapshotNode:t}}function dee(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function hee(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function tb(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function fee(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Un}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xl}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ga}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Un}copy(){const e=new XE;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function nb(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Un?n="$priority":t.index_===uee?n="$value":t.index_===Sl?n="$key":(G(t.index_ instanceof aee,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=In(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=In(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+In(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=In(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+In(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function rb(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Un&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm extends RD{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Sh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=rm.getListenId_(e,r),a={};this.listens_[o]=a;const l=nb(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Vl(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=rm.getListenId_(e,n);delete this.listens_[r]}get(e){const n=nb(e._queryParams),r=e._path.toString(),i=new ww;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+uu(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=_d(a.responseText)}catch{wr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&wr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pee{constructor(){this.rootNode_=Ye.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(){return{value:null,children:new Map}}function FD(t,e,n){if(Ve(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=je(e);t.children.has(r)||t.children.set(r,im());const i=t.children.get(r);e=pt(e),FD(i,e,n)}}function x0(t,e,n){t.value!==null?n(e,t.value):mee(t,(r,i)=>{const s=new wt(e.toString()+"/"+r);x0(i,s,n)})}function mee(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gee{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Kr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=10*1e3,yee=30*1e3,vee=5*60*1e3;class _ee{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new gee(e);const r=ib+(yee-ib)*Math.random();jc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Kr(e,(i,s)=>{s>0&&ws(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),jc(this.reportStats_.bind(this),Math.floor(Math.random()*2*vee))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ci;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ci||(Ci={}));function VD(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function UD(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function jD(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ci.ACK_USER_WRITE,this.source=VD()}operationForChild(e){if(Ve(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new wt(e));return new sm(it(),n,this.revert)}}else return G(je(this.path)===e,"operationForChild called for unrelated child."),new sm(pt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ci.OVERWRITE}operationForChild(e){return Ve(this.path)?new ya(this.source,it(),this.snap.getImmediateChild(e)):new ya(this.source,pt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ci.MERGE}operationForChild(e){if(Ve(this.path)){const n=this.children.subtree(new wt(e));return n.isEmpty()?null:n.value?new ya(this.source,it(),n.value):new Fd(this.source,it(),n)}else return G(je(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Fd(this.source,pt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ve(e))return this.isFullyInitialized()&&!this.filtered_;const n=je(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function wee(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(fee(o.childName,o.snapshotNode))}),Ju(t,i,"child_removed",e,r,n),Ju(t,i,"child_added",e,r,n),Ju(t,i,"child_moved",s,r,n),Ju(t,i,"child_changed",e,r,n),Ju(t,i,"value",e,r,n),i}function Ju(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>Tee(t,a,l)),o.forEach(a=>{const l=Eee(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function Eee(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Tee(t,e,n){if(e.childName==null||n.childName==null)throw lu("Should only compare child_ events.");const r=new Be(e.childName,e.snapshotNode),i=new Be(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(t,e){return{eventCache:t,serverCache:e}}function Bc(t,e,n,r){return BD(new JE(e,n,r),t.serverCache)}function zD(t,e,n,r){return BD(t.eventCache,new JE(e,n,r))}function P0(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function va(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tv;const See=()=>(Tv||(Tv=new ir(lZ)),Tv);class ft{constructor(e,n=See()){this.value=e,this.children=n}static fromObject(e){let n=new ft(null);return Kr(e,(r,i)=>{n=n.set(new wt(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:it(),value:this.value};if(Ve(e))return null;{const r=je(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(pt(e),n);return s!=null?{path:pn(new wt(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ve(e))return this;{const n=je(e),r=this.children.get(n);return r!==null?r.subtree(pt(e)):new ft(null)}}set(e,n){if(Ve(e))return new ft(n,this.children);{const r=je(e),s=(this.children.get(r)||new ft(null)).set(pt(e),n),o=this.children.insert(r,s);return new ft(this.value,o)}}remove(e){if(Ve(e))return this.children.isEmpty()?new ft(null):new ft(null,this.children);{const n=je(e),r=this.children.get(n);if(r){const i=r.remove(pt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new ft(null):new ft(this.value,s)}else return this}}get(e){if(Ve(e))return this.value;{const n=je(e),r=this.children.get(n);return r?r.get(pt(e)):null}}setTree(e,n){if(Ve(e))return n;{const r=je(e),s=(this.children.get(r)||new ft(null)).setTree(pt(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ft(this.value,o)}}fold(e){return this.fold_(it(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(pn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,it(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Ve(e))return null;{const s=je(e),o=this.children.get(s);return o?o.findOnPath_(pt(e),pn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,it(),n)}foreachOnPath_(e,n,r){if(Ve(e))return this;{this.value&&r(n,this.value);const i=je(e),s=this.children.get(i);return s?s.foreachOnPath_(pt(e),pn(n,i),r):new ft(null)}}foreach(e){this.foreach_(it(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(pn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e){this.writeTree_=e}static empty(){return new ai(new ft(null))}}function zc(t,e,n){if(Ve(e))return new ai(new ft(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=$r(i,e);return s=s.updateChild(o,n),new ai(t.writeTree_.set(i,s))}else{const i=new ft(n),s=t.writeTree_.setTree(e,i);return new ai(s)}}}function sb(t,e,n){let r=t;return Kr(n,(i,s)=>{r=zc(r,pn(e,i),s)}),r}function ob(t,e){if(Ve(e))return ai.empty();{const n=t.writeTree_.setTree(e,new ft(null));return new ai(n)}}function k0(t,e){return Pa(t,e)!=null}function Pa(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild($r(n.path,e)):null}function ab(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Un,(r,i)=>{e.push(new Be(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Be(r,i.value))}),e}function Js(t,e){if(Ve(e))return t;{const n=Pa(t,e);return n!=null?new ai(new ft(n)):new ai(t.writeTree_.subtree(e))}}function A0(t){return t.writeTree_.isEmpty()}function Jl(t,e){return WD(it(),t.writeTree_,e)}function WD(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(G(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=WD(pn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(pn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t,e){return YD(e,t)}function Cee(t,e,n,r,i){G(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=zc(t.visibleWrites,e,n)),t.lastWriteId=r}function Iee(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Ree(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);G(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&bee(a,r.path)?i=!1:ii(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return xee(t),!0;if(r.snap)t.visibleWrites=ob(t.visibleWrites,r.path);else{const a=r.children;Kr(a,l=>{t.visibleWrites=ob(t.visibleWrites,pn(r.path,l))})}return!0}else return!1}function bee(t,e){if(t.snap)return ii(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ii(pn(t.path,n),e))return!0;return!1}function xee(t){t.visibleWrites=qD(t.allWrites,Pee,it()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Pee(t){return t.visible}function qD(t,e,n){let r=ai.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)ii(n,o)?(a=$r(n,o),r=zc(r,a,s.snap)):ii(o,n)&&(a=$r(o,n),r=zc(r,it(),s.snap.getChild(a)));else if(s.children){if(ii(n,o))a=$r(n,o),r=sb(r,a,s.children);else if(ii(o,n))if(a=$r(o,n),Ve(a))r=sb(r,it(),s.children);else{const l=Vl(s.children,je(a));if(l){const u=l.getChild(pt(a));r=zc(r,it(),u)}}}else throw lu("WriteRecord should have .snap or .children")}}return r}function KD(t,e,n,r,i){if(!r&&!i){const s=Pa(t.visibleWrites,e);if(s!=null)return s;{const o=Js(t.visibleWrites,e);if(A0(o))return n;if(n==null&&!k0(o,it()))return null;{const a=n||Ye.EMPTY_NODE;return Jl(o,a)}}}else{const s=Js(t.visibleWrites,e);if(!i&&A0(s))return n;if(!i&&n==null&&!k0(s,it()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(ii(u.path,e)||ii(e,u.path))},a=qD(t.allWrites,o,e),l=n||Ye.EMPTY_NODE;return Jl(a,l)}}}function kee(t,e,n){let r=Ye.EMPTY_NODE;const i=Pa(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Un,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Js(t.visibleWrites,e);return n.forEachChild(Un,(o,a)=>{const l=Jl(Js(s,new wt(o)),a);r=r.updateImmediateChild(o,l)}),ab(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Js(t.visibleWrites,e);return ab(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Aee(t,e,n,r,i){G(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=pn(e,n);if(k0(t.visibleWrites,s))return null;{const o=Js(t.visibleWrites,s);return A0(o)?i.getChild(n):Jl(o,i.getChild(n))}}function Nee(t,e,n,r){const i=pn(e,n),s=Pa(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Js(t.visibleWrites,i);return Jl(o,r.getNode().getImmediateChild(n))}else return null}function Oee(t,e){return Pa(t.visibleWrites,e)}function Dee(t,e,n,r,i,s,o){let a;const l=Js(t.visibleWrites,e),u=Pa(l,it());if(u!=null)a=u;else if(n!=null)a=Jl(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)d(f,r)!==0&&c.push(f),f=h.getNext();return c}else return[]}function Mee(){return{visibleWrites:ai.empty(),allWrites:[],lastWriteId:-1}}function N0(t,e,n,r){return KD(t.writeTree,t.treePath,e,n,r)}function GD(t,e){return kee(t.writeTree,t.treePath,e)}function lb(t,e,n,r){return Aee(t.writeTree,t.treePath,e,n,r)}function om(t,e){return Oee(t.writeTree,pn(t.treePath,e))}function Lee(t,e,n,r,i,s){return Dee(t.writeTree,t.treePath,e,n,r,i,s)}function ZE(t,e,n){return Nee(t.writeTree,t.treePath,e,n)}function QD(t,e){return YD(pn(t.treePath,e),t.writeTree)}function YD(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ee{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,tb(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,hee(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,dee(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,tb(r,e.snapshotNode,i.oldSnap));else throw lu("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fee{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const XD=new Fee;class eT{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new JE(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ZE(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:va(this.viewCache_),s=Lee(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function Vee(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Uee(t,e,n,r,i){const s=new $ee;let o,a;if(n.type===Ci.OVERWRITE){const u=n;u.source.fromUser?o=O0(t,e,u.path,u.snap,r,i,s):(G(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Ve(u.path),o=am(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Ci.MERGE){const u=n;u.source.fromUser?o=Bee(t,e,u.path,u.children,r,i,s):(G(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=D0(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Ci.ACK_USER_WRITE){const u=n;u.revert?o=Hee(t,e,u.path,r,i,s):o=zee(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Ci.LISTEN_COMPLETE)o=Wee(t,e,n.path,r,s);else throw lu("Unknown operation type: "+n.type);const l=s.getChanges();return jee(e,o,l),{viewCache:o,changes:l}}function jee(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=P0(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(cee(P0(e)))}}function JD(t,e,n,r,i,s){const o=e.eventCache;if(om(r,n)!=null)return e;{let a,l;if(Ve(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=va(e),c=u instanceof Ye?u:Ye.EMPTY_NODE,d=GD(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=N0(r,va(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=je(n);if(u===".priority"){G(ao(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=lb(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=pt(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=lb(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=ZE(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return Bc(e,a,o.isFullyInitialized()||Ve(n),t.filter.filtersNodes())}}function am(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(Ve(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=je(n);if(!l.isCompleteForPath(n)&&ao(n)>1)return e;const g=pt(n),E=l.getNode().getImmediateChild(f).updateChild(g,r);f===".priority"?u=c.updatePriority(l.getNode(),E):u=c.updateChild(l.getNode(),f,E,g,XD,null)}const d=zD(e,u,l.isFullyInitialized()||Ve(n),c.filtersNodes()),h=new eT(i,d,s);return JD(t,d,n,i,h,a)}function O0(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new eT(i,e,s);if(Ve(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Bc(e,u,!0,t.filter.filtersNodes());else{const d=je(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Bc(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=pt(n),f=a.getNode().getImmediateChild(d);let g;if(Ve(h))g=r;else{const v=c.getCompleteChild(d);v!=null?xD(h)===".priority"&&v.getChild(kD(h)).isEmpty()?g=v:g=v.updateChild(h,r):g=Ye.EMPTY_NODE}if(f.equals(g))l=e;else{const v=t.filter.updateChild(a.getNode(),d,g,h,c,o);l=Bc(e,v,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function ub(t,e){return t.eventCache.isCompleteForChild(e)}function Bee(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=pn(n,l);ub(e,je(c))&&(a=O0(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=pn(n,l);ub(e,je(c))||(a=O0(t,a,c,u,i,s,o))}),a}function cb(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function D0(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Ve(n)?u=r:u=new ft(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),g=cb(t,f,h);l=am(t,l,new wt(d),g,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!f){const g=e.serverCache.getNode().getImmediateChild(d),v=cb(t,g,h);l=am(t,l,new wt(d),v,i,s,o,a)}}),l}function zee(t,e,n,r,i,s,o){if(om(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Ve(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return am(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Ve(n)){let u=new ft(null);return l.getNode().forEachChild(Sl,(c,d)=>{u=u.set(new wt(c),d)}),D0(t,e,n,u,i,s,a,o)}else return e}else{let u=new ft(null);return r.foreach((c,d)=>{const h=pn(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),D0(t,e,n,u,i,s,a,o)}}function Wee(t,e,n,r,i){const s=e.serverCache,o=zD(e,s.getNode(),s.isFullyInitialized()||Ve(n),s.isFiltered());return JD(t,o,n,r,XD,i)}function Hee(t,e,n,r,i,s){let o;if(om(r,n)!=null)return e;{const a=new eT(r,e,i),l=e.eventCache.getNode();let u;if(Ve(n)||je(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=N0(r,va(e));else{const d=e.serverCache.getNode();G(d instanceof Ye,"serverChildren would be complete if leaf node"),c=GD(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=je(n);let d=ZE(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,pt(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Ye.EMPTY_NODE,pt(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=N0(r,va(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||om(r,it())!=null,Bc(e,u,o,t.filter.filtersNodes())}}function qee(t,e){const n=va(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ve(e)&&!n.getImmediateChild(je(e)).isEmpty())?n.getChild(e):null}function db(t,e,n,r){e.type===Ci.MERGE&&e.source.queryId!==null&&(G(va(t.viewCache_),"We should always have a full cache before handling merges"),G(P0(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Uee(t.processor_,i,e,n,r);return Vee(t.processor_,s.viewCache),G(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Kee(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Kee(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return wee(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hb;function Gee(t){G(!hb,"__referenceConstructor has already been defined"),hb=t}function tT(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return G(s!=null,"SyncTree gave us an op for an invalid query."),db(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(db(o,e,n,r));return s}}function nT(t,e){let n=null;for(const r of t.views.values())n=n||qee(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fb;function Qee(t){G(!fb,"__referenceConstructor has already been defined"),fb=t}class pb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ft(null),this.pendingWriteTree_=Mee(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Yee(t,e,n,r,i){return Cee(t.pendingWriteTree_,e,n,r,i),i?uy(t,new ya(VD(),e,n)):[]}function ll(t,e,n=!1){const r=Iee(t.pendingWriteTree_,e);if(Ree(t.pendingWriteTree_,e)){let s=new ft(null);return r.snap!=null?s=s.set(it(),!0):Kr(r.children,o=>{s=s.set(new wt(o),!0)}),uy(t,new sm(r.path,s,n))}else return[]}function ly(t,e,n){return uy(t,new ya(UD(),e,n))}function Xee(t,e,n){const r=ft.fromObject(n);return uy(t,new Fd(UD(),e,r))}function Jee(t,e,n,r){const i=nM(t,r);if(i!=null){const s=rM(i),o=s.path,a=s.queryId,l=$r(o,e),u=new ya(jD(a),l,n);return iM(t,o,u)}else return[]}function Zee(t,e,n,r){const i=nM(t,r);if(i){const s=rM(i),o=s.path,a=s.queryId,l=$r(o,e),u=ft.fromObject(n),c=new Fd(jD(a),l,u);return iM(t,o,c)}else return[]}function ZD(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=$r(o,e),u=nT(a,l);if(u)return u});return KD(i,e,s,n,!0)}function uy(t,e){return eM(e,t.syncPointTree_,null,HD(t.pendingWriteTree_,it()))}function eM(t,e,n,r){if(Ve(t.path))return tM(t,e,n,r);{const i=e.get(it());n==null&&i!=null&&(n=nT(i,it()));let s=[];const o=je(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=QD(r,o);s=s.concat(eM(a,l,u,c))}return i&&(s=s.concat(tT(i,t,r,n))),s}}function tM(t,e,n,r){const i=e.get(it());n==null&&i!=null&&(n=nT(i,it()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=QD(r,o),c=t.operationForChild(o);c&&(s=s.concat(tM(c,a,l,u)))}),i&&(s=s.concat(tT(i,t,r,n))),s}function nM(t,e){return t.tagToQueryMap.get(e)}function rM(t){const e=t.indexOf("$");return G(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new wt(t.substr(0,e))}}function iM(t,e,n){const r=t.syncPointTree_.get(e);G(r,"Missing sync point for query tag that we're tracking");const i=HD(t.pendingWriteTree_,e);return tT(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new rT(n)}node(){return this.node_}}class iT{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=pn(this.path_,e);return new iT(this.syncTree_,n)}node(){return ZD(this.syncTree_,this.path_)}}const ete=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},mb=function(t,e,n){if(!t||typeof t!="object")return t;if(G(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return tte(t[".sv"],e,n);if(typeof t[".sv"]=="object")return nte(t[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},tte=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+t)}},nte=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&G(!1,"Unexpected increment value: "+r);const i=e.node();if(G(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},rte=function(t,e,n,r){return sT(e,new iT(n,t),r)},ite=function(t,e,n){return sT(t,new rT(e),n)};function sT(t,e,n){const r=t.getPriority().val(),i=mb(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=mb(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new cn(a,Vn(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new cn(i))),o.forEachChild(Un,(a,l)=>{const u=sT(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function aT(t,e){let n=e instanceof wt?e:new wt(e),r=t,i=je(n);for(;i!==null;){const s=Vl(r.node.children,i)||{children:{},childCount:0};r=new oT(i,r,s),n=pt(n),i=je(n)}return r}function wu(t){return t.node.value}function sM(t,e){t.node.value=e,M0(t)}function oM(t){return t.node.childCount>0}function ste(t){return wu(t)===void 0&&!oM(t)}function cy(t,e){Kr(t.node.children,(n,r)=>{e(new oT(n,t,r))})}function aM(t,e,n,r){n&&!r&&e(t),cy(t,i=>{aM(i,e,!0,r)}),n&&r&&e(t)}function ote(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Rh(t){return new wt(t.parent===null?t.name:Rh(t.parent)+"/"+t.name)}function M0(t){t.parent!==null&&ate(t.parent,t.name,t)}function ate(t,e,n){const r=ste(n),i=ws(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,M0(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,M0(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lte=/[\[\].#$\/\u0000-\u001F\u007F]/,ute=/[\[\].#$\u0000-\u001F\u007F]/,Sv=10*1024*1024,lM=function(t){return typeof t=="string"&&t.length!==0&&!lte.test(t)},cte=function(t){return typeof t=="string"&&t.length!==0&&!ute.test(t)},dte=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),cte(t)},uM=function(t,e,n){const r=n instanceof wt?new WZ(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Po(r));if(typeof e=="function")throw new Error(t+"contains a function "+Po(r)+" with contents = "+e.toString());if(lD(e))throw new Error(t+"contains "+e.toString()+" "+Po(r));if(typeof e=="string"&&e.length>Sv/3&&_g(e)>Sv)throw new Error(t+"contains a string greater than "+Sv+" utf8 bytes "+Po(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Kr(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!lM(o)))throw new Error(t+" contains an invalid key ("+o+") "+Po(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);HZ(r,o),uM(t,a,r),qZ(r)}),i&&s)throw new Error(t+' contains ".value" child '+Po(r)+" in addition to actual children.")}},hte=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!lM(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!dte(n))throw new Error(y7(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fte{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function pte(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!AD(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function ka(t,e,n){pte(t,n),mte(t,r=>ii(r,e)||ii(e,r))}function mte(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(gte(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function gte(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Yo&&Fn("event: "+n.toString()),Ch(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yte="repo_interrupt",vte=25;class _te{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fte,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=im(),this.transactionQueueTree_=new oT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function wte(t,e,n){if(t.stats_=KE(t.repoInfo_),t.forceRestClient_||pZ())t.server_=new rm(t.repoInfo_,(r,i,s,o)=>{gb(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>yb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{In(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new ss(t.repoInfo_,e,(r,i,s,o)=>{gb(t,r,i,s,o)},r=>{yb(t,r)},r=>{Tte(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=wZ(t.repoInfo_,()=>new _ee(t.stats_,t.server_)),t.infoData_=new pee,t.infoSyncTree_=new pb({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=ly(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),lT(t,"connected",!1),t.serverSyncTree_=new pb({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);ka(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Ete(t){const n=t.infoData_.getNode(new wt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function cM(t){return ete({timestamp:Ete(t)})}function gb(t,e,n,r,i){t.dataUpdateCount++;const s=new wt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=xp(n,u=>Vn(u));o=Zee(t.serverSyncTree_,s,l,i)}else{const l=Vn(n);o=Jee(t.serverSyncTree_,s,l,i)}else if(r){const l=xp(n,u=>Vn(u));o=Xee(t.serverSyncTree_,s,l)}else{const l=Vn(n);o=ly(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=cT(t,s)),ka(t.eventQueue_,a,o)}function yb(t,e){lT(t,"connected",e),e===!1&&Cte(t)}function Tte(t,e){Kr(e,(n,r)=>{lT(t,n,r)})}function lT(t,e,n){const r=new wt("/.info/"+e),i=Vn(n);t.infoData_.updateSnapshot(r,i);const s=ly(t.infoSyncTree_,r,i);ka(t.eventQueue_,r,s)}function Ste(t){return t.nextWriteId_++}function Cte(t){dM(t,"onDisconnectEvents");const e=cM(t),n=im();x0(t.onDisconnect_,it(),(i,s)=>{const o=rte(i,s,t.serverSyncTree_,e);FD(n,i,o)});let r=[];x0(n,it(),(i,s)=>{r=r.concat(ly(t.serverSyncTree_,i,s));const o=xte(t,i);cT(t,o)}),t.onDisconnect_=im(),ka(t.eventQueue_,it(),r)}function Ite(t){t.persistentConnection_&&t.persistentConnection_.interrupt(yte)}function dM(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Fn(n,...e)}function hM(t,e,n){return ZD(t.serverSyncTree_,e,n)||Ye.EMPTY_NODE}function uT(t,e=t.transactionQueueTree_){if(e||dy(t,e),wu(e)){const n=pM(t,e);G(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Rte(t,Rh(e),n)}else oM(e)&&cy(e,n=>{uT(t,n)})}function Rte(t,e,n){const r=n.map(u=>u.currentWriteId),i=hM(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];G(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=$r(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{dM(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(ll(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();dy(t,aT(t.transactionQueueTree_,e)),uT(t,t.transactionQueueTree_),ka(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)Ch(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{wr("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}cT(t,e)}},o)}function cT(t,e){const n=fM(t,e),r=Rh(n),i=pM(t,n);return bte(t,i,r),r}function bte(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=$r(n,l.path);let c=!1,d;if(G(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(ll(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=vte)c=!0,d="maxretry",i=i.concat(ll(t.serverSyncTree_,l.currentWriteId,!0));else{const h=hM(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){uM("transaction failed: Data returned ",f,l.path);let g=Vn(f);typeof f=="object"&&f!=null&&ws(f,".priority")||(g=g.updatePriority(h.getPriority()));const E=l.currentWriteId,p=cM(t),y=ite(g,h,p);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=y,l.currentWriteId=Ste(t),o.splice(o.indexOf(E),1),i=i.concat(Yee(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(ll(t.serverSyncTree_,E,!0))}else c=!0,d="nodata",i=i.concat(ll(t.serverSyncTree_,l.currentWriteId,!0))}ka(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}dy(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Ch(r[a]);uT(t,t.transactionQueueTree_)}function fM(t,e){let n,r=t.transactionQueueTree_;for(n=je(e);n!==null&&wu(r)===void 0;)r=aT(r,n),e=pt(e),n=je(e);return r}function pM(t,e){const n=[];return mM(t,e,n),n.sort((r,i)=>r.order-i.order),n}function mM(t,e,n){const r=wu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);cy(e,i=>{mM(t,i,n)})}function dy(t,e){const n=wu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,sM(e,n.length>0?n:void 0)}cy(e,r=>{dy(t,r)})}function xte(t,e){const n=Rh(fM(t,e)),r=aT(t.transactionQueueTree_,e);return ote(r,i=>{Cv(t,i)}),Cv(t,r),aM(r,i=>{Cv(t,i)}),n}function Cv(t,e){const n=wu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(G(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(G(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(ll(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?sM(e,void 0):n.length=s+1,ka(t.eventQueue_,Rh(e),i);for(let o=0;o<r.length;o++)Ch(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pte(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function kte(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):wr(`Invalid query segment '${n}' in query '${t}'`)}return e}const vb=function(t,e){const n=Ate(t),r=n.namespace;n.domain==="firebase.com"&&ma(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ma("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||oZ();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new yZ(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new wt(n.pathString)}},Ate=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=Pte(t.substring(c,d)));const h=kte(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ve(this._path)?null:xD(this._path)}get ref(){return new Eu(this._repo,this._path)}get _queryIdentifier(){const e=rb(this._queryParams),n=HE(e);return n==="{}"?"default":n}get _queryObject(){return rb(this._queryParams)}isEqual(e){if(e=vt(e),!(e instanceof dT))return!1;const n=this._repo===e._repo,r=AD(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+zZ(this._path)}}class Eu extends dT{constructor(e,n){super(e,n,new XE,!1)}get parent(){const e=kD(this._path);return e===null?null:new Eu(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}Gee(Eu);Qee(Eu);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nte="FIREBASE_DATABASE_EMULATOR_HOST",L0={};let Ote=!1;function Dte(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ma("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=vb(s,i),a=o.repoInfo,l,u;typeof process<"u"&&FR&&(u=FR[Nte]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=vb(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new I0(I0.OWNER):new gZ(t.name,t.options,e);hte("Invalid Firebase Database URL",o),Ve(o.path)||ma("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Lte(a,t,c,new mZ(t.name,n));return new $te(d,t)}function Mte(t,e){const n=L0[e];(!n||n[t.key]!==t)&&ma(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Ite(t),delete n[t.key]}function Lte(t,e,n,r){let i=L0[e.name];i||(i={},L0[e.name]=i);let s=i[t.toURLString()];return s&&ma("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new _te(t,Ote,n,r),i[t.toURLString()]=s,s}class $te{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(wte(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Eu(this._repo,it())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Mte(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ma("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fte(t){tZ(go),ro(new hs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Dte(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Ur(VR,UR,t),Ur(VR,UR,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vte={".sv":"timestamp"};function Ute(){return Vte}ss.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ss.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Fte();const gM=_.createContext(),jte=({children:t})=>{const{user:e}=vu(),n={chatId:null,otherUser:{}},r=(o,a)=>{switch(a.type){case"CHANGE_USER":return{otherUser:a.payload,chatId:e.uid>a.payload.uid?e.uid+a.payload.uid:a.payload.uid+e.uid};default:return o}},[i,s]=_.useReducer(r,n);return _.useEffect(()=>{e&&s({type:"CHANGE_USER",payload:i.otherUser})},[e]),S.jsx(gM.Provider,{value:{data:i,dispatch:s},children:t})},yM=()=>_.useContext(gM);function Bte(t){return Bi({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"},child:[]}]})(t)}function _b(t){return Bi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(t)}let mf;const zte=new Uint8Array(16);function Wte(){if(!mf&&(mf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!mf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return mf(zte)}const En=[];for(let t=0;t<256;++t)En.push((t+256).toString(16).slice(1));function Hte(t,e=0){return En[t[e+0]]+En[t[e+1]]+En[t[e+2]]+En[t[e+3]]+"-"+En[t[e+4]]+En[t[e+5]]+"-"+En[t[e+6]]+En[t[e+7]]+"-"+En[t[e+8]]+En[t[e+9]]+"-"+En[t[e+10]]+En[t[e+11]]+En[t[e+12]]+En[t[e+13]]+En[t[e+14]]+En[t[e+15]]}const qte=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),wb={randomUUID:qte};function Iv(t,e,n){if(wb.randomUUID&&!e&&!t)return wb.randomUUID();t=t||{};const r=t.random||(t.rng||Wte)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return Hte(r)}const Kte="https://milkevich.github.io/pract-chat/assets/chatImgNoMessages-kTNKWbDn.png",Gte="_container_ulh9a_1",Qte="_userInfoContainer_ulh9a_10",Yte="_userInfo_ulh9a_10",Xte="_displayName_ulh9a_21",Jte="_email_ulh9a_25",Zte="_typeMessage_ulh9a_29",ene="_messageInput_ulh9a_38",tne="_icon_ulh9a_52",nne="_sendBtn_ulh9a_66",rne="_sendBtnIcon_ulh9a_82",ine="_messagesContainer_ulh9a_89",sne="_message_ulh9a_38",one="_ownMessage_ulh9a_108",ane="_otherMessage_ulh9a_118",lne="_ownImgMessage_ulh9a_128",une="_otherImgMessage_ulh9a_136",cne="_img_ulh9a_145",dne="_noMessagesContainer_ulh9a_150",hne="_date_ulh9a_164",fne="_sendBtnIconSingle_ulh9a_170",Lt={container:Gte,userInfoContainer:Qte,userInfo:Yte,displayName:Xte,email:Jte,typeMessage:Zte,messageInput:ene,icon:tne,sendBtn:nne,sendBtnIcon:rne,messagesContainer:ine,message:sne,ownMessage:one,otherMessage:ane,ownImgMessage:lne,otherImgMessage:une,img:cne,noMessagesContainer:dne,date:hne,sendBtnIconSingle:fne},pne=()=>{const{data:t}=yM(),{user:e}=vu(),[n,r]=_.useState([]),[i,s]=_.useState(""),[o,a]=_.useState(null),l=_.useRef(null),[u,c]=_.useState(null),d=QO();_.useEffect(()=>{if(t.chatId){const p=SO(ni(Dr,"chats",t.chatId),y=>{if(y.exists()){const m=y.data();r(m.messages)}});return()=>{p()}}},[t.chatId]),_.useEffect(()=>{h()},[n]);const h=()=>{var p;(p=l.current)==null||p.scrollIntoView({behavior:"smooth"})},f=async()=>{if(i.trim()||o)if(o){const p=GO(d,`images/${Iv()}`),y=qO(p,o);y.on("state_changed",m=>{const w=m.bytesTransferred/m.totalBytes*100;console.log("Upload is "+w+"% done"),c(w)},m=>{console.error("Upload error:",m)},()=>{KO(y.snapshot.ref).then(async m=>{await mc(ni(Dr,"chats",t.chatId),{messages:PR({id:Iv(),senderId:e.uid,date:kt.now(),img:m})}),c(null),a(null)})})}else await mc(ni(Dr,"chats",t.chatId),{messages:PR({id:Iv(),text:i,senderId:e.uid,date:kt.now()})}),s("");await mc(ni(Dr,"userChats",e.uid),{[t.chatId+".lastMessage"]:{text:i},[t.chatId+".date"]:kt.now()}),await mc(ni(Dr,"userChats",t.otherUser.uid),{[t.chatId+".lastMessage"]:{text:i},[t.chatId+".date"]:kt.now()}),s(""),a(null)},g=p=>{const y=p.target.files[0];a(y)},v=p=>{p.key==="Enter"&&f()},E=p=>{const y=p.toDate(),m=y.getHours(),w=y.getMinutes(),I=m>=12?"PM":"AM",T=m%12===0?12:m%12,C=w<10?`0${w}`:w;return`${T}:${C} ${I}`};return t&&t.otherUser&&t.otherUser.displayName&&t.otherUser.displayName[0].toUpperCase(),S.jsxs("div",{className:Lt.container,children:[S.jsxs("div",{className:Lt.userInfoContainer,children:[S.jsx(vd,{src:t.otherUser.photoURL}),S.jsxs("div",{className:Lt.userInfo,children:[S.jsx("h1",{className:Lt.displayName,children:t.otherUser.displayName}),S.jsx("p",{className:Lt.email,children:t.otherUser.email})]})]}),n.length===0?S.jsxs("div",{className:Lt.noMessagesContainer,children:[S.jsx("h1",{children:"Looks like it's nothing here."}),S.jsx("p",{style:{marginTop:"-15px"},children:"Send a message to start chatting!"}),S.jsx("img",{className:Lt.noMessagesContainer.img,src:Kte,alt:""})]}):S.jsxs("div",{className:Lt.messagesContainer,children:[n.map(p=>S.jsxs(mn.Fragment,{children:[p.text&&S.jsx("div",{className:`${Lt.message} ${p.senderId===e.uid?Lt.ownMessage:Lt.otherMessage}`,children:S.jsxs("p",{children:[p.text,S.jsx("span",{className:Lt.date,children:E(p.date)})]})}),p.img&&S.jsxs("div",{className:`${Lt.imMessage} ${p.senderId===e.uid?Lt.ownImgMessage:Lt.otherImgMessage}`,children:[S.jsx("img",{className:Lt.img,src:p.img,alt:"File Attached"}),S.jsx("span",{style:{marginLeft:"10px",marginTop:"10px",fontSize:"11px"},children:E(p.date)})]})]},p.id)),S.jsx("div",{ref:l})]}),S.jsxs("div",{className:Lt.typeMessage,children:[u>0?S.jsx(e8,{sx:{zIndex:1e3,position:"absolute",bottom:"70px",width:"830px",height:"5px",borderRadius:"50px"},variant:"determinate",value:u,color:"secondary"}):null,S.jsx("label",{htmlFor:"file-upload",children:S.jsx(Bte,{className:Lt.icon})}),S.jsx("input",{id:"file-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:g}),S.jsx("input",{onChange:p=>s(p.target.value),onKeyPress:v,className:Lt.messageInput,type:"text",placeholder:"Enter Text",value:i}),S.jsx(_b,{className:Lt.sendBtnIconSingle}),S.jsxs("button",{onClick:f,className:Lt.sendBtn,children:["Send ",S.jsx(_b,{className:Lt.sendBtnIcon})]})]})]})},mne="https://milkevich.github.io/pract-chat/assets/NoChats-VzLtQHpE.png",gne="_container_rr2mi_1",yne="_section_rr2mi_7",vne="_searchContainer_rr2mi_18",_ne="_search_rr2mi_18",wne="_searchBtn_rr2mi_37",Ene="_navMenuBtn_rr2mi_47",Tne="_messageContainer_rr2mi_51",Sne="_messageContainerInfoContainer_rr2mi_59",Cne="_displayName_rr2mi_66",Ine="_LastMessageContainer_rr2mi_76",Rne="_lastMessage_rr2mi_88",bne="_date_rr2mi_96",xne="_noChatsP_rr2mi_118",Pne="_noChatsH_rr2mi_140",kne="_noChats_rr2mi_118",zt={container:gne,section:yne,searchContainer:vne,search:_ne,searchBtn:wne,navMenuBtn:Ene,messageContainer:Tne,messageContainerInfoContainer:Sne,displayName:Cne,LastMessageContainer:Ine,lastMessage:Rne,date:bne,noChatsP:xne,noChatsH:Pne,noChats:kne},Ane="_navMenu_e16vk_1",Nne="_show_e16vk_10",One="_tabClose_e16vk_14",Rv={navMenu:Ane,show:Nne,tabClose:One},Dne=({onCloseTab:t})=>{const[e,n]=_.useState(!1);_.useEffect(()=>{const i=setTimeout(()=>{n(!0)},100);return()=>clearTimeout(i)},[]);const r=()=>{n(!1),t()};return S.jsx("div",{className:`${Rv.navMenu} ${e?Rv.show:""}`,children:S.jsx(sB,{direction:"right",in:e,mountOnEnter:!0,unmountOnExit:!0,timeout:{enter:1e3,exit:1e3},children:S.jsxs("div",{children:[S.jsx(rD,{className:Rv.tabClose,onClick:r}),S.jsx(iD,{})]})})})},Mne=()=>{var y;const[t,e]=_.useState(""),[n,r]=_.useState(null),{user:i}=vu(),{dispatch:s}=yM(),[o,a]=_.useState([]),[l,u]=_.useState(null),[c,d]=_.useState(!1),h=()=>{d(!c)};_.useEffect(()=>{const m=()=>{const w=SO(ni(Dr,"userChats",i.uid),I=>{a(I.data())});return()=>{w()}};i.uid&&m()},[i.uid]);const f=async()=>{if(t.trim()!==""){const m=YY(LY(Dr,"users"),XY("uid","==",t.trim()));try{const w=await tX(m);if(w.empty)r(null),console.log("no user");else{const I=w.docs.map(T=>T.data());r(I),console.log("user found "+t)}}catch(w){console.error("Error searching user:",w)}}},g=m=>{m.code==="Enter"&&f(),e(null)},v=async()=>{if(n&&n.length>0){const m=n[0],w=i.uid>m.uid?i.uid+m.uid:m.uid+i.uid;try{const I=ni(Dr,"chats",w);(await xR(I)).exists()||await Yp(I,{messages:[]});const C=async(b,P)=>{const x=ni(Dr,"userChats",b);(await xR(x)).exists()||await Yp(x,{}),await mc(ni(Dr,"userChats",b),{[w+".userInfo"]:{uid:P.uid,displayName:P.displayName,email:P.email,photoURL:P.photoURL},[w+".date"]:Ute()})};r(null),e(""),await C(m.uid,i),await C(i.uid,m)}catch(I){console.error("Error selecting chat:",I)}}},E=m=>{s({type:"CHANGE_USER",payload:m}),u(m)},p=m=>{if(m&&m.toDate){const w=m.toDate(),I=w.getHours(),T=w.getMinutes(),C=I>=12?"PM":"AM",b=I%12===0?12:I%12,P=T<10?`0${T}`:T;return`${b}:${P} ${C}`.toString()}else return""};return S.jsxs("div",{className:zt.container,children:[c&&S.jsx(Dne,{onCloseTab:h}),S.jsxs("section",{className:zt.section,children:[S.jsxs("div",{className:zt.searchContainer,children:[S.jsx(rD,{onClick:h,className:zt.navMenuBtn}),S.jsx(VJ,{className:zt.searchBtn}),S.jsx("input",{onKeyDown:g,value:t,onChange:m=>e(m.target.value),placeholder:"Search",className:zt.search,type:"text"})]}),t!==""&&S.jsxs("div",{style:{textAlign:"start",marginLeft:"20px",color:"grey"},children:["Please enter user's exact ID ",S.jsx("br",{})," and then press Enter to find a user"]}),n&&S.jsxs("div",{children:[S.jsxs("div",{onClick:v,className:zt.messageContainer,children:[S.jsx(vd,{src:n[0].photoURL,sx:{width:46,height:46,fontSize:27}}),S.jsxs("div",{className:zt.messageContainerInfoContainer,children:[S.jsx("h1",{className:zt.displayName,children:n[0].displayName}),S.jsx("p",{className:zt.lastMessage,children:"Click to chat"})]})]}),S.jsx(F_,{sx:{backgroundColor:"var(--divider-color)"},variant:"middle"})]}),t===""&&o&&((y=Object.entries(o))==null?void 0:y.sort((m,w)=>w[1].date-m[1].date).map((m,w)=>S.jsx(Qk,{in:!0,style:{transitionDelay:`${w*200}ms`},children:S.jsxs("div",{onClick:()=>E(m[1].userInfo),children:[S.jsxs("div",{className:zt.messageContainer,onClick:v,style:{backgroundColor:l&&m[1].userInfo.uid===l.uid?"rgba(167, 255, 0, 0.3)":"var(--main-bg-color)",borderLeft:l&&m[1].userInfo.uid===l.uid?"3px solid rgba(167, 255, 0, 1)":"3px solid rgba(167, 255, 0, 0)"},children:[S.jsx(vd,{src:m[1].userInfo.photoURL,sx:{width:46,height:46,fontSize:27}}),S.jsxs("div",{className:zt.messageContainerInfoContainer,children:[S.jsx("h1",{className:zt.displayName,children:m[1].userInfo.displayName}),S.jsx("span",{className:zt.date,children:m[1].lastMessage?p(m[1].date):""}),S.jsx("div",{className:zt.LastMessageContainer,children:m[1].lastMessage&&m[1].lastMessage.text?S.jsx("p",{className:zt.lastMessage,children:m[1].lastMessage.text}):S.jsx("p",{className:zt.lastMessage,children:m[1].lastMessage&&m[1].lastMessage.type!=="text"?"File sent":"Click to chat"})})]})]}),S.jsx(F_,{sx:{backgroundColor:"var(--divider-color)"},variant:"middle"})]},m[0])})))]}),l?S.jsx("div",{className:zt.chatContainer,children:S.jsx(pne,{})}):S.jsx("div",{className:zt.noChats,children:S.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"90vh"},children:[S.jsx("h1",{className:zt.noChatsH,children:"You have no active chats yet."}),S.jsx("p",{className:zt.noChatsP,children:"Find a friend and start the dialog!"}),S.jsx("img",{style:{maxWidth:"70%",marginTop:"50px"},src:mne,alt:"No chats"})]})})]})},Lne="_mainContainer_csg2q_1",$ne="_hide_csg2q_7",Eb={mainContainer:Lne,hide:$ne},Fne=()=>S.jsxs("div",{className:Eb.mainContainer,children:[S.jsx("div",{className:Eb.hide,children:S.jsx(iD,{})}),S.jsx(Mne,{})]});function Vne(){const[t,e]=_.useState(""),[n,r]=_.useState(!1),[i,s]=_.useState(""),[o,a]=_.useState(""),[l,u]=_.useState(!1),[c,d]=_.useState(""),[h,f]=_.useState(""),[g,v]=_.useState(!1),[E,p]=_.useState(""),[y,m]=_.useState(!1),[w,I]=_.useState(!1),[T,C]=_.useState(""),[b,P]=_.useState(null),[x,O]=_.useState(null),F=Sa(),L=async J=>{if(J.preventDefault(),!n&&!l&&!g&&b)try{const Y=(await CH(Yl,t,o)).user,fe=new Date().getTime(),ce=GO(pJ,`${h+fe}`);await qO(ce,b).then(()=>{KO(ce).then(async Me=>{await bH(Y,{displayName:h,photoURL:Me});const Le=ni(Dr,"users",Y.uid);await Yp(Le,{uid:Y.uid,displayName:h,email:t,photoURL:Me}),await Yp(ni(Dr,"userChats",Y.uid),{}),F("/pract-chat/chat")})})}catch(ne){console.error("Error creating user:",ne),m(!0),C("The user with this email already exists, try again.")}else n?(m(!0),C("Email address is not valid or already being used.")):(m(!1),C("")),l?(m(!0),C("Please enter a valid password.")):(m(!1),C("")),g?(m(!0),C("Please enter a valid display name.")):(m(!1),C(""))},U=J=>{const ne=J.target.files[0];P(ne),O(URL.createObjectURL(ne))},z=J=>{const ne=/^[^]+@[^]+\.[a-z]{2,3}$/,Y=J.target.value;e(Y),Y===""||!Y.match(ne)?(r(!0),s("Please enter a valid email address")):(r(!1),s(""))},B=J=>{const ne=J.target.value;a(ne),ne===""||ne.length<6?(u(!0),d("You must have at least 6 characters")):(u(!1),d(""))},j=J=>{const ne=J.target.value;f(ne),ne===""?(v(!0),p("You must enter your full name.")):(v(!1),p(""))},A=()=>{I(!w)},M=()=>{const J=new _i;s2(Yl,J).then(ne=>{console.log("Google Sign-In successful:",ne.user),F("/pract-chat/chat")}).catch(ne=>{console.error("Google Sign-In failed:",ne),m(!0)})},W={container:{maxWidth:"400px",margin:"auto",padding:"50px",textAlign:"center",marginTop:"-25px"},p:{marginTop:"-10px",color:"#6B6B6B"},photoUpload:{margin:"auto",width:"102px",height:"102px",marginBottom:"30px"},photoUploadButton:{paddingLeft:"20px",paddingRight:"20px",paddingTop:"5px",paddingBottom:"5px",borderRadius:"20px",border:"1px solid black",outline:"none",cursor:"pointer",backgroundColor:"white"},inputContainer:{margin:"0 auto",marginTop:"30px",alignItems:"center",justifyContent:"center"},btn:{width:"70%",padding:"10px",border:"none",outline:"none",backgroundColor:"black",color:"white",borderRadius:"50px",marginTop:"20px",cursor:"pointer",height:"45px",fontWeight:"600"},googleBtn:{display:"flex",alignItems:"center",justifyContent:"center",width:"70%",padding:"10px",border:"none",outline:"none",backgroundColor:"#D9D9D9",color:"black",borderRadius:"50px",marginTop:"10px",cursor:"pointer",height:"45px",fontWeight:"600",marginLeft:"60px",icon:{paddingRight:"10px"}},suggestion:{color:"#6B6B6B",marginTop:"50px"},link:{textDecoration:"none",color:"black",fontWeight:"500",cursor:"pointer"}},ae=()=>{F("/pract-chat/log-in")};return S.jsxs("div",{style:W.container,children:[y?S.jsx(Dk,{severity:"error",children:T}):null,S.jsx("h1",{children:"Welcome!"}),S.jsx("p",{style:W.p,children:"Please enter your information"}),S.jsxs("div",{style:W.inputContainer,children:[S.jsx(vd,{src:x,style:W.photoUpload}),S.jsxs("div",{style:{marginBottom:"20px"},children:[S.jsx("input",{type:"file",accept:"image/*",onChange:U,style:{display:"none"},id:"fileInput"}),S.jsx("label",{htmlFor:"fileInput",style:W.photoUploadButton,children:"Upload a photo"})]}),S.jsx(Nc,{color:"primary",error:g,helperText:E,onChange:j,value:h,sx:{width:"70%"},id:"standard-basic",label:"Display Name",variant:"standard"}),S.jsx(Nc,{color:"primary",error:n,helperText:i,onChange:z,value:t,sx:{width:"70%",marginTop:"20px"},id:"standard-basic",label:"Email",variant:"standard"}),S.jsxs(bk,{sx:{alignItems:"center",position:"relative"},children:[S.jsx(Nc,{error:l,helperText:c,onChange:B,sx:{width:"70%",marginTop:"20px"},id:"standard-password-input",label:"Password",type:w?"text":"password",autoComplete:"current-password",variant:"standard"}),w?S.jsx(gw,{onClick:A,sx:{marginTop:"40px",marginLeft:"-25px",position:"absolute",cursor:"pointer"}}):S.jsx(vw,{onClick:A,sx:{marginTop:"40px",marginLeft:"-25px",position:"absolute",cursor:"pointer"}})]}),S.jsx("button",{onClick:L,style:W.btn,children:"Sign Up"}),S.jsxs("button",{onClick:M,style:W.googleBtn,children:[S.jsx(JO,{style:W.googleBtn.icon,size:20}),"Sign Up with Google"]})]}),S.jsxs("p",{style:W.suggestion,children:["Already Have an account? ",S.jsx("a",{style:W.link,onClick:ae,children:"Log In"})]})]})}class Une extends _.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error("Error caught by ErrorBoundary:",e,n)}render(){return this.state.hasError?S.jsx("div",{children:"Unexpected"}):this.props.children}}const jne="https://milkevich.github.io/pract-chat/assets/404-avyOQv9o.png",Tb=()=>{const t=Sa(),e=()=>{t("/pract-chat/chat")};return S.jsxs("div",{style:Zu.container,children:[S.jsx("img",{style:Zu.img,src:jne,alt:"404 not found"}),S.jsx("h1",{style:Zu.h1,children:"Oops! We've wandered off the trail!"}),S.jsx("p",{style:Zu.p,children:"Seems like the path you're seeking doesn't exist. Let's find our way back together!"}),S.jsx("button",{onClick:e,style:Zu.btn,children:"Go Back"})]})},Zu={container:{margin:"auto",textAlign:"center",marginTop:"5%"},img:{maxWidth:"600px"},h1:{color:"#222222"},p:{marginTop:"-10px",marginBottom:"40px",color:"darkgrey"},btn:{padding:"15px",paddingLeft:"35px",paddingRight:"35px",backgroundColor:"#222222",border:"none",outline:"none",borderRadius:"15px",color:"white",fontSize:"16px",fontWeight:"600",cursor:"pointer",textDecoration:"none"}},Bne="https://milkevich.github.io/pract-chat/assets/working-rFq9V_P3.png",zne=()=>{const t=Sa(),e=()=>{t("/pract-chat/chat")};return S.jsxs("div",{style:ec.container,children:[S.jsx("img",{style:ec.img,src:Bne,alt:"working"}),S.jsx("h1",{style:ec.h1,children:"Oops!.. Still Under Construction"}),S.jsx("p",{style:ec.p,children:"Excuse the dust! We're sprucing things up."}),S.jsx("button",{onClick:e,style:ec.btn,children:"Go Back"})]})},ec={container:{margin:"auto",textAlign:"center",marginTop:"5%"},img:{maxWidth:"600px"},h1:{color:"#222222"},p:{marginTop:"-10px",marginBottom:"40px",color:"darkgrey"},btn:{padding:"15px",paddingLeft:"35px",paddingRight:"35px",backgroundColor:"#222222",border:"none",outline:"none",borderRadius:"15px",color:"white",fontSize:"16px",fontWeight:"600",cursor:"pointer",textDecoration:"none"}},Wne=oF(C_(S.jsx(Hi,{path:"/pract-chat/",element:S.jsx(jz,{}),children:S.jsxs(Hi,{element:S.jsx(IJ,{}),children:[S.jsx(Hi,{path:"/pract-chat/log-in",element:S.jsx(TJ,{})}),S.jsx(Hi,{path:"/pract-chat/sign-up",element:S.jsx(Vne,{})}),S.jsx(Hi,{path:"/pract-chat/*",element:S.jsx(Tb,{}),errorElement:S.jsx(Tb,{})}),S.jsx(Hi,{path:"/pract-chat/settings",element:S.jsx(zne,{})}),S.jsx(Hi,{element:S.jsx(CJ,{}),children:S.jsx(Hi,{path:"/pract-chat/chat",element:S.jsx(Fne,{})})})]})}))),Hne=bv.createRoot(document.getElementById("root"));Hne.render(S.jsx(SJ,{children:S.jsx(jte,{children:S.jsx(Une,{children:S.jsx(mF,{router:Wne})})})}));
