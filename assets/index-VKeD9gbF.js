function Ib(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Rb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function _D(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var bb={exports:{}},dm={},xb={exports:{}},Me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd=Symbol.for("react.element"),wD=Symbol.for("react.portal"),ED=Symbol.for("react.fragment"),TD=Symbol.for("react.strict_mode"),SD=Symbol.for("react.profiler"),CD=Symbol.for("react.provider"),ID=Symbol.for("react.context"),RD=Symbol.for("react.forward_ref"),bD=Symbol.for("react.suspense"),xD=Symbol.for("react.memo"),PD=Symbol.for("react.lazy"),pT=Symbol.iterator;function kD(t){return t===null||typeof t!="object"?null:(t=pT&&t[pT]||t["@@iterator"],typeof t=="function"?t:null)}var Pb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kb=Object.assign,Ab={};function tu(t,e,n){this.props=t,this.context=e,this.refs=Ab,this.updater=n||Pb}tu.prototype.isReactComponent={};tu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Nb(){}Nb.prototype=tu.prototype;function U0(t,e,n){this.props=t,this.context=e,this.refs=Ab,this.updater=n||Pb}var j0=U0.prototype=new Nb;j0.constructor=U0;kb(j0,tu.prototype);j0.isPureReactComponent=!0;var mT=Array.isArray,Ob=Object.prototype.hasOwnProperty,B0={current:null},Mb={key:!0,ref:!0,__self:!0,__source:!0};function Db(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ob.call(e,r)&&!Mb.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:jd,type:t,key:s,ref:o,props:i,_owner:B0.current}}function AD(t,e){return{$$typeof:jd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function z0(t){return typeof t=="object"&&t!==null&&t.$$typeof===jd}function ND(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var gT=/\/+/g;function gv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ND(""+t.key):e.toString(36)}function yf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case jd:case wD:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+gv(o,0):r,mT(i)?(n="",t!=null&&(n=t.replace(gT,"$&/")+"/"),yf(i,e,n,"",function(u){return u})):i!=null&&(z0(i)&&(i=AD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(gT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",mT(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+gv(s,a);o+=yf(s,e,n,l,i)}else if(l=kD(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+gv(s,a++),o+=yf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Mh(t,e,n){if(t==null)return t;var r=[],i=0;return yf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function OD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xn={current:null},_f={transition:null},MD={ReactCurrentDispatcher:Xn,ReactCurrentBatchConfig:_f,ReactCurrentOwner:B0};Me.Children={map:Mh,forEach:function(t,e,n){Mh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Mh(t,function(){e++}),e},toArray:function(t){return Mh(t,function(e){return e})||[]},only:function(t){if(!z0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Me.Component=tu;Me.Fragment=ED;Me.Profiler=SD;Me.PureComponent=U0;Me.StrictMode=TD;Me.Suspense=bD;Me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MD;Me.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kb({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=B0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Ob.call(e,l)&&!Mb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:jd,type:t.type,key:i,ref:s,props:r,_owner:o}};Me.createContext=function(t){return t={$$typeof:ID,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:CD,_context:t},t.Consumer=t};Me.createElement=Db;Me.createFactory=function(t){var e=Db.bind(null,t);return e.type=t,e};Me.createRef=function(){return{current:null}};Me.forwardRef=function(t){return{$$typeof:RD,render:t}};Me.isValidElement=z0;Me.lazy=function(t){return{$$typeof:PD,_payload:{_status:-1,_result:t},_init:OD}};Me.memo=function(t,e){return{$$typeof:xD,type:t,compare:e===void 0?null:e}};Me.startTransition=function(t){var e=_f.transition;_f.transition={};try{t()}finally{_f.transition=e}};Me.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Me.useCallback=function(t,e){return Xn.current.useCallback(t,e)};Me.useContext=function(t){return Xn.current.useContext(t)};Me.useDebugValue=function(){};Me.useDeferredValue=function(t){return Xn.current.useDeferredValue(t)};Me.useEffect=function(t,e){return Xn.current.useEffect(t,e)};Me.useId=function(){return Xn.current.useId()};Me.useImperativeHandle=function(t,e,n){return Xn.current.useImperativeHandle(t,e,n)};Me.useInsertionEffect=function(t,e){return Xn.current.useInsertionEffect(t,e)};Me.useLayoutEffect=function(t,e){return Xn.current.useLayoutEffect(t,e)};Me.useMemo=function(t,e){return Xn.current.useMemo(t,e)};Me.useReducer=function(t,e,n){return Xn.current.useReducer(t,e,n)};Me.useRef=function(t){return Xn.current.useRef(t)};Me.useState=function(t){return Xn.current.useState(t)};Me.useSyncExternalStore=function(t,e,n){return Xn.current.useSyncExternalStore(t,e,n)};Me.useTransition=function(){return Xn.current.useTransition()};Me.version="18.2.0";xb.exports=Me;var _=xb.exports;const mn=Rb(_),Wf=Ib({__proto__:null,default:mn},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DD=_,LD=Symbol.for("react.element"),$D=Symbol.for("react.fragment"),FD=Object.prototype.hasOwnProperty,VD=DD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UD={key:!0,ref:!0,__self:!0,__source:!0};function Lb(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)FD.call(e,r)&&!UD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:LD,type:t,key:s,ref:o,props:i,_owner:VD.current}}dm.Fragment=$D;dm.jsx=Lb;dm.jsxs=Lb;bb.exports=dm;var C=bb.exports,ky={},$b={exports:{}},Rr={},Fb={exports:{}},Vb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,$){var H=A.length;A.push($);e:for(;0<H;){var te=H-1>>>1,Y=A[te];if(0<i(Y,$))A[te]=$,A[H]=Y,H=te;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var $=A[0],H=A.pop();if(H!==$){A[0]=H;e:for(var te=0,Y=A.length,ce=Y>>>1;te<ce;){var Z=2*(te+1)-1,de=A[Z],ue=Z+1,Fe=A[ue];if(0>i(de,H))ue<Y&&0>i(Fe,de)?(A[te]=Fe,A[ue]=H,te=ue):(A[te]=de,A[Z]=H,te=Z);else if(ue<Y&&0>i(Fe,H))A[te]=Fe,A[ue]=H,te=ue;else break e}}return $}function i(A,$){var H=A.sortIndex-$.sortIndex;return H!==0?H:A.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,g=!1,T=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(A){for(var $=n(u);$!==null;){if($.callback===null)r(u);else if($.startTime<=A)r(u),$.sortIndex=$.expirationTime,e(l,$);else break;$=n(u)}}function E(A){if(g=!1,y(A),!p)if(n(l)!==null)p=!0,B(I);else{var $=n(u);$!==null&&j(E,$.startTime-A)}}function I(A,$){p=!1,g&&(g=!1,m(b),b=-1),f=!0;var H=h;try{for(y($),d=n(l);d!==null&&(!(d.expirationTime>$)||A&&!O());){var te=d.callback;if(typeof te=="function"){d.callback=null,h=d.priorityLevel;var Y=te(d.expirationTime<=$);$=t.unstable_now(),typeof Y=="function"?d.callback=Y:d===n(l)&&r(l),y($)}else r(l);d=n(l)}if(d!==null)var ce=!0;else{var Z=n(u);Z!==null&&j(E,Z.startTime-$),ce=!1}return ce}finally{d=null,h=H,f=!1}}var w=!1,S=null,b=-1,P=5,x=-1;function O(){return!(t.unstable_now()-x<P)}function L(){if(S!==null){var A=t.unstable_now();x=A;var $=!0;try{$=S(!0,A)}finally{$?D():(w=!1,S=null)}}else w=!1}var D;if(typeof v=="function")D=function(){v(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,z=V.port2;V.port1.onmessage=L,D=function(){z.postMessage(null)}}else D=function(){T(L,0)};function B(A){S=A,w||(w=!0,D())}function j(A,$){b=T(function(){A(t.unstable_now())},$)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,B(I))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var H=h;h=$;try{return A()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,$){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var H=h;h=A;try{return $()}finally{h=H}},t.unstable_scheduleCallback=function(A,$,H){var te=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?te+H:te):H=te,A){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=H+Y,A={id:c++,callback:$,priorityLevel:A,startTime:H,expirationTime:Y,sortIndex:-1},H>te?(A.sortIndex=H,e(u,A),n(l)===null&&A===n(u)&&(g?(m(b),b=-1):g=!0,j(E,H-te))):(A.sortIndex=Y,e(l,A),p||f||(p=!0,B(I))),A},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(A){var $=h;return function(){var H=h;h=$;try{return A.apply(this,arguments)}finally{h=H}}}})(Vb);Fb.exports=Vb;var jD=Fb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ub=_,Sr=jD;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jb=new Set,qc={};function _a(t,e){bl(t,e),bl(t+"Capture",e)}function bl(t,e){for(qc[t]=e,t=0;t<e.length;t++)jb.add(e[t])}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ay=Object.prototype.hasOwnProperty,BD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vT={},yT={};function zD(t){return Ay.call(yT,t)?!0:Ay.call(vT,t)?!1:BD.test(t)?yT[t]=!0:(vT[t]=!0,!1)}function WD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HD(t,e,n,r){if(e===null||typeof e>"u"||WD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kn[t]=new Jn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kn[e]=new Jn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kn[t]=new Jn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kn[t]=new Jn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kn[t]=new Jn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kn[t]=new Jn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kn[t]=new Jn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kn[t]=new Jn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kn[t]=new Jn(t,5,!1,t.toLowerCase(),null,!1,!1)});var W0=/[\-:]([a-z])/g;function H0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(W0,H0);kn[e]=new Jn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(W0,H0);kn[e]=new Jn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(W0,H0);kn[e]=new Jn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kn[t]=new Jn(t,1,!1,t.toLowerCase(),null,!1,!1)});kn.xlinkHref=new Jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kn[t]=new Jn(t,1,!1,t.toLowerCase(),null,!0,!0)});function q0(t,e,n,r){var i=kn.hasOwnProperty(e)?kn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HD(e,n,i,r)&&(n=null),r||i===null?zD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var vs=Ub.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dh=Symbol.for("react.element"),Ga=Symbol.for("react.portal"),Qa=Symbol.for("react.fragment"),K0=Symbol.for("react.strict_mode"),Ny=Symbol.for("react.profiler"),Bb=Symbol.for("react.provider"),zb=Symbol.for("react.context"),G0=Symbol.for("react.forward_ref"),Oy=Symbol.for("react.suspense"),My=Symbol.for("react.suspense_list"),Q0=Symbol.for("react.memo"),Ps=Symbol.for("react.lazy"),Wb=Symbol.for("react.offscreen"),_T=Symbol.iterator;function bu(t){return t===null||typeof t!="object"?null:(t=_T&&t[_T]||t["@@iterator"],typeof t=="function"?t:null)}var Ot=Object.assign,vv;function rc(t){if(vv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);vv=e&&e[1]||""}return`
`+vv+t}var yv=!1;function _v(t,e){if(!t||yv)return"";yv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{yv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?rc(t):""}function qD(t){switch(t.tag){case 5:return rc(t.type);case 16:return rc("Lazy");case 13:return rc("Suspense");case 19:return rc("SuspenseList");case 0:case 2:case 15:return t=_v(t.type,!1),t;case 11:return t=_v(t.type.render,!1),t;case 1:return t=_v(t.type,!0),t;default:return""}}function Dy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qa:return"Fragment";case Ga:return"Portal";case Ny:return"Profiler";case K0:return"StrictMode";case Oy:return"Suspense";case My:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case zb:return(t.displayName||"Context")+".Consumer";case Bb:return(t._context.displayName||"Context")+".Provider";case G0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q0:return e=t.displayName||null,e!==null?e:Dy(t.type)||"Memo";case Ps:e=t._payload,t=t._init;try{return Dy(t(e))}catch{}}return null}function KD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dy(e);case 8:return e===K0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function to(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GD(t){var e=Hb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Lh(t){t._valueTracker||(t._valueTracker=GD(t))}function qb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Hb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ly(t,e){var n=e.checked;return Ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function wT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=to(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Kb(t,e){e=e.checked,e!=null&&q0(t,"checked",e,!1)}function $y(t,e){Kb(t,e);var n=to(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fy(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fy(t,e.type,to(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ET(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fy(t,e,n){(e!=="number"||Hf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ic=Array.isArray;function hl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+to(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function TT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(ic(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:to(n)}}function Gb(t,e){var n=to(e.value),r=to(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ST(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Qb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Qb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $h,Yb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($h=$h||document.createElement("div"),$h.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$h.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Kc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},QD=["Webkit","ms","Moz","O"];Object.keys(yc).forEach(function(t){QD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yc[e]=yc[t]})});function Xb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yc.hasOwnProperty(t)&&yc[t]?(""+e).trim():e+"px"}function Jb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Xb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var YD=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jy(t,e){if(e){if(YD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function By(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zy=null;function Y0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wy=null,fl=null,pl=null;function CT(t){if(t=Wd(t)){if(typeof Wy!="function")throw Error(W(280));var e=t.stateNode;e&&(e=gm(e),Wy(t.stateNode,t.type,e))}}function Zb(t){fl?pl?pl.push(t):pl=[t]:fl=t}function ex(){if(fl){var t=fl,e=pl;if(pl=fl=null,CT(t),e)for(t=0;t<e.length;t++)CT(e[t])}}function tx(t,e){return t(e)}function nx(){}var wv=!1;function rx(t,e,n){if(wv)return t(e,n);wv=!0;try{return tx(t,e,n)}finally{wv=!1,(fl!==null||pl!==null)&&(nx(),ex())}}function Gc(t,e){var n=t.stateNode;if(n===null)return null;var r=gm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Hy=!1;if(as)try{var xu={};Object.defineProperty(xu,"passive",{get:function(){Hy=!0}}),window.addEventListener("test",xu,xu),window.removeEventListener("test",xu,xu)}catch{Hy=!1}function XD(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var _c=!1,qf=null,Kf=!1,qy=null,JD={onError:function(t){_c=!0,qf=t}};function ZD(t,e,n,r,i,s,o,a,l){_c=!1,qf=null,XD.apply(JD,arguments)}function eL(t,e,n,r,i,s,o,a,l){if(ZD.apply(this,arguments),_c){if(_c){var u=qf;_c=!1,qf=null}else throw Error(W(198));Kf||(Kf=!0,qy=u)}}function wa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ix(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function IT(t){if(wa(t)!==t)throw Error(W(188))}function tL(t){var e=t.alternate;if(!e){if(e=wa(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return IT(i),t;if(s===r)return IT(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function sx(t){return t=tL(t),t!==null?ox(t):null}function ox(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ox(t);if(e!==null)return e;t=t.sibling}return null}var ax=Sr.unstable_scheduleCallback,RT=Sr.unstable_cancelCallback,nL=Sr.unstable_shouldYield,rL=Sr.unstable_requestPaint,Ht=Sr.unstable_now,iL=Sr.unstable_getCurrentPriorityLevel,X0=Sr.unstable_ImmediatePriority,lx=Sr.unstable_UserBlockingPriority,Gf=Sr.unstable_NormalPriority,sL=Sr.unstable_LowPriority,ux=Sr.unstable_IdlePriority,hm=null,bi=null;function oL(t){if(bi&&typeof bi.onCommitFiberRoot=="function")try{bi.onCommitFiberRoot(hm,t,void 0,(t.current.flags&128)===128)}catch{}}var oi=Math.clz32?Math.clz32:uL,aL=Math.log,lL=Math.LN2;function uL(t){return t>>>=0,t===0?32:31-(aL(t)/lL|0)|0}var Fh=64,Vh=4194304;function sc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=sc(a):(s&=o,s!==0&&(r=sc(s)))}else o=n&~i,o!==0?r=sc(o):s!==0&&(r=sc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-oi(e),i=1<<n,r|=t[n],e&=~i;return r}function cL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-oi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=cL(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ky(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cx(){var t=Fh;return Fh<<=1,!(Fh&4194240)&&(Fh=64),t}function Ev(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-oi(e),t[e]=n}function hL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-oi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function J0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-oi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Je=0;function dx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hx,Z0,fx,px,mx,Gy=!1,Uh=[],Bs=null,zs=null,Ws=null,Qc=new Map,Yc=new Map,As=[],fL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bT(t,e){switch(t){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Qc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yc.delete(e.pointerId)}}function Pu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Wd(e),e!==null&&Z0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function pL(t,e,n,r,i){switch(e){case"focusin":return Bs=Pu(Bs,t,e,n,r,i),!0;case"dragenter":return zs=Pu(zs,t,e,n,r,i),!0;case"mouseover":return Ws=Pu(Ws,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Qc.set(s,Pu(Qc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Yc.set(s,Pu(Yc.get(s)||null,t,e,n,r,i)),!0}return!1}function gx(t){var e=No(t.target);if(e!==null){var n=wa(e);if(n!==null){if(e=n.tag,e===13){if(e=ix(n),e!==null){t.blockedOn=e,mx(t.priority,function(){fx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zy=r,n.target.dispatchEvent(r),zy=null}else return e=Wd(n),e!==null&&Z0(e),t.blockedOn=n,!1;e.shift()}return!0}function xT(t,e,n){wf(t)&&n.delete(e)}function mL(){Gy=!1,Bs!==null&&wf(Bs)&&(Bs=null),zs!==null&&wf(zs)&&(zs=null),Ws!==null&&wf(Ws)&&(Ws=null),Qc.forEach(xT),Yc.forEach(xT)}function ku(t,e){t.blockedOn===e&&(t.blockedOn=null,Gy||(Gy=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,mL)))}function Xc(t){function e(i){return ku(i,t)}if(0<Uh.length){ku(Uh[0],t);for(var n=1;n<Uh.length;n++){var r=Uh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bs!==null&&ku(Bs,t),zs!==null&&ku(zs,t),Ws!==null&&ku(Ws,t),Qc.forEach(e),Yc.forEach(e),n=0;n<As.length;n++)r=As[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<As.length&&(n=As[0],n.blockedOn===null);)gx(n),n.blockedOn===null&&As.shift()}var ml=vs.ReactCurrentBatchConfig,Yf=!0;function gL(t,e,n,r){var i=Je,s=ml.transition;ml.transition=null;try{Je=1,e1(t,e,n,r)}finally{Je=i,ml.transition=s}}function vL(t,e,n,r){var i=Je,s=ml.transition;ml.transition=null;try{Je=4,e1(t,e,n,r)}finally{Je=i,ml.transition=s}}function e1(t,e,n,r){if(Yf){var i=Qy(t,e,n,r);if(i===null)Av(t,e,r,Xf,n),bT(t,r);else if(pL(i,t,e,n,r))r.stopPropagation();else if(bT(t,r),e&4&&-1<fL.indexOf(t)){for(;i!==null;){var s=Wd(i);if(s!==null&&hx(s),s=Qy(t,e,n,r),s===null&&Av(t,e,r,Xf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Av(t,e,r,null,n)}}var Xf=null;function Qy(t,e,n,r){if(Xf=null,t=Y0(r),t=No(t),t!==null)if(e=wa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ix(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xf=t,null}function vx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iL()){case X0:return 1;case lx:return 4;case Gf:case sL:return 16;case ux:return 536870912;default:return 16}default:return 16}}var Fs=null,t1=null,Ef=null;function yx(){if(Ef)return Ef;var t,e=t1,n=e.length,r,i="value"in Fs?Fs.value:Fs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ef=i.slice(t,1<r?1-r:void 0)}function Tf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jh(){return!0}function PT(){return!1}function br(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?jh:PT,this.isPropagationStopped=PT,this}return Ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jh)},persist:function(){},isPersistent:jh}),e}var nu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n1=br(nu),zd=Ot({},nu,{view:0,detail:0}),yL=br(zd),Tv,Sv,Au,fm=Ot({},zd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Au&&(Au&&t.type==="mousemove"?(Tv=t.screenX-Au.screenX,Sv=t.screenY-Au.screenY):Sv=Tv=0,Au=t),Tv)},movementY:function(t){return"movementY"in t?t.movementY:Sv}}),kT=br(fm),_L=Ot({},fm,{dataTransfer:0}),wL=br(_L),EL=Ot({},zd,{relatedTarget:0}),Cv=br(EL),TL=Ot({},nu,{animationName:0,elapsedTime:0,pseudoElement:0}),SL=br(TL),CL=Ot({},nu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IL=br(CL),RL=Ot({},nu,{data:0}),AT=br(RL),bL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=PL[t])?!!e[t]:!1}function r1(){return kL}var AL=Ot({},zd,{key:function(t){if(t.key){var e=bL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r1,charCode:function(t){return t.type==="keypress"?Tf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),NL=br(AL),OL=Ot({},fm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),NT=br(OL),ML=Ot({},zd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r1}),DL=br(ML),LL=Ot({},nu,{propertyName:0,elapsedTime:0,pseudoElement:0}),$L=br(LL),FL=Ot({},fm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),VL=br(FL),UL=[9,13,27,32],i1=as&&"CompositionEvent"in window,wc=null;as&&"documentMode"in document&&(wc=document.documentMode);var jL=as&&"TextEvent"in window&&!wc,_x=as&&(!i1||wc&&8<wc&&11>=wc),OT=" ",MT=!1;function wx(t,e){switch(t){case"keyup":return UL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ex(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ya=!1;function BL(t,e){switch(t){case"compositionend":return Ex(e);case"keypress":return e.which!==32?null:(MT=!0,OT);case"textInput":return t=e.data,t===OT&&MT?null:t;default:return null}}function zL(t,e){if(Ya)return t==="compositionend"||!i1&&wx(t,e)?(t=yx(),Ef=t1=Fs=null,Ya=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _x&&e.locale!=="ko"?null:e.data;default:return null}}var WL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WL[t.type]:e==="textarea"}function Tx(t,e,n,r){Zb(r),e=Jf(e,"onChange"),0<e.length&&(n=new n1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ec=null,Jc=null;function HL(t){Ox(t,0)}function pm(t){var e=Za(t);if(qb(e))return t}function qL(t,e){if(t==="change")return e}var Sx=!1;if(as){var Iv;if(as){var Rv="oninput"in document;if(!Rv){var LT=document.createElement("div");LT.setAttribute("oninput","return;"),Rv=typeof LT.oninput=="function"}Iv=Rv}else Iv=!1;Sx=Iv&&(!document.documentMode||9<document.documentMode)}function $T(){Ec&&(Ec.detachEvent("onpropertychange",Cx),Jc=Ec=null)}function Cx(t){if(t.propertyName==="value"&&pm(Jc)){var e=[];Tx(e,Jc,t,Y0(t)),rx(HL,e)}}function KL(t,e,n){t==="focusin"?($T(),Ec=e,Jc=n,Ec.attachEvent("onpropertychange",Cx)):t==="focusout"&&$T()}function GL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pm(Jc)}function QL(t,e){if(t==="click")return pm(e)}function YL(t,e){if(t==="input"||t==="change")return pm(e)}function XL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ui=typeof Object.is=="function"?Object.is:XL;function Zc(t,e){if(ui(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ay.call(e,i)||!ui(t[i],e[i]))return!1}return!0}function FT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function VT(t,e){var n=FT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=FT(n)}}function Ix(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ix(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Rx(){for(var t=window,e=Hf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hf(t.document)}return e}function s1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function JL(t){var e=Rx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ix(n.ownerDocument.documentElement,n)){if(r!==null&&s1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=VT(n,s);var o=VT(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZL=as&&"documentMode"in document&&11>=document.documentMode,Xa=null,Yy=null,Tc=null,Xy=!1;function UT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xy||Xa==null||Xa!==Hf(r)||(r=Xa,"selectionStart"in r&&s1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tc&&Zc(Tc,r)||(Tc=r,r=Jf(Yy,"onSelect"),0<r.length&&(e=new n1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xa)))}function Bh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ja={animationend:Bh("Animation","AnimationEnd"),animationiteration:Bh("Animation","AnimationIteration"),animationstart:Bh("Animation","AnimationStart"),transitionend:Bh("Transition","TransitionEnd")},bv={},bx={};as&&(bx=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function mm(t){if(bv[t])return bv[t];if(!Ja[t])return t;var e=Ja[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bx)return bv[t]=e[n];return t}var xx=mm("animationend"),Px=mm("animationiteration"),kx=mm("animationstart"),Ax=mm("transitionend"),Nx=new Map,jT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function co(t,e){Nx.set(t,e),_a(e,[t])}for(var xv=0;xv<jT.length;xv++){var Pv=jT[xv],e4=Pv.toLowerCase(),t4=Pv[0].toUpperCase()+Pv.slice(1);co(e4,"on"+t4)}co(xx,"onAnimationEnd");co(Px,"onAnimationIteration");co(kx,"onAnimationStart");co("dblclick","onDoubleClick");co("focusin","onFocus");co("focusout","onBlur");co(Ax,"onTransitionEnd");bl("onMouseEnter",["mouseout","mouseover"]);bl("onMouseLeave",["mouseout","mouseover"]);bl("onPointerEnter",["pointerout","pointerover"]);bl("onPointerLeave",["pointerout","pointerover"]);_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_a("onBeforeInput",["compositionend","keypress","textInput","paste"]);_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),n4=new Set("cancel close invalid load scroll toggle".split(" ").concat(oc));function BT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,eL(r,e,void 0,t),t.currentTarget=null}function Ox(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;BT(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;BT(i,a,u),s=l}}}if(Kf)throw t=qy,Kf=!1,qy=null,t}function ft(t,e){var n=e[n_];n===void 0&&(n=e[n_]=new Set);var r=t+"__bubble";n.has(r)||(Mx(e,t,2,!1),n.add(r))}function kv(t,e,n){var r=0;e&&(r|=4),Mx(n,t,r,e)}var zh="_reactListening"+Math.random().toString(36).slice(2);function ed(t){if(!t[zh]){t[zh]=!0,jb.forEach(function(n){n!=="selectionchange"&&(n4.has(n)||kv(n,!1,t),kv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zh]||(e[zh]=!0,kv("selectionchange",!1,e))}}function Mx(t,e,n,r){switch(vx(e)){case 1:var i=gL;break;case 4:i=vL;break;default:i=e1}n=i.bind(null,e,n,t),i=void 0,!Hy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Av(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=No(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}rx(function(){var u=s,c=Y0(n),d=[];e:{var h=Nx.get(t);if(h!==void 0){var f=n1,p=t;switch(t){case"keypress":if(Tf(n)===0)break e;case"keydown":case"keyup":f=NL;break;case"focusin":p="focus",f=Cv;break;case"focusout":p="blur",f=Cv;break;case"beforeblur":case"afterblur":f=Cv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=kT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=wL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=DL;break;case xx:case Px:case kx:f=SL;break;case Ax:f=$L;break;case"scroll":f=yL;break;case"wheel":f=VL;break;case"copy":case"cut":case"paste":f=IL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=NT}var g=(e&4)!==0,T=!g&&t==="scroll",m=g?h!==null?h+"Capture":null:h;g=[];for(var v=u,y;v!==null;){y=v;var E=y.stateNode;if(y.tag===5&&E!==null&&(y=E,m!==null&&(E=Gc(v,m),E!=null&&g.push(td(v,E,y)))),T)break;v=v.return}0<g.length&&(h=new f(h,p,null,n,c),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==zy&&(p=n.relatedTarget||n.fromElement)&&(No(p)||p[ls]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?No(p):null,p!==null&&(T=wa(p),p!==T||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(g=kT,E="onMouseLeave",m="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=NT,E="onPointerLeave",m="onPointerEnter",v="pointer"),T=f==null?h:Za(f),y=p==null?h:Za(p),h=new g(E,v+"leave",f,n,c),h.target=T,h.relatedTarget=y,E=null,No(c)===u&&(g=new g(m,v+"enter",p,n,c),g.target=y,g.relatedTarget=T,E=g),T=E,f&&p)t:{for(g=f,m=p,v=0,y=g;y;y=Ma(y))v++;for(y=0,E=m;E;E=Ma(E))y++;for(;0<v-y;)g=Ma(g),v--;for(;0<y-v;)m=Ma(m),y--;for(;v--;){if(g===m||m!==null&&g===m.alternate)break t;g=Ma(g),m=Ma(m)}g=null}else g=null;f!==null&&zT(d,h,f,g,!1),p!==null&&T!==null&&zT(d,T,p,g,!0)}}e:{if(h=u?Za(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var I=qL;else if(DT(h))if(Sx)I=YL;else{I=GL;var w=KL}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=QL);if(I&&(I=I(t,u))){Tx(d,I,n,c);break e}w&&w(t,h,u),t==="focusout"&&(w=h._wrapperState)&&w.controlled&&h.type==="number"&&Fy(h,"number",h.value)}switch(w=u?Za(u):window,t){case"focusin":(DT(w)||w.contentEditable==="true")&&(Xa=w,Yy=u,Tc=null);break;case"focusout":Tc=Yy=Xa=null;break;case"mousedown":Xy=!0;break;case"contextmenu":case"mouseup":case"dragend":Xy=!1,UT(d,n,c);break;case"selectionchange":if(ZL)break;case"keydown":case"keyup":UT(d,n,c)}var S;if(i1)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ya?wx(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(_x&&n.locale!=="ko"&&(Ya||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ya&&(S=yx()):(Fs=c,t1="value"in Fs?Fs.value:Fs.textContent,Ya=!0)),w=Jf(u,b),0<w.length&&(b=new AT(b,t,null,n,c),d.push({event:b,listeners:w}),S?b.data=S:(S=Ex(n),S!==null&&(b.data=S)))),(S=jL?BL(t,n):zL(t,n))&&(u=Jf(u,"onBeforeInput"),0<u.length&&(c=new AT("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=S))}Ox(d,e)})}function td(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Gc(t,n),s!=null&&r.unshift(td(t,s,i)),s=Gc(t,e),s!=null&&r.push(td(t,s,i))),t=t.return}return r}function Ma(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zT(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Gc(n,s),l!=null&&o.unshift(td(n,l,a))):i||(l=Gc(n,s),l!=null&&o.push(td(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var r4=/\r\n?/g,i4=/\u0000|\uFFFD/g;function WT(t){return(typeof t=="string"?t:""+t).replace(r4,`
`).replace(i4,"")}function Wh(t,e,n){if(e=WT(e),WT(t)!==e&&n)throw Error(W(425))}function Zf(){}var Jy=null,Zy=null;function e_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var t_=typeof setTimeout=="function"?setTimeout:void 0,s4=typeof clearTimeout=="function"?clearTimeout:void 0,HT=typeof Promise=="function"?Promise:void 0,o4=typeof queueMicrotask=="function"?queueMicrotask:typeof HT<"u"?function(t){return HT.resolve(null).then(t).catch(a4)}:t_;function a4(t){setTimeout(function(){throw t})}function Nv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Xc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xc(e)}function Hs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ru=Math.random().toString(36).slice(2),Ei="__reactFiber$"+ru,nd="__reactProps$"+ru,ls="__reactContainer$"+ru,n_="__reactEvents$"+ru,l4="__reactListeners$"+ru,u4="__reactHandles$"+ru;function No(t){var e=t[Ei];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ls]||n[Ei]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qT(t);t!==null;){if(n=t[Ei])return n;t=qT(t)}return e}t=n,n=t.parentNode}return null}function Wd(t){return t=t[Ei]||t[ls],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Za(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function gm(t){return t[nd]||null}var r_=[],el=-1;function ho(t){return{current:t}}function yt(t){0>el||(t.current=r_[el],r_[el]=null,el--)}function ct(t,e){el++,r_[el]=t.current,t.current=e}var no={},Wn=ho(no),or=ho(!1),Xo=no;function xl(t,e){var n=t.type.contextTypes;if(!n)return no;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ar(t){return t=t.childContextTypes,t!=null}function ep(){yt(or),yt(Wn)}function KT(t,e,n){if(Wn.current!==no)throw Error(W(168));ct(Wn,e),ct(or,n)}function Dx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,KD(t)||"Unknown",i));return Ot({},n,r)}function tp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||no,Xo=Wn.current,ct(Wn,t),ct(or,or.current),!0}function GT(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=Dx(t,e,Xo),r.__reactInternalMemoizedMergedChildContext=t,yt(or),yt(Wn),ct(Wn,t)):yt(or),ct(or,n)}var Qi=null,vm=!1,Ov=!1;function Lx(t){Qi===null?Qi=[t]:Qi.push(t)}function c4(t){vm=!0,Lx(t)}function fo(){if(!Ov&&Qi!==null){Ov=!0;var t=0,e=Je;try{var n=Qi;for(Je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qi=null,vm=!1}catch(i){throw Qi!==null&&(Qi=Qi.slice(t+1)),ax(X0,fo),i}finally{Je=e,Ov=!1}}return null}var tl=[],nl=0,np=null,rp=0,Nr=[],Or=0,Jo=null,Xi=1,Ji="";function Co(t,e){tl[nl++]=rp,tl[nl++]=np,np=t,rp=e}function $x(t,e,n){Nr[Or++]=Xi,Nr[Or++]=Ji,Nr[Or++]=Jo,Jo=t;var r=Xi;t=Ji;var i=32-oi(r)-1;r&=~(1<<i),n+=1;var s=32-oi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-oi(e)+i|n<<i|r,Ji=s+t}else Xi=1<<s|n<<i|r,Ji=t}function o1(t){t.return!==null&&(Co(t,1),$x(t,1,0))}function a1(t){for(;t===np;)np=tl[--nl],tl[nl]=null,rp=tl[--nl],tl[nl]=null;for(;t===Jo;)Jo=Nr[--Or],Nr[Or]=null,Ji=Nr[--Or],Nr[Or]=null,Xi=Nr[--Or],Nr[Or]=null}var wr=null,vr=null,Rt=!1,ni=null;function Fx(t,e){var n=$r(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function QT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wr=t,vr=Hs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wr=t,vr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jo!==null?{id:Xi,overflow:Ji}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$r(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wr=t,vr=null,!0):!1;default:return!1}}function i_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function s_(t){if(Rt){var e=vr;if(e){var n=e;if(!QT(t,e)){if(i_(t))throw Error(W(418));e=Hs(n.nextSibling);var r=wr;e&&QT(t,e)?Fx(r,n):(t.flags=t.flags&-4097|2,Rt=!1,wr=t)}}else{if(i_(t))throw Error(W(418));t.flags=t.flags&-4097|2,Rt=!1,wr=t}}}function YT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wr=t}function Hh(t){if(t!==wr)return!1;if(!Rt)return YT(t),Rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!e_(t.type,t.memoizedProps)),e&&(e=vr)){if(i_(t))throw Vx(),Error(W(418));for(;e;)Fx(t,e),e=Hs(e.nextSibling)}if(YT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vr=Hs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vr=null}}else vr=wr?Hs(t.stateNode.nextSibling):null;return!0}function Vx(){for(var t=vr;t;)t=Hs(t.nextSibling)}function Pl(){vr=wr=null,Rt=!1}function l1(t){ni===null?ni=[t]:ni.push(t)}var d4=vs.ReactCurrentBatchConfig;function Zr(t,e){if(t&&t.defaultProps){e=Ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ip=ho(null),sp=null,rl=null,u1=null;function c1(){u1=rl=sp=null}function d1(t){var e=ip.current;yt(ip),t._currentValue=e}function o_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gl(t,e){sp=t,u1=rl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ir=!0),t.firstContext=null)}function Wr(t){var e=t._currentValue;if(u1!==t)if(t={context:t,memoizedValue:e,next:null},rl===null){if(sp===null)throw Error(W(308));rl=t,sp.dependencies={lanes:0,firstContext:t}}else rl=rl.next=t;return e}var Oo=null;function h1(t){Oo===null?Oo=[t]:Oo.push(t)}function Ux(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,h1(e)):(n.next=i.next,i.next=n),e.interleaved=n,us(t,r)}function us(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ks=!1;function f1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,He&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,us(t,n)}return i=r.interleaved,i===null?(e.next=e,h1(r)):(e.next=i.next,i.next=e),r.interleaved=e,us(t,n)}function Sf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,J0(t,n)}}function XT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function op(t,e,n,r){var i=t.updateQueue;ks=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(h=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=Ot({},d,h);break e;case 2:ks=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ea|=o,t.lanes=o,t.memoizedState=d}}function JT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var Bx=new Ub.Component().refs;function a_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ym={isMounted:function(t){return(t=t._reactInternals)?wa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yn(),i=Gs(t),s=rs(r,i);s.payload=e,n!=null&&(s.callback=n),e=qs(t,s,i),e!==null&&(ai(e,t,i,r),Sf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yn(),i=Gs(t),s=rs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=qs(t,s,i),e!==null&&(ai(e,t,i,r),Sf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yn(),r=Gs(t),i=rs(n,r);i.tag=2,e!=null&&(i.callback=e),e=qs(t,i,r),e!==null&&(ai(e,t,r,n),Sf(e,t,r))}};function ZT(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Zc(n,r)||!Zc(i,s):!0}function zx(t,e,n){var r=!1,i=no,s=e.contextType;return typeof s=="object"&&s!==null?s=Wr(s):(i=ar(e)?Xo:Wn.current,r=e.contextTypes,s=(r=r!=null)?xl(t,i):no),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ym,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function eS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ym.enqueueReplaceState(e,e.state,null)}function l_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Bx,f1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Wr(s):(s=ar(e)?Xo:Wn.current,i.context=xl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(a_(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ym.enqueueReplaceState(i,i.state,null),op(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Nu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===Bx&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function qh(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tS(t){var e=t._init;return e(t._payload)}function Wx(t){function e(m,v){if(t){var y=m.deletions;y===null?(m.deletions=[v],m.flags|=16):y.push(v)}}function n(m,v){if(!t)return null;for(;v!==null;)e(m,v),v=v.sibling;return null}function r(m,v){for(m=new Map;v!==null;)v.key!==null?m.set(v.key,v):m.set(v.index,v),v=v.sibling;return m}function i(m,v){return m=Qs(m,v),m.index=0,m.sibling=null,m}function s(m,v,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<v?(m.flags|=2,v):y):(m.flags|=2,v)):(m.flags|=1048576,v)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,v,y,E){return v===null||v.tag!==6?(v=Uv(y,m.mode,E),v.return=m,v):(v=i(v,y),v.return=m,v)}function l(m,v,y,E){var I=y.type;return I===Qa?c(m,v,y.props.children,E,y.key):v!==null&&(v.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Ps&&tS(I)===v.type)?(E=i(v,y.props),E.ref=Nu(m,v,y),E.return=m,E):(E=Pf(y.type,y.key,y.props,null,m.mode,E),E.ref=Nu(m,v,y),E.return=m,E)}function u(m,v,y,E){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=jv(y,m.mode,E),v.return=m,v):(v=i(v,y.children||[]),v.return=m,v)}function c(m,v,y,E,I){return v===null||v.tag!==7?(v=Ho(y,m.mode,E,I),v.return=m,v):(v=i(v,y),v.return=m,v)}function d(m,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Uv(""+v,m.mode,y),v.return=m,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Dh:return y=Pf(v.type,v.key,v.props,null,m.mode,y),y.ref=Nu(m,null,v),y.return=m,y;case Ga:return v=jv(v,m.mode,y),v.return=m,v;case Ps:var E=v._init;return d(m,E(v._payload),y)}if(ic(v)||bu(v))return v=Ho(v,m.mode,y,null),v.return=m,v;qh(m,v)}return null}function h(m,v,y,E){var I=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return I!==null?null:a(m,v,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Dh:return y.key===I?l(m,v,y,E):null;case Ga:return y.key===I?u(m,v,y,E):null;case Ps:return I=y._init,h(m,v,I(y._payload),E)}if(ic(y)||bu(y))return I!==null?null:c(m,v,y,E,null);qh(m,y)}return null}function f(m,v,y,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return m=m.get(y)||null,a(v,m,""+E,I);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Dh:return m=m.get(E.key===null?y:E.key)||null,l(v,m,E,I);case Ga:return m=m.get(E.key===null?y:E.key)||null,u(v,m,E,I);case Ps:var w=E._init;return f(m,v,y,w(E._payload),I)}if(ic(E)||bu(E))return m=m.get(y)||null,c(v,m,E,I,null);qh(v,E)}return null}function p(m,v,y,E){for(var I=null,w=null,S=v,b=v=0,P=null;S!==null&&b<y.length;b++){S.index>b?(P=S,S=null):P=S.sibling;var x=h(m,S,y[b],E);if(x===null){S===null&&(S=P);break}t&&S&&x.alternate===null&&e(m,S),v=s(x,v,b),w===null?I=x:w.sibling=x,w=x,S=P}if(b===y.length)return n(m,S),Rt&&Co(m,b),I;if(S===null){for(;b<y.length;b++)S=d(m,y[b],E),S!==null&&(v=s(S,v,b),w===null?I=S:w.sibling=S,w=S);return Rt&&Co(m,b),I}for(S=r(m,S);b<y.length;b++)P=f(S,m,b,y[b],E),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?b:P.key),v=s(P,v,b),w===null?I=P:w.sibling=P,w=P);return t&&S.forEach(function(O){return e(m,O)}),Rt&&Co(m,b),I}function g(m,v,y,E){var I=bu(y);if(typeof I!="function")throw Error(W(150));if(y=I.call(y),y==null)throw Error(W(151));for(var w=I=null,S=v,b=v=0,P=null,x=y.next();S!==null&&!x.done;b++,x=y.next()){S.index>b?(P=S,S=null):P=S.sibling;var O=h(m,S,x.value,E);if(O===null){S===null&&(S=P);break}t&&S&&O.alternate===null&&e(m,S),v=s(O,v,b),w===null?I=O:w.sibling=O,w=O,S=P}if(x.done)return n(m,S),Rt&&Co(m,b),I;if(S===null){for(;!x.done;b++,x=y.next())x=d(m,x.value,E),x!==null&&(v=s(x,v,b),w===null?I=x:w.sibling=x,w=x);return Rt&&Co(m,b),I}for(S=r(m,S);!x.done;b++,x=y.next())x=f(S,m,b,x.value,E),x!==null&&(t&&x.alternate!==null&&S.delete(x.key===null?b:x.key),v=s(x,v,b),w===null?I=x:w.sibling=x,w=x);return t&&S.forEach(function(L){return e(m,L)}),Rt&&Co(m,b),I}function T(m,v,y,E){if(typeof y=="object"&&y!==null&&y.type===Qa&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Dh:e:{for(var I=y.key,w=v;w!==null;){if(w.key===I){if(I=y.type,I===Qa){if(w.tag===7){n(m,w.sibling),v=i(w,y.props.children),v.return=m,m=v;break e}}else if(w.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Ps&&tS(I)===w.type){n(m,w.sibling),v=i(w,y.props),v.ref=Nu(m,w,y),v.return=m,m=v;break e}n(m,w);break}else e(m,w);w=w.sibling}y.type===Qa?(v=Ho(y.props.children,m.mode,E,y.key),v.return=m,m=v):(E=Pf(y.type,y.key,y.props,null,m.mode,E),E.ref=Nu(m,v,y),E.return=m,m=E)}return o(m);case Ga:e:{for(w=y.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(m,v.sibling),v=i(v,y.children||[]),v.return=m,m=v;break e}else{n(m,v);break}else e(m,v);v=v.sibling}v=jv(y,m.mode,E),v.return=m,m=v}return o(m);case Ps:return w=y._init,T(m,v,w(y._payload),E)}if(ic(y))return p(m,v,y,E);if(bu(y))return g(m,v,y,E);qh(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(m,v.sibling),v=i(v,y),v.return=m,m=v):(n(m,v),v=Uv(y,m.mode,E),v.return=m,m=v),o(m)):n(m,v)}return T}var kl=Wx(!0),Hx=Wx(!1),Hd={},xi=ho(Hd),rd=ho(Hd),id=ho(Hd);function Mo(t){if(t===Hd)throw Error(W(174));return t}function p1(t,e){switch(ct(id,e),ct(rd,t),ct(xi,Hd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Uy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Uy(e,t)}yt(xi),ct(xi,e)}function Al(){yt(xi),yt(rd),yt(id)}function qx(t){Mo(id.current);var e=Mo(xi.current),n=Uy(e,t.type);e!==n&&(ct(rd,t),ct(xi,n))}function m1(t){rd.current===t&&(yt(xi),yt(rd))}var kt=ho(0);function ap(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Mv=[];function g1(){for(var t=0;t<Mv.length;t++)Mv[t]._workInProgressVersionPrimary=null;Mv.length=0}var Cf=vs.ReactCurrentDispatcher,Dv=vs.ReactCurrentBatchConfig,Zo=0,Nt=null,on=null,hn=null,lp=!1,Sc=!1,sd=0,h4=0;function An(){throw Error(W(321))}function v1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ui(t[n],e[n]))return!1;return!0}function y1(t,e,n,r,i,s){if(Zo=s,Nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cf.current=t===null||t.memoizedState===null?g4:v4,t=n(r,i),Sc){s=0;do{if(Sc=!1,sd=0,25<=s)throw Error(W(301));s+=1,hn=on=null,e.updateQueue=null,Cf.current=y4,t=n(r,i)}while(Sc)}if(Cf.current=up,e=on!==null&&on.next!==null,Zo=0,hn=on=Nt=null,lp=!1,e)throw Error(W(300));return t}function _1(){var t=sd!==0;return sd=0,t}function yi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Nt.memoizedState=hn=t:hn=hn.next=t,hn}function Hr(){if(on===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=on.next;var e=hn===null?Nt.memoizedState:hn.next;if(e!==null)hn=e,on=t;else{if(t===null)throw Error(W(310));on=t,t={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},hn===null?Nt.memoizedState=hn=t:hn=hn.next=t}return hn}function od(t,e){return typeof e=="function"?e(t):e}function Lv(t){var e=Hr(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=on,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Zo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Nt.lanes|=c,ea|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ui(r,e.memoizedState)||(ir=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Nt.lanes|=s,ea|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $v(t){var e=Hr(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ui(s,e.memoizedState)||(ir=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Kx(){}function Gx(t,e){var n=Nt,r=Hr(),i=e(),s=!ui(r.memoizedState,i);if(s&&(r.memoizedState=i,ir=!0),r=r.queue,w1(Xx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||hn!==null&&hn.memoizedState.tag&1){if(n.flags|=2048,ad(9,Yx.bind(null,n,r,i,e),void 0,null),gn===null)throw Error(W(349));Zo&30||Qx(n,e,i)}return i}function Qx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Nt.updateQueue,e===null?(e={lastEffect:null,stores:null},Nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Yx(t,e,n,r){e.value=n,e.getSnapshot=r,Jx(e)&&Zx(t)}function Xx(t,e,n){return n(function(){Jx(e)&&Zx(t)})}function Jx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ui(t,n)}catch{return!0}}function Zx(t){var e=us(t,1);e!==null&&ai(e,t,1,-1)}function nS(t){var e=yi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:od,lastRenderedState:t},e.queue=t,t=t.dispatch=m4.bind(null,Nt,t),[e.memoizedState,t]}function ad(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Nt.updateQueue,e===null?(e={lastEffect:null,stores:null},Nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function eP(){return Hr().memoizedState}function If(t,e,n,r){var i=yi();Nt.flags|=t,i.memoizedState=ad(1|e,n,void 0,r===void 0?null:r)}function _m(t,e,n,r){var i=Hr();r=r===void 0?null:r;var s=void 0;if(on!==null){var o=on.memoizedState;if(s=o.destroy,r!==null&&v1(r,o.deps)){i.memoizedState=ad(e,n,s,r);return}}Nt.flags|=t,i.memoizedState=ad(1|e,n,s,r)}function rS(t,e){return If(8390656,8,t,e)}function w1(t,e){return _m(2048,8,t,e)}function tP(t,e){return _m(4,2,t,e)}function nP(t,e){return _m(4,4,t,e)}function rP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iP(t,e,n){return n=n!=null?n.concat([t]):null,_m(4,4,rP.bind(null,e,t),n)}function E1(){}function sP(t,e){var n=Hr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&v1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function oP(t,e){var n=Hr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&v1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function aP(t,e,n){return Zo&21?(ui(n,e)||(n=cx(),Nt.lanes|=n,ea|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ir=!0),t.memoizedState=n)}function f4(t,e){var n=Je;Je=n!==0&&4>n?n:4,t(!0);var r=Dv.transition;Dv.transition={};try{t(!1),e()}finally{Je=n,Dv.transition=r}}function lP(){return Hr().memoizedState}function p4(t,e,n){var r=Gs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uP(t))cP(e,n);else if(n=Ux(t,e,n,r),n!==null){var i=Yn();ai(n,t,r,i),dP(n,e,r)}}function m4(t,e,n){var r=Gs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uP(t))cP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ui(a,o)){var l=e.interleaved;l===null?(i.next=i,h1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Ux(t,e,i,r),n!==null&&(i=Yn(),ai(n,t,r,i),dP(n,e,r))}}function uP(t){var e=t.alternate;return t===Nt||e!==null&&e===Nt}function cP(t,e){Sc=lp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,J0(t,n)}}var up={readContext:Wr,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},g4={readContext:Wr,useCallback:function(t,e){return yi().memoizedState=[t,e===void 0?null:e],t},useContext:Wr,useEffect:rS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,If(4194308,4,rP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return If(4194308,4,t,e)},useInsertionEffect:function(t,e){return If(4,2,t,e)},useMemo:function(t,e){var n=yi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=yi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=p4.bind(null,Nt,t),[r.memoizedState,t]},useRef:function(t){var e=yi();return t={current:t},e.memoizedState=t},useState:nS,useDebugValue:E1,useDeferredValue:function(t){return yi().memoizedState=t},useTransition:function(){var t=nS(!1),e=t[0];return t=f4.bind(null,t[1]),yi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Nt,i=yi();if(Rt){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),gn===null)throw Error(W(349));Zo&30||Qx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,rS(Xx.bind(null,r,s,t),[t]),r.flags|=2048,ad(9,Yx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=yi(),e=gn.identifierPrefix;if(Rt){var n=Ji,r=Xi;n=(r&~(1<<32-oi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=sd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=h4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},v4={readContext:Wr,useCallback:sP,useContext:Wr,useEffect:w1,useImperativeHandle:iP,useInsertionEffect:tP,useLayoutEffect:nP,useMemo:oP,useReducer:Lv,useRef:eP,useState:function(){return Lv(od)},useDebugValue:E1,useDeferredValue:function(t){var e=Hr();return aP(e,on.memoizedState,t)},useTransition:function(){var t=Lv(od)[0],e=Hr().memoizedState;return[t,e]},useMutableSource:Kx,useSyncExternalStore:Gx,useId:lP,unstable_isNewReconciler:!1},y4={readContext:Wr,useCallback:sP,useContext:Wr,useEffect:w1,useImperativeHandle:iP,useInsertionEffect:tP,useLayoutEffect:nP,useMemo:oP,useReducer:$v,useRef:eP,useState:function(){return $v(od)},useDebugValue:E1,useDeferredValue:function(t){var e=Hr();return on===null?e.memoizedState=t:aP(e,on.memoizedState,t)},useTransition:function(){var t=$v(od)[0],e=Hr().memoizedState;return[t,e]},useMutableSource:Kx,useSyncExternalStore:Gx,useId:lP,unstable_isNewReconciler:!1};function Nl(t,e){try{var n="",r=e;do n+=qD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Fv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function u_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _4=typeof WeakMap=="function"?WeakMap:Map;function hP(t,e,n){n=rs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){dp||(dp=!0,__=r),u_(t,e)},n}function fP(t,e,n){n=rs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){u_(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){u_(t,e),typeof r!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function iS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new _4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=O4.bind(null,t,e,n),e.then(t,t))}function sS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function oS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rs(-1,1),e.tag=2,qs(n,e,1))),n.lanes|=1),t)}var w4=vs.ReactCurrentOwner,ir=!1;function Gn(t,e,n,r){e.child=t===null?Hx(e,null,n,r):kl(e,t.child,n,r)}function aS(t,e,n,r,i){n=n.render;var s=e.ref;return gl(e,i),r=y1(t,e,n,r,s,i),n=_1(),t!==null&&!ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cs(t,e,i)):(Rt&&n&&o1(e),e.flags|=1,Gn(t,e,r,i),e.child)}function lS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!P1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,pP(t,e,s,r,i)):(t=Pf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Zc,n(o,r)&&t.ref===e.ref)return cs(t,e,i)}return e.flags|=1,t=Qs(s,r),t.ref=e.ref,t.return=e,e.child=t}function pP(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Zc(s,r)&&t.ref===e.ref)if(ir=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ir=!0);else return e.lanes=t.lanes,cs(t,e,i)}return c_(t,e,n,r,i)}function mP(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(sl,mr),mr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ct(sl,mr),mr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ct(sl,mr),mr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ct(sl,mr),mr|=r;return Gn(t,e,i,n),e.child}function gP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function c_(t,e,n,r,i){var s=ar(n)?Xo:Wn.current;return s=xl(e,s),gl(e,i),n=y1(t,e,n,r,s,i),r=_1(),t!==null&&!ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cs(t,e,i)):(Rt&&r&&o1(e),e.flags|=1,Gn(t,e,n,i),e.child)}function uS(t,e,n,r,i){if(ar(n)){var s=!0;tp(e)}else s=!1;if(gl(e,i),e.stateNode===null)Rf(t,e),zx(e,n,r),l_(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wr(u):(u=ar(n)?Xo:Wn.current,u=xl(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&eS(e,o,r,u),ks=!1;var h=e.memoizedState;o.state=h,op(e,r,o,i),l=e.memoizedState,a!==r||h!==l||or.current||ks?(typeof c=="function"&&(a_(e,n,c,r),l=e.memoizedState),(a=ks||ZT(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,jx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Zr(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wr(l):(l=ar(n)?Xo:Wn.current,l=xl(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&eS(e,o,r,l),ks=!1,h=e.memoizedState,o.state=h,op(e,r,o,i);var p=e.memoizedState;a!==d||h!==p||or.current||ks?(typeof f=="function"&&(a_(e,n,f,r),p=e.memoizedState),(u=ks||ZT(e,n,u,r,h,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return d_(t,e,n,r,s,i)}function d_(t,e,n,r,i,s){gP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&GT(e,n,!1),cs(t,e,s);r=e.stateNode,w4.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=kl(e,t.child,null,s),e.child=kl(e,null,a,s)):Gn(t,e,a,s),e.memoizedState=r.state,i&&GT(e,n,!0),e.child}function vP(t){var e=t.stateNode;e.pendingContext?KT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&KT(t,e.context,!1),p1(t,e.containerInfo)}function cS(t,e,n,r,i){return Pl(),l1(i),e.flags|=256,Gn(t,e,n,r),e.child}var h_={dehydrated:null,treeContext:null,retryLane:0};function f_(t){return{baseLanes:t,cachePool:null,transitions:null}}function yP(t,e,n){var r=e.pendingProps,i=kt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ct(kt,i&1),t===null)return s_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Tm(o,r,0,null),t=Ho(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=f_(n),e.memoizedState=h_,t):T1(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return E4(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Qs(a,s):(s=Ho(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?f_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=h_,r}return s=t.child,t=s.sibling,r=Qs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function T1(t,e){return e=Tm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Kh(t,e,n,r){return r!==null&&l1(r),kl(e,t.child,null,n),t=T1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function E4(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Fv(Error(W(422))),Kh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Tm({mode:"visible",children:r.children},i,0,null),s=Ho(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&kl(e,t.child,null,o),e.child.memoizedState=f_(o),e.memoizedState=h_,s);if(!(e.mode&1))return Kh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=Fv(s,r,void 0),Kh(t,e,o,r)}if(a=(o&t.childLanes)!==0,ir||a){if(r=gn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,us(t,i),ai(r,t,i,-1))}return x1(),r=Fv(Error(W(421))),Kh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=M4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,vr=Hs(i.nextSibling),wr=e,Rt=!0,ni=null,t!==null&&(Nr[Or++]=Xi,Nr[Or++]=Ji,Nr[Or++]=Jo,Xi=t.id,Ji=t.overflow,Jo=e),e=T1(e,r.children),e.flags|=4096,e)}function dS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),o_(t.return,e,n)}function Vv(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function _P(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Gn(t,e,r.children,n),r=kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&dS(t,n,e);else if(t.tag===19)dS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ct(kt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ap(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vv(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ap(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vv(e,!0,n,null,s);break;case"together":Vv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ea|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Qs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function T4(t,e,n){switch(e.tag){case 3:vP(e),Pl();break;case 5:qx(e);break;case 1:ar(e.type)&&tp(e);break;case 4:p1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ct(ip,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ct(kt,kt.current&1),e.flags|=128,null):n&e.child.childLanes?yP(t,e,n):(ct(kt,kt.current&1),t=cs(t,e,n),t!==null?t.sibling:null);ct(kt,kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _P(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ct(kt,kt.current),r)break;return null;case 22:case 23:return e.lanes=0,mP(t,e,n)}return cs(t,e,n)}var wP,p_,EP,TP;wP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};p_=function(){};EP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Mo(xi.current);var s=null;switch(n){case"input":i=Ly(t,i),r=Ly(t,r),s=[];break;case"select":i=Ot({},i,{value:void 0}),r=Ot({},r,{value:void 0}),s=[];break;case"textarea":i=Vy(t,i),r=Vy(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zf)}jy(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ft("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};TP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ou(t,e){if(!Rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function S4(t,e,n){var r=e.pendingProps;switch(a1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(e),null;case 1:return ar(e.type)&&ep(),Nn(e),null;case 3:return r=e.stateNode,Al(),yt(or),yt(Wn),g1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ni!==null&&(T_(ni),ni=null))),p_(t,e),Nn(e),null;case 5:m1(e);var i=Mo(id.current);if(n=e.type,t!==null&&e.stateNode!=null)EP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Nn(e),null}if(t=Mo(xi.current),Hh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ei]=e,r[nd]=s,t=(e.mode&1)!==0,n){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(i=0;i<oc.length;i++)ft(oc[i],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":wT(r,s),ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ft("invalid",r);break;case"textarea":TT(r,s),ft("invalid",r)}jy(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Wh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Wh(r.textContent,a,t),i=["children",""+a]):qc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ft("scroll",r)}switch(n){case"input":Lh(r),ET(r,s,!0);break;case"textarea":Lh(r),ST(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Zf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Qb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ei]=e,t[nd]=r,wP(t,e,!1,!1),e.stateNode=t;e:{switch(o=By(n,r),n){case"dialog":ft("cancel",t),ft("close",t),i=r;break;case"iframe":case"object":case"embed":ft("load",t),i=r;break;case"video":case"audio":for(i=0;i<oc.length;i++)ft(oc[i],t);i=r;break;case"source":ft("error",t),i=r;break;case"img":case"image":case"link":ft("error",t),ft("load",t),i=r;break;case"details":ft("toggle",t),i=r;break;case"input":wT(t,r),i=Ly(t,r),ft("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ot({},r,{value:void 0}),ft("invalid",t);break;case"textarea":TT(t,r),i=Vy(t,r),ft("invalid",t);break;default:i=r}jy(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Jb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Yb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Kc(t,l):typeof l=="number"&&Kc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(qc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ft("scroll",t):l!=null&&q0(t,s,l,o))}switch(n){case"input":Lh(t),ET(t,r,!1);break;case"textarea":Lh(t),ST(t);break;case"option":r.value!=null&&t.setAttribute("value",""+to(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?hl(t,!!r.multiple,s,!1):r.defaultValue!=null&&hl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nn(e),null;case 6:if(t&&e.stateNode!=null)TP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Mo(id.current),Mo(xi.current),Hh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ei]=e,(s=r.nodeValue!==n)&&(t=wr,t!==null))switch(t.tag){case 3:Wh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ei]=e,e.stateNode=r}return Nn(e),null;case 13:if(yt(kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Rt&&vr!==null&&e.mode&1&&!(e.flags&128))Vx(),Pl(),e.flags|=98560,s=!1;else if(s=Hh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[Ei]=e}else Pl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nn(e),s=!1}else ni!==null&&(T_(ni),ni=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||kt.current&1?an===0&&(an=3):x1())),e.updateQueue!==null&&(e.flags|=4),Nn(e),null);case 4:return Al(),p_(t,e),t===null&&ed(e.stateNode.containerInfo),Nn(e),null;case 10:return d1(e.type._context),Nn(e),null;case 17:return ar(e.type)&&ep(),Nn(e),null;case 19:if(yt(kt),s=e.memoizedState,s===null)return Nn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ou(s,!1);else{if(an!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ap(t),o!==null){for(e.flags|=128,Ou(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ct(kt,kt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ht()>Ol&&(e.flags|=128,r=!0,Ou(s,!1),e.lanes=4194304)}else{if(!r)if(t=ap(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ou(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Rt)return Nn(e),null}else 2*Ht()-s.renderingStartTime>Ol&&n!==1073741824&&(e.flags|=128,r=!0,Ou(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ht(),e.sibling=null,n=kt.current,ct(kt,r?n&1|2:n&1),e):(Nn(e),null);case 22:case 23:return b1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mr&1073741824&&(Nn(e),e.subtreeFlags&6&&(e.flags|=8192)):Nn(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function C4(t,e){switch(a1(e),e.tag){case 1:return ar(e.type)&&ep(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Al(),yt(or),yt(Wn),g1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return m1(e),null;case 13:if(yt(kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Pl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yt(kt),null;case 4:return Al(),null;case 10:return d1(e.type._context),null;case 22:case 23:return b1(),null;case 24:return null;default:return null}}var Gh=!1,Ln=!1,I4=typeof WeakSet=="function"?WeakSet:Set,J=null;function il(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ut(t,e,r)}else n.current=null}function m_(t,e,n){try{n()}catch(r){Ut(t,e,r)}}var hS=!1;function R4(t,e){if(Jy=Yf,t=Rx(),s1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zy={focusedElem:t,selectionRange:n},Yf=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,T=p.memoizedState,m=e.stateNode,v=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:Zr(e.type,g),T);m.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(E){Ut(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return p=hS,hS=!1,p}function Cc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&m_(e,n,s)}i=i.next}while(i!==r)}}function wm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function g_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function SP(t){var e=t.alternate;e!==null&&(t.alternate=null,SP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ei],delete e[nd],delete e[n_],delete e[l4],delete e[u4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function CP(t){return t.tag===5||t.tag===3||t.tag===4}function fS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function v_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zf));else if(r!==4&&(t=t.child,t!==null))for(v_(t,e,n),t=t.sibling;t!==null;)v_(t,e,n),t=t.sibling}function y_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(y_(t,e,n),t=t.sibling;t!==null;)y_(t,e,n),t=t.sibling}var Tn=null,ei=!1;function Cs(t,e,n){for(n=n.child;n!==null;)IP(t,e,n),n=n.sibling}function IP(t,e,n){if(bi&&typeof bi.onCommitFiberUnmount=="function")try{bi.onCommitFiberUnmount(hm,n)}catch{}switch(n.tag){case 5:Ln||il(n,e);case 6:var r=Tn,i=ei;Tn=null,Cs(t,e,n),Tn=r,ei=i,Tn!==null&&(ei?(t=Tn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tn.removeChild(n.stateNode));break;case 18:Tn!==null&&(ei?(t=Tn,n=n.stateNode,t.nodeType===8?Nv(t.parentNode,n):t.nodeType===1&&Nv(t,n),Xc(t)):Nv(Tn,n.stateNode));break;case 4:r=Tn,i=ei,Tn=n.stateNode.containerInfo,ei=!0,Cs(t,e,n),Tn=r,ei=i;break;case 0:case 11:case 14:case 15:if(!Ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&m_(n,e,o),i=i.next}while(i!==r)}Cs(t,e,n);break;case 1:if(!Ln&&(il(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ut(n,e,a)}Cs(t,e,n);break;case 21:Cs(t,e,n);break;case 22:n.mode&1?(Ln=(r=Ln)||n.memoizedState!==null,Cs(t,e,n),Ln=r):Cs(t,e,n);break;default:Cs(t,e,n)}}function pS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new I4),e.forEach(function(r){var i=D4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Tn=a.stateNode,ei=!1;break e;case 3:Tn=a.stateNode.containerInfo,ei=!0;break e;case 4:Tn=a.stateNode.containerInfo,ei=!0;break e}a=a.return}if(Tn===null)throw Error(W(160));IP(s,o,i),Tn=null,ei=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ut(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)RP(e,t),e=e.sibling}function RP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jr(e,t),vi(t),r&4){try{Cc(3,t,t.return),wm(3,t)}catch(g){Ut(t,t.return,g)}try{Cc(5,t,t.return)}catch(g){Ut(t,t.return,g)}}break;case 1:Jr(e,t),vi(t),r&512&&n!==null&&il(n,n.return);break;case 5:if(Jr(e,t),vi(t),r&512&&n!==null&&il(n,n.return),t.flags&32){var i=t.stateNode;try{Kc(i,"")}catch(g){Ut(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Kb(i,s),By(a,o);var u=By(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Jb(i,d):c==="dangerouslySetInnerHTML"?Yb(i,d):c==="children"?Kc(i,d):q0(i,c,d,u)}switch(a){case"input":$y(i,s);break;case"textarea":Gb(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?hl(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?hl(i,!!s.multiple,s.defaultValue,!0):hl(i,!!s.multiple,s.multiple?[]:"",!1))}i[nd]=s}catch(g){Ut(t,t.return,g)}}break;case 6:if(Jr(e,t),vi(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Ut(t,t.return,g)}}break;case 3:if(Jr(e,t),vi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xc(e.containerInfo)}catch(g){Ut(t,t.return,g)}break;case 4:Jr(e,t),vi(t);break;case 13:Jr(e,t),vi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(I1=Ht())),r&4&&pS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ln=(u=Ln)||c,Jr(e,t),Ln=u):Jr(e,t),vi(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(J=t,c=t.child;c!==null;){for(d=J=c;J!==null;){switch(h=J,f=h.child,h.tag){case 0:case 11:case 14:case 15:Cc(4,h,h.return);break;case 1:il(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Ut(r,n,g)}}break;case 5:il(h,h.return);break;case 22:if(h.memoizedState!==null){gS(d);continue}}f!==null?(f.return=h,J=f):gS(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Xb("display",o))}catch(g){Ut(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Ut(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Jr(e,t),vi(t),r&4&&pS(t);break;case 21:break;default:Jr(e,t),vi(t)}}function vi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(CP(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Kc(i,""),r.flags&=-33);var s=fS(t);y_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=fS(t);v_(t,a,o);break;default:throw Error(W(161))}}catch(l){Ut(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function b4(t,e,n){J=t,bP(t)}function bP(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var i=J,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Gh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ln;a=Gh;var u=Ln;if(Gh=o,(Ln=l)&&!u)for(J=i;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?vS(i):l!==null?(l.return=o,J=l):vS(i);for(;s!==null;)J=s,bP(s),s=s.sibling;J=i,Gh=a,Ln=u}mS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,J=s):mS(t)}}function mS(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ln||wm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Zr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&JT(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}JT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Xc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}Ln||e.flags&512&&g_(e)}catch(h){Ut(e,e.return,h)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function gS(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function vS(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wm(4,e)}catch(l){Ut(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ut(e,i,l)}}var s=e.return;try{g_(e)}catch(l){Ut(e,s,l)}break;case 5:var o=e.return;try{g_(e)}catch(l){Ut(e,o,l)}}}catch(l){Ut(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var x4=Math.ceil,cp=vs.ReactCurrentDispatcher,S1=vs.ReactCurrentOwner,Ur=vs.ReactCurrentBatchConfig,He=0,gn=null,Jt=null,bn=0,mr=0,sl=ho(0),an=0,ld=null,ea=0,Em=0,C1=0,Ic=null,nr=null,I1=0,Ol=1/0,Gi=null,dp=!1,__=null,Ks=null,Qh=!1,Vs=null,hp=0,Rc=0,w_=null,bf=-1,xf=0;function Yn(){return He&6?Ht():bf!==-1?bf:bf=Ht()}function Gs(t){return t.mode&1?He&2&&bn!==0?bn&-bn:d4.transition!==null?(xf===0&&(xf=cx()),xf):(t=Je,t!==0||(t=window.event,t=t===void 0?16:vx(t.type)),t):1}function ai(t,e,n,r){if(50<Rc)throw Rc=0,w_=null,Error(W(185));Bd(t,n,r),(!(He&2)||t!==gn)&&(t===gn&&(!(He&2)&&(Em|=n),an===4&&Ns(t,bn)),lr(t,r),n===1&&He===0&&!(e.mode&1)&&(Ol=Ht()+500,vm&&fo()))}function lr(t,e){var n=t.callbackNode;dL(t,e);var r=Qf(t,t===gn?bn:0);if(r===0)n!==null&&RT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&RT(n),e===1)t.tag===0?c4(yS.bind(null,t)):Lx(yS.bind(null,t)),o4(function(){!(He&6)&&fo()}),n=null;else{switch(dx(r)){case 1:n=X0;break;case 4:n=lx;break;case 16:n=Gf;break;case 536870912:n=ux;break;default:n=Gf}n=DP(n,xP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xP(t,e){if(bf=-1,xf=0,He&6)throw Error(W(327));var n=t.callbackNode;if(vl()&&t.callbackNode!==n)return null;var r=Qf(t,t===gn?bn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fp(t,r);else{e=r;var i=He;He|=2;var s=kP();(gn!==t||bn!==e)&&(Gi=null,Ol=Ht()+500,Wo(t,e));do try{A4();break}catch(a){PP(t,a)}while(!0);c1(),cp.current=s,He=i,Jt!==null?e=0:(gn=null,bn=0,e=an)}if(e!==0){if(e===2&&(i=Ky(t),i!==0&&(r=i,e=E_(t,i))),e===1)throw n=ld,Wo(t,0),Ns(t,r),lr(t,Ht()),n;if(e===6)Ns(t,r);else{if(i=t.current.alternate,!(r&30)&&!P4(i)&&(e=fp(t,r),e===2&&(s=Ky(t),s!==0&&(r=s,e=E_(t,s))),e===1))throw n=ld,Wo(t,0),Ns(t,r),lr(t,Ht()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Io(t,nr,Gi);break;case 3:if(Ns(t,r),(r&130023424)===r&&(e=I1+500-Ht(),10<e)){if(Qf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=t_(Io.bind(null,t,nr,Gi),e);break}Io(t,nr,Gi);break;case 4:if(Ns(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-oi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*x4(r/1960))-r,10<r){t.timeoutHandle=t_(Io.bind(null,t,nr,Gi),r);break}Io(t,nr,Gi);break;case 5:Io(t,nr,Gi);break;default:throw Error(W(329))}}}return lr(t,Ht()),t.callbackNode===n?xP.bind(null,t):null}function E_(t,e){var n=Ic;return t.current.memoizedState.isDehydrated&&(Wo(t,e).flags|=256),t=fp(t,e),t!==2&&(e=nr,nr=n,e!==null&&T_(e)),t}function T_(t){nr===null?nr=t:nr.push.apply(nr,t)}function P4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ui(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ns(t,e){for(e&=~C1,e&=~Em,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oi(e),r=1<<n;t[n]=-1,e&=~r}}function yS(t){if(He&6)throw Error(W(327));vl();var e=Qf(t,0);if(!(e&1))return lr(t,Ht()),null;var n=fp(t,e);if(t.tag!==0&&n===2){var r=Ky(t);r!==0&&(e=r,n=E_(t,r))}if(n===1)throw n=ld,Wo(t,0),Ns(t,e),lr(t,Ht()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Io(t,nr,Gi),lr(t,Ht()),null}function R1(t,e){var n=He;He|=1;try{return t(e)}finally{He=n,He===0&&(Ol=Ht()+500,vm&&fo())}}function ta(t){Vs!==null&&Vs.tag===0&&!(He&6)&&vl();var e=He;He|=1;var n=Ur.transition,r=Je;try{if(Ur.transition=null,Je=1,t)return t()}finally{Je=r,Ur.transition=n,He=e,!(He&6)&&fo()}}function b1(){mr=sl.current,yt(sl)}function Wo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,s4(n)),Jt!==null)for(n=Jt.return;n!==null;){var r=n;switch(a1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ep();break;case 3:Al(),yt(or),yt(Wn),g1();break;case 5:m1(r);break;case 4:Al();break;case 13:yt(kt);break;case 19:yt(kt);break;case 10:d1(r.type._context);break;case 22:case 23:b1()}n=n.return}if(gn=t,Jt=t=Qs(t.current,null),bn=mr=e,an=0,ld=null,C1=Em=ea=0,nr=Ic=null,Oo!==null){for(e=0;e<Oo.length;e++)if(n=Oo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Oo=null}return t}function PP(t,e){do{var n=Jt;try{if(c1(),Cf.current=up,lp){for(var r=Nt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lp=!1}if(Zo=0,hn=on=Nt=null,Sc=!1,sd=0,S1.current=null,n===null||n.return===null){an=1,ld=e,Jt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=bn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=sS(o);if(f!==null){f.flags&=-257,oS(f,o,a,s,e),f.mode&1&&iS(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){iS(s,u,e),x1();break e}l=Error(W(426))}}else if(Rt&&a.mode&1){var T=sS(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),oS(T,o,a,s,e),l1(Nl(l,a));break e}}s=l=Nl(l,a),an!==4&&(an=2),Ic===null?Ic=[s]:Ic.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=hP(s,l,e);XT(s,m);break e;case 1:a=l;var v=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ks===null||!Ks.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var E=fP(s,a,e);XT(s,E);break e}}s=s.return}while(s!==null)}NP(n)}catch(I){e=I,Jt===n&&n!==null&&(Jt=n=n.return);continue}break}while(!0)}function kP(){var t=cp.current;return cp.current=up,t===null?up:t}function x1(){(an===0||an===3||an===2)&&(an=4),gn===null||!(ea&268435455)&&!(Em&268435455)||Ns(gn,bn)}function fp(t,e){var n=He;He|=2;var r=kP();(gn!==t||bn!==e)&&(Gi=null,Wo(t,e));do try{k4();break}catch(i){PP(t,i)}while(!0);if(c1(),He=n,cp.current=r,Jt!==null)throw Error(W(261));return gn=null,bn=0,an}function k4(){for(;Jt!==null;)AP(Jt)}function A4(){for(;Jt!==null&&!nL();)AP(Jt)}function AP(t){var e=MP(t.alternate,t,mr);t.memoizedProps=t.pendingProps,e===null?NP(t):Jt=e,S1.current=null}function NP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=C4(n,e),n!==null){n.flags&=32767,Jt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{an=6,Jt=null;return}}else if(n=S4(n,e,mr),n!==null){Jt=n;return}if(e=e.sibling,e!==null){Jt=e;return}Jt=e=t}while(e!==null);an===0&&(an=5)}function Io(t,e,n){var r=Je,i=Ur.transition;try{Ur.transition=null,Je=1,N4(t,e,n,r)}finally{Ur.transition=i,Je=r}return null}function N4(t,e,n,r){do vl();while(Vs!==null);if(He&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(hL(t,s),t===gn&&(Jt=gn=null,bn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qh||(Qh=!0,DP(Gf,function(){return vl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ur.transition,Ur.transition=null;var o=Je;Je=1;var a=He;He|=4,S1.current=null,R4(t,n),RP(n,t),JL(Zy),Yf=!!Jy,Zy=Jy=null,t.current=n,b4(n),rL(),He=a,Je=o,Ur.transition=s}else t.current=n;if(Qh&&(Qh=!1,Vs=t,hp=i),s=t.pendingLanes,s===0&&(Ks=null),oL(n.stateNode),lr(t,Ht()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(dp)throw dp=!1,t=__,__=null,t;return hp&1&&t.tag!==0&&vl(),s=t.pendingLanes,s&1?t===w_?Rc++:(Rc=0,w_=t):Rc=0,fo(),null}function vl(){if(Vs!==null){var t=dx(hp),e=Ur.transition,n=Je;try{if(Ur.transition=null,Je=16>t?16:t,Vs===null)var r=!1;else{if(t=Vs,Vs=null,hp=0,He&6)throw Error(W(331));var i=He;for(He|=4,J=t.current;J!==null;){var s=J,o=s.child;if(J.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(J=u;J!==null;){var c=J;switch(c.tag){case 0:case 11:case 15:Cc(8,c,s)}var d=c.child;if(d!==null)d.return=c,J=d;else for(;J!==null;){c=J;var h=c.sibling,f=c.return;if(SP(c),c===u){J=null;break}if(h!==null){h.return=f,J=h;break}J=f}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var T=g.sibling;g.sibling=null,g=T}while(g!==null)}}J=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,J=o;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cc(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,J=m;break e}J=s.return}}var v=t.current;for(J=v;J!==null;){o=J;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,J=y;else e:for(o=v;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wm(9,a)}}catch(I){Ut(a,a.return,I)}if(a===o){J=null;break e}var E=a.sibling;if(E!==null){E.return=a.return,J=E;break e}J=a.return}}if(He=i,fo(),bi&&typeof bi.onPostCommitFiberRoot=="function")try{bi.onPostCommitFiberRoot(hm,t)}catch{}r=!0}return r}finally{Je=n,Ur.transition=e}}return!1}function _S(t,e,n){e=Nl(n,e),e=hP(t,e,1),t=qs(t,e,1),e=Yn(),t!==null&&(Bd(t,1,e),lr(t,e))}function Ut(t,e,n){if(t.tag===3)_S(t,t,n);else for(;e!==null;){if(e.tag===3){_S(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ks===null||!Ks.has(r))){t=Nl(n,t),t=fP(e,t,1),e=qs(e,t,1),t=Yn(),e!==null&&(Bd(e,1,t),lr(e,t));break}}e=e.return}}function O4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yn(),t.pingedLanes|=t.suspendedLanes&n,gn===t&&(bn&n)===n&&(an===4||an===3&&(bn&130023424)===bn&&500>Ht()-I1?Wo(t,0):C1|=n),lr(t,e)}function OP(t,e){e===0&&(t.mode&1?(e=Vh,Vh<<=1,!(Vh&130023424)&&(Vh=4194304)):e=1);var n=Yn();t=us(t,e),t!==null&&(Bd(t,e,n),lr(t,n))}function M4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),OP(t,n)}function D4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),OP(t,n)}var MP;MP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||or.current)ir=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ir=!1,T4(t,e,n);ir=!!(t.flags&131072)}else ir=!1,Rt&&e.flags&1048576&&$x(e,rp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Rf(t,e),t=e.pendingProps;var i=xl(e,Wn.current);gl(e,n),i=y1(null,e,r,t,i,n);var s=_1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ar(r)?(s=!0,tp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,f1(e),i.updater=ym,e.stateNode=i,i._reactInternals=e,l_(e,r,t,n),e=d_(null,e,r,!0,s,n)):(e.tag=0,Rt&&s&&o1(e),Gn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Rf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$4(r),t=Zr(r,t),i){case 0:e=c_(null,e,r,t,n);break e;case 1:e=uS(null,e,r,t,n);break e;case 11:e=aS(null,e,r,t,n);break e;case 14:e=lS(null,e,r,Zr(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zr(r,i),c_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zr(r,i),uS(t,e,r,i,n);case 3:e:{if(vP(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,jx(t,e),op(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Nl(Error(W(423)),e),e=cS(t,e,r,n,i);break e}else if(r!==i){i=Nl(Error(W(424)),e),e=cS(t,e,r,n,i);break e}else for(vr=Hs(e.stateNode.containerInfo.firstChild),wr=e,Rt=!0,ni=null,n=Hx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pl(),r===i){e=cs(t,e,n);break e}Gn(t,e,r,n)}e=e.child}return e;case 5:return qx(e),t===null&&s_(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,e_(r,i)?o=null:s!==null&&e_(r,s)&&(e.flags|=32),gP(t,e),Gn(t,e,o,n),e.child;case 6:return t===null&&s_(e),null;case 13:return yP(t,e,n);case 4:return p1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=kl(e,null,r,n):Gn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zr(r,i),aS(t,e,r,i,n);case 7:return Gn(t,e,e.pendingProps,n),e.child;case 8:return Gn(t,e,e.pendingProps.children,n),e.child;case 12:return Gn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ct(ip,r._currentValue),r._currentValue=o,s!==null)if(ui(s.value,o)){if(s.children===i.children&&!or.current){e=cs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=rs(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),o_(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),o_(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,gl(e,n),i=Wr(i),r=r(i),e.flags|=1,Gn(t,e,r,n),e.child;case 14:return r=e.type,i=Zr(r,e.pendingProps),i=Zr(r.type,i),lS(t,e,r,i,n);case 15:return pP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zr(r,i),Rf(t,e),e.tag=1,ar(r)?(t=!0,tp(e)):t=!1,gl(e,n),zx(e,r,i),l_(e,r,i,n),d_(null,e,r,!0,t,n);case 19:return _P(t,e,n);case 22:return mP(t,e,n)}throw Error(W(156,e.tag))};function DP(t,e){return ax(t,e)}function L4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(t,e,n,r){return new L4(t,e,n,r)}function P1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $4(t){if(typeof t=="function")return P1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===G0)return 11;if(t===Q0)return 14}return 2}function Qs(t,e){var n=t.alternate;return n===null?(n=$r(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")P1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qa:return Ho(n.children,i,s,e);case K0:o=8,i|=8;break;case Ny:return t=$r(12,n,e,i|2),t.elementType=Ny,t.lanes=s,t;case Oy:return t=$r(13,n,e,i),t.elementType=Oy,t.lanes=s,t;case My:return t=$r(19,n,e,i),t.elementType=My,t.lanes=s,t;case Wb:return Tm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Bb:o=10;break e;case zb:o=9;break e;case G0:o=11;break e;case Q0:o=14;break e;case Ps:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=$r(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ho(t,e,n,r){return t=$r(7,t,r,e),t.lanes=n,t}function Tm(t,e,n,r){return t=$r(22,t,r,e),t.elementType=Wb,t.lanes=n,t.stateNode={isHidden:!1},t}function Uv(t,e,n){return t=$r(6,t,null,e),t.lanes=n,t}function jv(t,e,n){return e=$r(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function F4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ev(0),this.expirationTimes=Ev(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ev(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function k1(t,e,n,r,i,s,o,a,l){return t=new F4(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=$r(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},f1(s),t}function V4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ga,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function LP(t){if(!t)return no;t=t._reactInternals;e:{if(wa(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ar(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(ar(n))return Dx(t,n,e)}return e}function $P(t,e,n,r,i,s,o,a,l){return t=k1(n,r,!0,t,i,s,o,a,l),t.context=LP(null),n=t.current,r=Yn(),i=Gs(n),s=rs(r,i),s.callback=e??null,qs(n,s,i),t.current.lanes=i,Bd(t,i,r),lr(t,r),t}function Sm(t,e,n,r){var i=e.current,s=Yn(),o=Gs(i);return n=LP(n),e.context===null?e.context=n:e.pendingContext=n,e=rs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qs(i,e,o),t!==null&&(ai(t,i,o,s),Sf(t,i,o)),o}function pp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function wS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function A1(t,e){wS(t,e),(t=t.alternate)&&wS(t,e)}function U4(){return null}var FP=typeof reportError=="function"?reportError:function(t){console.error(t)};function N1(t){this._internalRoot=t}Cm.prototype.render=N1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Sm(t,e,null,null)};Cm.prototype.unmount=N1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ta(function(){Sm(null,t,null,null)}),e[ls]=null}};function Cm(t){this._internalRoot=t}Cm.prototype.unstable_scheduleHydration=function(t){if(t){var e=px();t={blockedOn:null,target:t,priority:e};for(var n=0;n<As.length&&e!==0&&e<As[n].priority;n++);As.splice(n,0,t),n===0&&gx(t)}};function O1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Im(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ES(){}function j4(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=pp(o);s.call(u)}}var o=$P(e,r,t,0,null,!1,!1,"",ES);return t._reactRootContainer=o,t[ls]=o.current,ed(t.nodeType===8?t.parentNode:t),ta(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=pp(l);a.call(u)}}var l=k1(t,0,!1,null,null,!1,!1,"",ES);return t._reactRootContainer=l,t[ls]=l.current,ed(t.nodeType===8?t.parentNode:t),ta(function(){Sm(e,l,n,r)}),l}function Rm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=pp(o);a.call(l)}}Sm(e,o,t,i)}else o=j4(n,e,t,i,r);return pp(o)}hx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sc(e.pendingLanes);n!==0&&(J0(e,n|1),lr(e,Ht()),!(He&6)&&(Ol=Ht()+500,fo()))}break;case 13:ta(function(){var r=us(t,1);if(r!==null){var i=Yn();ai(r,t,1,i)}}),A1(t,1)}};Z0=function(t){if(t.tag===13){var e=us(t,134217728);if(e!==null){var n=Yn();ai(e,t,134217728,n)}A1(t,134217728)}};fx=function(t){if(t.tag===13){var e=Gs(t),n=us(t,e);if(n!==null){var r=Yn();ai(n,t,e,r)}A1(t,e)}};px=function(){return Je};mx=function(t,e){var n=Je;try{return Je=t,e()}finally{Je=n}};Wy=function(t,e,n){switch(e){case"input":if($y(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=gm(r);if(!i)throw Error(W(90));qb(r),$y(r,i)}}}break;case"textarea":Gb(t,n);break;case"select":e=n.value,e!=null&&hl(t,!!n.multiple,e,!1)}};tx=R1;nx=ta;var B4={usingClientEntryPoint:!1,Events:[Wd,Za,gm,Zb,ex,R1]},Mu={findFiberByHostInstance:No,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},z4={bundleType:Mu.bundleType,version:Mu.version,rendererPackageName:Mu.rendererPackageName,rendererConfig:Mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=sx(t),t===null?null:t.stateNode},findFiberByHostInstance:Mu.findFiberByHostInstance||U4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{hm=Yh.inject(z4),bi=Yh}catch{}}Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B4;Rr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O1(e))throw Error(W(200));return V4(t,e,null,n)};Rr.createRoot=function(t,e){if(!O1(t))throw Error(W(299));var n=!1,r="",i=FP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=k1(t,1,!1,null,null,n,!1,r,i),t[ls]=e.current,ed(t.nodeType===8?t.parentNode:t),new N1(e)};Rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=sx(e),t=t===null?null:t.stateNode,t};Rr.flushSync=function(t){return ta(t)};Rr.hydrate=function(t,e,n){if(!Im(e))throw Error(W(200));return Rm(null,t,e,!0,n)};Rr.hydrateRoot=function(t,e,n){if(!O1(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=FP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=$P(e,null,t,1,n??null,i,!1,s,o),t[ls]=e.current,ed(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Cm(e)};Rr.render=function(t,e,n){if(!Im(e))throw Error(W(200));return Rm(null,t,e,!1,n)};Rr.unmountComponentAtNode=function(t){if(!Im(t))throw Error(W(40));return t._reactRootContainer?(ta(function(){Rm(null,null,t,!1,function(){t._reactRootContainer=null,t[ls]=null})}),!0):!1};Rr.unstable_batchedUpdates=R1;Rr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Im(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Rm(t,e,n,!1,r)};Rr.version="18.2.0-next-9e3b772b8-20220608";function VP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VP)}catch(t){console.error(t)}}VP(),$b.exports=Rr;var qd=$b.exports;const ac=Rb(qd),W4=Ib({__proto__:null,default:ac},[qd]);var TS=qd;ky.createRoot=TS.createRoot,ky.hydrateRoot=TS.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jt(){return jt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jt.apply(this,arguments)}var Wt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wt||(Wt={}));const SS="popstate";function H4(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ud("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ra(i)}return K4(e,n,null,t)}function Se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function na(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function q4(){return Math.random().toString(36).substr(2,8)}function CS(t,e){return{usr:t.state,key:t.key,idx:e}}function ud(t,e,n,r){return n===void 0&&(n=null),jt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ys(e):e,{state:n,key:e&&e.key||r||q4()})}function ra(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ys(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function K4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Wt.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(jt({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Wt.Pop;let T=c(),m=T==null?null:T-u;u=T,l&&l({action:a,location:g.location,delta:m})}function h(T,m){a=Wt.Push;let v=ud(g.location,T,m);n&&n(v,T),u=c()+1;let y=CS(v,u),E=g.createHref(v);try{o.pushState(y,"",E)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(E)}s&&l&&l({action:a,location:g.location,delta:1})}function f(T,m){a=Wt.Replace;let v=ud(g.location,T,m);n&&n(v,T),u=c();let y=CS(v,u),E=g.createHref(v);o.replaceState(y,"",E),s&&l&&l({action:a,location:g.location,delta:0})}function p(T){let m=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof T=="string"?T:ra(T);return Se(m,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,m)}let g={get action(){return a},get location(){return t(i,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(SS,d),l=T,()=>{i.removeEventListener(SS,d),l=null}},createHref(T){return e(i,T)},createURL:p,encodeLocation(T){let m=p(T);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:f,go(T){return o.go(T)}};return g}var Vt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Vt||(Vt={}));const G4=new Set(["lazy","caseSensitive","path","id","index","children"]);function Q4(t){return t.index===!0}function S_(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(Se(i.index!==!0||!i.children,"Cannot specify children on an index route"),Se(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),Q4(i)){let l=jt({},i,e(i),{id:a});return r[a]=l,l}else{let l=jt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=S_(i.children,e,o,r)),l}})}function ol(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ys(e):e,i=iu(r.pathname||"/",n);if(i==null)return null;let s=UP(t);X4(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=o$(s[a],l$(i));return o}function Y4(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function UP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Se(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=is([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Se(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),UP(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:i$(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of jP(s.path))i(s,o,l)}),e}function jP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=jP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function X4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:s$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const J4=/^:[\w-]+$/,Z4=3,e$=2,t$=1,n$=10,r$=-2,IS=t=>t==="*";function i$(t,e){let n=t.split("/"),r=n.length;return n.some(IS)&&(r+=r$),e&&(r+=e$),n.filter(i=>!IS(i)).reduce((i,s)=>i+(J4.test(s)?Z4:s===""?t$:n$),r)}function s$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function o$(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=BP({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:is([i,c.pathname]),pathnameBase:h$(is([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=is([i,c.pathnameBase]))}return s}function BP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=a$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?u[h]=void 0:u[h]=u$(p||"",h),u},{}),pathname:s,pathnameBase:o,pattern:t}}function a$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),na(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function l$(t){try{return decodeURI(t)}catch(e){return na(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function u$(t,e){try{return decodeURIComponent(t)}catch(n){return na(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function iu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function c$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ys(t):t;return{pathname:n?n.startsWith("/")?n:d$(n,e):e,search:f$(r),hash:p$(i)}}function d$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bm(t,e){let n=zP(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ys(t):(i=jt({},t),Se(!i.pathname||!i.pathname.includes("?"),Bv("?","pathname","search",i)),Se(!i.pathname||!i.pathname.includes("#"),Bv("#","pathname","hash",i)),Se(!i.search||!i.search.includes("#"),Bv("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=c$(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const is=t=>t.join("/").replace(/\/\/+/g,"/"),h$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),f$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,p$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class M1{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function WP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const HP=["post","put","patch","delete"],m$=new Set(HP),g$=["get",...HP],v$=new Set(g$),y$=new Set([301,302,303,307,308]),_$=new Set([307,308]),zv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},w$={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Du={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},qP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,E$=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),KP="remix-router-transitions";function T$(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Se(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let k=t.detectErrorBoundary;i=N=>({hasErrorBoundary:k(N)})}else i=E$;let s={},o=S_(t.routes,i,void 0,s),a,l=t.basename||"/",u=jt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),c=null,d=new Set,h=null,f=null,p=null,g=t.hydrationData!=null,T=ol(o,t.history.location,l),m=null;if(T==null){let k=kr(404,{pathname:t.history.location.pathname}),{matches:N,route:M}=OS(o);T=N,m={[M.id]:k}}let v,y=T.some(k=>k.route.lazy),E=T.some(k=>k.route.loader);if(y)v=!1;else if(!E)v=!0;else if(u.v7_partialHydration){let k=t.hydrationData?t.hydrationData.loaderData:null,N=t.hydrationData?t.hydrationData.errors:null;v=T.every(M=>M.route.loader&&M.route.loader.hydrate!==!0&&(k&&k[M.route.id]!==void 0||N&&N[M.route.id]!==void 0))}else v=t.hydrationData!=null;let I,w={historyAction:t.history.action,location:t.history.location,matches:T,initialized:v,navigation:zv,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||m,fetchers:new Map,blockers:new Map},S=Wt.Pop,b=!1,P,x=!1,O=new Map,L=null,D=!1,V=!1,z=[],B=[],j=new Map,A=0,$=-1,H=new Map,te=new Set,Y=new Map,ce=new Map,Z=new Set,de=new Map,ue=new Map,Fe=!1;function Be(){if(c=t.history.listen(k=>{let{action:N,location:M,delta:q}=k;if(Fe){Fe=!1;return}na(ue.size===0||q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ne=fr({currentLocation:w.location,nextLocation:M,historyAction:N});if(ne&&q!=null){Fe=!0,t.history.go(q*-1),ot(ne,{state:"blocked",location:M,proceed(){ot(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:M}),t.history.go(q)},reset(){let xe=new Map(w.blockers);xe.set(ne,Du),ae({blockers:xe})}});return}return Ee(N,M)}),n){O$(e,O);let k=()=>M$(e,O);e.addEventListener("pagehide",k),L=()=>e.removeEventListener("pagehide",k)}return w.initialized||Ee(Wt.Pop,w.location,{initialHydration:!0}),I}function De(){c&&c(),L&&L(),d.clear(),P&&P.abort(),w.fetchers.forEach((k,N)=>Gt(N)),w.blockers.forEach((k,N)=>qe(N))}function bt(k){return d.add(k),()=>d.delete(k)}function ae(k,N){N===void 0&&(N={}),w=jt({},w,k);let M=[],q=[];u.v7_fetcherPersist&&w.fetchers.forEach((ne,xe)=>{ne.state==="idle"&&(Z.has(xe)?q.push(xe):M.push(xe))}),[...d].forEach(ne=>ne(w,{deletedFetchers:q,unstable_viewTransitionOpts:N.viewTransitionOpts,unstable_flushSync:N.flushSync===!0})),u.v7_fetcherPersist&&(M.forEach(ne=>w.fetchers.delete(ne)),q.forEach(ne=>Gt(ne)))}function ze(k,N,M){var q,ne;let{flushSync:xe}=M===void 0?{}:M,pe=w.actionData!=null&&w.navigation.formMethod!=null&&ti(w.navigation.formMethod)&&w.navigation.state==="loading"&&((q=k.state)==null?void 0:q._isRedirect)!==!0,he;N.actionData?Object.keys(N.actionData).length>0?he=N.actionData:he=null:pe?he=w.actionData:he=null;let se=N.loaderData?NS(w.loaderData,N.loaderData,N.matches||[],N.errors):w.loaderData,ke=w.blockers;ke.size>0&&(ke=new Map(ke),ke.forEach((Pe,Pt)=>ke.set(Pt,Du)));let Tt=b===!0||w.navigation.formMethod!=null&&ti(w.navigation.formMethod)&&((ne=k.state)==null?void 0:ne._isRedirect)!==!0;a&&(o=a,a=void 0),D||S===Wt.Pop||(S===Wt.Push?t.history.push(k,k.state):S===Wt.Replace&&t.history.replace(k,k.state));let _e;if(S===Wt.Pop){let Pe=O.get(w.location.pathname);Pe&&Pe.has(k.pathname)?_e={currentLocation:w.location,nextLocation:k}:O.has(k.pathname)&&(_e={currentLocation:k,nextLocation:w.location})}else if(x){let Pe=O.get(w.location.pathname);Pe?Pe.add(k.pathname):(Pe=new Set([k.pathname]),O.set(w.location.pathname,Pe)),_e={currentLocation:w.location,nextLocation:k}}ae(jt({},N,{actionData:he,loaderData:se,historyAction:S,location:k,initialized:!0,navigation:zv,revalidation:"idle",restoreScrollPosition:Ah(k,N.matches||w.matches),preventScrollReset:Tt,blockers:ke}),{viewTransitionOpts:_e,flushSync:xe===!0}),S=Wt.Pop,b=!1,x=!1,D=!1,V=!1,z=[],B=[]}async function ye(k,N){if(typeof k=="number"){t.history.go(k);return}let M=C_(w.location,w.matches,l,u.v7_prependBasename,k,u.v7_relativeSplatPath,N==null?void 0:N.fromRouteId,N==null?void 0:N.relative),{path:q,submission:ne,error:xe}=RS(u.v7_normalizeFormMethod,!1,M,N),pe=w.location,he=ud(w.location,q,N&&N.state);he=jt({},he,t.history.encodeLocation(he));let se=N&&N.replace!=null?N.replace:void 0,ke=Wt.Push;se===!0?ke=Wt.Replace:se===!1||ne!=null&&ti(ne.formMethod)&&ne.formAction===w.location.pathname+w.location.search&&(ke=Wt.Replace);let Tt=N&&"preventScrollReset"in N?N.preventScrollReset===!0:void 0,_e=(N&&N.unstable_flushSync)===!0,Pe=fr({currentLocation:pe,nextLocation:he,historyAction:ke});if(Pe){ot(Pe,{state:"blocked",location:he,proceed(){ot(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:he}),ye(k,N)},reset(){let Pt=new Map(w.blockers);Pt.set(Pe,Du),ae({blockers:Pt})}});return}return await Ee(ke,he,{submission:ne,pendingError:xe,preventScrollReset:Tt,replace:N&&N.replace,enableViewTransition:N&&N.unstable_viewTransition,flushSync:_e})}function Le(){if(ht(),ae({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){Ee(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}Ee(S||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation})}}async function Ee(k,N,M){P&&P.abort(),P=null,S=k,D=(M&&M.startUninterruptedRevalidation)===!0,mv(w.location,w.matches),b=(M&&M.preventScrollReset)===!0,x=(M&&M.enableViewTransition)===!0;let q=a||o,ne=M&&M.overrideNavigation,xe=ol(q,N,l),pe=(M&&M.flushSync)===!0;if(!xe){let Pt=kr(404,{pathname:N.pathname}),{matches:er,route:St}=OS(q);Wi(),ze(N,{matches:er,loaderData:{},errors:{[St.id]:Pt}},{flushSync:pe});return}if(w.initialized&&!V&&b$(w.location,N)&&!(M&&M.submission&&ti(M.submission.formMethod))){ze(N,{matches:xe},{flushSync:pe});return}P=new AbortController;let he=$u(t.history,N,P.signal,M&&M.submission),se,ke;if(M&&M.pendingError)ke={[bc(xe).route.id]:M.pendingError};else if(M&&M.submission&&ti(M.submission.formMethod)){let Pt=await wn(he,N,M.submission,xe,{replace:M.replace,flushSync:pe});if(Pt.shortCircuited)return;se=Pt.pendingActionData,ke=Pt.pendingActionError,ne=Wv(N,M.submission),pe=!1,he=new Request(he.url,{signal:he.signal})}let{shortCircuited:Tt,loaderData:_e,errors:Pe}=await rn(he,N,xe,ne,M&&M.submission,M&&M.fetcherSubmission,M&&M.replace,M&&M.initialHydration===!0,pe,se,ke);Tt||(P=null,ze(N,jt({matches:xe},se?{actionData:se}:{},{loaderData:_e,errors:Pe})))}async function wn(k,N,M,q,ne){ne===void 0&&(ne={}),ht();let xe=A$(N,M);ae({navigation:xe},{flushSync:ne.flushSync===!0});let pe,he=R_(q,N);if(!he.route.action&&!he.route.lazy)pe={type:Vt.error,error:kr(405,{method:k.method,pathname:N.pathname,routeId:he.route.id})};else if(pe=await Lu("action",k,he,q,s,i,l,u.v7_relativeSplatPath),k.signal.aborted)return{shortCircuited:!0};if(Lo(pe)){let se;return ne&&ne.replace!=null?se=ne.replace:se=pe.location===w.location.pathname+w.location.search,await Ae(w,pe,{submission:M,replace:se}),{shortCircuited:!0}}if(al(pe)){let se=bc(q,he.route.id);return(ne&&ne.replace)!==!0&&(S=Wt.Push),{pendingActionData:{},pendingActionError:{[se.route.id]:pe.error}}}if(Do(pe))throw kr(400,{type:"defer-action"});return{pendingActionData:{[he.route.id]:pe.data}}}async function rn(k,N,M,q,ne,xe,pe,he,se,ke,Tt){let _e=q||Wv(N,ne),Pe=ne||xe||LS(_e),Pt=a||o,[er,St]=bS(t.history,w,M,Pe,N,u.v7_partialHydration&&he===!0,V,z,B,Z,Y,te,Pt,l,ke,Tt);if(Wi(Re=>!(M&&M.some(Ct=>Ct.route.id===Re))||er&&er.some(Ct=>Ct.route.id===Re)),$=++A,er.length===0&&St.length===0){let Re=Pr();return ze(N,jt({matches:M,loaderData:{},errors:Tt||null},ke?{actionData:ke}:{},Re?{fetchers:new Map(w.fetchers)}:{}),{flushSync:se}),{shortCircuited:!0}}if(!D&&(!u.v7_partialHydration||!he)){St.forEach(Ct=>{let gi=w.fetchers.get(Ct.key),Oh=Fu(void 0,gi?gi.data:void 0);w.fetchers.set(Ct.key,Oh)});let Re=ke||w.actionData;ae(jt({navigation:_e},Re?Object.keys(Re).length===0?{actionData:null}:{actionData:Re}:{},St.length>0?{fetchers:new Map(w.fetchers)}:{}),{flushSync:se})}St.forEach(Re=>{j.has(Re.key)&&re(Re.key),Re.controller&&j.set(Re.key,Re.controller)});let pi=()=>St.forEach(Re=>re(Re.key));P&&P.signal.addEventListener("abort",pi);let{results:Oa,loaderResults:Hi,fetcherResults:Xr}=await Kt(w.matches,M,er,St,k);if(k.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",pi),St.forEach(Re=>j.delete(Re.key));let mi=MS(Oa);if(mi){if(mi.idx>=er.length){let Re=St[mi.idx-er.length].key;te.add(Re)}return await Ae(w,mi.result,{replace:pe}),{shortCircuited:!0}}let{loaderData:Cu,errors:Iu}=AS(w,M,er,Hi,Tt,St,Xr,de);de.forEach((Re,Ct)=>{Re.subscribe(gi=>{(gi||Re.done)&&de.delete(Ct)})});let Ru=Pr(),Ss=Zn($),Ie=Ru||Ss||St.length>0;return jt({loaderData:Cu,errors:Iu},Ie?{fetchers:new Map(w.fetchers)}:{})}function Dt(k,N,M,q){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");j.has(k)&&re(k);let ne=(q&&q.unstable_flushSync)===!0,xe=a||o,pe=C_(w.location,w.matches,l,u.v7_prependBasename,M,u.v7_relativeSplatPath,N,q==null?void 0:q.relative),he=ol(xe,pe,l);if(!he){xt(k,N,kr(404,{pathname:pe}),{flushSync:ne});return}let{path:se,submission:ke,error:Tt}=RS(u.v7_normalizeFormMethod,!0,pe,q);if(Tt){xt(k,N,Tt,{flushSync:ne});return}let _e=R_(he,se);if(b=(q&&q.preventScrollReset)===!0,ke&&ti(ke.formMethod)){un(k,N,se,_e,he,ne,ke);return}Y.set(k,{routeId:N,path:se}),lt(k,N,se,_e,he,ne,ke)}async function un(k,N,M,q,ne,xe,pe){if(ht(),Y.delete(k),!q.route.action&&!q.route.lazy){let Ct=kr(405,{method:pe.formMethod,pathname:M,routeId:N});xt(k,N,Ct,{flushSync:xe});return}let he=w.fetchers.get(k);be(k,N$(pe,he),{flushSync:xe});let se=new AbortController,ke=$u(t.history,M,se.signal,pe);j.set(k,se);let Tt=A,_e=await Lu("action",ke,q,ne,s,i,l,u.v7_relativeSplatPath);if(ke.signal.aborted){j.get(k)===se&&j.delete(k);return}if(u.v7_fetcherPersist&&Z.has(k)){if(Lo(_e)||al(_e)){be(k,xs(void 0));return}}else{if(Lo(_e))if(j.delete(k),$>Tt){be(k,xs(void 0));return}else return te.add(k),be(k,Fu(pe)),Ae(w,_e,{fetcherSubmission:pe});if(al(_e)){xt(k,N,_e.error);return}}if(Do(_e))throw kr(400,{type:"defer-action"});let Pe=w.navigation.location||w.location,Pt=$u(t.history,Pe,se.signal),er=a||o,St=w.navigation.state!=="idle"?ol(er,w.navigation.location,l):w.matches;Se(St,"Didn't find any matches after fetcher action");let pi=++A;H.set(k,pi);let Oa=Fu(pe,_e.data);w.fetchers.set(k,Oa);let[Hi,Xr]=bS(t.history,w,St,pe,Pe,!1,V,z,B,Z,Y,te,er,l,{[q.route.id]:_e.data},void 0);Xr.filter(Ct=>Ct.key!==k).forEach(Ct=>{let gi=Ct.key,Oh=w.fetchers.get(gi),yD=Fu(void 0,Oh?Oh.data:void 0);w.fetchers.set(gi,yD),j.has(gi)&&re(gi),Ct.controller&&j.set(gi,Ct.controller)}),ae({fetchers:new Map(w.fetchers)});let mi=()=>Xr.forEach(Ct=>re(Ct.key));se.signal.addEventListener("abort",mi);let{results:Cu,loaderResults:Iu,fetcherResults:Ru}=await Kt(w.matches,St,Hi,Xr,Pt);if(se.signal.aborted)return;se.signal.removeEventListener("abort",mi),H.delete(k),j.delete(k),Xr.forEach(Ct=>j.delete(Ct.key));let Ss=MS(Cu);if(Ss){if(Ss.idx>=Hi.length){let Ct=Xr[Ss.idx-Hi.length].key;te.add(Ct)}return Ae(w,Ss.result)}let{loaderData:Ie,errors:Re}=AS(w,w.matches,Hi,Iu,void 0,Xr,Ru,de);if(w.fetchers.has(k)){let Ct=xs(_e.data);w.fetchers.set(k,Ct)}Zn(pi),w.navigation.state==="loading"&&pi>$?(Se(S,"Expected pending action"),P&&P.abort(),ze(w.navigation.location,{matches:St,loaderData:Ie,errors:Re,fetchers:new Map(w.fetchers)})):(ae({errors:Re,loaderData:NS(w.loaderData,Ie,St,Re),fetchers:new Map(w.fetchers)}),V=!1)}async function lt(k,N,M,q,ne,xe,pe){let he=w.fetchers.get(k);be(k,Fu(pe,he?he.data:void 0),{flushSync:xe});let se=new AbortController,ke=$u(t.history,M,se.signal);j.set(k,se);let Tt=A,_e=await Lu("loader",ke,q,ne,s,i,l,u.v7_relativeSplatPath);if(Do(_e)&&(_e=await YP(_e,ke.signal,!0)||_e),j.get(k)===se&&j.delete(k),!ke.signal.aborted){if(Z.has(k)){be(k,xs(void 0));return}if(Lo(_e))if($>Tt){be(k,xs(void 0));return}else{te.add(k),await Ae(w,_e);return}if(al(_e)){xt(k,N,_e.error);return}Se(!Do(_e),"Unhandled fetcher deferred data"),be(k,xs(_e.data))}}async function Ae(k,N,M){let{submission:q,fetcherSubmission:ne,replace:xe}=M===void 0?{}:M;N.revalidate&&(V=!0);let pe=ud(k.location,N.location,{_isRedirect:!0});if(Se(pe,"Expected a location on the redirect navigation"),n){let Pe=!1;if(N.reloadDocument)Pe=!0;else if(qP.test(N.location)){const Pt=t.history.createURL(N.location);Pe=Pt.origin!==e.location.origin||iu(Pt.pathname,l)==null}if(Pe){xe?e.location.replace(N.location):e.location.assign(N.location);return}}P=null;let he=xe===!0?Wt.Replace:Wt.Push,{formMethod:se,formAction:ke,formEncType:Tt}=k.navigation;!q&&!ne&&se&&ke&&Tt&&(q=LS(k.navigation));let _e=q||ne;if(_$.has(N.status)&&_e&&ti(_e.formMethod))await Ee(he,pe,{submission:jt({},_e,{formAction:N.location}),preventScrollReset:b});else{let Pe=Wv(pe,q);await Ee(he,pe,{overrideNavigation:Pe,fetcherSubmission:ne,preventScrollReset:b})}}async function Kt(k,N,M,q,ne){let xe=await Promise.all([...M.map(se=>Lu("loader",ne,se,N,s,i,l,u.v7_relativeSplatPath)),...q.map(se=>se.matches&&se.match&&se.controller?Lu("loader",$u(t.history,se.path,se.controller.signal),se.match,se.matches,s,i,l,u.v7_relativeSplatPath):{type:Vt.error,error:kr(404,{pathname:se.path})})]),pe=xe.slice(0,M.length),he=xe.slice(M.length);return await Promise.all([DS(k,M,pe,pe.map(()=>ne.signal),!1,w.loaderData),DS(k,q.map(se=>se.match),he,q.map(se=>se.controller?se.controller.signal:null),!0)]),{results:xe,loaderResults:pe,fetcherResults:he}}function ht(){V=!0,z.push(...Wi()),Y.forEach((k,N)=>{j.has(N)&&(B.push(N),re(N))})}function be(k,N,M){M===void 0&&(M={}),w.fetchers.set(k,N),ae({fetchers:new Map(w.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function xt(k,N,M,q){q===void 0&&(q={});let ne=bc(w.matches,N);Gt(k),ae({errors:{[ne.route.id]:M},fetchers:new Map(w.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function sn(k){return u.v7_fetcherPersist&&(ce.set(k,(ce.get(k)||0)+1),Z.has(k)&&Z.delete(k)),w.fetchers.get(k)||w$}function Gt(k){let N=w.fetchers.get(k);j.has(k)&&!(N&&N.state==="loading"&&H.has(k))&&re(k),Y.delete(k),H.delete(k),te.delete(k),Z.delete(k),w.fetchers.delete(k)}function We(k){if(u.v7_fetcherPersist){let N=(ce.get(k)||0)-1;N<=0?(ce.delete(k),Z.add(k)):ce.set(k,N)}else Gt(k);ae({fetchers:new Map(w.fetchers)})}function re(k){let N=j.get(k);Se(N,"Expected fetch controller: "+k),N.abort(),j.delete(k)}function Lt(k){for(let N of k){let M=sn(N),q=xs(M.data);w.fetchers.set(N,q)}}function Pr(){let k=[],N=!1;for(let M of te){let q=w.fetchers.get(M);Se(q,"Expected fetcher: "+M),q.state==="loading"&&(te.delete(M),k.push(M),N=!0)}return Lt(k),N}function Zn(k){let N=[];for(let[M,q]of H)if(q<k){let ne=w.fetchers.get(M);Se(ne,"Expected fetcher: "+M),ne.state==="loading"&&(re(M),H.delete(M),N.push(M))}return Lt(N),N.length>0}function oe(k,N){let M=w.blockers.get(k)||Du;return ue.get(k)!==N&&ue.set(k,N),M}function qe(k){w.blockers.delete(k),ue.delete(k)}function ot(k,N){let M=w.blockers.get(k)||Du;Se(M.state==="unblocked"&&N.state==="blocked"||M.state==="blocked"&&N.state==="blocked"||M.state==="blocked"&&N.state==="proceeding"||M.state==="blocked"&&N.state==="unblocked"||M.state==="proceeding"&&N.state==="unblocked","Invalid blocker state transition: "+M.state+" -> "+N.state);let q=new Map(w.blockers);q.set(k,N),ae({blockers:q})}function fr(k){let{currentLocation:N,nextLocation:M,historyAction:q}=k;if(ue.size===0)return;ue.size>1&&na(!1,"A router only supports one blocker at a time");let ne=Array.from(ue.entries()),[xe,pe]=ne[ne.length-1],he=w.blockers.get(xe);if(!(he&&he.state==="proceeding")&&pe({currentLocation:N,nextLocation:M,historyAction:q}))return xe}function Wi(k){let N=[];return de.forEach((M,q)=>{(!k||k(q))&&(M.cancel(),N.push(q),de.delete(q))}),N}function Ph(k,N,M){if(h=k,p=N,f=M||null,!g&&w.navigation===zv){g=!0;let q=Ah(w.location,w.matches);q!=null&&ae({restoreScrollPosition:q})}return()=>{h=null,p=null,f=null}}function kh(k,N){return f&&f(k,N.map(q=>Y4(q,w.loaderData)))||k.key}function mv(k,N){if(h&&p){let M=kh(k,N);h[M]=p()}}function Ah(k,N){if(h){let M=kh(k,N),q=h[M];if(typeof q=="number")return q}return null}function Nh(k){s={},a=S_(k,i,void 0,s)}return I={get basename(){return l},get future(){return u},get state(){return w},get routes(){return o},get window(){return e},initialize:Be,subscribe:bt,enableScrollRestoration:Ph,navigate:ye,fetch:Dt,revalidate:Le,createHref:k=>t.history.createHref(k),encodeLocation:k=>t.history.encodeLocation(k),getFetcher:sn,deleteFetcher:We,dispose:De,getBlocker:oe,deleteBlocker:qe,_internalFetchControllers:j,_internalActiveDeferreds:de,_internalSetRoutes:Nh},I}function S$(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function C_(t,e,n,r,i,s,o,a){let l,u;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){u=d;break}}else l=e,u=e[e.length-1];let c=xm(i||".",bm(l,s),iu(t.pathname,n)||t.pathname,a==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!D1(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:is([n,c.pathname])),ra(c)}function RS(t,e,n,r){if(!r||!S$(r))return{path:n};if(r.formMethod&&!k$(r.formMethod))return{path:n,error:kr(405,{method:r.formMethod})};let i=()=>({path:n,error:kr(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=QP(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ti(o))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,p)=>{let[g,T]=p;return""+f+g+"="+T+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!ti(o))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}Se(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=I_(r.formData),u=r.formData;else if(r.body instanceof FormData)l=I_(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=kS(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=kS(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(ti(c.formMethod))return{path:n,submission:c};let d=ys(n);return e&&d.search&&D1(d.search)&&l.append("index",""),d.search="?"+l,{path:ra(d),submission:c}}function C$(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function bS(t,e,n,r,i,s,o,a,l,u,c,d,h,f,p,g){let T=g?Object.values(g)[0]:p?Object.values(p)[0]:void 0,m=t.createURL(e.location),v=t.createURL(i),y=g?Object.keys(g)[0]:void 0,I=C$(n,y).filter((S,b)=>{let{route:P}=S;if(P.lazy)return!0;if(P.loader==null)return!1;if(s)return P.loader.hydrate?!0:e.loaderData[P.id]===void 0&&(!e.errors||e.errors[P.id]===void 0);if(I$(e.loaderData,e.matches[b],S)||a.some(L=>L===S.route.id))return!0;let x=e.matches[b],O=S;return xS(S,jt({currentUrl:m,currentParams:x.params,nextUrl:v,nextParams:O.params},r,{actionResult:T,defaultShouldRevalidate:o||m.pathname+m.search===v.pathname+v.search||m.search!==v.search||GP(x,O)}))}),w=[];return c.forEach((S,b)=>{if(s||!n.some(D=>D.route.id===S.routeId)||u.has(b))return;let P=ol(h,S.path,f);if(!P){w.push({key:b,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let x=e.fetchers.get(b),O=R_(P,S.path),L=!1;d.has(b)?L=!1:l.includes(b)?L=!0:x&&x.state!=="idle"&&x.data===void 0?L=o:L=xS(O,jt({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:v,nextParams:n[n.length-1].params},r,{actionResult:T,defaultShouldRevalidate:o})),L&&w.push({key:b,routeId:S.routeId,path:S.path,matches:P,match:O,controller:new AbortController})}),[I,w]}function I$(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function GP(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function xS(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function PS(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Se(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";na(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!G4.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,jt({},e(i),{lazy:void 0}))}async function Lu(t,e,n,r,i,s,o,a,l){l===void 0&&(l={});let u,c,d,h=g=>{let T,m=new Promise((v,y)=>T=y);return d=()=>T(),e.signal.addEventListener("abort",d),Promise.race([g({request:e,params:n.params,context:l.requestContext}),m])};try{let g=n.route[t];if(n.route.lazy)if(g){let T,m=await Promise.all([h(g).catch(v=>{T=v}),PS(n.route,s,i)]);if(T)throw T;c=m[0]}else if(await PS(n.route,s,i),g=n.route[t],g)c=await h(g);else if(t==="action"){let T=new URL(e.url),m=T.pathname+T.search;throw kr(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:Vt.data,data:void 0};else if(g)c=await h(g);else{let T=new URL(e.url),m=T.pathname+T.search;throw kr(404,{pathname:m})}Se(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(g){u=Vt.error,c=g}finally{d&&e.signal.removeEventListener("abort",d)}if(P$(c)){let g=c.status;if(y$.has(g)){let m=c.headers.get("Location");if(Se(m,"Redirects returned/thrown from loaders/actions must have a Location header"),!qP.test(m))m=C_(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,m,a);else if(!l.isStaticRequest){let v=new URL(e.url),y=m.startsWith("//")?new URL(v.protocol+m):new URL(m),E=iu(y.pathname,o)!=null;y.origin===v.origin&&E&&(m=y.pathname+y.search+y.hash)}if(l.isStaticRequest)throw c.headers.set("Location",m),c;return{type:Vt.redirect,status:g,location:m,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===Vt.error?Vt.error:Vt.data,response:c};let T;try{let m=c.headers.get("Content-Type");m&&/\bapplication\/json\b/.test(m)?c.body==null?T=null:T=await c.json():T=await c.text()}catch(m){return{type:Vt.error,error:m}}return u===Vt.error?{type:u,error:new M1(g,c.statusText,T),headers:c.headers}:{type:Vt.data,data:T,statusCode:c.status,headers:c.headers}}if(u===Vt.error)return{type:u,error:c};if(x$(c)){var f,p;return{type:Vt.deferred,deferredData:c,statusCode:(f=c.init)==null?void 0:f.status,headers:((p=c.init)==null?void 0:p.headers)&&new Headers(c.init.headers)}}return{type:Vt.data,data:c}}function $u(t,e,n,r){let i=t.createURL(QP(e)).toString(),s={signal:n};if(r&&ti(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=I_(r.formData):s.body=r.formData}return new Request(i,s)}function I_(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function kS(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function R$(t,e,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,d)=>{let h=e[d].route.id;if(Se(!Lo(c),"Cannot handle redirect results in processLoaderData"),al(c)){let f=bc(t,h),p=c.error;r&&(p=Object.values(r)[0],r=void 0),o=o||{},o[f.route.id]==null&&(o[f.route.id]=p),s[h]=void 0,l||(l=!0,a=WP(c.error)?c.error.status:500),c.headers&&(u[h]=c.headers)}else Do(c)?(i.set(h,c.deferredData),s[h]=c.deferredData.data):s[h]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[h]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function AS(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=R$(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:d,match:h,controller:f}=s[c];Se(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let p=o[c];if(!(f&&f.signal.aborted))if(al(p)){let g=bc(t.matches,h==null?void 0:h.route.id);u&&u[g.route.id]||(u=jt({},u,{[g.route.id]:p.error})),t.fetchers.delete(d)}else if(Lo(p))Se(!1,"Unhandled fetcher revalidation redirect");else if(Do(p))Se(!1,"Unhandled fetcher deferred data");else{let g=xs(p.data);t.fetchers.set(d,g)}}return{loaderData:l,errors:u}}function NS(t,e,n,r){let i=jt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function bc(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function OS(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function kr(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new M1(t||500,o,new Error(a),!0)}function MS(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Lo(n))return{result:n,idx:e}}}function QP(t){let e=typeof t=="string"?ys(t):t;return ra(jt({},e,{hash:""}))}function b$(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Do(t){return t.type===Vt.deferred}function al(t){return t.type===Vt.error}function Lo(t){return(t&&t.type)===Vt.redirect}function x$(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function P$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function k$(t){return v$.has(t.toLowerCase())}function ti(t){return m$.has(t.toLowerCase())}async function DS(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!GP(u,l)&&(s&&s[l.route.id])!==void 0;if(Do(a)&&(i||c)){let d=r[o];Se(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await YP(a,d,i).then(h=>{h&&(n[o]=h||n[o])})}}}async function YP(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Vt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Vt.error,error:i}}return{type:Vt.data,data:t.deferredData.data}}}function D1(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function R_(t,e){let n=typeof e=="string"?ys(e).search:e.search;if(t[t.length-1].route.index&&D1(n||""))return t[t.length-1];let r=zP(t);return r[r.length-1]}function LS(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Wv(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function A$(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Fu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function N$(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function xs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function O$(t,e){try{let n=t.sessionStorage.getItem(KP);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function M$(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(KP,JSON.stringify(n))}catch(r){na(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cd(){return cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cd.apply(this,arguments)}const Pm=_.createContext(null),XP=_.createContext(null),po=_.createContext(null),km=_.createContext(null),_s=_.createContext({outlet:null,matches:[],isDataRoute:!1}),JP=_.createContext(null);function D$(t,e){let{relative:n}=e===void 0?{}:e;Ea()||Se(!1);let{basename:r,navigator:i}=_.useContext(po),{hash:s,pathname:o,search:a}=ek(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:is([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ea(){return _.useContext(km)!=null}function Ta(){return Ea()||Se(!1),_.useContext(km).location}function L$(t){Ea()||Se(!1);let{pathname:e}=Ta();return _.useMemo(()=>BP(t,e),[e,t])}function ZP(t){_.useContext(po).static||_.useLayoutEffect(t)}function Sa(){let{isDataRoute:t}=_.useContext(_s);return t?Y$():$$()}function $$(){Ea()||Se(!1);let t=_.useContext(Pm),{basename:e,future:n,navigator:r}=_.useContext(po),{matches:i}=_.useContext(_s),{pathname:s}=Ta(),o=JSON.stringify(bm(i,n.v7_relativeSplatPath)),a=_.useRef(!1);return ZP(()=>{a.current=!0}),_.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=xm(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:is([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}const F$=_.createContext(null);function V$(t){let e=_.useContext(_s).outlet;return e&&_.createElement(F$.Provider,{value:t},e)}function ek(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=_.useContext(po),{matches:i}=_.useContext(_s),{pathname:s}=Ta(),o=JSON.stringify(bm(i,r.v7_relativeSplatPath));return _.useMemo(()=>xm(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function U$(t,e,n,r){Ea()||Se(!1);let{navigator:i}=_.useContext(po),{matches:s}=_.useContext(_s),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ta(),c;if(e){var d;let T=typeof e=="string"?ys(e):e;l==="/"||(d=T.pathname)!=null&&d.startsWith(l)||Se(!1),c=T}else c=u;let h=c.pathname||"/",f=l==="/"?h:h.slice(l.length)||"/",p=ol(t,{pathname:f}),g=H$(p&&p.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:is([l,i.encodeLocation?i.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:is([l,i.encodeLocation?i.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,r);return e&&g?_.createElement(km.Provider,{value:{location:cd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Wt.Pop}},g):g}function j$(){let t=Q$(),e=WP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,null)}const B$=_.createElement(j$,null);class z$ extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(_s.Provider,{value:this.props.routeContext},_.createElement(JP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function W$(t){let{routeContext:e,match:n,children:r}=t,i=_.useContext(Pm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(_s.Provider,{value:e},r)}function H$(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||Se(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,p=!1,g=null,T=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||B$,l&&(u<0&&h===0?(X$("route-fallback",!1),p=!0,T=null):u===h&&(p=!0,T=d.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,h+1)),v=()=>{let y;return f?y=g:p?y=T:d.route.Component?y=_.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=c,_.createElement(W$,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?_.createElement(z$,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var tk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(tk||{}),mp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(mp||{});function q$(t){let e=_.useContext(Pm);return e||Se(!1),e}function K$(t){let e=_.useContext(XP);return e||Se(!1),e}function G$(t){let e=_.useContext(_s);return e||Se(!1),e}function nk(t){let e=G$(),n=e.matches[e.matches.length-1];return n.route.id||Se(!1),n.route.id}function Q$(){var t;let e=_.useContext(JP),n=K$(mp.UseRouteError),r=nk(mp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Y$(){let{router:t}=q$(tk.UseNavigateStable),e=nk(mp.UseNavigateStable),n=_.useRef(!1);return ZP(()=>{n.current=!0}),_.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,cd({fromRouteId:e},s)))},[t,e])}const $S={};function X$(t,e,n){!e&&!$S[t]&&($S[t]=!0)}function J$(t){let{to:e,replace:n,state:r,relative:i}=t;Ea()||Se(!1);let{future:s,static:o}=_.useContext(po),{matches:a}=_.useContext(_s),{pathname:l}=Ta(),u=Sa(),c=xm(e,bm(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return _.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function L1(t){return V$(t.context)}function qi(t){Se(!1)}function Z$(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Wt.Pop,navigator:s,static:o=!1,future:a}=t;Ea()&&Se(!1);let l=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:l,navigator:s,static:o,future:cd({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=ys(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,g=_.useMemo(()=>{let T=iu(c,l);return T==null?null:{location:{pathname:T,search:d,hash:h,state:f,key:p},navigationType:i}},[l,c,d,h,f,p,i]);return g==null?null:_.createElement(po.Provider,{value:u},_.createElement(km.Provider,{children:n,value:g}))}new Promise(()=>{});function b_(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let s=[...e,i];if(r.type===_.Fragment){n.push.apply(n,b_(r.props.children,s));return}r.type!==qi&&Se(!1),!r.props.index||!r.props.children||Se(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=b_(r.props.children,s)),n.push(o)}),n}function eF(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:_.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:_.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:_.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dd(){return dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dd.apply(this,arguments)}function tF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function nF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function rF(t,e){return t.button===0&&(!e||e==="_self")&&!nF(t)}const iF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],sF="6";try{window.__reactRouterVersion=sF}catch{}function oF(t,e){return T$({basename:e==null?void 0:e.basename,future:dd({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:H4({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||aF(),routes:t,mapRouteProperties:eF,window:e==null?void 0:e.window}).initialize()}function aF(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=dd({},e,{errors:lF(e.errors)})),e}function lF(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new M1(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const uF=_.createContext({isTransitioning:!1}),cF=_.createContext(new Map),dF="startTransition",FS=Wf[dF],hF="flushSync",VS=W4[hF];function fF(t){FS?FS(t):t()}function Vu(t){VS?VS(t):t()}let pF=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function mF(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=_.useState(n.state),[o,a]=_.useState(),[l,u]=_.useState({isTransitioning:!1}),[c,d]=_.useState(),[h,f]=_.useState(),[p,g]=_.useState(),T=_.useRef(new Map),{v7_startTransition:m}=r||{},v=_.useCallback(S=>{m?fF(S):S()},[m]),y=_.useCallback((S,b)=>{let{deletedFetchers:P,unstable_flushSync:x,unstable_viewTransitionOpts:O}=b;P.forEach(D=>T.current.delete(D)),S.fetchers.forEach((D,V)=>{D.data!==void 0&&T.current.set(V,D.data)});let L=n.window==null||typeof n.window.document.startViewTransition!="function";if(!O||L){x?Vu(()=>s(S)):v(()=>s(S));return}if(x){Vu(()=>{h&&(c&&c.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let D=n.window.document.startViewTransition(()=>{Vu(()=>s(S))});D.finished.finally(()=>{Vu(()=>{d(void 0),f(void 0),a(void 0),u({isTransitioning:!1})})}),Vu(()=>f(D));return}h?(c&&c.resolve(),h.skipTransition(),g({state:S,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(a(S),u({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[n.window,h,c,T,v]);_.useLayoutEffect(()=>n.subscribe(y),[n,y]),_.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new pF)},[l]),_.useEffect(()=>{if(c&&o&&n.window){let S=o,b=c.promise,P=n.window.document.startViewTransition(async()=>{v(()=>s(S)),await b});P.finished.finally(()=>{d(void 0),f(void 0),a(void 0),u({isTransitioning:!1})}),f(P)}},[v,o,c,n.window]),_.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,h,i.location,o]),_.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),u({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),g(void 0))},[l.isTransitioning,p]),_.useEffect(()=>{},[]);let E=_.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:S=>n.navigate(S),push:(S,b,P)=>n.navigate(S,{state:b,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(S,b,P)=>n.navigate(S,{replace:!0,state:b,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),I=n.basename||"/",w=_.useMemo(()=>({router:n,navigator:E,static:!1,basename:I}),[n,E,I]);return _.createElement(_.Fragment,null,_.createElement(Pm.Provider,{value:w},_.createElement(XP.Provider,{value:i},_.createElement(cF.Provider,{value:T.current},_.createElement(uF.Provider,{value:l},_.createElement(Z$,{basename:I,location:i.location,navigationType:i.historyAction,navigator:E,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?_.createElement(gF,{routes:n.routes,future:n.future,state:i}):e))))),null)}function gF(t){let{routes:e,future:n,state:r}=t;return U$(e,void 0,r,n)}const vF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,US=_.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,h=tF(e,iF),{basename:f}=_.useContext(po),p,g=!1;if(typeof u=="string"&&yF.test(u)&&(p=u,vF))try{let y=new URL(window.location.href),E=u.startsWith("//")?new URL(y.protocol+u):new URL(u),I=iu(E.pathname,f);E.origin===y.origin&&I!=null?u=I+E.search+E.hash:g=!0}catch{}let T=D$(u,{relative:i}),m=_F(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function v(y){r&&r(y),y.defaultPrevented||m(y)}return _.createElement("a",dd({},h,{href:p||T,onClick:g||s?r:v,ref:n,target:l}))});var jS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(jS||(jS={}));var BS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(BS||(BS={}));function _F(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Sa(),u=Ta(),c=ek(t,{relative:o});return _.useCallback(d=>{if(rF(d,n)){d.preventDefault();let h=r!==void 0?r:ra(u)===ra(c);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}const wF={black:"#000",white:"#fff"},hd=wF,Ro={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},EF={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Da=EF,TF={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},La=TF,SF={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},$a=SF,CF={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Fa=CF,IF={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Uu=IF,RF={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},bF=RF;function ro(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const Ml="$$material";function R(){return R=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R.apply(this,arguments)}function ie(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function rk(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var xF=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,PF=rk(function(t){return xF.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function kF(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function AF(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var NF=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(AF(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=kF(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Mn="-ms-",gp="-moz-",Ke="-webkit-",ik="comm",$1="rule",F1="decl",OF="@import",sk="@keyframes",MF="@layer",DF=Math.abs,Am=String.fromCharCode,LF=Object.assign;function $F(t,e){return Sn(t,0)^45?(((e<<2^Sn(t,0))<<2^Sn(t,1))<<2^Sn(t,2))<<2^Sn(t,3):0}function ok(t){return t.trim()}function FF(t,e){return(t=e.exec(t))?t[0]:t}function Ge(t,e,n){return t.replace(e,n)}function x_(t,e){return t.indexOf(e)}function Sn(t,e){return t.charCodeAt(e)|0}function fd(t,e,n){return t.slice(e,n)}function _i(t){return t.length}function V1(t){return t.length}function Xh(t,e){return e.push(t),t}function VF(t,e){return t.map(e).join("")}var Nm=1,Dl=1,ak=0,hr=0,Xt=0,su="";function Om(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Nm,column:Dl,length:o,return:""}}function ju(t,e){return LF(Om("",null,null,"",null,null,0),t,{length:-t.length},e)}function UF(){return Xt}function jF(){return Xt=hr>0?Sn(su,--hr):0,Dl--,Xt===10&&(Dl=1,Nm--),Xt}function Er(){return Xt=hr<ak?Sn(su,hr++):0,Dl++,Xt===10&&(Dl=1,Nm++),Xt}function Pi(){return Sn(su,hr)}function kf(){return hr}function Kd(t,e){return fd(su,t,e)}function pd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function lk(t){return Nm=Dl=1,ak=_i(su=t),hr=0,[]}function uk(t){return su="",t}function Af(t){return ok(Kd(hr-1,P_(t===91?t+2:t===40?t+1:t)))}function BF(t){for(;(Xt=Pi())&&Xt<33;)Er();return pd(t)>2||pd(Xt)>3?"":" "}function zF(t,e){for(;--e&&Er()&&!(Xt<48||Xt>102||Xt>57&&Xt<65||Xt>70&&Xt<97););return Kd(t,kf()+(e<6&&Pi()==32&&Er()==32))}function P_(t){for(;Er();)switch(Xt){case t:return hr;case 34:case 39:t!==34&&t!==39&&P_(Xt);break;case 40:t===41&&P_(t);break;case 92:Er();break}return hr}function WF(t,e){for(;Er()&&t+Xt!==57;)if(t+Xt===84&&Pi()===47)break;return"/*"+Kd(e,hr-1)+"*"+Am(t===47?t:Er())}function HF(t){for(;!pd(Pi());)Er();return Kd(t,hr)}function qF(t){return uk(Nf("",null,null,null,[""],t=lk(t),0,[0],t))}function Nf(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,f=0,p=0,g=1,T=1,m=1,v=0,y="",E=i,I=s,w=r,S=y;T;)switch(p=v,v=Er()){case 40:if(p!=108&&Sn(S,d-1)==58){x_(S+=Ge(Af(v),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:S+=Af(v);break;case 9:case 10:case 13:case 32:S+=BF(p);break;case 92:S+=zF(kf()-1,7);continue;case 47:switch(Pi()){case 42:case 47:Xh(KF(WF(Er(),kf()),e,n),l);break;default:S+="/"}break;case 123*g:a[u++]=_i(S)*m;case 125*g:case 59:case 0:switch(v){case 0:case 125:T=0;case 59+c:m==-1&&(S=Ge(S,/\f/g,"")),f>0&&_i(S)-d&&Xh(f>32?WS(S+";",r,n,d-1):WS(Ge(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if(Xh(w=zS(S,e,n,u,c,i,a,y,E=[],I=[],d),s),v===123)if(c===0)Nf(S,e,w,w,E,s,d,a,I);else switch(h===99&&Sn(S,3)===110?100:h){case 100:case 108:case 109:case 115:Nf(t,w,w,r&&Xh(zS(t,w,w,0,0,i,a,y,i,E=[],d),I),i,I,d,a,r?E:I);break;default:Nf(S,w,w,w,[""],I,0,a,I)}}u=c=f=0,g=m=1,y=S="",d=o;break;case 58:d=1+_i(S),f=p;default:if(g<1){if(v==123)--g;else if(v==125&&g++==0&&jF()==125)continue}switch(S+=Am(v),v*g){case 38:m=c>0?1:(S+="\f",-1);break;case 44:a[u++]=(_i(S)-1)*m,m=1;break;case 64:Pi()===45&&(S+=Af(Er())),h=Pi(),c=d=_i(y=S+=HF(kf())),v++;break;case 45:p===45&&_i(S)==2&&(g=0)}}return s}function zS(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],f=V1(h),p=0,g=0,T=0;p<r;++p)for(var m=0,v=fd(t,d+1,d=DF(g=o[p])),y=t;m<f;++m)(y=ok(g>0?h[m]+" "+v:Ge(v,/&\f/g,h[m])))&&(l[T++]=y);return Om(t,e,n,i===0?$1:a,l,u,c)}function KF(t,e,n){return Om(t,e,n,ik,Am(UF()),fd(t,2,-2),0)}function WS(t,e,n,r){return Om(t,e,n,F1,fd(t,0,r),fd(t,r+1,-1),r)}function yl(t,e){for(var n="",r=V1(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function GF(t,e,n,r){switch(t.type){case MF:if(t.children.length)break;case OF:case F1:return t.return=t.return||t.value;case ik:return"";case sk:return t.return=t.value+"{"+yl(t.children,r)+"}";case $1:t.value=t.props.join(",")}return _i(n=yl(t.children,r))?t.return=t.value+"{"+n+"}":""}function QF(t){var e=V1(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function YF(t){return function(e){e.root||(e=e.return)&&t(e)}}var XF=function(e,n,r){for(var i=0,s=0;i=s,s=Pi(),i===38&&s===12&&(n[r]=1),!pd(s);)Er();return Kd(e,hr)},JF=function(e,n){var r=-1,i=44;do switch(pd(i)){case 0:i===38&&Pi()===12&&(n[r]=1),e[r]+=XF(hr-1,n,r);break;case 2:e[r]+=Af(i);break;case 4:if(i===44){e[++r]=Pi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Am(i)}while(i=Er());return e},ZF=function(e,n){return uk(JF(lk(e),n))},HS=new WeakMap,eV=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!HS.get(r))&&!i){HS.set(e,!0);for(var s=[],o=ZF(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},tV=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function ck(t,e){switch($F(t,e)){case 5103:return Ke+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ke+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ke+t+gp+t+Mn+t+t;case 6828:case 4268:return Ke+t+Mn+t+t;case 6165:return Ke+t+Mn+"flex-"+t+t;case 5187:return Ke+t+Ge(t,/(\w+).+(:[^]+)/,Ke+"box-$1$2"+Mn+"flex-$1$2")+t;case 5443:return Ke+t+Mn+"flex-item-"+Ge(t,/flex-|-self/,"")+t;case 4675:return Ke+t+Mn+"flex-line-pack"+Ge(t,/align-content|flex-|-self/,"")+t;case 5548:return Ke+t+Mn+Ge(t,"shrink","negative")+t;case 5292:return Ke+t+Mn+Ge(t,"basis","preferred-size")+t;case 6060:return Ke+"box-"+Ge(t,"-grow","")+Ke+t+Mn+Ge(t,"grow","positive")+t;case 4554:return Ke+Ge(t,/([^-])(transform)/g,"$1"+Ke+"$2")+t;case 6187:return Ge(Ge(Ge(t,/(zoom-|grab)/,Ke+"$1"),/(image-set)/,Ke+"$1"),t,"")+t;case 5495:case 3959:return Ge(t,/(image-set\([^]*)/,Ke+"$1$`$1");case 4968:return Ge(Ge(t,/(.+:)(flex-)?(.*)/,Ke+"box-pack:$3"+Mn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ke+t+t;case 4095:case 3583:case 4068:case 2532:return Ge(t,/(.+)-inline(.+)/,Ke+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(_i(t)-1-e>6)switch(Sn(t,e+1)){case 109:if(Sn(t,e+4)!==45)break;case 102:return Ge(t,/(.+:)(.+)-([^]+)/,"$1"+Ke+"$2-$3$1"+gp+(Sn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~x_(t,"stretch")?ck(Ge(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Sn(t,e+1)!==115)break;case 6444:switch(Sn(t,_i(t)-3-(~x_(t,"!important")&&10))){case 107:return Ge(t,":",":"+Ke)+t;case 101:return Ge(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ke+(Sn(t,14)===45?"inline-":"")+"box$3$1"+Ke+"$2$3$1"+Mn+"$2box$3")+t}break;case 5936:switch(Sn(t,e+11)){case 114:return Ke+t+Mn+Ge(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ke+t+Mn+Ge(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ke+t+Mn+Ge(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ke+t+Mn+t+t}return t}var nV=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case F1:e.return=ck(e.value,e.length);break;case sk:return yl([ju(e,{value:Ge(e.value,"@","@"+Ke)})],i);case $1:if(e.length)return VF(e.props,function(s){switch(FF(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return yl([ju(e,{props:[Ge(s,/:(read-\w+)/,":"+gp+"$1")]})],i);case"::placeholder":return yl([ju(e,{props:[Ge(s,/:(plac\w+)/,":"+Ke+"input-$1")]}),ju(e,{props:[Ge(s,/:(plac\w+)/,":"+gp+"$1")]}),ju(e,{props:[Ge(s,/:(plac\w+)/,Mn+"input-$1")]})],i)}return""})}},rV=[nV],iV=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var T=g.getAttribute("data-emotion");T.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||rV,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var T=g.getAttribute("data-emotion").split(" "),m=1;m<T.length;m++)s[T[m]]=!0;a.push(g)});var l,u=[eV,tV];{var c,d=[GF,YF(function(g){c.insert(g)})],h=QF(u.concat(i,d)),f=function(T){return yl(qF(T),h)};l=function(T,m,v,y){c=v,f(T?T+"{"+m.styles+"}":m.styles),y&&(p.inserted[m.name]=!0)}}var p={key:n,sheet:new NF({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p},dk={exports:{}},et={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yn=typeof Symbol=="function"&&Symbol.for,U1=yn?Symbol.for("react.element"):60103,j1=yn?Symbol.for("react.portal"):60106,Mm=yn?Symbol.for("react.fragment"):60107,Dm=yn?Symbol.for("react.strict_mode"):60108,Lm=yn?Symbol.for("react.profiler"):60114,$m=yn?Symbol.for("react.provider"):60109,Fm=yn?Symbol.for("react.context"):60110,B1=yn?Symbol.for("react.async_mode"):60111,Vm=yn?Symbol.for("react.concurrent_mode"):60111,Um=yn?Symbol.for("react.forward_ref"):60112,jm=yn?Symbol.for("react.suspense"):60113,sV=yn?Symbol.for("react.suspense_list"):60120,Bm=yn?Symbol.for("react.memo"):60115,zm=yn?Symbol.for("react.lazy"):60116,oV=yn?Symbol.for("react.block"):60121,aV=yn?Symbol.for("react.fundamental"):60117,lV=yn?Symbol.for("react.responder"):60118,uV=yn?Symbol.for("react.scope"):60119;function xr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case U1:switch(t=t.type,t){case B1:case Vm:case Mm:case Lm:case Dm:case jm:return t;default:switch(t=t&&t.$$typeof,t){case Fm:case Um:case zm:case Bm:case $m:return t;default:return e}}case j1:return e}}}function hk(t){return xr(t)===Vm}et.AsyncMode=B1;et.ConcurrentMode=Vm;et.ContextConsumer=Fm;et.ContextProvider=$m;et.Element=U1;et.ForwardRef=Um;et.Fragment=Mm;et.Lazy=zm;et.Memo=Bm;et.Portal=j1;et.Profiler=Lm;et.StrictMode=Dm;et.Suspense=jm;et.isAsyncMode=function(t){return hk(t)||xr(t)===B1};et.isConcurrentMode=hk;et.isContextConsumer=function(t){return xr(t)===Fm};et.isContextProvider=function(t){return xr(t)===$m};et.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===U1};et.isForwardRef=function(t){return xr(t)===Um};et.isFragment=function(t){return xr(t)===Mm};et.isLazy=function(t){return xr(t)===zm};et.isMemo=function(t){return xr(t)===Bm};et.isPortal=function(t){return xr(t)===j1};et.isProfiler=function(t){return xr(t)===Lm};et.isStrictMode=function(t){return xr(t)===Dm};et.isSuspense=function(t){return xr(t)===jm};et.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Mm||t===Vm||t===Lm||t===Dm||t===jm||t===sV||typeof t=="object"&&t!==null&&(t.$$typeof===zm||t.$$typeof===Bm||t.$$typeof===$m||t.$$typeof===Fm||t.$$typeof===Um||t.$$typeof===aV||t.$$typeof===lV||t.$$typeof===uV||t.$$typeof===oV)};et.typeOf=xr;dk.exports=et;var cV=dk.exports,fk=cV,dV={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},hV={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},pk={};pk[fk.ForwardRef]=dV;pk[fk.Memo]=hV;var fV=!0;function pV(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var mk=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||fV===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},gk=function(e,n,r){mk(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function mV(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var gV={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},vV=/[A-Z]|^ms/g,yV=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vk=function(e){return e.charCodeAt(1)===45},qS=function(e){return e!=null&&typeof e!="boolean"},Hv=rk(function(t){return vk(t)?t:t.replace(vV,"-$&").toLowerCase()}),KS=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(yV,function(r,i,s){return wi={name:i,styles:s,next:wi},i})}return gV[e]!==1&&!vk(e)&&typeof n=="number"&&n!==0?n+"px":n};function md(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return wi={name:n.name,styles:n.styles,next:wi},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)wi={name:r.name,styles:r.styles,next:wi},r=r.next;var i=n.styles+";";return i}return _V(t,e,n)}case"function":{if(t!==void 0){var s=wi,o=n(t);return wi=s,md(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function _V(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=md(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":qS(o)&&(r+=Hv(s)+":"+KS(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)qS(o[a])&&(r+=Hv(s)+":"+KS(s,o[a])+";");else{var l=md(t,e,o);switch(s){case"animation":case"animationName":{r+=Hv(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var GS=/label:\s*([^\s;\n{]+)\s*(;|$)/g,wi,z1=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";wi=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=md(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=md(r,n,e[a]),i&&(s+=o[a]);GS.lastIndex=0;for(var l="",u;(u=GS.exec(s))!==null;)l+="-"+u[1];var c=mV(s)+l;return{name:c,styles:s,next:wi}},wV=function(e){return e()},yk=Wf.useInsertionEffect?Wf.useInsertionEffect:!1,EV=yk||wV,QS=yk||_.useLayoutEffect,_k=_.createContext(typeof HTMLElement<"u"?iV({key:"css"}):null);_k.Provider;var wk=function(e){return _.forwardRef(function(n,r){var i=_.useContext(_k);return e(n,i,r)})},Wm=_.createContext({}),TV=wk(function(t,e){var n=t.styles,r=z1([n],void 0,_.useContext(Wm)),i=_.useRef();return QS(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),QS(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&gk(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function ou(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return z1(e)}var mo=function(){var e=ou.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},SV=PF,CV=function(e){return e!=="theme"},YS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?SV:CV},XS=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},IV=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return mk(n,r,i),EV(function(){return gk(n,r,i)}),null},RV=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=XS(e,n,r),l=a||YS(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,f=1;f<h;f++)d.push(c[f],c[0][f])}var p=wk(function(g,T,m){var v=u&&g.as||i,y="",E=[],I=g;if(g.theme==null){I={};for(var w in g)I[w]=g[w];I.theme=_.useContext(Wm)}typeof g.className=="string"?y=pV(T.registered,E,g.className):g.className!=null&&(y=g.className+" ");var S=z1(d.concat(E),T.registered,I);y+=T.key+"-"+S.name,o!==void 0&&(y+=" "+o);var b=u&&a===void 0?YS(v):l,P={};for(var x in g)u&&x==="as"||b(x)&&(P[x]=g[x]);return P.className=y,P.ref=m,_.createElement(_.Fragment,null,_.createElement(IV,{cache:T,serialized:S,isStringTag:typeof v=="string"}),_.createElement(v,P))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=d,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(g,T){return t(g,R({},n,T,{shouldForwardProp:XS(p,T,!0)})).apply(void 0,d)},p}},bV=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],k_=RV.bind();bV.forEach(function(t){k_[t]=k_(t)});function xV(t){return t==null||Object.keys(t).length===0}function PV(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(xV(i)?n:i):e;return C.jsx(TV,{styles:r})}function Ek(t,e){return k_(t,e)}const kV=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function Yi(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Tk(t){if(!Yi(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=Tk(t[n])}),e}function ur(t,e,n={clone:!0}){const r=n.clone?R({},t):t;return Yi(t)&&Yi(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Yi(e[i])&&i in t&&Yi(t[i])?r[i]=ur(t[i],e[i],n):n.clone?r[i]=Yi(e[i])?Tk(e[i]):e[i]:r[i]=e[i])}),r}function fe(t){if(typeof t!="string")throw new Error(ro(7));return t.charAt(0).toUpperCase()+t.slice(1)}function A_(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function Hm(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function AV(t,e){return()=>null}function Of(t,e){var n,r;return _.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function ln(t){return t&&t.ownerDocument||document}function $i(t){return ln(t).defaultView||window}function NV(t,e){return()=>null}function vp(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const Fi=typeof window<"u"?_.useLayoutEffect:_.useEffect;let JS=0;function OV(t){const[e,n]=_.useState(t),r=t||e;return _.useEffect(()=>{e==null&&(JS+=1,n(`mui-${JS}`))},[e]),r}const ZS=Wf.useId;function qm(t){if(ZS!==void 0){const e=ZS();return t??e}return OV(t)}function MV(t,e,n,r,i){return null}function yp({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=_.useRef(t!==void 0),[s,o]=_.useState(e),a=i?t:s,l=_.useCallback(u=>{i||o(u)},[]);return[a,l]}function Fr(t){const e=_.useRef(t);return Fi(()=>{e.current=t}),_.useRef((...n)=>(0,e.current)(...n)).current}function en(...t){return _.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{vp(n,e)})},t)}const eC={};function DV(t,e){const n=_.useRef(eC);return n.current===eC&&(n.current=t(e)),n}const LV=[];function $V(t){_.useEffect(t,LV)}class Gd{constructor(){this.currentId=0,this.clear=()=>{this.currentId!==0&&(clearTimeout(this.currentId),this.currentId=0)},this.disposeEffect=()=>this.clear}static create(){return new Gd}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=0,n()},e)}}function $o(){const t=DV(Gd.create).current;return $V(t.disposeEffect),t}let Km=!0,N_=!1;const FV=new Gd,VV={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function UV(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&VV[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function jV(t){t.metaKey||t.altKey||t.ctrlKey||(Km=!0)}function qv(){Km=!1}function BV(){this.visibilityState==="hidden"&&N_&&(Km=!0)}function zV(t){t.addEventListener("keydown",jV,!0),t.addEventListener("mousedown",qv,!0),t.addEventListener("pointerdown",qv,!0),t.addEventListener("touchstart",qv,!0),t.addEventListener("visibilitychange",BV,!0)}function WV(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Km||UV(e)}function W1(){const t=_.useCallback(i=>{i!=null&&zV(i.ownerDocument)},[]),e=_.useRef(!1);function n(){return e.current?(N_=!0,FV.start(100,()=>{N_=!1}),e.current=!1,!0):!1}function r(i){return WV(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function Sk(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function Ck(t,e){const n=R({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=R({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=R({},s),Object.keys(i).forEach(o=>{n[r][o]=Ck(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function tt(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const tC=t=>t,HV=()=>{let t=tC;return{configure(e){t=e},generate(e){return t(e)},reset(){t=tC}}},qV=HV(),H1=qV,Ik={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function nt(t,e,n="Mui"){const r=Ik[e];return r?`${n}-${r}`:`${H1.generate(t)}-${e}`}function Xe(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=nt(t,i,n)}),r}function KV(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const GV=["values","unit","step"],QV=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>R({},n,{[r.key]:r.val}),{})};function YV(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=ie(t,GV),s=QV(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-r/100}${n})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return R({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const XV={borderRadius:4},JV=XV;function xc(t,e){return e?ur(t,e,{clone:!1}):t}const q1={xs:0,sm:600,md:900,lg:1200,xl:1536},nC={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${q1[t]}px)`};function ds(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||nC;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||nC;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||q1).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function ZV(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function e5(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Gm(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function _p(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Gm(t,n)||r,e&&(i=e(i,r,t)),i}function qt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=Gm(l,r)||{};return ds(o,a,d=>{let h=_p(u,i,d);return d===h&&typeof d=="string"&&(h=_p(u,i,`${e}${d==="default"?"":fe(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function t5(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const n5={m:"margin",p:"padding"},r5={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},rC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},i5=t5(t=>{if(t.length>2)if(rC[t])t=rC[t];else return[t];const[e,n]=t.split(""),r=n5[e],i=r5[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),K1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],G1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...K1,...G1];function Qd(t,e,n,r){var i;const s=(i=Gm(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function Rk(t){return Qd(t,"spacing",8)}function Yd(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function s5(t,e){return n=>t.reduce((r,i)=>(r[i]=Yd(e,n),r),{})}function o5(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=i5(n),s=s5(i,r),o=t[n];return ds(t,o,s)}function bk(t,e){const n=Rk(t.theme);return Object.keys(t).map(r=>o5(t,e,r,n)).reduce(xc,{})}function $t(t){return bk(t,K1)}$t.propTypes={};$t.filterProps=K1;function Ft(t){return bk(t,G1)}Ft.propTypes={};Ft.filterProps=G1;function a5(t=8){if(t.mui)return t;const e=Rk({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Qm(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?xc(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Mr(t){return typeof t!="number"?t:`${t}px solid`}function Qr(t,e){return qt({prop:t,themeKey:"borders",transform:e})}const l5=Qr("border",Mr),u5=Qr("borderTop",Mr),c5=Qr("borderRight",Mr),d5=Qr("borderBottom",Mr),h5=Qr("borderLeft",Mr),f5=Qr("borderColor"),p5=Qr("borderTopColor"),m5=Qr("borderRightColor"),g5=Qr("borderBottomColor"),v5=Qr("borderLeftColor"),y5=Qr("outline",Mr),_5=Qr("outlineColor"),Ym=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Qd(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Yd(e,r)});return ds(t,t.borderRadius,n)}return null};Ym.propTypes={};Ym.filterProps=["borderRadius"];Qm(l5,u5,c5,d5,h5,f5,p5,m5,g5,v5,Ym,y5,_5);const Xm=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Qd(t.theme,"spacing",8),n=r=>({gap:Yd(e,r)});return ds(t,t.gap,n)}return null};Xm.propTypes={};Xm.filterProps=["gap"];const Jm=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Qd(t.theme,"spacing",8),n=r=>({columnGap:Yd(e,r)});return ds(t,t.columnGap,n)}return null};Jm.propTypes={};Jm.filterProps=["columnGap"];const Zm=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Qd(t.theme,"spacing",8),n=r=>({rowGap:Yd(e,r)});return ds(t,t.rowGap,n)}return null};Zm.propTypes={};Zm.filterProps=["rowGap"];const w5=qt({prop:"gridColumn"}),E5=qt({prop:"gridRow"}),T5=qt({prop:"gridAutoFlow"}),S5=qt({prop:"gridAutoColumns"}),C5=qt({prop:"gridAutoRows"}),I5=qt({prop:"gridTemplateColumns"}),R5=qt({prop:"gridTemplateRows"}),b5=qt({prop:"gridTemplateAreas"}),x5=qt({prop:"gridArea"});Qm(Xm,Jm,Zm,w5,E5,T5,S5,C5,I5,R5,b5,x5);function _l(t,e){return e==="grey"?e:t}const P5=qt({prop:"color",themeKey:"palette",transform:_l}),k5=qt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:_l}),A5=qt({prop:"backgroundColor",themeKey:"palette",transform:_l});Qm(P5,k5,A5);function gr(t){return t<=1&&t!==0?`${t*100}%`:t}const N5=qt({prop:"width",transform:gr}),Q1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||q1[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:gr(n)}};return ds(t,t.maxWidth,e)}return null};Q1.filterProps=["maxWidth"];const O5=qt({prop:"minWidth",transform:gr}),M5=qt({prop:"height",transform:gr}),D5=qt({prop:"maxHeight",transform:gr}),L5=qt({prop:"minHeight",transform:gr});qt({prop:"size",cssProperty:"width",transform:gr});qt({prop:"size",cssProperty:"height",transform:gr});const $5=qt({prop:"boxSizing"});Qm(N5,Q1,O5,M5,D5,L5,$5);const F5={border:{themeKey:"borders",transform:Mr},borderTop:{themeKey:"borders",transform:Mr},borderRight:{themeKey:"borders",transform:Mr},borderBottom:{themeKey:"borders",transform:Mr},borderLeft:{themeKey:"borders",transform:Mr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Mr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ym},color:{themeKey:"palette",transform:_l},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:_l},backgroundColor:{themeKey:"palette",transform:_l},p:{style:Ft},pt:{style:Ft},pr:{style:Ft},pb:{style:Ft},pl:{style:Ft},px:{style:Ft},py:{style:Ft},padding:{style:Ft},paddingTop:{style:Ft},paddingRight:{style:Ft},paddingBottom:{style:Ft},paddingLeft:{style:Ft},paddingX:{style:Ft},paddingY:{style:Ft},paddingInline:{style:Ft},paddingInlineStart:{style:Ft},paddingInlineEnd:{style:Ft},paddingBlock:{style:Ft},paddingBlockStart:{style:Ft},paddingBlockEnd:{style:Ft},m:{style:$t},mt:{style:$t},mr:{style:$t},mb:{style:$t},ml:{style:$t},mx:{style:$t},my:{style:$t},margin:{style:$t},marginTop:{style:$t},marginRight:{style:$t},marginBottom:{style:$t},marginLeft:{style:$t},marginX:{style:$t},marginY:{style:$t},marginInline:{style:$t},marginInlineStart:{style:$t},marginInlineEnd:{style:$t},marginBlock:{style:$t},marginBlockStart:{style:$t},marginBlockEnd:{style:$t},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Xm},rowGap:{style:Zm},columnGap:{style:Jm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:gr},maxWidth:{style:Q1},minWidth:{transform:gr},height:{transform:gr},maxHeight:{transform:gr},minHeight:{transform:gr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},eg=F5;function V5(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function U5(t,e){return typeof t=="function"?t(e):t}function j5(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=Gm(i,u)||{};return d?d(o):ds(o,r,p=>{let g=_p(h,c,p);return p===g&&typeof p=="string"&&(g=_p(h,c,`${n}${p==="default"?"":fe(p)}`,p)),l===!1?g:{[l]:g}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:eg;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=ZV(s.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(f=>{const p=U5(u[f],s);if(p!=null)if(typeof p=="object")if(o[f])h=xc(h,t(f,p,s,o));else{const g=ds({theme:s},p,T=>({[f]:T}));V5(g,p)?h[f]=e({sx:p,theme:s}):h=xc(h,g)}else h=xc(h,t(f,p,s,o))}),e5(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const Xd=j5();Xd.filterProps=["sx"];function B5(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const z5=["breakpoints","palette","spacing","shape"];function Y1(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=ie(t,z5),a=YV(n),l=a5(i);let u=ur({breakpoints:a,direction:"ltr",components:{},palette:R({mode:"light"},r),spacing:l,shape:R({},JV,s)},o);return u.applyStyles=B5,u=e.reduce((c,d)=>ur(c,d),u),u.unstable_sxConfig=R({},eg,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return Xd({sx:d,theme:this})},u}function W5(t){return Object.keys(t).length===0}function X1(t=null){const e=_.useContext(Wm);return!e||W5(e)?t:e}const H5=Y1();function tg(t=H5){return X1(t)}function q5({styles:t,themeId:e,defaultTheme:n={}}){const r=tg(n),i=typeof t=="function"?t(e&&r[e]||r):t;return C.jsx(PV,{styles:i})}const K5=["sx"],G5=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:eg;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function Q5(t){const{sx:e}=t,n=ie(t,K5),{systemProps:r,otherProps:i}=G5(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Yi(a)?R({},r,a):r}:s=R({},r,e),R({},i,{sx:s})}function xk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=xk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Te(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=xk(t))&&(r&&(r+=" "),r+=e);return r}const Y5=["className","component"];function X5(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=Ek("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Xd);return _.forwardRef(function(l,u){const c=tg(n),d=Q5(l),{className:h,component:f="div"}=d,p=ie(d,Y5);return C.jsx(s,R({as:f,ref:u,className:Te(h,i?i(r):r),theme:e&&c[e]||c},p))})}const J5=Xe("MuiBox",["root"]),Z5=J5,eU=X5({defaultClassName:Z5.root,generateClassName:H1.generate}),Pk=eU,tU=["variant"];function iC(t){return t.length===0}function kk(t){const{variant:e}=t,n=ie(t,tU);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=iC(r)?t[i]:fe(t[i]):r+=`${iC(r)?i:fe(i)}${fe(t[i].toString())}`}),r}const nU=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function rU(t){return Object.keys(t).length===0}function iU(t){return typeof t=="string"&&t.charCodeAt(0)>96}const sU=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,wp=t=>{let e=0;const n={};return t&&t.forEach(r=>{let i="";typeof r.props=="function"?(i=`callback${e}`,e+=1):i=kk(r.props),n[i]=r.style}),n},oU=(t,e)=>{let n=[];return e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants),wp(n)},Ep=(t,e,n)=>{const{ownerState:r={}}=t,i=[];let s=0;return n&&n.forEach(o=>{let a=!0;if(typeof o.props=="function"){const l=R({},t,r);a=o.props(l)}else Object.keys(o.props).forEach(l=>{r[l]!==o.props[l]&&t[l]!==o.props[l]&&(a=!1)});a&&(typeof o.props=="function"?i.push(e[`callback${s}`]):i.push(e[kk(o.props)])),typeof o.props=="function"&&(s+=1)}),i},aU=(t,e,n,r)=>{var i;const s=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return Ep(t,e,s)};function Pc(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const lU=Y1(),uU=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Mf({defaultTheme:t,theme:e,themeId:n}){return rU(e)?t:e[n]||e}function cU(t){return t?(e,n)=>n[t]:null}const sC=({styledArg:t,props:e,defaultTheme:n,themeId:r})=>{const i=t(R({},e,{theme:Mf(R({},e,{defaultTheme:n,themeId:r}))}));let s;if(i&&i.variants&&(s=i.variants,delete i.variants),s){const o=Ep(e,wp(s),s);return[i,...o]}return i};function dU(t={}){const{themeId:e,defaultTheme:n=lU,rootShouldForwardProp:r=Pc,slotShouldForwardProp:i=Pc}=t,s=o=>Xd(R({},o,{theme:Mf(R({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{kV(o,E=>E.filter(I=>!(I!=null&&I.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h=cU(uU(u))}=a,f=ie(a,nU),p=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,g=d||!1;let T,m=Pc;u==="Root"||u==="root"?m=r:u?m=i:iU(o)&&(m=void 0);const v=Ek(o,R({shouldForwardProp:m,label:T},f)),y=(E,...I)=>{const w=I?I.map(x=>{if(typeof x=="function"&&x.__emotion_real!==x)return O=>sC({styledArg:x,props:O,defaultTheme:n,themeId:e});if(Yi(x)){let O=x,L;return x&&x.variants&&(L=x.variants,delete O.variants,O=D=>{let V=x;return Ep(D,wp(L),L).forEach(B=>{V=ur(V,B)}),V}),O}return x}):[];let S=E;if(Yi(E)){let x;E&&E.variants&&(x=E.variants,delete S.variants,S=O=>{let L=E;return Ep(O,wp(x),x).forEach(V=>{L=ur(L,V)}),L})}else typeof E=="function"&&E.__emotion_real!==E&&(S=x=>sC({styledArg:E,props:x,defaultTheme:n,themeId:e}));l&&h&&w.push(x=>{const O=Mf(R({},x,{defaultTheme:n,themeId:e})),L=sU(l,O);if(L){const D={};return Object.entries(L).forEach(([V,z])=>{D[V]=typeof z=="function"?z(R({},x,{theme:O})):z}),h(x,D)}return null}),l&&!p&&w.push(x=>{const O=Mf(R({},x,{defaultTheme:n,themeId:e}));return aU(x,oU(l,O),O,l)}),g||w.push(s);const b=w.length-I.length;if(Array.isArray(E)&&b>0){const x=new Array(b).fill("");S=[...E,...x],S.raw=[...E.raw,...x]}const P=v(S,...w);return o.muiName&&(P.muiName=o.muiName),P};return v.withConfig&&(y.withConfig=v.withConfig),y}}function hU(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Ck(e.components[n].defaultProps,r)}function fU({props:t,name:e,defaultTheme:n,themeId:r}){let i=tg(n);return r&&(i=i[r]||i),hU({theme:i,name:e,props:t})}function J1(t,e=0,n=1){return KV(t,e,n)}function pU(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ia(t){if(t.type)return t;if(t.charAt(0)==="#")return ia(pU(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(ro(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(ro(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function ng(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function mU(t){t=ia(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),ng({type:a,values:l})}function O_(t){t=ia(t);let e=t.type==="hsl"||t.type==="hsla"?ia(mU(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function gU(t,e){const n=O_(t),r=O_(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function sa(t,e){return t=ia(t),e=J1(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,ng(t)}function gd(t,e){if(t=ia(t),e=J1(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return ng(t)}function vd(t,e){if(t=ia(t),e=J1(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return ng(t)}function vU(t,e=.15){return O_(t)>.5?gd(t,e):vd(t,e)}const yU=_.createContext(null),Ak=yU;function Nk(){return _.useContext(Ak)}const _U=typeof Symbol=="function"&&Symbol.for,wU=_U?Symbol.for("mui.nested"):"__THEME_NESTED__";function EU(t,e){return typeof e=="function"?e(t):R({},t,e)}function TU(t){const{children:e,theme:n}=t,r=Nk(),i=_.useMemo(()=>{const s=r===null?n:EU(r,n);return s!=null&&(s[wU]=r!==null),s},[n,r]);return C.jsx(Ak.Provider,{value:i,children:e})}const oC={};function aC(t,e,n,r=!1){return _.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const s=n(i),o=t?R({},e,{[t]:s}):s;return r?()=>o:o}return t?R({},e,{[t]:n}):R({},e,n)},[t,e,n,r])}function SU(t){const{children:e,theme:n,themeId:r}=t,i=X1(oC),s=Nk()||oC,o=aC(r,i,n),a=aC(r,s,n,!0);return C.jsx(TU,{theme:a,children:C.jsx(Wm.Provider,{value:o,children:e})})}function CU(t,e){return R({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const IU=["mode","contrastThreshold","tonalOffset"],lC={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:hd.white,default:hd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Kv={text:{primary:hd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:hd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function uC(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=vd(t.main,i):e==="dark"&&(t.dark=gd(t.main,s)))}function RU(t="light"){return t==="dark"?{main:La[200],light:La[50],dark:La[400]}:{main:La[700],light:La[400],dark:La[800]}}function bU(t="light"){return t==="dark"?{main:Da[200],light:Da[50],dark:Da[400]}:{main:Da[500],light:Da[300],dark:Da[700]}}function xU(t="light"){return t==="dark"?{main:Ro[500],light:Ro[300],dark:Ro[700]}:{main:Ro[700],light:Ro[400],dark:Ro[800]}}function PU(t="light"){return t==="dark"?{main:$a[400],light:$a[300],dark:$a[700]}:{main:$a[700],light:$a[500],dark:$a[900]}}function kU(t="light"){return t==="dark"?{main:Fa[400],light:Fa[300],dark:Fa[700]}:{main:Fa[800],light:Fa[500],dark:Fa[900]}}function AU(t="light"){return t==="dark"?{main:Uu[400],light:Uu[300],dark:Uu[700]}:{main:"#ed6c02",light:Uu[500],dark:Uu[900]}}function NU(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=ie(t,IU),s=t.primary||RU(e),o=t.secondary||bU(e),a=t.error||xU(e),l=t.info||PU(e),u=t.success||kU(e),c=t.warning||AU(e);function d(g){return gU(g,Kv.text.primary)>=n?Kv.text.primary:lC.text.primary}const h=({color:g,name:T,mainShade:m=500,lightShade:v=300,darkShade:y=700})=>{if(g=R({},g),!g.main&&g[m]&&(g.main=g[m]),!g.hasOwnProperty("main"))throw new Error(ro(11,T?` (${T})`:"",m));if(typeof g.main!="string")throw new Error(ro(12,T?` (${T})`:"",JSON.stringify(g.main)));return uC(g,"light",v,r),uC(g,"dark",y,r),g.contrastText||(g.contrastText=d(g.main)),g},f={dark:Kv,light:lC};return ur(R({common:R({},hd),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:bF,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},f[e]),i)}const OU=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function MU(t){return Math.round(t*1e5)/1e5}const cC={textTransform:"uppercase"},dC='"Roboto", "Helvetica", "Arial", sans-serif';function DU(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=dC,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=ie(n,OU),f=i/14,p=d||(m=>`${m/u*f}rem`),g=(m,v,y,E,I)=>R({fontFamily:r,fontWeight:m,fontSize:p(v),lineHeight:y},r===dC?{letterSpacing:`${MU(E/v)}em`}:{},I,c),T={h1:g(s,96,1.167,-1.5),h2:g(s,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(a,14,1.75,.4,cC),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,cC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ur(R({htmlFontSize:u,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},T),h,{clone:!1})}const LU=.2,$U=.14,FU=.12;function It(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${LU})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${$U})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${FU})`].join(",")}const VU=["none",It(0,2,1,-1,0,1,1,0,0,1,3,0),It(0,3,1,-2,0,2,2,0,0,1,5,0),It(0,3,3,-2,0,3,4,0,0,1,8,0),It(0,2,4,-1,0,4,5,0,0,1,10,0),It(0,3,5,-1,0,5,8,0,0,1,14,0),It(0,3,5,-1,0,6,10,0,0,1,18,0),It(0,4,5,-2,0,7,10,1,0,2,16,1),It(0,5,5,-3,0,8,10,1,0,3,14,2),It(0,5,6,-3,0,9,12,1,0,3,16,2),It(0,6,6,-3,0,10,14,1,0,4,18,3),It(0,6,7,-4,0,11,15,1,0,4,20,3),It(0,7,8,-4,0,12,17,2,0,5,22,4),It(0,7,8,-4,0,13,19,2,0,5,24,4),It(0,7,9,-4,0,14,21,2,0,5,26,4),It(0,8,9,-5,0,15,22,2,0,6,28,5),It(0,8,10,-5,0,16,24,2,0,6,30,5),It(0,8,11,-5,0,17,26,2,0,6,32,5),It(0,9,11,-5,0,18,28,2,0,7,34,6),It(0,9,12,-6,0,19,29,2,0,7,36,6),It(0,10,13,-6,0,20,31,3,0,8,38,7),It(0,10,13,-6,0,21,33,3,0,8,40,7),It(0,10,14,-6,0,22,35,3,0,8,42,7),It(0,11,14,-7,0,23,36,3,0,9,44,8),It(0,11,15,-7,0,24,38,3,0,9,46,8)],UU=["duration","easing","delay"],jU={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},BU={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function hC(t){return`${Math.round(t)}ms`}function zU(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function WU(t){const e=R({},jU,t.easing),n=R({},BU,t.duration);return R({getAutoHeightDuration:zU,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return ie(s,UU),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:hC(o)} ${a} ${typeof l=="string"?l:hC(l)}`).join(",")}},t,{easing:e,duration:n})}const HU={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},qU=HU,KU=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Ok(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=ie(t,KU);if(t.vars)throw new Error(ro(18));const a=NU(r),l=Y1(t);let u=ur(l,{mixins:CU(l.breakpoints,n),palette:a,shadows:VU.slice(),typography:DU(a,s),transitions:WU(i),zIndex:R({},qU)});return u=ur(u,o),u=e.reduce((c,d)=>ur(c,d),u),u.unstable_sxConfig=R({},eg,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return Xd({sx:d,theme:this})},u}const GU=Ok(),rg=GU;function Ca(){const t=tg(rg);return t[Ml]||t}function rt({props:t,name:e}){return fU({props:t,name:e,defaultTheme:rg,themeId:Ml})}const Bi=t=>Pc(t)&&t!=="classes",QU=Pc,ee=dU({themeId:Ml,defaultTheme:rg,rootShouldForwardProp:Bi}),YU=["theme"];function XU(t){let{theme:e}=t,n=ie(t,YU);const r=e[Ml];return C.jsx(SU,R({},n,{themeId:r?Ml:void 0,theme:r||e}))}const JU=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},fC=JU;function ZU(t){return nt("MuiSvgIcon",t)}Xe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const e3=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],t3=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${fe(e)}`,`fontSize${fe(n)}`]};return tt(i,ZU,r)},n3=ee("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${fe(n.color)}`],e[`fontSize${fe(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,c,d,h,f,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(f=(t.vars||t).palette)==null||(f=f.action)==null?void 0:f.active,disabled:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.disabled,inherit:void 0}[e.color]}}),M_=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,f=ie(r,e3),p=_.isValidElement(i)&&i.type==="svg",g=R({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:p}),T={};c||(T.viewBox=h);const m=t3(g);return C.jsxs(n3,R({as:a,className:Te(m.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},T,f,p&&i.props,{ownerState:g,children:[p?i.props.children:i,d?C.jsx("title",{children:d}):null]}))});M_.muiName="SvgIcon";function go(t,e){function n(r,i){return C.jsx(M_,R({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=M_.muiName,_.memo(_.forwardRef(n))}const r3={configure:t=>{H1.configure(t)}},i3=Object.freeze(Object.defineProperty({__proto__:null,capitalize:fe,createChainedFunction:A_,createSvgIcon:go,debounce:Hm,deprecatedPropType:AV,isMuiElement:Of,ownerDocument:ln,ownerWindow:$i,requirePropFactory:NV,setRef:vp,unstable_ClassNameGenerator:r3,unstable_useEnhancedEffect:Fi,unstable_useId:qm,unsupportedProp:MV,useControlled:yp,useEventCallback:Fr,useForkRef:en,useIsFocusVisible:W1},Symbol.toStringTag,{value:"Module"}));var st={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1=Symbol.for("react.element"),ew=Symbol.for("react.portal"),ig=Symbol.for("react.fragment"),sg=Symbol.for("react.strict_mode"),og=Symbol.for("react.profiler"),ag=Symbol.for("react.provider"),lg=Symbol.for("react.context"),s3=Symbol.for("react.server_context"),ug=Symbol.for("react.forward_ref"),cg=Symbol.for("react.suspense"),dg=Symbol.for("react.suspense_list"),hg=Symbol.for("react.memo"),fg=Symbol.for("react.lazy"),o3=Symbol.for("react.offscreen"),Mk;Mk=Symbol.for("react.module.reference");function Yr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Z1:switch(t=t.type,t){case ig:case og:case sg:case cg:case dg:return t;default:switch(t=t&&t.$$typeof,t){case s3:case lg:case ug:case fg:case hg:case ag:return t;default:return e}}case ew:return e}}}st.ContextConsumer=lg;st.ContextProvider=ag;st.Element=Z1;st.ForwardRef=ug;st.Fragment=ig;st.Lazy=fg;st.Memo=hg;st.Portal=ew;st.Profiler=og;st.StrictMode=sg;st.Suspense=cg;st.SuspenseList=dg;st.isAsyncMode=function(){return!1};st.isConcurrentMode=function(){return!1};st.isContextConsumer=function(t){return Yr(t)===lg};st.isContextProvider=function(t){return Yr(t)===ag};st.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Z1};st.isForwardRef=function(t){return Yr(t)===ug};st.isFragment=function(t){return Yr(t)===ig};st.isLazy=function(t){return Yr(t)===fg};st.isMemo=function(t){return Yr(t)===hg};st.isPortal=function(t){return Yr(t)===ew};st.isProfiler=function(t){return Yr(t)===og};st.isStrictMode=function(t){return Yr(t)===sg};st.isSuspense=function(t){return Yr(t)===cg};st.isSuspenseList=function(t){return Yr(t)===dg};st.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ig||t===og||t===sg||t===cg||t===dg||t===o3||typeof t=="object"&&t!==null&&(t.$$typeof===fg||t.$$typeof===hg||t.$$typeof===ag||t.$$typeof===lg||t.$$typeof===ug||t.$$typeof===Mk||t.getModuleId!==void 0)};st.typeOf=Yr;function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D_(t,e)}function Dk(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,D_(t,e)}const pC={disabled:!1},Tp=mn.createContext(null);var a3=function(e){return e.scrollTop},lc="unmounted",bo="exited",xo="entering",za="entered",L_="exiting",ws=function(t){Dk(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=bo,s.appearStatus=xo):l=za:r.unmountOnExit||r.mountOnEnter?l=lc:l=bo,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===lc?{status:bo}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==xo&&o!==za&&(s=xo):(o===xo||o===za)&&(s=L_)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===xo){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:ac.findDOMNode(this);o&&a3(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===bo&&this.setState({status:lc})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[ac.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||pC.disabled){this.safeSetState({status:za},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:xo},function(){s.props.onEntering(u,c),s.onTransitionEnd(h,function(){s.safeSetState({status:za},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:ac.findDOMNode(this);if(!s||pC.disabled){this.safeSetState({status:bo},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:L_},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:bo},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:ac.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===lc)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=ie(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return mn.createElement(Tp.Provider,{value:null},typeof o=="function"?o(i,a):mn.cloneElement(mn.Children.only(o),a))},e}(mn.Component);ws.contextType=Tp;ws.propTypes={};function Va(){}ws.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Va,onEntering:Va,onEntered:Va,onExit:Va,onExiting:Va,onExited:Va};ws.UNMOUNTED=lc;ws.EXITED=bo;ws.ENTERING=xo;ws.ENTERED=za;ws.EXITING=L_;const tw=ws;function l3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nw(t,e){var n=function(s){return e&&_.isValidElement(s)?e(s):s},r=Object.create(null);return t&&_.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function u3(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Fo(t,e,n){return n[e]!=null?n[e]:t.props[e]}function c3(t,e){return nw(t.children,function(n){return _.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Fo(n,"appear",t),enter:Fo(n,"enter",t),exit:Fo(n,"exit",t)})})}function d3(t,e,n){var r=nw(t.children),i=u3(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(_.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=_.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=_.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Fo(o,"exit",t),enter:Fo(o,"enter",t)}):!l&&a&&!c?i[s]=_.cloneElement(o,{in:!1}):l&&a&&_.isValidElement(u)&&(i[s]=_.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:Fo(o,"exit",t),enter:Fo(o,"enter",t)}))}}),i}var h3=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},f3={component:"div",childFactory:function(e){return e}},rw=function(t){Dk(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(l3(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?c3(i,a):d3(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=nw(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=R({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=ie(i,["component","childFactory"]),l=this.state.contextValue,u=h3(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?mn.createElement(Tp.Provider,{value:l},u):mn.createElement(Tp.Provider,{value:l},mn.createElement(s,a,u))},e}(mn.Component);rw.propTypes={};rw.defaultProps=f3;const p3=rw,iw=t=>t.scrollTop;function Ll(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function m3(t){return nt("MuiPaper",t)}Xe("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const g3=["className","component","elevation","square","variant"],v3=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return tt(s,m3,i)},y3=ee("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return R({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&R({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${sa("#fff",fC(e.elevation))}, ${sa("#fff",fC(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),_3=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=ie(r,g3),c=R({},r,{component:s,elevation:o,square:a,variant:l}),d=v3(c);return C.jsx(y3,R({as:s,ownerState:c,className:Te(d.root,i),ref:n},u))}),sw=_3;function Sp(t){return typeof t=="string"}function uc(t,e,n){return t===void 0||Sp(t)?e:R({},e,{ownerState:R({},e.ownerState,n)})}const w3={disableDefaultClasses:!1},E3=_.createContext(w3);function T3(t){const{disableDefaultClasses:e}=_.useContext(E3);return n=>e?"":t(n)}function Cp(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function S3(t,e,n){return typeof t=="function"?t(e,n):t}function mC(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function C3(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const f=Te(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),p=R({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),g=R({},n,i,r);return f.length>0&&(g.className=f),Object.keys(p).length>0&&(g.style=p),{props:g,internalRef:void 0}}const o=Cp(R({},i,r)),a=mC(r),l=mC(i),u=e(o),c=Te(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=R({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=R({},u,n,l,a);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}const I3=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function io(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=ie(t,I3),a=s?{}:S3(r,i),{props:l,internalRef:u}=C3(R({},o,{externalSlotProps:a})),c=en(u,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return uc(n,R({},l,{ref:c}),i)}function R3(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,d]=_.useState(!1),h=Te(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},p=Te(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),_.useEffect(()=>{if(!a&&l!=null){const g=setTimeout(l,u);return()=>{clearTimeout(g)}}},[l,a,u]),C.jsx("span",{className:h,style:f,children:C.jsx("span",{className:p})})}const Ar=Xe("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),b3=["center","classes","className"];let pg=t=>t,gC,vC,yC,_C;const $_=550,x3=80,P3=mo(gC||(gC=pg`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),k3=mo(vC||(vC=pg`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),A3=mo(yC||(yC=pg`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),N3=ee("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),O3=ee(R3,{name:"MuiTouchRipple",slot:"Ripple"})(_C||(_C=pg`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ar.rippleVisible,P3,$_,({theme:t})=>t.transitions.easing.easeInOut,Ar.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Ar.child,Ar.childLeaving,k3,$_,({theme:t})=>t.transitions.easing.easeInOut,Ar.childPulsate,A3,({theme:t})=>t.transitions.easing.easeInOut),M3=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=ie(r,b3),[l,u]=_.useState([]),c=_.useRef(0),d=_.useRef(null);_.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=_.useRef(!1),f=$o(),p=_.useRef(null),g=_.useRef(null),T=_.useCallback(E=>{const{pulsate:I,rippleX:w,rippleY:S,rippleSize:b,cb:P}=E;u(x=>[...x,C.jsx(O3,{classes:{ripple:Te(s.ripple,Ar.ripple),rippleVisible:Te(s.rippleVisible,Ar.rippleVisible),ripplePulsate:Te(s.ripplePulsate,Ar.ripplePulsate),child:Te(s.child,Ar.child),childLeaving:Te(s.childLeaving,Ar.childLeaving),childPulsate:Te(s.childPulsate,Ar.childPulsate)},timeout:$_,pulsate:I,rippleX:w,rippleY:S,rippleSize:b},c.current)]),c.current+=1,d.current=P},[s]),m=_.useCallback((E={},I={},w=()=>{})=>{const{pulsate:S=!1,center:b=i||I.pulsate,fakeElement:P=!1}=I;if((E==null?void 0:E.type)==="mousedown"&&h.current){h.current=!1;return}(E==null?void 0:E.type)==="touchstart"&&(h.current=!0);const x=P?null:g.current,O=x?x.getBoundingClientRect():{width:0,height:0,left:0,top:0};let L,D,V;if(b||E===void 0||E.clientX===0&&E.clientY===0||!E.clientX&&!E.touches)L=Math.round(O.width/2),D=Math.round(O.height/2);else{const{clientX:z,clientY:B}=E.touches&&E.touches.length>0?E.touches[0]:E;L=Math.round(z-O.left),D=Math.round(B-O.top)}if(b)V=Math.sqrt((2*O.width**2+O.height**2)/3),V%2===0&&(V+=1);else{const z=Math.max(Math.abs((x?x.clientWidth:0)-L),L)*2+2,B=Math.max(Math.abs((x?x.clientHeight:0)-D),D)*2+2;V=Math.sqrt(z**2+B**2)}E!=null&&E.touches?p.current===null&&(p.current=()=>{T({pulsate:S,rippleX:L,rippleY:D,rippleSize:V,cb:w})},f.start(x3,()=>{p.current&&(p.current(),p.current=null)})):T({pulsate:S,rippleX:L,rippleY:D,rippleSize:V,cb:w})},[i,T,f]),v=_.useCallback(()=>{m({},{pulsate:!0})},[m]),y=_.useCallback((E,I)=>{if(f.clear(),(E==null?void 0:E.type)==="touchend"&&p.current){p.current(),p.current=null,f.start(0,()=>{y(E,I)});return}p.current=null,u(w=>w.length>0?w.slice(1):w),d.current=I},[f]);return _.useImperativeHandle(n,()=>({pulsate:v,start:m,stop:y}),[v,m,y]),C.jsx(N3,R({className:Te(Ar.root,s.root,o),ref:g},a,{children:C.jsx(p3,{component:null,exit:!0,children:l})}))}),D3=M3;function L3(t){return nt("MuiButtonBase",t)}const $3=Xe("MuiButtonBase",["root","disabled","focusVisible"]),F3=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],V3=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=tt({root:["root",e&&"disabled",n&&"focusVisible"]},L3,i);return n&&r&&(o.root+=` ${r}`),o},U3=ee("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${$3.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),j3=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:p,onClick:g,onContextMenu:T,onDragLeave:m,onFocus:v,onFocusVisible:y,onKeyDown:E,onKeyUp:I,onMouseDown:w,onMouseLeave:S,onMouseUp:b,onTouchEnd:P,onTouchMove:x,onTouchStart:O,tabIndex:L=0,TouchRippleProps:D,touchRippleRef:V,type:z}=r,B=ie(r,F3),j=_.useRef(null),A=_.useRef(null),$=en(A,V),{isFocusVisibleRef:H,onFocus:te,onBlur:Y,ref:ce}=W1(),[Z,de]=_.useState(!1);u&&Z&&de(!1),_.useImperativeHandle(i,()=>({focusVisible:()=>{de(!0),j.current.focus()}}),[]);const[ue,Fe]=_.useState(!1);_.useEffect(()=>{Fe(!0)},[]);const Be=ue&&!c&&!u;_.useEffect(()=>{Z&&h&&!c&&ue&&A.current.pulsate()},[c,h,Z,ue]);function De(re,Lt,Pr=d){return Fr(Zn=>(Lt&&Lt(Zn),!Pr&&A.current&&A.current[re](Zn),!0))}const bt=De("start",w),ae=De("stop",T),ze=De("stop",m),ye=De("stop",b),Le=De("stop",re=>{Z&&re.preventDefault(),S&&S(re)}),Ee=De("start",O),wn=De("stop",P),rn=De("stop",x),Dt=De("stop",re=>{Y(re),H.current===!1&&de(!1),p&&p(re)},!1),un=Fr(re=>{j.current||(j.current=re.currentTarget),te(re),H.current===!0&&(de(!0),y&&y(re)),v&&v(re)}),lt=()=>{const re=j.current;return l&&l!=="button"&&!(re.tagName==="A"&&re.href)},Ae=_.useRef(!1),Kt=Fr(re=>{h&&!Ae.current&&Z&&A.current&&re.key===" "&&(Ae.current=!0,A.current.stop(re,()=>{A.current.start(re)})),re.target===re.currentTarget&&lt()&&re.key===" "&&re.preventDefault(),E&&E(re),re.target===re.currentTarget&&lt()&&re.key==="Enter"&&!u&&(re.preventDefault(),g&&g(re))}),ht=Fr(re=>{h&&re.key===" "&&A.current&&Z&&!re.defaultPrevented&&(Ae.current=!1,A.current.stop(re,()=>{A.current.pulsate(re)})),I&&I(re),g&&re.target===re.currentTarget&&lt()&&re.key===" "&&!re.defaultPrevented&&g(re)});let be=l;be==="button"&&(B.href||B.to)&&(be=f);const xt={};be==="button"?(xt.type=z===void 0?"button":z,xt.disabled=u):(!B.href&&!B.to&&(xt.role="button"),u&&(xt["aria-disabled"]=u));const sn=en(n,ce,j),Gt=R({},r,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:L,focusVisible:Z}),We=V3(Gt);return C.jsxs(U3,R({as:be,className:Te(We.root,a),ownerState:Gt,onBlur:Dt,onClick:g,onContextMenu:ae,onFocus:un,onKeyDown:Kt,onKeyUp:ht,onMouseDown:bt,onMouseLeave:Le,onMouseUp:ye,onDragLeave:ze,onTouchEnd:wn,onTouchMove:rn,onTouchStart:Ee,ref:sn,tabIndex:u?-1:L,type:z},xt,B,{children:[o,Be?C.jsx(D3,R({ref:$,center:s},D)):null]}))}),B3=j3;function z3(t){return nt("MuiAlert",t)}const W3=Xe("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),wC=W3;function H3(t){return nt("MuiIconButton",t)}const q3=Xe("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),K3=["edge","children","className","color","disabled","disableFocusRipple","size"],G3=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${fe(r)}`,i&&`edge${fe(i)}`,`size${fe(s)}`]};return tt(o,H3,e)},Q3=ee(B3,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${fe(n.color)}`],n.edge&&e[`edge${fe(n.edge)}`],e[`size${fe(n.size)}`]]}})(({theme:t,ownerState:e})=>R({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:sa(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return R({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&R({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":R({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:sa(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${q3.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),Y3=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=r,d=ie(r,K3),h=R({},r,{edge:i,color:a,disabled:l,disableFocusRipple:u,size:c}),f=G3(h);return C.jsx(Q3,R({className:Te(f.root,o),centerRipple:!0,focusRipple:!u,disabled:l,ref:n,ownerState:h},d,{children:s}))}),X3=Y3,J3=go(C.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Z3=go(C.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),e6=go(C.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),t6=go(C.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),n6=go(C.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),r6=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],i6=t=>{const{variant:e,color:n,severity:r,classes:i}=t,s={root:["root",`${e}${fe(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return tt(s,z3,i)},s6=ee(sw,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${fe(n.color||n.severity)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?gd:vd,r=t.palette.mode==="light"?vd:gd,i=e.color||e.severity;return R({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},i&&e.variant==="standard"&&{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${i}StandardBg`]:r(t.palette[i].light,.9),[`& .${wC.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}},i&&e.variant==="outlined"&&{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),border:`1px solid ${(t.vars||t).palette[i].light}`,[`& .${wC.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}},i&&e.variant==="filled"&&R({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${i}FilledColor`],backgroundColor:t.vars.palette.Alert[`${i}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[i].dark:t.palette[i].main,color:t.palette.getContrastText(t.palette[i].main)}))}),o6=ee("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),a6=ee("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),EC=ee("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),TC={success:C.jsx(J3,{fontSize:"inherit"}),warning:C.jsx(Z3,{fontSize:"inherit"}),error:C.jsx(e6,{fontSize:"inherit"}),info:C.jsx(t6,{fontSize:"inherit"})},l6=_.forwardRef(function(e,n){var r,i,s,o,a,l;const u=rt({props:e,name:"MuiAlert"}),{action:c,children:d,className:h,closeText:f="Close",color:p,components:g={},componentsProps:T={},icon:m,iconMapping:v=TC,onClose:y,role:E="alert",severity:I="success",slotProps:w={},slots:S={},variant:b="standard"}=u,P=ie(u,r6),x=R({},u,{color:p,severity:I,variant:b}),O=i6(x),L=(r=(i=S.closeButton)!=null?i:g.CloseButton)!=null?r:X3,D=(s=(o=S.closeIcon)!=null?o:g.CloseIcon)!=null?s:n6,V=(a=w.closeButton)!=null?a:T.closeButton,z=(l=w.closeIcon)!=null?l:T.closeIcon;return C.jsxs(s6,R({role:E,elevation:0,ownerState:x,className:Te(O.root,h),ref:n},P,{children:[m!==!1?C.jsx(o6,{ownerState:x,className:O.icon,children:m||v[I]||TC[I]}):null,C.jsx(a6,{ownerState:x,className:O.message,children:d}),c!=null?C.jsx(EC,{ownerState:x,className:O.action,children:c}):null,c==null&&y?C.jsx(EC,{ownerState:x,className:O.action,children:C.jsx(L,R({size:"small","aria-label":f,title:f,color:"inherit",onClick:y},V,{children:C.jsx(D,R({fontSize:"small"},z))}))}):null]}))}),Lk=l6,$k="base";function u6(t){return`${$k}--${t}`}function c6(t,e){return`${$k}-${t}-${e}`}function Fk(t,e){const n=Ik[e];return n?u6(n):c6(t,e)}function d6(t,e){const n={};return e.forEach(r=>{n[r]=Fk(t,r)}),n}function SC(t){return t.substring(2).toLowerCase()}function h6(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function f6(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:s="onTouchEnd"}=t,o=_.useRef(!1),a=_.useRef(null),l=_.useRef(!1),u=_.useRef(!1);_.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const c=en(e.ref,a),d=Fr(p=>{const g=u.current;u.current=!1;const T=ln(a.current);if(!l.current||!a.current||"clientX"in p&&h6(p,T))return;if(o.current){o.current=!1;return}let m;p.composedPath?m=p.composedPath().indexOf(a.current)>-1:m=!T.documentElement.contains(p.target)||a.current.contains(p.target),!m&&(n||!g)&&i(p)}),h=p=>g=>{u.current=!0;const T=e.props[p];T&&T(g)},f={ref:c};return s!==!1&&(f[s]=h(s)),_.useEffect(()=>{if(s!==!1){const p=SC(s),g=ln(a.current),T=()=>{o.current=!0};return g.addEventListener(p,d),g.addEventListener("touchmove",T),()=>{g.removeEventListener(p,d),g.removeEventListener("touchmove",T)}}},[d,s]),r!==!1&&(f[r]=h(r)),_.useEffect(()=>{if(r!==!1){const p=SC(r),g=ln(a.current);return g.addEventListener(p,d),()=>{g.removeEventListener(p,d)}}},[d,r]),C.jsx(_.Fragment,{children:_.cloneElement(e,f)})}const p6=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function m6(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function g6(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function v6(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||g6(t))}function y6(t){const e=[],n=[];return Array.from(t.querySelectorAll(p6)).forEach((r,i)=>{const s=m6(r);s===-1||!v6(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function _6(){return!0}function w6(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=y6,isEnabled:o=_6,open:a}=t,l=_.useRef(!1),u=_.useRef(null),c=_.useRef(null),d=_.useRef(null),h=_.useRef(null),f=_.useRef(!1),p=_.useRef(null),g=en(e.ref,p),T=_.useRef(null);_.useEffect(()=>{!a||!p.current||(f.current=!n)},[n,a]),_.useEffect(()=>{if(!a||!p.current)return;const y=ln(p.current);return p.current.contains(y.activeElement)||(p.current.hasAttribute("tabIndex")||p.current.setAttribute("tabIndex","-1"),f.current&&p.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),_.useEffect(()=>{if(!a||!p.current)return;const y=ln(p.current),E=S=>{T.current=S,!(r||!o()||S.key!=="Tab")&&y.activeElement===p.current&&S.shiftKey&&(l.current=!0,c.current&&c.current.focus())},I=()=>{const S=p.current;if(S===null)return;if(!y.hasFocus()||!o()||l.current){l.current=!1;return}if(S.contains(y.activeElement)||r&&y.activeElement!==u.current&&y.activeElement!==c.current)return;if(y.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!f.current)return;let b=[];if((y.activeElement===u.current||y.activeElement===c.current)&&(b=s(p.current)),b.length>0){var P,x;const O=!!((P=T.current)!=null&&P.shiftKey&&((x=T.current)==null?void 0:x.key)==="Tab"),L=b[0],D=b[b.length-1];typeof L!="string"&&typeof D!="string"&&(O?D.focus():L.focus())}else S.focus()};y.addEventListener("focusin",I),y.addEventListener("keydown",E,!0);const w=setInterval(()=>{y.activeElement&&y.activeElement.tagName==="BODY"&&I()},50);return()=>{clearInterval(w),y.removeEventListener("focusin",I),y.removeEventListener("keydown",E,!0)}},[n,r,i,o,a,s]);const m=y=>{d.current===null&&(d.current=y.relatedTarget),f.current=!0,h.current=y.target;const E=e.props.onFocus;E&&E(y)},v=y=>{d.current===null&&(d.current=y.relatedTarget),f.current=!0};return C.jsxs(_.Fragment,{children:[C.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:u,"data-testid":"sentinelStart"}),_.cloneElement(e,{ref:g,onFocus:m}),C.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:c,"data-testid":"sentinelEnd"})]})}var cr="top",qr="bottom",Kr="right",dr="left",ow="auto",Jd=[cr,qr,Kr,dr],$l="start",yd="end",E6="clippingParents",Vk="viewport",Bu="popper",T6="reference",CC=Jd.reduce(function(t,e){return t.concat([e+"-"+$l,e+"-"+yd])},[]),Uk=[].concat(Jd,[ow]).reduce(function(t,e){return t.concat([e,e+"-"+$l,e+"-"+yd])},[]),S6="beforeRead",C6="read",I6="afterRead",R6="beforeMain",b6="main",x6="afterMain",P6="beforeWrite",k6="write",A6="afterWrite",N6=[S6,C6,I6,R6,b6,x6,P6,k6,A6];function Vi(t){return t?(t.nodeName||"").toLowerCase():null}function Cr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function oa(t){var e=Cr(t).Element;return t instanceof e||t instanceof Element}function jr(t){var e=Cr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function aw(t){if(typeof ShadowRoot>"u")return!1;var e=Cr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function O6(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!jr(s)||!Vi(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function M6(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!jr(i)||!Vi(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const D6={name:"applyStyles",enabled:!0,phase:"write",fn:O6,effect:M6,requires:["computeStyles"]};function ki(t){return t.split("-")[0]}var qo=Math.max,Ip=Math.min,Fl=Math.round;function F_(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function jk(){return!/^((?!chrome|android).)*safari/i.test(F_())}function Vl(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&jr(t)&&(i=t.offsetWidth>0&&Fl(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Fl(r.height)/t.offsetHeight||1);var o=oa(t)?Cr(t):window,a=o.visualViewport,l=!jk()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function lw(t){var e=Vl(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function Bk(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&aw(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function hs(t){return Cr(t).getComputedStyle(t)}function L6(t){return["table","td","th"].indexOf(Vi(t))>=0}function vo(t){return((oa(t)?t.ownerDocument:t.document)||window.document).documentElement}function mg(t){return Vi(t)==="html"?t:t.assignedSlot||t.parentNode||(aw(t)?t.host:null)||vo(t)}function IC(t){return!jr(t)||hs(t).position==="fixed"?null:t.offsetParent}function $6(t){var e=/firefox/i.test(F_()),n=/Trident/i.test(F_());if(n&&jr(t)){var r=hs(t);if(r.position==="fixed")return null}var i=mg(t);for(aw(i)&&(i=i.host);jr(i)&&["html","body"].indexOf(Vi(i))<0;){var s=hs(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Zd(t){for(var e=Cr(t),n=IC(t);n&&L6(n)&&hs(n).position==="static";)n=IC(n);return n&&(Vi(n)==="html"||Vi(n)==="body"&&hs(n).position==="static")?e:n||$6(t)||e}function uw(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function kc(t,e,n){return qo(t,Ip(e,n))}function F6(t,e,n){var r=kc(t,e,n);return r>n?n:r}function zk(){return{top:0,right:0,bottom:0,left:0}}function Wk(t){return Object.assign({},zk(),t)}function Hk(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var V6=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Wk(typeof e!="number"?e:Hk(e,Jd))};function U6(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=ki(n.placement),l=uw(a),u=[dr,Kr].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=V6(i.padding,n),h=lw(s),f=l==="y"?cr:dr,p=l==="y"?qr:Kr,g=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],T=o[l]-n.rects.reference[l],m=Zd(s),v=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,y=g/2-T/2,E=d[f],I=v-h[c]-d[p],w=v/2-h[c]/2+y,S=kc(E,w,I),b=l;n.modifiersData[r]=(e={},e[b]=S,e.centerOffset=S-w,e)}}function j6(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Bk(e.elements.popper,i)&&(e.elements.arrow=i))}const B6={name:"arrow",enabled:!0,phase:"main",fn:U6,effect:j6,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ul(t){return t.split("-")[1]}var z6={top:"auto",right:"auto",bottom:"auto",left:"auto"};function W6(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Fl(n*i)/i||0,y:Fl(r*i)/i||0}}function RC(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,h=o.x,f=h===void 0?0:h,p=o.y,g=p===void 0?0:p,T=typeof c=="function"?c({x:f,y:g}):{x:f,y:g};f=T.x,g=T.y;var m=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),y=dr,E=cr,I=window;if(u){var w=Zd(n),S="clientHeight",b="clientWidth";if(w===Cr(n)&&(w=vo(n),hs(w).position!=="static"&&a==="absolute"&&(S="scrollHeight",b="scrollWidth")),w=w,i===cr||(i===dr||i===Kr)&&s===yd){E=qr;var P=d&&w===I&&I.visualViewport?I.visualViewport.height:w[S];g-=P-r.height,g*=l?1:-1}if(i===dr||(i===cr||i===qr)&&s===yd){y=Kr;var x=d&&w===I&&I.visualViewport?I.visualViewport.width:w[b];f-=x-r.width,f*=l?1:-1}}var O=Object.assign({position:a},u&&z6),L=c===!0?W6({x:f,y:g},Cr(n)):{x:f,y:g};if(f=L.x,g=L.y,l){var D;return Object.assign({},O,(D={},D[E]=v?"0":"",D[y]=m?"0":"",D.transform=(I.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",D))}return Object.assign({},O,(e={},e[E]=v?g+"px":"",e[y]=m?f+"px":"",e.transform="",e))}function H6(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:ki(e.placement),variation:Ul(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,RC(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,RC(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const q6={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:H6,data:{}};var Jh={passive:!0};function K6(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Cr(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,Jh)}),a&&l.addEventListener("resize",n.update,Jh),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Jh)}),a&&l.removeEventListener("resize",n.update,Jh)}}const G6={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:K6,data:{}};var Q6={left:"right",right:"left",bottom:"top",top:"bottom"};function Df(t){return t.replace(/left|right|bottom|top/g,function(e){return Q6[e]})}var Y6={start:"end",end:"start"};function bC(t){return t.replace(/start|end/g,function(e){return Y6[e]})}function cw(t){var e=Cr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function dw(t){return Vl(vo(t)).left+cw(t).scrollLeft}function X6(t,e){var n=Cr(t),r=vo(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=jk();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+dw(t),y:l}}function J6(t){var e,n=vo(t),r=cw(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=qo(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=qo(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+dw(t),l=-r.scrollTop;return hs(i||n).direction==="rtl"&&(a+=qo(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function hw(t){var e=hs(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function qk(t){return["html","body","#document"].indexOf(Vi(t))>=0?t.ownerDocument.body:jr(t)&&hw(t)?t:qk(mg(t))}function Ac(t,e){var n;e===void 0&&(e=[]);var r=qk(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Cr(r),o=i?[s].concat(s.visualViewport||[],hw(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Ac(mg(o)))}function V_(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Z6(t,e){var n=Vl(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function xC(t,e,n){return e===Vk?V_(X6(t,n)):oa(e)?Z6(e,n):V_(J6(vo(t)))}function ej(t){var e=Ac(mg(t)),n=["absolute","fixed"].indexOf(hs(t).position)>=0,r=n&&jr(t)?Zd(t):t;return oa(r)?e.filter(function(i){return oa(i)&&Bk(i,r)&&Vi(i)!=="body"}):[]}function tj(t,e,n,r){var i=e==="clippingParents"?ej(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var c=xC(t,u,r);return l.top=qo(c.top,l.top),l.right=Ip(c.right,l.right),l.bottom=Ip(c.bottom,l.bottom),l.left=qo(c.left,l.left),l},xC(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Kk(t){var e=t.reference,n=t.element,r=t.placement,i=r?ki(r):null,s=r?Ul(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case cr:l={x:o,y:e.y-n.height};break;case qr:l={x:o,y:e.y+e.height};break;case Kr:l={x:e.x+e.width,y:a};break;case dr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?uw(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case $l:l[u]=l[u]-(e[c]/2-n[c]/2);break;case yd:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function _d(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?E6:a,u=n.rootBoundary,c=u===void 0?Vk:u,d=n.elementContext,h=d===void 0?Bu:d,f=n.altBoundary,p=f===void 0?!1:f,g=n.padding,T=g===void 0?0:g,m=Wk(typeof T!="number"?T:Hk(T,Jd)),v=h===Bu?T6:Bu,y=t.rects.popper,E=t.elements[p?v:h],I=tj(oa(E)?E:E.contextElement||vo(t.elements.popper),l,c,o),w=Vl(t.elements.reference),S=Kk({reference:w,element:y,strategy:"absolute",placement:i}),b=V_(Object.assign({},y,S)),P=h===Bu?b:w,x={top:I.top-P.top+m.top,bottom:P.bottom-I.bottom+m.bottom,left:I.left-P.left+m.left,right:P.right-I.right+m.right},O=t.modifiersData.offset;if(h===Bu&&O){var L=O[i];Object.keys(x).forEach(function(D){var V=[Kr,qr].indexOf(D)>=0?1:-1,z=[cr,qr].indexOf(D)>=0?"y":"x";x[D]+=L[z]*V})}return x}function nj(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?Uk:l,c=Ul(r),d=c?a?CC:CC.filter(function(p){return Ul(p)===c}):Jd,h=d.filter(function(p){return u.indexOf(p)>=0});h.length===0&&(h=d);var f=h.reduce(function(p,g){return p[g]=_d(t,{placement:g,boundary:i,rootBoundary:s,padding:o})[ki(g)],p},{});return Object.keys(f).sort(function(p,g){return f[p]-f[g]})}function rj(t){if(ki(t)===ow)return[];var e=Df(t);return[bC(t),e,bC(e)]}function ij(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=f===void 0?!0:f,g=n.allowedAutoPlacements,T=e.options.placement,m=ki(T),v=m===T,y=l||(v||!p?[Df(T)]:rj(T)),E=[T].concat(y).reduce(function(Z,de){return Z.concat(ki(de)===ow?nj(e,{placement:de,boundary:c,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:g}):de)},[]),I=e.rects.reference,w=e.rects.popper,S=new Map,b=!0,P=E[0],x=0;x<E.length;x++){var O=E[x],L=ki(O),D=Ul(O)===$l,V=[cr,qr].indexOf(L)>=0,z=V?"width":"height",B=_d(e,{placement:O,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),j=V?D?Kr:dr:D?qr:cr;I[z]>w[z]&&(j=Df(j));var A=Df(j),$=[];if(s&&$.push(B[L]<=0),a&&$.push(B[j]<=0,B[A]<=0),$.every(function(Z){return Z})){P=O,b=!1;break}S.set(O,$)}if(b)for(var H=p?3:1,te=function(de){var ue=E.find(function(Fe){var Be=S.get(Fe);if(Be)return Be.slice(0,de).every(function(De){return De})});if(ue)return P=ue,"break"},Y=H;Y>0;Y--){var ce=te(Y);if(ce==="break")break}e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}}const sj={name:"flip",enabled:!0,phase:"main",fn:ij,requiresIfExists:["offset"],data:{_skip:!1}};function PC(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function kC(t){return[cr,Kr,qr,dr].some(function(e){return t[e]>=0})}function oj(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=_d(e,{elementContext:"reference"}),a=_d(e,{altBoundary:!0}),l=PC(o,r),u=PC(a,i,s),c=kC(l),d=kC(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const aj={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:oj};function lj(t,e,n){var r=ki(t),i=[dr,cr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[dr,Kr].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function uj(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=Uk.reduce(function(c,d){return c[d]=lj(d,e.rects,s),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const cj={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:uj};function dj(t){var e=t.state,n=t.name;e.modifiersData[n]=Kk({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const hj={name:"popperOffsets",enabled:!0,phase:"read",fn:dj,data:{}};function fj(t){return t==="x"?"y":"x"}function pj(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,p=n.tetherOffset,g=p===void 0?0:p,T=_d(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),m=ki(e.placement),v=Ul(e.placement),y=!v,E=uw(m),I=fj(E),w=e.modifiersData.popperOffsets,S=e.rects.reference,b=e.rects.popper,P=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,x=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(w){if(s){var D,V=E==="y"?cr:dr,z=E==="y"?qr:Kr,B=E==="y"?"height":"width",j=w[E],A=j+T[V],$=j-T[z],H=f?-b[B]/2:0,te=v===$l?S[B]:b[B],Y=v===$l?-b[B]:-S[B],ce=e.elements.arrow,Z=f&&ce?lw(ce):{width:0,height:0},de=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:zk(),ue=de[V],Fe=de[z],Be=kc(0,S[B],Z[B]),De=y?S[B]/2-H-Be-ue-x.mainAxis:te-Be-ue-x.mainAxis,bt=y?-S[B]/2+H+Be+Fe+x.mainAxis:Y+Be+Fe+x.mainAxis,ae=e.elements.arrow&&Zd(e.elements.arrow),ze=ae?E==="y"?ae.clientTop||0:ae.clientLeft||0:0,ye=(D=O==null?void 0:O[E])!=null?D:0,Le=j+De-ye-ze,Ee=j+bt-ye,wn=kc(f?Ip(A,Le):A,j,f?qo($,Ee):$);w[E]=wn,L[E]=wn-j}if(a){var rn,Dt=E==="x"?cr:dr,un=E==="x"?qr:Kr,lt=w[I],Ae=I==="y"?"height":"width",Kt=lt+T[Dt],ht=lt-T[un],be=[cr,dr].indexOf(m)!==-1,xt=(rn=O==null?void 0:O[I])!=null?rn:0,sn=be?Kt:lt-S[Ae]-b[Ae]-xt+x.altAxis,Gt=be?lt+S[Ae]+b[Ae]-xt-x.altAxis:ht,We=f&&be?F6(sn,lt,Gt):kc(f?sn:Kt,lt,f?Gt:ht);w[I]=We,L[I]=We-lt}e.modifiersData[r]=L}}const mj={name:"preventOverflow",enabled:!0,phase:"main",fn:pj,requiresIfExists:["offset"]};function gj(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function vj(t){return t===Cr(t)||!jr(t)?cw(t):gj(t)}function yj(t){var e=t.getBoundingClientRect(),n=Fl(e.width)/t.offsetWidth||1,r=Fl(e.height)/t.offsetHeight||1;return n!==1||r!==1}function _j(t,e,n){n===void 0&&(n=!1);var r=jr(e),i=jr(e)&&yj(e),s=vo(e),o=Vl(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Vi(e)!=="body"||hw(s))&&(a=vj(e)),jr(e)?(l=Vl(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=dw(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function wj(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Ej(t){var e=wj(t);return N6.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Tj(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Sj(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var AC={placement:"bottom",modifiers:[],strategy:"absolute"};function NC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Cj(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?AC:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},AC,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:c,setOptions:function(m){var v=typeof m=="function"?m(c.options):m;g(),c.options=Object.assign({},s,c.options,v),c.scrollParents={reference:oa(a)?Ac(a):a.contextElement?Ac(a.contextElement):[],popper:Ac(l)};var y=Ej(Sj([].concat(r,c.options.modifiers)));return c.orderedModifiers=y.filter(function(E){return E.enabled}),p(),f.update()},forceUpdate:function(){if(!h){var m=c.elements,v=m.reference,y=m.popper;if(NC(v,y)){c.rects={reference:_j(v,Zd(y),c.options.strategy==="fixed"),popper:lw(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(x){return c.modifiersData[x.name]=Object.assign({},x.data)});for(var E=0;E<c.orderedModifiers.length;E++){if(c.reset===!0){c.reset=!1,E=-1;continue}var I=c.orderedModifiers[E],w=I.fn,S=I.options,b=S===void 0?{}:S,P=I.name;typeof w=="function"&&(c=w({state:c,options:b,name:P,instance:f})||c)}}}},update:Tj(function(){return new Promise(function(T){f.forceUpdate(),T(c)})}),destroy:function(){g(),h=!0}};if(!NC(a,l))return f;f.setOptions(u).then(function(T){!h&&u.onFirstUpdate&&u.onFirstUpdate(T)});function p(){c.orderedModifiers.forEach(function(T){var m=T.name,v=T.options,y=v===void 0?{}:v,E=T.effect;if(typeof E=="function"){var I=E({state:c,name:m,instance:f,options:y}),w=function(){};d.push(I||w)}})}function g(){d.forEach(function(T){return T()}),d=[]}return f}}var Ij=[G6,hj,q6,D6,cj,sj,mj,B6,aj],Rj=Cj({defaultModifiers:Ij});function bj(t){return typeof t=="function"?t():t}const Gk=_.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=_.useState(null),l=en(_.isValidElement(r)?r.ref:null,n);if(Fi(()=>{s||a(bj(i)||document.body)},[i,s]),Fi(()=>{if(o&&!s)return vp(n,o),()=>{vp(n,null)}},[n,o,s]),s){if(_.isValidElement(r)){const u={ref:l};return _.cloneElement(r,u)}return C.jsx(_.Fragment,{children:r})}return C.jsx(_.Fragment,{children:o&&qd.createPortal(r,o)})}),Qk="Popper";function xj(t){return Fk(Qk,t)}d6(Qk,["root"]);const Pj=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],kj=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Aj(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function U_(t){return typeof t=="function"?t():t}function Nj(t){return t.nodeType!==void 0}const Oj=()=>tt({root:["root"]},T3(xj)),Mj={},Dj=_.forwardRef(function(e,n){var r;const{anchorEl:i,children:s,direction:o,disablePortal:a,modifiers:l,open:u,placement:c,popperOptions:d,popperRef:h,slotProps:f={},slots:p={},TransitionProps:g}=e,T=ie(e,Pj),m=_.useRef(null),v=en(m,n),y=_.useRef(null),E=en(y,h),I=_.useRef(E);Fi(()=>{I.current=E},[E]),_.useImperativeHandle(h,()=>y.current,[]);const w=Aj(c,o),[S,b]=_.useState(w),[P,x]=_.useState(U_(i));_.useEffect(()=>{y.current&&y.current.forceUpdate()}),_.useEffect(()=>{i&&x(U_(i))},[i]),Fi(()=>{if(!P||!u)return;const z=A=>{b(A.placement)};let B=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:A})=>{z(A)}}];l!=null&&(B=B.concat(l)),d&&d.modifiers!=null&&(B=B.concat(d.modifiers));const j=Rj(P,m.current,R({placement:w},d,{modifiers:B}));return I.current(j),()=>{j.destroy(),I.current(null)}},[P,a,l,u,d,w]);const O={placement:S};g!==null&&(O.TransitionProps=g);const L=Oj(),D=(r=p.root)!=null?r:"div",V=io({elementType:D,externalSlotProps:f.root,externalForwardedProps:T,additionalProps:{role:"tooltip",ref:v},ownerState:e,className:L.root});return C.jsx(D,R({},V,{children:typeof s=="function"?s(O):s}))}),Lj=_.forwardRef(function(e,n){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:h=Mj,popperRef:f,style:p,transition:g=!1,slotProps:T={},slots:m={}}=e,v=ie(e,kj),[y,E]=_.useState(!0),I=()=>{E(!1)},w=()=>{E(!0)};if(!l&&!c&&(!g||y))return null;let S;if(s)S=s;else if(r){const x=U_(r);S=x&&Nj(x)?ln(x).body:ln(null).body}const b=!c&&l&&(!g||y)?"none":void 0,P=g?{in:c,onEnter:I,onExited:w}:void 0;return C.jsx(Gk,{disablePortal:a,container:S,children:C.jsx(Dj,R({anchorEl:r,direction:o,disablePortal:a,modifiers:u,ref:n,open:g?!y:c,placement:d,popperOptions:h,popperRef:f,slotProps:T,slots:m},v,{style:R({position:"fixed",top:0,left:0,display:b},p),TransitionProps:P,children:i}))})});function $j(t){const e=ln(t);return e.body===t?$i(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Nc(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function OC(t){return parseInt($i(t).getComputedStyle(t).paddingRight,10)||0}function Fj(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function MC(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!Fj(o);a&&l&&Nc(o,i)})}function Gv(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function Vj(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if($j(r)){const o=Sk(ln(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${OC(r)+o}px`;const a=ln(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${OC(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=ln(r).body;else{const o=r.parentElement,a=$i(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function Uj(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class jj{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Nc(e.modalRef,!1);const i=Uj(n);MC(n,e.mount,e.modalRef,i,!0);const s=Gv(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Gv(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=Vj(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Gv(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Nc(e.modalRef,n),MC(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&Nc(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function Bj(t){return typeof t=="function"?t():t}function zj(t){return t?t.props.hasOwnProperty("in"):!1}const Wj=new jj;function Hj(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=Wj,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:u,open:c,rootRef:d}=t,h=_.useRef({}),f=_.useRef(null),p=_.useRef(null),g=en(p,d),[T,m]=_.useState(!c),v=zj(l);let y=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(y=!1);const E=()=>ln(f.current),I=()=>(h.current.modalRef=p.current,h.current.mount=f.current,h.current),w=()=>{i.mount(I(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},S=Fr(()=>{const B=Bj(e)||E().body;i.add(I(),B),p.current&&w()}),b=_.useCallback(()=>i.isTopModal(I()),[i]),P=Fr(B=>{f.current=B,B&&(c&&b()?w():p.current&&Nc(p.current,y))}),x=_.useCallback(()=>{i.remove(I(),y)},[y,i]);_.useEffect(()=>()=>{x()},[x]),_.useEffect(()=>{c?S():(!v||!s)&&x()},[c,x,v,s,S]);const O=B=>j=>{var A;(A=B.onKeyDown)==null||A.call(B,j),!(j.key!=="Escape"||j.which===229||!b())&&(n||(j.stopPropagation(),u&&u(j,"escapeKeyDown")))},L=B=>j=>{var A;(A=B.onClick)==null||A.call(B,j),j.target===j.currentTarget&&u&&u(j,"backdropClick")};return{getRootProps:(B={})=>{const j=Cp(t);delete j.onTransitionEnter,delete j.onTransitionExited;const A=R({},j,B);return R({role:"presentation"},A,{onKeyDown:O(A),ref:g})},getBackdropProps:(B={})=>{const j=B;return R({"aria-hidden":!0},j,{onClick:L(j),open:c})},getTransitionProps:()=>{const B=()=>{m(!1),o&&o()},j=()=>{m(!0),a&&a(),s&&x()};return{onEnter:A_(B,l==null?void 0:l.props.onEnter),onExited:A_(j,l==null?void 0:l.props.onExited)}},rootRef:g,portalRef:P,isTopModal:b,exited:T,hasTransition:v}}function qj(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:s}=t,o=$o();_.useEffect(()=>{if(!i)return;function m(v){v.defaultPrevented||(v.key==="Escape"||v.key==="Esc")&&(r==null||r(v,"escapeKeyDown"))}return document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)}},[i,r]);const a=Fr((m,v)=>{r==null||r(m,v)}),l=Fr(m=>{!r||m==null||o.start(m,()=>{a(null,"timeout")})});_.useEffect(()=>(i&&l(e),o.clear),[i,e,l,o]);const u=m=>{r==null||r(m,"clickaway")},c=o.clear,d=_.useCallback(()=>{e!=null&&l(s??e*.5)},[e,s,l]),h=m=>v=>{const y=m.onBlur;y==null||y(v),d()},f=m=>v=>{const y=m.onFocus;y==null||y(v),c()},p=m=>v=>{const y=m.onMouseEnter;y==null||y(v),c()},g=m=>v=>{const y=m.onMouseLeave;y==null||y(v),d()};return _.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",d),window.addEventListener("blur",c),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",c)}},[n,i,d,c]),{getRootProps:(m={})=>{const v=R({},Cp(t),Cp(m));return R({role:"presentation"},m,v,{onBlur:h(v),onFocus:f(v),onMouseEnter:p(v),onMouseLeave:g(v)})},onClickAway:u}}const Kj=["onChange","maxRows","minRows","style","value"];function Zh(t){return parseInt(t,10)||0}const Gj={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function DC(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const Qj=_.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=ie(e,Kj),{current:u}=_.useRef(a!=null),c=_.useRef(null),d=en(n,c),h=_.useRef(null),f=_.useRef(0),[p,g]=_.useState({outerHeightStyle:0}),T=_.useCallback(()=>{const E=c.current,w=$i(E).getComputedStyle(E);if(w.width==="0px")return{outerHeightStyle:0};const S=h.current;S.style.width=w.width,S.value=E.value||e.placeholder||"x",S.value.slice(-1)===`
`&&(S.value+=" ");const b=w.boxSizing,P=Zh(w.paddingBottom)+Zh(w.paddingTop),x=Zh(w.borderBottomWidth)+Zh(w.borderTopWidth),O=S.scrollHeight;S.value="x";const L=S.scrollHeight;let D=O;s&&(D=Math.max(Number(s)*L,D)),i&&(D=Math.min(Number(i)*L,D)),D=Math.max(D,L);const V=D+(b==="border-box"?P+x:0),z=Math.abs(D-O)<=1;return{outerHeightStyle:V,overflow:z}},[i,s,e.placeholder]),m=(E,I)=>{const{outerHeightStyle:w,overflow:S}=I;return f.current<20&&(w>0&&Math.abs((E.outerHeightStyle||0)-w)>1||E.overflow!==S)?(f.current+=1,{overflow:S,outerHeightStyle:w}):E},v=_.useCallback(()=>{const E=T();DC(E)||g(I=>m(I,E))},[T]);Fi(()=>{const E=()=>{const O=T();DC(O)||qd.flushSync(()=>{g(L=>m(L,O))})},I=()=>{f.current=0,E()};let w;const S=Hm(I),b=c.current,P=$i(b);P.addEventListener("resize",S);let x;return typeof ResizeObserver<"u"&&(x=new ResizeObserver(I),x.observe(b)),()=>{S.clear(),cancelAnimationFrame(w),P.removeEventListener("resize",S),x&&x.disconnect()}},[T]),Fi(()=>{v()}),_.useEffect(()=>{f.current=0},[a]);const y=E=>{f.current=0,u||v(),r&&r(E)};return C.jsxs(_.Fragment,{children:[C.jsx("textarea",R({value:a,onChange:y,ref:d,rows:s,style:R({height:p.outerHeightStyle,overflow:p.overflow?"hidden":void 0},o)},l)),C.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:R({},Gj.shadow,o,{paddingTop:0,paddingBottom:0})})]})}),Yj=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Xj=ee(Lj,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Jj=_.forwardRef(function(e,n){var r;const i=X1(),s=rt({props:e,name:"MuiPopper"}),{anchorEl:o,component:a,components:l,componentsProps:u,container:c,disablePortal:d,keepMounted:h,modifiers:f,open:p,placement:g,popperOptions:T,popperRef:m,transition:v,slots:y,slotProps:E}=s,I=ie(s,Yj),w=(r=y==null?void 0:y.root)!=null?r:l==null?void 0:l.Root,S=R({anchorEl:o,container:c,disablePortal:d,keepMounted:h,modifiers:f,open:p,placement:g,popperOptions:T,popperRef:m,transition:v},I);return C.jsx(Xj,R({as:a,direction:i==null?void 0:i.direction,slots:{root:w},slotProps:E??u},S,{ref:n}))}),Yk=Jj;function au({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const Zj=_.createContext(void 0),fw=Zj;function lu(){return _.useContext(fw)}function e9(t){return C.jsx(q5,R({},t,{defaultTheme:rg,themeId:Ml}))}function LC(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Rp(t,e=!1){return t&&(LC(t.value)&&t.value!==""||e&&LC(t.defaultValue)&&t.defaultValue!=="")}function t9(t){return t.startAdornment}function n9(t){return nt("MuiInputBase",t)}const r9=Xe("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),jl=r9,i9=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],gg=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${fe(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},vg=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},s9=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:f,type:p}=t,g={root:["root",`color${fe(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h&&h!=="medium"&&`size${fe(h)}`,c&&"multiline",f&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",p==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return tt(g,n9,e)},yg=ee("div",{name:"MuiInputBase",slot:"Root",overridesResolver:gg})(({theme:t,ownerState:e})=>R({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${jl.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&R({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),_g=ee("input",{name:"MuiInputBase",slot:"Input",overridesResolver:vg})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=R({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return R({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${jl.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${jl.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),o9=C.jsx(e9,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),a9=_.forwardRef(function(e,n){var r;const i=rt({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:u={},componentsProps:c={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:p,fullWidth:g=!1,id:T,inputComponent:m="input",inputProps:v={},inputRef:y,maxRows:E,minRows:I,multiline:w=!1,name:S,onBlur:b,onChange:P,onClick:x,onFocus:O,onKeyDown:L,onKeyUp:D,placeholder:V,readOnly:z,renderSuffix:B,rows:j,slotProps:A={},slots:$={},startAdornment:H,type:te="text",value:Y}=i,ce=ie(i,i9),Z=v.value!=null?v.value:Y,{current:de}=_.useRef(Z!=null),ue=_.useRef(),Fe=_.useCallback(We=>{},[]),Be=en(ue,y,v.ref,Fe),[De,bt]=_.useState(!1),ae=lu(),ze=au({props:i,muiFormControl:ae,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ze.focused=ae?ae.focused:De,_.useEffect(()=>{!ae&&h&&De&&(bt(!1),b&&b())},[ae,h,De,b]);const ye=ae&&ae.onFilled,Le=ae&&ae.onEmpty,Ee=_.useCallback(We=>{Rp(We)?ye&&ye():Le&&Le()},[ye,Le]);Fi(()=>{de&&Ee({value:Z})},[Z,Ee,de]);const wn=We=>{if(ze.disabled){We.stopPropagation();return}O&&O(We),v.onFocus&&v.onFocus(We),ae&&ae.onFocus?ae.onFocus(We):bt(!0)},rn=We=>{b&&b(We),v.onBlur&&v.onBlur(We),ae&&ae.onBlur?ae.onBlur(We):bt(!1)},Dt=(We,...re)=>{if(!de){const Lt=We.target||ue.current;if(Lt==null)throw new Error(ro(1));Ee({value:Lt.value})}v.onChange&&v.onChange(We,...re),P&&P(We,...re)};_.useEffect(()=>{Ee(ue.current)},[]);const un=We=>{ue.current&&We.currentTarget===We.target&&ue.current.focus(),x&&x(We)};let lt=m,Ae=v;w&&lt==="input"&&(j?Ae=R({type:void 0,minRows:j,maxRows:j},Ae):Ae=R({type:void 0,maxRows:E,minRows:I},Ae),lt=Qj);const Kt=We=>{Ee(We.animationName==="mui-auto-fill-cancel"?ue.current:{value:"x"})};_.useEffect(()=>{ae&&ae.setAdornedStart(!!H)},[ae,H]);const ht=R({},i,{color:ze.color||"primary",disabled:ze.disabled,endAdornment:p,error:ze.error,focused:ze.focused,formControl:ae,fullWidth:g,hiddenLabel:ze.hiddenLabel,multiline:w,size:ze.size,startAdornment:H,type:te}),be=s9(ht),xt=$.root||u.Root||yg,sn=A.root||c.root||{},Gt=$.input||u.Input||_g;return Ae=R({},Ae,(r=A.input)!=null?r:c.input),C.jsxs(_.Fragment,{children:[!f&&o9,C.jsxs(xt,R({},sn,!Sp(xt)&&{ownerState:R({},ht,sn.ownerState)},{ref:n,onClick:un},ce,{className:Te(be.root,sn.className,l,z&&"MuiInputBase-readOnly"),children:[H,C.jsx(fw.Provider,{value:null,children:C.jsx(Gt,R({ownerState:ht,"aria-invalid":ze.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:ze.disabled,id:T,onAnimationStart:Kt,name:S,placeholder:V,readOnly:z,required:ze.required,rows:j,value:Z,onKeyDown:L,onKeyUp:D,type:te},Ae,!Sp(Gt)&&{as:lt,ownerState:R({},ht,Ae.ownerState)},{ref:Be,className:Te(be.input,Ae.className,z&&"MuiInputBase-readOnly"),onBlur:rn,onChange:Dt,onFocus:wn}))}),p,B?B(R({},ze,{startAdornment:H})):null]}))]})}),pw=a9;function l9(t){return nt("MuiInput",t)}const u9=R({},jl,Xe("MuiInput",["root","underline","input"])),zu=u9;function c9(t){return nt("MuiOutlinedInput",t)}const d9=R({},jl,Xe("MuiOutlinedInput",["root","notchedOutline","input"])),Is=d9;function h9(t){return nt("MuiFilledInput",t)}const f9=R({},jl,Xe("MuiFilledInput",["root","underline","input"])),So=f9,p9=go(C.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),m9=go(C.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function g9(t){return nt("MuiAvatar",t)}Xe("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const v9=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],y9=t=>{const{classes:e,variant:n,colorDefault:r}=t;return tt({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},g9,e)},_9=ee("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:R({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:R({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),w9=ee("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),E9=ee(m9,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function T9({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,s]=_.useState(!1);return _.useEffect(()=>{if(!n&&!r)return;s(!1);let o=!0;const a=new Image;return a.onload=()=>{o&&s("loaded")},a.onerror=()=>{o&&s("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{o=!1}},[t,e,n,r]),i}const S9=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:o,component:a="div",imgProps:l,sizes:u,src:c,srcSet:d,variant:h="circular"}=r,f=ie(r,v9);let p=null;const g=T9(R({},l,{src:c,srcSet:d})),T=c||d,m=T&&g!=="error",v=R({},r,{colorDefault:!m,component:a,variant:h}),y=y9(v);return m?p=C.jsx(w9,R({alt:i,srcSet:d,src:c,sizes:u,ownerState:v,className:y.img},l)):s!=null&&s!==""&&typeof s!="boolean"?p=s:T&&i?p=i[0]:p=C.jsx(E9,{ownerState:v,className:y.fallback}),C.jsx(_9,R({as:a,ownerState:v,className:Te(y.root,o),ref:n},f,{children:p}))}),wd=S9,C9=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],I9={entering:{opacity:1},entered:{opacity:1}},R9=_.forwardRef(function(e,n){const r=Ca(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:g,style:T,timeout:m=i,TransitionComponent:v=tw}=e,y=ie(e,C9),E=_.useRef(null),I=en(E,a.ref,n),w=V=>z=>{if(V){const B=E.current;z===void 0?V(B):V(B,z)}},S=w(h),b=w((V,z)=>{iw(V);const B=Ll({style:T,timeout:m,easing:l},{mode:"enter"});V.style.webkitTransition=r.transitions.create("opacity",B),V.style.transition=r.transitions.create("opacity",B),c&&c(V,z)}),P=w(d),x=w(g),O=w(V=>{const z=Ll({style:T,timeout:m,easing:l},{mode:"exit"});V.style.webkitTransition=r.transitions.create("opacity",z),V.style.transition=r.transitions.create("opacity",z),f&&f(V)}),L=w(p),D=V=>{s&&s(E.current,V)};return C.jsx(v,R({appear:o,in:u,nodeRef:E,onEnter:b,onEntered:P,onEntering:S,onExit:O,onExited:L,onExiting:x,addEndListener:D,timeout:m},y,{children:(V,z)=>_.cloneElement(a,R({style:R({opacity:0,visibility:V==="exited"&&!u?"hidden":void 0},I9[V],T,a.props.style),ref:I},z))}))}),Xk=R9;function b9(t){return nt("MuiBackdrop",t)}Xe("MuiBackdrop",["root","invisible"]);const x9=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],P9=t=>{const{classes:e,invisible:n}=t;return tt({root:["root",n&&"invisible"]},b9,e)},k9=ee("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>R({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),A9=_.forwardRef(function(e,n){var r,i,s;const o=rt({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:u="div",components:c={},componentsProps:d={},invisible:h=!1,open:f,slotProps:p={},slots:g={},TransitionComponent:T=Xk,transitionDuration:m}=o,v=ie(o,x9),y=R({},o,{component:u,invisible:h}),E=P9(y),I=(r=p.root)!=null?r:d.root;return C.jsx(T,R({in:f,timeout:m},v,{children:C.jsx(k9,R({"aria-hidden":!0},I,{as:(i=(s=g.root)!=null?s:c.Root)!=null?i:u,className:Te(E.root,l,I==null?void 0:I.className),ownerState:R({},y,I==null?void 0:I.ownerState),classes:E,ref:n,children:a}))}))}),N9=A9;function O9(t){return nt("MuiCircularProgress",t)}Xe("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const M9=["className","color","disableShrink","size","style","thickness","value","variant"];let wg=t=>t,$C,FC,VC,UC;const Rs=44,D9=mo($C||($C=wg`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),L9=mo(FC||(FC=wg`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),$9=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${fe(r)}`],svg:["svg"],circle:["circle",`circle${fe(n)}`,i&&"circleDisableShrink"]};return tt(s,O9,e)},F9=ee("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${fe(n.color)}`]]}})(({ownerState:t,theme:e})=>R({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&ou(VC||(VC=wg`
      animation: ${0} 1.4s linear infinite;
    `),D9)),V9=ee("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),U9=ee("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${fe(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>R({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&ou(UC||(UC=wg`
      animation: ${0} 1.4s ease-in-out infinite;
    `),L9)),j9=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:u=3.6,value:c=0,variant:d="indeterminate"}=r,h=ie(r,M9),f=R({},r,{color:s,disableShrink:o,size:a,thickness:u,value:c,variant:d}),p=$9(f),g={},T={},m={};if(d==="determinate"){const v=2*Math.PI*((Rs-u)/2);g.strokeDasharray=v.toFixed(3),m["aria-valuenow"]=Math.round(c),g.strokeDashoffset=`${((100-c)/100*v).toFixed(3)}px`,T.transform="rotate(-90deg)"}return C.jsx(F9,R({className:Te(p.root,i),style:R({width:a,height:a},T,l),ownerState:f,ref:n,role:"progressbar"},m,h,{children:C.jsx(V9,{className:p.svg,ownerState:f,viewBox:`${Rs/2} ${Rs/2} ${Rs} ${Rs}`,children:C.jsx(U9,{className:p.circle,style:g,ownerState:f,cx:Rs,cy:Rs,r:(Rs-u)/2,fill:"none",strokeWidth:u})})}))}),B9=j9;function z9(t){return nt("MuiModal",t)}Xe("MuiModal",["root","hidden","backdrop"]);const W9=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],H9=t=>{const{open:e,exited:n,classes:r}=t;return tt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},z9,r)},q9=ee("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>R({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),K9=ee(N9,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),G9=_.forwardRef(function(e,n){var r,i,s,o,a,l;const u=rt({name:"MuiModal",props:e}),{BackdropComponent:c=K9,BackdropProps:d,className:h,closeAfterTransition:f=!1,children:p,container:g,component:T,components:m={},componentsProps:v={},disableAutoFocus:y=!1,disableEnforceFocus:E=!1,disableEscapeKeyDown:I=!1,disablePortal:w=!1,disableRestoreFocus:S=!1,disableScrollLock:b=!1,hideBackdrop:P=!1,keepMounted:x=!1,onBackdropClick:O,open:L,slotProps:D,slots:V}=u,z=ie(u,W9),B=R({},u,{closeAfterTransition:f,disableAutoFocus:y,disableEnforceFocus:E,disableEscapeKeyDown:I,disablePortal:w,disableRestoreFocus:S,disableScrollLock:b,hideBackdrop:P,keepMounted:x}),{getRootProps:j,getBackdropProps:A,getTransitionProps:$,portalRef:H,isTopModal:te,exited:Y,hasTransition:ce}=Hj(R({},B,{rootRef:n})),Z=R({},B,{exited:Y}),de=H9(Z),ue={};if(p.props.tabIndex===void 0&&(ue.tabIndex="-1"),ce){const{onEnter:ye,onExited:Le}=$();ue.onEnter=ye,ue.onExited=Le}const Fe=(r=(i=V==null?void 0:V.root)!=null?i:m.Root)!=null?r:q9,Be=(s=(o=V==null?void 0:V.backdrop)!=null?o:m.Backdrop)!=null?s:c,De=(a=D==null?void 0:D.root)!=null?a:v.root,bt=(l=D==null?void 0:D.backdrop)!=null?l:v.backdrop,ae=io({elementType:Fe,externalSlotProps:De,externalForwardedProps:z,getSlotProps:j,additionalProps:{ref:n,as:T},ownerState:Z,className:Te(h,De==null?void 0:De.className,de==null?void 0:de.root,!Z.open&&Z.exited&&(de==null?void 0:de.hidden))}),ze=io({elementType:Be,externalSlotProps:bt,additionalProps:d,getSlotProps:ye=>A(R({},ye,{onClick:Le=>{O&&O(Le),ye!=null&&ye.onClick&&ye.onClick(Le)}})),className:Te(bt==null?void 0:bt.className,d==null?void 0:d.className,de==null?void 0:de.backdrop),ownerState:Z});return!x&&!L&&(!ce||Y)?null:C.jsx(Gk,{ref:H,container:g,disablePortal:w,children:C.jsxs(Fe,R({},ae,{children:[!P&&c?C.jsx(Be,R({},ze)):null,C.jsx(w6,{disableEnforceFocus:E,disableAutoFocus:y,disableRestoreFocus:S,isEnabled:te,open:L,children:_.cloneElement(p,ue)})]}))})}),Q9=G9;function Y9(t){return nt("MuiDivider",t)}Xe("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const X9=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],J9=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:s,orientation:o,textAlign:a,variant:l}=t;return tt({root:["root",e&&"absolute",l,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},Y9,r)},Z9=ee("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>R({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:sa(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>R({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>R({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>R({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>R({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),eB=ee("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>R({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),Jk=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,component:a=s?"div":"hr",flexItem:l=!1,light:u=!1,orientation:c="horizontal",role:d=a!=="hr"?"separator":void 0,textAlign:h="center",variant:f="fullWidth"}=r,p=ie(r,X9),g=R({},r,{absolute:i,component:a,flexItem:l,light:u,orientation:c,role:d,textAlign:h,variant:f}),T=J9(g);return C.jsx(Z9,R({as:a,className:Te(T.root,o),role:d,ref:n,ownerState:g},p,{children:s?C.jsx(eB,{className:T.wrapper,ownerState:g,children:s}):null}))});Jk.muiSkipListHighlight=!0;const j_=Jk,tB=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function nB(t,e,n){const r=e.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),s=$i(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const u=s.getComputedStyle(e);o=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let a=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const u=o.split("(")[1].split(")")[0].split(",");a=parseInt(u[4],10),l=parseInt(u[5],10)}return t==="left"?i?`translateX(${i.right+a-r.left}px)`:`translateX(${s.innerWidth+a-r.left}px)`:t==="right"?i?`translateX(-${r.right-i.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:t==="up"?i?`translateY(${i.bottom+l-r.top}px)`:`translateY(${s.innerHeight+l-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function rB(t){return typeof t=="function"?t():t}function ef(t,e,n){const r=rB(n),i=nB(t,e,r);i&&(e.style.webkitTransform=i,e.style.transform=i)}const iB=_.forwardRef(function(e,n){const r=Ca(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:u,direction:c="down",easing:d=i,in:h,onEnter:f,onEntered:p,onEntering:g,onExit:T,onExited:m,onExiting:v,style:y,timeout:E=s,TransitionComponent:I=tw}=e,w=ie(e,tB),S=_.useRef(null),b=en(l.ref,S,n),P=A=>$=>{A&&($===void 0?A(S.current):A(S.current,$))},x=P((A,$)=>{ef(c,A,u),iw(A),f&&f(A,$)}),O=P((A,$)=>{const H=Ll({timeout:E,style:y,easing:d},{mode:"enter"});A.style.webkitTransition=r.transitions.create("-webkit-transform",R({},H)),A.style.transition=r.transitions.create("transform",R({},H)),A.style.webkitTransform="none",A.style.transform="none",g&&g(A,$)}),L=P(p),D=P(v),V=P(A=>{const $=Ll({timeout:E,style:y,easing:d},{mode:"exit"});A.style.webkitTransition=r.transitions.create("-webkit-transform",$),A.style.transition=r.transitions.create("transform",$),ef(c,A,u),T&&T(A)}),z=P(A=>{A.style.webkitTransition="",A.style.transition="",m&&m(A)}),B=A=>{o&&o(S.current,A)},j=_.useCallback(()=>{S.current&&ef(c,S.current,u)},[c,u]);return _.useEffect(()=>{if(h||c==="down"||c==="right")return;const A=Hm(()=>{S.current&&ef(c,S.current,u)}),$=$i(S.current);return $.addEventListener("resize",A),()=>{A.clear(),$.removeEventListener("resize",A)}},[c,h,u]),_.useEffect(()=>{h||j()},[h,j]),C.jsx(I,R({nodeRef:S,onEnter:x,onEntered:L,onEntering:O,onExit:V,onExited:z,onExiting:D,addEndListener:B,appear:a,in:h,timeout:E},w,{children:(A,$)=>_.cloneElement(l,R({ref:b,style:R({visibility:A==="exited"&&!h?"hidden":void 0},y,l.props.style)},$))}))}),sB=iB,oB=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],aB=t=>{const{classes:e,disableUnderline:n}=t,i=tt({root:["root",!n&&"underline"],input:["input"]},h9,e);return R({},e,i)},lB=ee(yg,{shouldForwardProp:t=>Bi(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...gg(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return R({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${So.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${So.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${So.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${So.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${So.disabled}, .${So.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${So.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&R({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),uB=ee(_g,{name:"MuiFilledInput",slot:"Input",overridesResolver:vg})(({theme:t,ownerState:e})=>R({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),Zk=_.forwardRef(function(e,n){var r,i,s,o;const a=rt({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:p={},type:g="text"}=a,T=ie(a,oB),m=R({},a,{fullWidth:c,inputComponent:d,multiline:h,type:g}),v=aB(a),y={root:{ownerState:m},input:{ownerState:m}},E=f??u?ur(y,f??u):y,I=(r=(i=p.root)!=null?i:l.Root)!=null?r:lB,w=(s=(o=p.input)!=null?o:l.Input)!=null?s:uB;return C.jsx(pw,R({slots:{root:I,input:w},componentsProps:E,fullWidth:c,inputComponent:d,multiline:h,ref:n,type:g},T,{classes:v}))});Zk.muiName="Input";const eA=Zk;function cB(t){return nt("MuiFormControl",t)}Xe("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const dB=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],hB=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${fe(n)}`,r&&"fullWidth"]};return tt(i,cB,e)},fB=ee("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>R({},e.root,e[`margin${fe(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>R({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),pB=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:p=!1,size:g="medium",variant:T="outlined"}=r,m=ie(r,dB),v=R({},r,{color:o,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:f,required:p,size:g,variant:T}),y=hB(v),[E,I]=_.useState(()=>{let D=!1;return i&&_.Children.forEach(i,V=>{if(!Of(V,["Input","Select"]))return;const z=Of(V,["Select"])?V.props.input:V;z&&t9(z.props)&&(D=!0)}),D}),[w,S]=_.useState(()=>{let D=!1;return i&&_.Children.forEach(i,V=>{Of(V,["Input","Select"])&&(Rp(V.props,!0)||Rp(V.props.inputProps,!0))&&(D=!0)}),D}),[b,P]=_.useState(!1);l&&b&&P(!1);const x=c!==void 0&&!l?c:b;let O;const L=_.useMemo(()=>({adornedStart:E,setAdornedStart:I,color:o,disabled:l,error:u,filled:w,focused:x,fullWidth:d,hiddenLabel:h,size:g,onBlur:()=>{P(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{P(!0)},registerEffect:O,required:p,variant:T}),[E,o,l,u,w,x,d,h,O,p,g,T]);return C.jsx(fw.Provider,{value:L,children:C.jsx(fB,R({as:a,ownerState:v,className:Te(y.root,s),ref:n},m,{children:i}))})}),mB=pB;function gB(t){return nt("MuiFormHelperText",t)}const vB=Xe("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),jC=vB;var BC;const yB=["children","className","component","disabled","error","filled","focused","margin","required","variant"],_B=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,u={root:["root",i&&"disabled",s&&"error",r&&`size${fe(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return tt(u,gB,e)},wB=ee("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${fe(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>R({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${jC.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${jC.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),EB=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=ie(r,yB),l=lu(),u=au({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=R({},r,{component:o,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=_B(c);return C.jsx(wB,R({as:o,ownerState:c,className:Te(d.root,s),ref:n},a,{children:i===" "?BC||(BC=C.jsx("span",{className:"notranslate",children:"​"})):i}))}),TB=EB;function SB(t){return nt("MuiFormLabel",t)}const CB=Xe("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Oc=CB,IB=["children","className","color","component","disabled","error","filled","focused","required"],RB=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${fe(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return tt(l,SB,e)},bB=ee("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>R({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>R({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Oc.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Oc.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Oc.error}`]:{color:(t.vars||t).palette.error.main}})),xB=ee("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Oc.error}`]:{color:(t.vars||t).palette.error.main}})),PB=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=ie(r,IB),l=lu(),u=au({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=R({},r,{color:u.color||"primary",component:o,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=RB(c);return C.jsxs(bB,R({as:o,ownerState:c,className:Te(d.root,s),ref:n},a,{children:[i,u.required&&C.jsxs(xB,{ownerState:c,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),kB=PB,AB=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function B_(t){return`scale(${t}, ${t**2})`}const NB={entering:{opacity:1,transform:B_(1)},entered:{opacity:1,transform:"none"}},Qv=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),tA=_.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:f,style:p,timeout:g="auto",TransitionComponent:T=tw}=e,m=ie(e,AB),v=$o(),y=_.useRef(),E=Ca(),I=_.useRef(null),w=en(I,s.ref,n),S=z=>B=>{if(z){const j=I.current;B===void 0?z(j):z(j,B)}},b=S(c),P=S((z,B)=>{iw(z);const{duration:j,delay:A,easing:$}=Ll({style:p,timeout:g,easing:o},{mode:"enter"});let H;g==="auto"?(H=E.transitions.getAutoHeightDuration(z.clientHeight),y.current=H):H=j,z.style.transition=[E.transitions.create("opacity",{duration:H,delay:A}),E.transitions.create("transform",{duration:Qv?H:H*.666,delay:A,easing:$})].join(","),l&&l(z,B)}),x=S(u),O=S(f),L=S(z=>{const{duration:B,delay:j,easing:A}=Ll({style:p,timeout:g,easing:o},{mode:"exit"});let $;g==="auto"?($=E.transitions.getAutoHeightDuration(z.clientHeight),y.current=$):$=B,z.style.transition=[E.transitions.create("opacity",{duration:$,delay:j}),E.transitions.create("transform",{duration:Qv?$:$*.666,delay:Qv?j:j||$*.333,easing:A})].join(","),z.style.opacity=0,z.style.transform=B_(.75),d&&d(z)}),D=S(h),V=z=>{g==="auto"&&v.start(y.current||0,z),r&&r(I.current,z)};return C.jsx(T,R({appear:i,in:a,nodeRef:I,onEnter:P,onEntered:x,onEntering:b,onExit:L,onExited:D,onExiting:O,addEndListener:V,timeout:g==="auto"?null:g},m,{children:(z,B)=>_.cloneElement(s,R({style:R({opacity:0,transform:B_(.75),visibility:z==="exited"&&!a?"hidden":void 0},NB[z],p,s.props.style),ref:w},B))}))});tA.muiSupportAuto=!0;const bp=tA,OB=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],MB=t=>{const{classes:e,disableUnderline:n}=t,i=tt({root:["root",!n&&"underline"],input:["input"]},l9,e);return R({},e,i)},DB=ee(yg,{shouldForwardProp:t=>Bi(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...gg(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),R({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${zu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${zu.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${zu.disabled}, .${zu.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${zu.disabled}:before`]:{borderBottomStyle:"dotted"}})}),LB=ee(_g,{name:"MuiInput",slot:"Input",overridesResolver:vg})({}),nA=_.forwardRef(function(e,n){var r,i,s,o;const a=rt({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:d=!1,inputComponent:h="input",multiline:f=!1,slotProps:p,slots:g={},type:T="text"}=a,m=ie(a,OB),v=MB(a),E={root:{ownerState:{disableUnderline:l}}},I=p??c?ur(p??c,E):E,w=(r=(i=g.root)!=null?i:u.Root)!=null?r:DB,S=(s=(o=g.input)!=null?o:u.Input)!=null?s:LB;return C.jsx(pw,R({slots:{root:w,input:S},slotProps:I,fullWidth:d,inputComponent:h,multiline:f,ref:n,type:T},m,{classes:v}))});nA.muiName="Input";const rA=nA;function $B(t){return nt("MuiInputLabel",t)}Xe("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const FB=["disableAnimation","margin","shrink","variant","className"],VB=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,l={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${fe(r)}`,o],asterisk:[a&&"asterisk"]},u=tt(l,$B,e);return R({},e,u)},UB=ee(kB,{shouldForwardProp:t=>Bi(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Oc.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>R({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&R({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&R({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&R({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),jB=_.forwardRef(function(e,n){const r=rt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=ie(r,FB),l=lu();let u=s;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=au({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=R({},r,{disableAnimation:i,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),h=VB(d);return C.jsx(UB,R({"data-shrink":u,ownerState:d,ref:n,className:Te(h.root,o)},a,{classes:h}))}),BB=jB;function zB(t){return nt("MuiLinearProgress",t)}Xe("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const WB=["className","color","value","valueBuffer","variant"];let uu=t=>t,zC,WC,HC,qC,KC,GC;const z_=4,HB=mo(zC||(zC=uu`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),qB=mo(WC||(WC=uu`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),KB=mo(HC||(HC=uu`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),GB=t=>{const{classes:e,variant:n,color:r}=t,i={root:["root",`color${fe(r)}`,n],dashed:["dashed",`dashedColor${fe(r)}`],bar1:["bar",`barColor${fe(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${fe(r)}`,n==="buffer"&&`color${fe(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return tt(i,zB,e)},mw=(t,e)=>e==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?vd(t.palette[e].main,.62):gd(t.palette[e].main,.5),QB=ee("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${fe(n.color)}`],e[n.variant]]}})(({ownerState:t,theme:e})=>R({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:mw(e,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),YB=ee("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${fe(n.color)}`]]}})(({ownerState:t,theme:e})=>{const n=mw(e,t.color);return R({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},ou(qC||(qC=uu`
    animation: ${0} 3s infinite linear;
  `),KB)),XB=ee("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${fe(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:t,theme:e})=>R({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${z_}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${z_}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&ou(KC||(KC=uu`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),HB)),JB=ee("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${fe(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:t,theme:e})=>R({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:mw(e,t.color),transition:`transform .${z_}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&ou(GC||(GC=uu`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),qB)),ZB=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiLinearProgress"}),{className:i,color:s="primary",value:o,valueBuffer:a,variant:l="indeterminate"}=r,u=ie(r,WB),c=R({},r,{color:s,variant:l}),d=GB(c),h=Ca(),f={},p={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&o!==void 0){f["aria-valuenow"]=Math.round(o),f["aria-valuemin"]=0,f["aria-valuemax"]=100;let g=o-100;h.direction==="rtl"&&(g=-g),p.bar1.transform=`translateX(${g}%)`}if(l==="buffer"&&a!==void 0){let g=(a||0)-100;h.direction==="rtl"&&(g=-g),p.bar2.transform=`translateX(${g}%)`}return C.jsxs(QB,R({className:Te(d.root,i),ownerState:c,role:"progressbar"},f,{ref:n},u,{children:[l==="buffer"?C.jsx(YB,{className:d.dashed,ownerState:c}):null,C.jsx(XB,{className:d.bar1,ownerState:c,style:p.bar1}),l==="determinate"?null:C.jsx(JB,{className:d.bar2,ownerState:c,style:p.bar2})]}))}),ez=ZB,tz=_.createContext({}),nz=tz;function rz(t){return nt("MuiList",t)}Xe("MuiList",["root","padding","dense","subheader"]);const iz=["children","className","component","dense","disablePadding","subheader"],sz=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return tt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},rz,e)},oz=ee("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>R({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),az=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,c=ie(r,iz),d=_.useMemo(()=>({dense:a}),[a]),h=R({},r,{component:o,dense:a,disablePadding:l}),f=sz(h);return C.jsx(nz.Provider,{value:d,children:C.jsxs(oz,R({as:o,className:Te(f.root,s),ref:n,ownerState:h},c,{children:[u,i]}))})}),lz=az,uz=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Yv(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function QC(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function iA(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Wu(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!iA(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const cz=_.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=e,h=ie(e,uz),f=_.useRef(null),p=_.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Fi(()=>{i&&f.current.focus()},[i]),_.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(y,E)=>{const I=!f.current.style.width;if(y.clientHeight<f.current.clientHeight&&I){const w=`${Sk(ln(y))}px`;f.current.style[E.direction==="rtl"?"paddingLeft":"paddingRight"]=w,f.current.style.width=`calc(100% + ${w})`}return f.current}}),[]);const g=y=>{const E=f.current,I=y.key,w=ln(E).activeElement;if(I==="ArrowDown")y.preventDefault(),Wu(E,w,u,l,Yv);else if(I==="ArrowUp")y.preventDefault(),Wu(E,w,u,l,QC);else if(I==="Home")y.preventDefault(),Wu(E,null,u,l,Yv);else if(I==="End")y.preventDefault(),Wu(E,null,u,l,QC);else if(I.length===1){const S=p.current,b=I.toLowerCase(),P=performance.now();S.keys.length>0&&(P-S.lastTime>500?(S.keys=[],S.repeating=!0,S.previousKeyMatched=!0):S.repeating&&b!==S.keys[0]&&(S.repeating=!1)),S.lastTime=P,S.keys.push(b);const x=w&&!S.repeating&&iA(w,S);S.previousKeyMatched&&(x||Wu(E,w,!1,l,Yv,S))?y.preventDefault():S.previousKeyMatched=!1}c&&c(y)},T=en(f,n);let m=-1;_.Children.forEach(o,(y,E)=>{if(!_.isValidElement(y)){m===E&&(m+=1,m>=o.length&&(m=-1));return}y.props.disabled||(d==="selectedMenu"&&y.props.selected||m===-1)&&(m=E),m===E&&(y.props.disabled||y.props.muiSkipListHighlight||y.type.muiSkipListHighlight)&&(m+=1,m>=o.length&&(m=-1))});const v=_.Children.map(o,(y,E)=>{if(E===m){const I={};return s&&(I.autoFocus=!0),y.props.tabIndex===void 0&&d==="selectedMenu"&&(I.tabIndex=0),_.cloneElement(y,I)}return y});return C.jsx(lz,R({role:"menu",ref:T,className:a,onKeyDown:g,tabIndex:i?0:-1},h,{children:v}))}),dz=cz;function hz(t){return nt("MuiPopover",t)}Xe("MuiPopover",["root","paper"]);const fz=["onEntering"],pz=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],mz=["slotProps"];function YC(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function XC(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function JC(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Xv(t){return typeof t=="function"?t():t}const gz=t=>{const{classes:e}=t;return tt({root:["root"],paper:["paper"]},hz,e)},vz=ee(Q9,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),sA=ee(sw,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),yz=_.forwardRef(function(e,n){var r,i,s;const o=rt({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:h,className:f,container:p,elevation:g=8,marginThreshold:T=16,open:m,PaperProps:v={},slots:y,slotProps:E,transformOrigin:I={vertical:"top",horizontal:"left"},TransitionComponent:w=bp,transitionDuration:S="auto",TransitionProps:{onEntering:b}={},disableScrollLock:P=!1}=o,x=ie(o.TransitionProps,fz),O=ie(o,pz),L=(r=E==null?void 0:E.paper)!=null?r:v,D=_.useRef(),V=en(D,L.ref),z=R({},o,{anchorOrigin:u,anchorReference:d,elevation:g,marginThreshold:T,externalPaperSlotProps:L,transformOrigin:I,TransitionComponent:w,transitionDuration:S,TransitionProps:x}),B=gz(z),j=_.useCallback(()=>{if(d==="anchorPosition")return c;const ye=Xv(l),Ee=(ye&&ye.nodeType===1?ye:ln(D.current).body).getBoundingClientRect();return{top:Ee.top+YC(Ee,u.vertical),left:Ee.left+XC(Ee,u.horizontal)}},[l,u.horizontal,u.vertical,c,d]),A=_.useCallback(ye=>({vertical:YC(ye,I.vertical),horizontal:XC(ye,I.horizontal)}),[I.horizontal,I.vertical]),$=_.useCallback(ye=>{const Le={width:ye.offsetWidth,height:ye.offsetHeight},Ee=A(Le);if(d==="none")return{top:null,left:null,transformOrigin:JC(Ee)};const wn=j();let rn=wn.top-Ee.vertical,Dt=wn.left-Ee.horizontal;const un=rn+Le.height,lt=Dt+Le.width,Ae=$i(Xv(l)),Kt=Ae.innerHeight-T,ht=Ae.innerWidth-T;if(T!==null&&rn<T){const be=rn-T;rn-=be,Ee.vertical+=be}else if(T!==null&&un>Kt){const be=un-Kt;rn-=be,Ee.vertical+=be}if(T!==null&&Dt<T){const be=Dt-T;Dt-=be,Ee.horizontal+=be}else if(lt>ht){const be=lt-ht;Dt-=be,Ee.horizontal+=be}return{top:`${Math.round(rn)}px`,left:`${Math.round(Dt)}px`,transformOrigin:JC(Ee)}},[l,d,j,A,T]),[H,te]=_.useState(m),Y=_.useCallback(()=>{const ye=D.current;if(!ye)return;const Le=$(ye);Le.top!==null&&(ye.style.top=Le.top),Le.left!==null&&(ye.style.left=Le.left),ye.style.transformOrigin=Le.transformOrigin,te(!0)},[$]);_.useEffect(()=>(P&&window.addEventListener("scroll",Y),()=>window.removeEventListener("scroll",Y)),[l,P,Y]);const ce=(ye,Le)=>{b&&b(ye,Le),Y()},Z=()=>{te(!1)};_.useEffect(()=>{m&&Y()}),_.useImperativeHandle(a,()=>m?{updatePosition:()=>{Y()}}:null,[m,Y]),_.useEffect(()=>{if(!m)return;const ye=Hm(()=>{Y()}),Le=$i(l);return Le.addEventListener("resize",ye),()=>{ye.clear(),Le.removeEventListener("resize",ye)}},[l,m,Y]);let de=S;S==="auto"&&!w.muiSupportAuto&&(de=void 0);const ue=p||(l?ln(Xv(l)).body:void 0),Fe=(i=y==null?void 0:y.root)!=null?i:vz,Be=(s=y==null?void 0:y.paper)!=null?s:sA,De=io({elementType:Be,externalSlotProps:R({},L,{style:H?L.style:R({},L.style,{opacity:0})}),additionalProps:{elevation:g,ref:V},ownerState:z,className:Te(B.paper,L==null?void 0:L.className)}),bt=io({elementType:Fe,externalSlotProps:(E==null?void 0:E.root)||{},externalForwardedProps:O,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:ue,open:m},ownerState:z,className:Te(B.root,f)}),{slotProps:ae}=bt,ze=ie(bt,mz);return C.jsx(Fe,R({},ze,!Sp(Fe)&&{slotProps:ae,disableScrollLock:P},{children:C.jsx(w,R({appear:!0,in:m,onEntering:ce,onExited:Z,timeout:de},x,{children:C.jsx(Be,R({},De,{children:h}))}))}))}),_z=yz;function wz(t){return nt("MuiMenu",t)}Xe("MuiMenu",["root","paper","list"]);const Ez=["onEntering"],Tz=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Sz={vertical:"top",horizontal:"right"},Cz={vertical:"top",horizontal:"left"},Iz=t=>{const{classes:e}=t;return tt({root:["root"],paper:["paper"],list:["list"]},wz,e)},Rz=ee(_z,{shouldForwardProp:t=>Bi(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),bz=ee(sA,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),xz=ee(dz,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),Pz=_.forwardRef(function(e,n){var r,i;const s=rt({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:d,open:h,PaperProps:f={},PopoverClasses:p,transitionDuration:g="auto",TransitionProps:{onEntering:T}={},variant:m="selectedMenu",slots:v={},slotProps:y={}}=s,E=ie(s.TransitionProps,Ez),I=ie(s,Tz),w=Ca(),S=w.direction==="rtl",b=R({},s,{autoFocus:o,disableAutoFocusItem:u,MenuListProps:c,onEntering:T,PaperProps:f,transitionDuration:g,TransitionProps:E,variant:m}),P=Iz(b),x=o&&!u&&h,O=_.useRef(null),L=($,H)=>{O.current&&O.current.adjustStyleForScrollbar($,w),T&&T($,H)},D=$=>{$.key==="Tab"&&($.preventDefault(),d&&d($,"tabKeyDown"))};let V=-1;_.Children.map(a,($,H)=>{_.isValidElement($)&&($.props.disabled||(m==="selectedMenu"&&$.props.selected||V===-1)&&(V=H))});const z=(r=v.paper)!=null?r:bz,B=(i=y.paper)!=null?i:f,j=io({elementType:v.root,externalSlotProps:y.root,ownerState:b,className:[P.root,l]}),A=io({elementType:z,externalSlotProps:B,ownerState:b,className:P.paper});return C.jsx(Rz,R({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:S?"right":"left"},transformOrigin:S?Sz:Cz,slots:{paper:z,root:v.root},slotProps:{root:j,paper:A},open:h,ref:n,transitionDuration:g,TransitionProps:R({onEntering:L},E),ownerState:b},I,{classes:p,children:C.jsx(xz,R({onKeyDown:D,actions:O,autoFocus:o&&(V===-1||u),autoFocusItem:x,variant:m},c,{className:Te(P.list,c.className),children:a}))}))}),kz=Pz;function Az(t){return nt("MuiNativeSelect",t)}const Nz=Xe("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),gw=Nz,Oz=["className","disabled","error","IconComponent","inputRef","variant"],Mz=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${fe(n)}`,s&&"iconOpen",r&&"disabled"]};return tt(a,Az,e)},oA=({ownerState:t,theme:e})=>R({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":R({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${gw.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),Dz=ee("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Bi,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${gw.multiple}`]:e.multiple}]}})(oA),aA=({ownerState:t,theme:e})=>R({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${gw.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),Lz=ee("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${fe(n.variant)}`],n.open&&e.iconOpen]}})(aA),$z=_.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=e,u=ie(e,Oz),c=R({},e,{disabled:i,variant:l,error:s}),d=Mz(c);return C.jsxs(_.Fragment,{children:[C.jsx(Dz,R({ownerState:c,className:Te(d.select,r),disabled:i,ref:a||n},u)),e.multiple?null:C.jsx(Lz,{as:o,ownerState:c,className:d.icon})]})}),Fz=$z;var ZC;const Vz=["children","classes","className","label","notched"],Uz=ee("fieldset",{shouldForwardProp:Bi})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),jz=ee("legend",{shouldForwardProp:Bi})(({ownerState:t,theme:e})=>R({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&R({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function Bz(t){const{className:e,label:n,notched:r}=t,i=ie(t,Vz),s=n!=null&&n!=="",o=R({},t,{notched:r,withLabel:s});return C.jsx(Uz,R({"aria-hidden":!0,className:e,ownerState:o},i,{children:C.jsx(jz,{ownerState:o,children:s?C.jsx("span",{children:n}):ZC||(ZC=C.jsx("span",{className:"notranslate",children:"​"}))})}))}const zz=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Wz=t=>{const{classes:e}=t,r=tt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},c9,e);return R({},e,r)},Hz=ee(yg,{shouldForwardProp:t=>Bi(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:gg})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return R({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Is.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Is.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Is.focused} .${Is.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Is.error} .${Is.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Is.disabled} .${Is.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&R({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),qz=ee(Bz,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),Kz=ee(_g,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:vg})(({theme:t,ownerState:e})=>R({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),lA=_.forwardRef(function(e,n){var r,i,s,o,a;const l=rt({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:d="input",label:h,multiline:f=!1,notched:p,slots:g={},type:T="text"}=l,m=ie(l,zz),v=Wz(l),y=lu(),E=au({props:l,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),I=R({},l,{color:E.color||"primary",disabled:E.disabled,error:E.error,focused:E.focused,formControl:y,fullWidth:c,hiddenLabel:E.hiddenLabel,multiline:f,size:E.size,type:T}),w=(r=(i=g.root)!=null?i:u.Root)!=null?r:Hz,S=(s=(o=g.input)!=null?o:u.Input)!=null?s:Kz;return C.jsx(pw,R({slots:{root:w,input:S},renderSuffix:b=>C.jsx(qz,{ownerState:I,className:v.notchedOutline,label:h!=null&&h!==""&&E.required?a||(a=C.jsxs(_.Fragment,{children:[h," ","*"]})):h,notched:typeof p<"u"?p:!!(b.startAdornment||b.filled||b.focused)}),fullWidth:c,inputComponent:d,multiline:f,ref:n,type:T},m,{classes:R({},v,{notchedOutline:null})}))});lA.muiName="Input";const uA=lA;function Gz(t){return nt("MuiSelect",t)}const Hu=Xe("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var eI;const Qz=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Yz=ee("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Hu.select}`]:e.select},{[`&.${Hu.select}`]:e[n.variant]},{[`&.${Hu.error}`]:e.error},{[`&.${Hu.multiple}`]:e.multiple}]}})(oA,{[`&.${Hu.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Xz=ee("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${fe(n.variant)}`],n.open&&e.iconOpen]}})(aA),Jz=ee("input",{shouldForwardProp:t=>QU(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function tI(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function Zz(t){return t==null||typeof t=="string"&&!t.trim()}const e8=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${fe(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return tt(a,Gz,e)},t8=_.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:l,className:u,defaultOpen:c,defaultValue:d,disabled:h,displayEmpty:f,error:p=!1,IconComponent:g,inputRef:T,labelId:m,MenuProps:v={},multiple:y,name:E,onBlur:I,onChange:w,onClose:S,onFocus:b,onOpen:P,open:x,readOnly:O,renderValue:L,SelectDisplayProps:D={},tabIndex:V,value:z,variant:B="standard"}=e,j=ie(e,Qz),[A,$]=yp({controlled:z,default:d,name:"Select"}),[H,te]=yp({controlled:x,default:c,name:"Select"}),Y=_.useRef(null),ce=_.useRef(null),[Z,de]=_.useState(null),{current:ue}=_.useRef(x!=null),[Fe,Be]=_.useState(),De=en(n,T),bt=_.useCallback(oe=>{ce.current=oe,oe&&de(oe)},[]),ae=Z==null?void 0:Z.parentNode;_.useImperativeHandle(De,()=>({focus:()=>{ce.current.focus()},node:Y.current,value:A}),[A]),_.useEffect(()=>{c&&H&&Z&&!ue&&(Be(a?null:ae.clientWidth),ce.current.focus())},[Z,a]),_.useEffect(()=>{o&&ce.current.focus()},[o]),_.useEffect(()=>{if(!m)return;const oe=ln(ce.current).getElementById(m);if(oe){const qe=()=>{getSelection().isCollapsed&&ce.current.focus()};return oe.addEventListener("click",qe),()=>{oe.removeEventListener("click",qe)}}},[m]);const ze=(oe,qe)=>{oe?P&&P(qe):S&&S(qe),ue||(Be(a?null:ae.clientWidth),te(oe))},ye=oe=>{oe.button===0&&(oe.preventDefault(),ce.current.focus(),ze(!0,oe))},Le=oe=>{ze(!1,oe)},Ee=_.Children.toArray(l),wn=oe=>{const qe=Ee.find(ot=>ot.props.value===oe.target.value);qe!==void 0&&($(qe.props.value),w&&w(oe,qe))},rn=oe=>qe=>{let ot;if(qe.currentTarget.hasAttribute("tabindex")){if(y){ot=Array.isArray(A)?A.slice():[];const fr=A.indexOf(oe.props.value);fr===-1?ot.push(oe.props.value):ot.splice(fr,1)}else ot=oe.props.value;if(oe.props.onClick&&oe.props.onClick(qe),A!==ot&&($(ot),w)){const fr=qe.nativeEvent||qe,Wi=new fr.constructor(fr.type,fr);Object.defineProperty(Wi,"target",{writable:!0,value:{value:ot,name:E}}),w(Wi,oe)}y||ze(!1,qe)}},Dt=oe=>{O||[" ","ArrowUp","ArrowDown","Enter"].indexOf(oe.key)!==-1&&(oe.preventDefault(),ze(!0,oe))},un=Z!==null&&H,lt=oe=>{!un&&I&&(Object.defineProperty(oe,"target",{writable:!0,value:{value:A,name:E}}),I(oe))};delete j["aria-invalid"];let Ae,Kt;const ht=[];let be=!1;(Rp({value:A})||f)&&(L?Ae=L(A):be=!0);const xt=Ee.map(oe=>{if(!_.isValidElement(oe))return null;let qe;if(y){if(!Array.isArray(A))throw new Error(ro(2));qe=A.some(ot=>tI(ot,oe.props.value)),qe&&be&&ht.push(oe.props.children)}else qe=tI(A,oe.props.value),qe&&be&&(Kt=oe.props.children);return _.cloneElement(oe,{"aria-selected":qe?"true":"false",onClick:rn(oe),onKeyUp:ot=>{ot.key===" "&&ot.preventDefault(),oe.props.onKeyUp&&oe.props.onKeyUp(ot)},role:"option",selected:qe,value:void 0,"data-value":oe.props.value})});be&&(y?ht.length===0?Ae=null:Ae=ht.reduce((oe,qe,ot)=>(oe.push(qe),ot<ht.length-1&&oe.push(", "),oe),[]):Ae=Kt);let sn=Fe;!a&&ue&&Z&&(sn=ae.clientWidth);let Gt;typeof V<"u"?Gt=V:Gt=h?null:0;const We=D.id||(E?`mui-component-select-${E}`:void 0),re=R({},e,{variant:B,value:A,open:un,error:p}),Lt=e8(re),Pr=R({},v.PaperProps,(r=v.slotProps)==null?void 0:r.paper),Zn=qm();return C.jsxs(_.Fragment,{children:[C.jsx(Yz,R({ref:bt,tabIndex:Gt,role:"combobox","aria-controls":Zn,"aria-disabled":h?"true":void 0,"aria-expanded":un?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[m,We].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Dt,onMouseDown:h||O?null:ye,onBlur:lt,onFocus:b},D,{ownerState:re,className:Te(D.className,Lt.select,u),id:We,children:Zz(Ae)?eI||(eI=C.jsx("span",{className:"notranslate",children:"​"})):Ae})),C.jsx(Jz,R({"aria-invalid":p,value:Array.isArray(A)?A.join(","):A,name:E,ref:Y,"aria-hidden":!0,onChange:wn,tabIndex:-1,disabled:h,className:Lt.nativeInput,autoFocus:o,ownerState:re},j)),C.jsx(Xz,{as:g,className:Lt.icon,ownerState:re}),C.jsx(kz,R({id:`menu-${E||""}`,anchorEl:ae,open:un,onClose:Le,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},v,{MenuListProps:R({"aria-labelledby":m,role:"listbox","aria-multiselectable":y?"true":void 0,disableListWrap:!0,id:Zn},v.MenuListProps),slotProps:R({},v.slotProps,{paper:R({},Pr,{style:R({minWidth:sn},Pr!=null?Pr.style:null)})}),children:xt}))]})}),n8=t8,r8=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],i8=["root"],s8=t=>{const{classes:e}=t;return e},vw={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Bi(t)&&t!=="variant",slot:"Root"},o8=ee(rA,vw)(""),a8=ee(uA,vw)(""),l8=ee(eA,vw)(""),cA=_.forwardRef(function(e,n){const r=rt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=p9,id:d,input:h,inputProps:f,label:p,labelId:g,MenuProps:T,multiple:m=!1,native:v=!1,onClose:y,onOpen:E,open:I,renderValue:w,SelectDisplayProps:S,variant:b="outlined"}=r,P=ie(r,r8),x=v?Fz:n8,O=lu(),L=au({props:r,muiFormControl:O,states:["variant","error"]}),D=L.variant||b,V=R({},r,{variant:D,classes:o}),z=s8(V),B=ie(z,i8),j=h||{standard:C.jsx(o8,{ownerState:V}),outlined:C.jsx(a8,{label:p,ownerState:V}),filled:C.jsx(l8,{ownerState:V})}[D],A=en(n,j.ref);return C.jsx(_.Fragment,{children:_.cloneElement(j,R({inputComponent:x,inputProps:R({children:s,error:L.error,IconComponent:c,variant:D,type:void 0,multiple:m},v?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:g,MenuProps:T,onClose:y,onOpen:E,open:I,renderValue:w,SelectDisplayProps:R({id:d},S)},f,{classes:f?ur(B,f.classes):B},h?h.props.inputProps:{})},(m&&v||u)&&D==="outlined"?{notched:!0}:{},{ref:A,className:Te(j.props.className,a,z.root)},!h&&{variant:D},P))})});cA.muiName="Select";const u8=cA;function c8(t){return nt("MuiSnackbarContent",t)}Xe("MuiSnackbarContent",["root","message","action"]);const d8=["action","className","message","role"],h8=t=>{const{classes:e}=t;return tt({root:["root"],action:["action"],message:["message"]},c8,e)},f8=ee(sw,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,n=vU(t.palette.background.default,e);return R({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),p8=ee("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),m8=ee("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),g8=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSnackbarContent"}),{action:i,className:s,message:o,role:a="alert"}=r,l=ie(r,d8),u=r,c=h8(u);return C.jsxs(f8,R({role:a,square:!0,elevation:6,className:Te(c.root,s),ownerState:u,ref:n},l,{children:[C.jsx(p8,{className:c.message,ownerState:u,children:o}),i?C.jsx(m8,{className:c.action,ownerState:u,children:i}):null]}))}),v8=g8;function y8(t){return nt("MuiSnackbar",t)}Xe("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const _8=["onEnter","onExited"],w8=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],E8=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${fe(n.vertical)}${fe(n.horizontal)}`]};return tt(r,y8,e)},nI=ee("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${fe(n.anchorOrigin.vertical)}${fe(n.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return R({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:R({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&n,e.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},e.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),T8=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSnackbar"}),i=Ca(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:u=null,children:c,className:d,ClickAwayListenerProps:h,ContentProps:f,disableWindowBlurListener:p=!1,message:g,open:T,TransitionComponent:m=bp,transitionDuration:v=s,TransitionProps:{onEnter:y,onExited:E}={}}=r,I=ie(r.TransitionProps,_8),w=ie(r,w8),S=R({},r,{anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:u,disableWindowBlurListener:p,TransitionComponent:m,transitionDuration:v}),b=E8(S),{getRootProps:P,onClickAway:x}=qj(R({},S)),[O,L]=_.useState(!0),D=io({elementType:nI,getSlotProps:P,externalForwardedProps:w,ownerState:S,additionalProps:{ref:n},className:[b.root,d]}),V=B=>{L(!0),E&&E(B)},z=(B,j)=>{L(!1),y&&y(B,j)};return!T&&O?null:C.jsx(f6,R({onClickAway:x},h,{children:C.jsx(nI,R({},D,{children:C.jsx(m,R({appear:!0,in:T,timeout:v,direction:a==="top"?"down":"up",onEnter:z,onExited:V},I,{children:c||C.jsx(v8,R({message:g,action:o},f))}))}))}))}),S8=T8;function C8(t){return nt("MuiTooltip",t)}const I8=Xe("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Us=I8,R8=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function b8(t){return Math.round(t*1e5)/1e5}const x8=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:s}=t,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${fe(s.split("-")[0])}`],arrow:["arrow"]};return tt(o,C8,e)},P8=ee(Yk,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>R({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${Us.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Us.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Us.arrow}`]:R({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Us.arrow}`]:R({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),k8=ee("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${fe(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>R({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:sa(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${b8(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${Us.popper}[data-popper-placement*="left"] &`]:R({transformOrigin:"right center"},e.isRtl?R({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):R({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${Us.popper}[data-popper-placement*="right"] &`]:R({transformOrigin:"left center"},e.isRtl?R({marginRight:"14px"},e.touch&&{marginRight:"24px"}):R({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${Us.popper}[data-popper-placement*="top"] &`]:R({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${Us.popper}[data-popper-placement*="bottom"] &`]:R({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),A8=ee("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:sa(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let tf=!1;const rI=new Gd;let qu={x:0,y:0};function nf(t,e){return n=>{e&&e(n),t(n)}}const N8=_.forwardRef(function(e,n){var r,i,s,o,a,l,u,c,d,h,f,p,g,T,m,v,y,E,I;const w=rt({props:e,name:"MuiTooltip"}),{arrow:S=!1,children:b,components:P={},componentsProps:x={},describeChild:O=!1,disableFocusListener:L=!1,disableHoverListener:D=!1,disableInteractive:V=!1,disableTouchListener:z=!1,enterDelay:B=100,enterNextDelay:j=0,enterTouchDelay:A=700,followCursor:$=!1,id:H,leaveDelay:te=0,leaveTouchDelay:Y=1500,onClose:ce,onOpen:Z,open:de,placement:ue="bottom",PopperComponent:Fe,PopperProps:Be={},slotProps:De={},slots:bt={},title:ae,TransitionComponent:ze=bp,TransitionProps:ye}=w,Le=ie(w,R8),Ee=_.isValidElement(b)?b:C.jsx("span",{children:b}),wn=Ca(),rn=wn.direction==="rtl",[Dt,un]=_.useState(),[lt,Ae]=_.useState(null),Kt=_.useRef(!1),ht=V||$,be=$o(),xt=$o(),sn=$o(),Gt=$o(),[We,re]=yp({controlled:de,default:!1,name:"Tooltip",state:"open"});let Lt=We;const Pr=qm(H),Zn=_.useRef(),oe=Fr(()=>{Zn.current!==void 0&&(document.body.style.WebkitUserSelect=Zn.current,Zn.current=void 0),Gt.clear()});_.useEffect(()=>oe,[oe]);const qe=Ie=>{rI.clear(),tf=!0,re(!0),Z&&!Lt&&Z(Ie)},ot=Fr(Ie=>{rI.start(800+te,()=>{tf=!1}),re(!1),ce&&Lt&&ce(Ie),be.start(wn.transitions.duration.shortest,()=>{Kt.current=!1})}),fr=Ie=>{Kt.current&&Ie.type!=="touchstart"||(Dt&&Dt.removeAttribute("title"),xt.clear(),sn.clear(),B||tf&&j?xt.start(tf?j:B,()=>{qe(Ie)}):qe(Ie))},Wi=Ie=>{xt.clear(),sn.start(te,()=>{ot(Ie)})},{isFocusVisibleRef:Ph,onBlur:kh,onFocus:mv,ref:Ah}=W1(),[,Nh]=_.useState(!1),k=Ie=>{kh(Ie),Ph.current===!1&&(Nh(!1),Wi(Ie))},N=Ie=>{Dt||un(Ie.currentTarget),mv(Ie),Ph.current===!0&&(Nh(!0),fr(Ie))},M=Ie=>{Kt.current=!0;const Re=Ee.props;Re.onTouchStart&&Re.onTouchStart(Ie)},q=fr,ne=Wi,xe=Ie=>{M(Ie),sn.clear(),be.clear(),oe(),Zn.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Gt.start(A,()=>{document.body.style.WebkitUserSelect=Zn.current,fr(Ie)})},pe=Ie=>{Ee.props.onTouchEnd&&Ee.props.onTouchEnd(Ie),oe(),sn.start(Y,()=>{ot(Ie)})};_.useEffect(()=>{if(!Lt)return;function Ie(Re){(Re.key==="Escape"||Re.key==="Esc")&&ot(Re)}return document.addEventListener("keydown",Ie),()=>{document.removeEventListener("keydown",Ie)}},[ot,Lt]);const he=en(Ee.ref,Ah,un,n);!ae&&ae!==0&&(Lt=!1);const se=_.useRef(),ke=Ie=>{const Re=Ee.props;Re.onMouseMove&&Re.onMouseMove(Ie),qu={x:Ie.clientX,y:Ie.clientY},se.current&&se.current.update()},Tt={},_e=typeof ae=="string";O?(Tt.title=!Lt&&_e&&!D?ae:null,Tt["aria-describedby"]=Lt?Pr:null):(Tt["aria-label"]=_e?ae:null,Tt["aria-labelledby"]=Lt&&!_e?Pr:null);const Pe=R({},Tt,Le,Ee.props,{className:Te(Le.className,Ee.props.className),onTouchStart:M,ref:he},$?{onMouseMove:ke}:{}),Pt={};z||(Pe.onTouchStart=xe,Pe.onTouchEnd=pe),D||(Pe.onMouseOver=nf(q,Pe.onMouseOver),Pe.onMouseLeave=nf(ne,Pe.onMouseLeave),ht||(Pt.onMouseOver=q,Pt.onMouseLeave=ne)),L||(Pe.onFocus=nf(N,Pe.onFocus),Pe.onBlur=nf(k,Pe.onBlur),ht||(Pt.onFocus=N,Pt.onBlur=k));const er=_.useMemo(()=>{var Ie;let Re=[{name:"arrow",enabled:!!lt,options:{element:lt,padding:4}}];return(Ie=Be.popperOptions)!=null&&Ie.modifiers&&(Re=Re.concat(Be.popperOptions.modifiers)),R({},Be.popperOptions,{modifiers:Re})},[lt,Be]),St=R({},w,{isRtl:rn,arrow:S,disableInteractive:ht,placement:ue,PopperComponentProp:Fe,touch:Kt.current}),pi=x8(St),Oa=(r=(i=bt.popper)!=null?i:P.Popper)!=null?r:P8,Hi=(s=(o=(a=bt.transition)!=null?a:P.Transition)!=null?o:ze)!=null?s:bp,Xr=(l=(u=bt.tooltip)!=null?u:P.Tooltip)!=null?l:k8,mi=(c=(d=bt.arrow)!=null?d:P.Arrow)!=null?c:A8,Cu=uc(Oa,R({},Be,(h=De.popper)!=null?h:x.popper,{className:Te(pi.popper,Be==null?void 0:Be.className,(f=(p=De.popper)!=null?p:x.popper)==null?void 0:f.className)}),St),Iu=uc(Hi,R({},ye,(g=De.transition)!=null?g:x.transition),St),Ru=uc(Xr,R({},(T=De.tooltip)!=null?T:x.tooltip,{className:Te(pi.tooltip,(m=(v=De.tooltip)!=null?v:x.tooltip)==null?void 0:m.className)}),St),Ss=uc(mi,R({},(y=De.arrow)!=null?y:x.arrow,{className:Te(pi.arrow,(E=(I=De.arrow)!=null?I:x.arrow)==null?void 0:E.className)}),St);return C.jsxs(_.Fragment,{children:[_.cloneElement(Ee,Pe),C.jsx(Oa,R({as:Fe??Yk,placement:ue,anchorEl:$?{getBoundingClientRect:()=>({top:qu.y,left:qu.x,right:qu.x,bottom:qu.y,width:0,height:0})}:Dt,popperRef:se,open:Dt?Lt:!1,id:Pr,transition:!0},Pt,Cu,{popperOptions:er,children:({TransitionProps:Ie})=>C.jsx(Hi,R({timeout:wn.transitions.duration.shorter},Ie,Iu,{children:C.jsxs(Xr,R({},Ru,{children:[ae,S?C.jsx(mi,R({},Ss,{ref:Ae})):null]}))}))}))]})}),O8=N8;function M8(t){return nt("MuiTextField",t)}Xe("MuiTextField",["root"]);const D8=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],L8={standard:rA,filled:eA,outlined:uA},$8=t=>{const{classes:e}=t;return tt({root:["root"]},M8,e)},F8=ee(mB,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),V8=_.forwardRef(function(e,n){const r=rt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:f=!1,helperText:p,id:g,InputLabelProps:T,inputProps:m,InputProps:v,inputRef:y,label:E,maxRows:I,minRows:w,multiline:S=!1,name:b,onBlur:P,onChange:x,onFocus:O,placeholder:L,required:D=!1,rows:V,select:z=!1,SelectProps:B,type:j,value:A,variant:$="outlined"}=r,H=ie(r,D8),te=R({},r,{autoFocus:s,color:l,disabled:c,error:d,fullWidth:f,multiline:S,required:D,select:z,variant:$}),Y=$8(te),ce={};$==="outlined"&&(T&&typeof T.shrink<"u"&&(ce.notched=T.shrink),ce.label=E),z&&((!B||!B.native)&&(ce.id=void 0),ce["aria-describedby"]=void 0);const Z=qm(g),de=p&&Z?`${Z}-helper-text`:void 0,ue=E&&Z?`${Z}-label`:void 0,Fe=L8[$],Be=C.jsx(Fe,R({"aria-describedby":de,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:f,multiline:S,name:b,rows:V,maxRows:I,minRows:w,type:j,value:A,id:Z,inputRef:y,onBlur:P,onChange:x,onFocus:O,placeholder:L,inputProps:m},ce,v));return C.jsxs(F8,R({className:Te(Y.root,a),disabled:c,error:d,fullWidth:f,ref:n,required:D,color:l,variant:$,ownerState:te},H,{children:[E!=null&&E!==""&&C.jsx(BB,R({htmlFor:Z,id:ue},T,{children:E})),z?C.jsx(u8,R({"aria-describedby":de,id:Z,labelId:ue,value:A,input:Be},B,{children:o})):Be,p&&C.jsx(TB,R({id:de},h,{children:p}))]}))}),Mc=V8,dA=_.createContext(null),U8=({children:t})=>{const[e,n]=_.useState(()=>{const i=localStorage.getItem("darkMode");return i?JSON.parse(i):!1}),r=()=>{n(i=>{const s=!i;return localStorage.setItem("darkMode",JSON.stringify(s)),s})};return _.useEffect(()=>{const i=document.documentElement;e?i.classList.add("dark"):i.classList.remove("dark")},[e]),C.jsx(dA.Provider,{value:{isDarkMode:e,toggleTheme:r},children:t})},Ia=()=>_.useContext(dA),j8=Ok({palette:{primary:{main:"#000000"},dark:{main:"#d6d6d6"},secondary:{main:"#CBFF6A"},error:{main:Ro.A400}}});var iI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(t,e){if(!t)throw cu(e)},cu=function(t){return new Error("Firebase Database ("+hA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},B8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},yw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):B8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new z8;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class z8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pA=function(t){const e=fA(t);return yw.encodeByteArray(e,!0)},xp=function(t){return pA(t).replace(/\./g,"")},Pp=function(t){try{return yw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W8(t){return mA(void 0,t)}function mA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!H8(n)||(t[n]=mA(t[n],e[n]));return t}function H8(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8=()=>q8().__FIREBASE_DEFAULTS__,G8=()=>{if(typeof process>"u"||typeof iI>"u")return;const t=iI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Q8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Pp(t[1]);return e&&JSON.parse(e)},Eg=()=>{try{return K8()||G8()||Q8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gA=t=>{var e,n;return(n=(e=Eg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vA=t=>{const e=gA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},yA=()=>{var t;return(t=Eg())===null||t===void 0?void 0:t.config},_A=t=>{var e;return(e=Eg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xp(JSON.stringify(n)),xp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ww(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function Y8(){var t;const e=(t=Eg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function J8(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TA(){return hA.NODE_ADMIN===!0}function Z8(){return!Y8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SA(){try{return typeof indexedDB=="object"}catch{return!1}}function e7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7="FirebaseError";class zi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=t7,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eh.prototype.create)}}class eh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?n7(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new zi(i,a,r)}}function n7(t,e){return t.replace(r7,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const r7=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t){return JSON.parse(t)}function In(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Ed(Pp(s[0])||""),n=Ed(Pp(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},i7=function(t){const e=CA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},s7=function(t){const e=CA(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Bl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function W_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function kp(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Td(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(sI(s)&&sI(o)){if(!Td(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function sI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function dc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function a7(t,e){const n=new l7(t,e);return n.subscribe.bind(n)}class l7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");u7(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Jv),i.error===void 0&&(i.error=Jv),i.complete===void 0&&(i.complete=Jv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function u7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jv(){}function c7(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d7=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,G(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Tg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t){return t&&t._delegate?t._delegate:t}class fs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h7{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _w;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p7(e))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Po){return this.instances.has(e)}getOptions(e=Po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:f7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Po){return this.component?this.component.multipleInstances?e:Po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f7(t){return t===Po?void 0:t}function p7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new h7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const g7={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},v7=Ne.INFO,y7={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},_7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=y7[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sg{constructor(e){this.name=e,this._logLevel=v7,this._logHandler=_7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const w7=(t,e)=>e.some(n=>t instanceof n);let oI,aI;function E7(){return oI||(oI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T7(){return aI||(aI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IA=new WeakMap,H_=new WeakMap,RA=new WeakMap,Zv=new WeakMap,Ew=new WeakMap;function S7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ys(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&IA.set(n,t)}).catch(()=>{}),Ew.set(e,t),e}function C7(t){if(H_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});H_.set(t,e)}let q_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return H_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||RA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ys(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function I7(t){q_=t(q_)}function R7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ey(this),e,...n);return RA.set(r,e.sort?e.sort():[e]),Ys(r)}:T7().includes(t)?function(...e){return t.apply(ey(this),e),Ys(IA.get(this))}:function(...e){return Ys(t.apply(ey(this),e))}}function b7(t){return typeof t=="function"?R7(t):(t instanceof IDBTransaction&&C7(t),w7(t,E7())?new Proxy(t,q_):t)}function Ys(t){if(t instanceof IDBRequest)return S7(t);if(Zv.has(t))return Zv.get(t);const e=b7(t);return e!==t&&(Zv.set(t,e),Ew.set(e,t)),e}const ey=t=>Ew.get(t);function x7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ys(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ys(o.result),l.oldVersion,l.newVersion,Ys(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const P7=["get","getKey","getAll","getAllKeys","count"],k7=["put","add","delete","clear"],ty=new Map;function lI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ty.get(e))return ty.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=k7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||P7.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return ty.set(e,s),s}I7(t=>({...t,get:(e,n,r)=>lI(e,n)||t.get(e,n,r),has:(e,n)=>!!lI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(N7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function N7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const K_="@firebase/app",uI="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new Sg("@firebase/app"),O7="@firebase/app-compat",M7="@firebase/analytics-compat",D7="@firebase/analytics",L7="@firebase/app-check-compat",$7="@firebase/app-check",F7="@firebase/auth",V7="@firebase/auth-compat",U7="@firebase/database",j7="@firebase/database-compat",B7="@firebase/functions",z7="@firebase/functions-compat",W7="@firebase/installations",H7="@firebase/installations-compat",q7="@firebase/messaging",K7="@firebase/messaging-compat",G7="@firebase/performance",Q7="@firebase/performance-compat",Y7="@firebase/remote-config",X7="@firebase/remote-config-compat",J7="@firebase/storage",Z7="@firebase/storage-compat",eW="@firebase/firestore",tW="@firebase/firestore-compat",nW="firebase",rW="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="[DEFAULT]",iW={[K_]:"fire-core",[O7]:"fire-core-compat",[D7]:"fire-analytics",[M7]:"fire-analytics-compat",[$7]:"fire-app-check",[L7]:"fire-app-check-compat",[F7]:"fire-auth",[V7]:"fire-auth-compat",[U7]:"fire-rtdb",[j7]:"fire-rtdb-compat",[B7]:"fire-fn",[z7]:"fire-fn-compat",[W7]:"fire-iid",[H7]:"fire-iid-compat",[q7]:"fire-fcm",[K7]:"fire-fcm-compat",[G7]:"fire-perf",[Q7]:"fire-perf-compat",[Y7]:"fire-rc",[X7]:"fire-rc-compat",[J7]:"fire-gcs",[Z7]:"fire-gcs-compat",[eW]:"fire-fst",[tW]:"fire-fst-compat","fire-js":"fire-js",[nW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=new Map,Q_=new Map;function sW(t,e){try{t.container.addComponent(e)}catch(n){aa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function so(t){const e=t.name;if(Q_.has(e))return aa.debug(`There were multiple attempts to register component ${e}.`),!1;Q_.set(e,t);for(const n of Ap.values())sW(n,t);return!0}function Cg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Xs=new eh("app","Firebase",oW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=rW;function bA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:G_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xs.create("bad-app-name",{appName:String(i)});if(n||(n=yA()),!n)throw Xs.create("no-options");const s=Ap.get(i);if(s){if(Td(n,s.options)&&Td(r,s.config))return s;throw Xs.create("duplicate-app",{appName:i})}const o=new m7(i);for(const l of Q_.values())o.addComponent(l);const a=new aW(n,r,o);return Ap.set(i,a),a}function Tw(t=G_){const e=Ap.get(t);if(!e&&t===G_&&yA())return bA();if(!e)throw Xs.create("no-app",{appName:t});return e}function Br(t,e,n){var r;let i=(r=iW[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),aa.warn(a.join(" "));return}so(new fs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW="firebase-heartbeat-database",uW=1,Sd="firebase-heartbeat-store";let ny=null;function xA(){return ny||(ny=x7(lW,uW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xs.create("idb-open",{originalErrorMessage:t.message})})),ny}async function cW(t){try{const n=(await xA()).transaction(Sd),r=await n.objectStore(Sd).get(PA(t));return await n.done,r}catch(e){if(e instanceof zi)aa.warn(e.message);else{const n=Xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});aa.warn(n.message)}}}async function cI(t,e){try{const r=(await xA()).transaction(Sd,"readwrite");await r.objectStore(Sd).put(e,PA(t)),await r.done}catch(n){if(n instanceof zi)aa.warn(n.message);else{const r=Xs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});aa.warn(r.message)}}}function PA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dW=1024,hW=30*24*60*60*1e3;class fW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=dI();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=hW}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dI(),{heartbeatsToSend:r,unsentEntries:i}=pW(this._heartbeatsCache.heartbeats),s=xp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function dI(){return new Date().toISOString().substring(0,10)}function pW(t,e=dW){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),hI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),hI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class mW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SA()?e7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await cW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function hI(t){return xp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gW(t){so(new fs("platform-logger",e=>new A7(e),"PRIVATE")),so(new fs("heartbeat",e=>new fW(e),"PRIVATE")),Br(K_,uI,t),Br(K_,uI,"esm2017"),Br("fire-js","")}gW("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="firebasestorage.googleapis.com",AA="storageBucket",vW=2*60*1e3,yW=10*60*1e3,_W=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt extends zi{constructor(e,n,r=0){super(ry(e),`Firebase Storage: ${n} (${ry(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ry(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wt||(wt={}));function ry(t){return"storage/"+t}function Sw(){const t="An unknown error occurred, please check the error payload for server response.";return new Mt(wt.UNKNOWN,t)}function wW(t){return new Mt(wt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function EW(t){return new Mt(wt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function TW(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mt(wt.UNAUTHENTICATED,t)}function SW(){return new Mt(wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function CW(t){return new Mt(wt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function NA(){return new Mt(wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function OA(){return new Mt(wt.CANCELED,"User canceled the upload/download.")}function IW(t){return new Mt(wt.INVALID_URL,"Invalid URL '"+t+"'.")}function RW(t){return new Mt(wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function bW(){return new Mt(wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+AA+"' property when initializing the app?")}function MA(){return new Mt(wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xW(){return new Mt(wt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function PW(){return new Mt(wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function kW(t){return new Mt(wt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Y_(t){return new Mt(wt.INVALID_ARGUMENT,t)}function DA(){return new Mt(wt.APP_DELETED,"The Firebase app was deleted.")}function AW(t){return new Mt(wt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Dc(t,e){return new Mt(wt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ku(t){throw new Mt(wt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=yr.makeFromUrl(e,n)}catch{return new yr(e,"")}if(r.path==="")return r;throw RW(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(E){E.path_=decodeURIComponent(E.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),p={bucket:1,path:3},g=n===kA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",m=new RegExp(`^https?://${g}/${i}/${T}`,"i"),y=[{regex:a,indices:l,postModify:s},{regex:f,indices:p,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let E=0;E<y.length;E++){const I=y[E],w=I.regex.exec(e);if(w){const S=w[I.indices.bucket];let b=w[I.indices.path];b||(b=""),r=new yr(S,b),I.postModify(r);break}}if(r==null)throw IW(e);return r}}class NW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OW(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...T){u||(u=!0,e.apply(null,T))}function d(T){i=setTimeout(()=>{i=null,t(f,l())},T)}function h(){s&&clearTimeout(s)}function f(T,...m){if(u){h();return}if(T){h(),c.call(null,T,...m);return}if(l()||o){h(),c.call(null,T,...m);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,d(y)}let p=!1;function g(T){p||(p=!0,h(),!u&&(i!==null?(T||(a=2),clearTimeout(i),d(0)):T||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function MW(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DW(t){return t!==void 0}function LW(t){return typeof t=="function"}function $W(t){return typeof t=="object"&&!Array.isArray(t)}function Ig(t){return typeof t=="string"||t instanceof String}function fI(t){return Cw()&&t instanceof Blob}function Cw(){return typeof Blob<"u"}function pI(t,e,n,r){if(r<e)throw Y_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Y_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function LA(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ko;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ko||(Ko={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FW{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new rf(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ko.NO_ERROR,l=s.getStatus();if(!a||$A(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Ko.ABORT;r(!1,new rf(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new rf(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());DW(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Sw();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?DA():OA();o(l)}else{const l=NA();o(l)}};this.canceled_?n(!1,new rf(!1,null,!0)):this.backoffId_=OW(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&MW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function VW(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function UW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jW(t,e){e&&(t["X-Firebase-GMPID"]=e)}function BW(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function zW(t,e,n,r,i,s,o=!0){const a=LA(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return jW(u,e),VW(u,n),UW(u,s),BW(u,r),new FW(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function HW(...t){const e=WW();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Cw())return new Blob(t);throw new Mt(wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function qW(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KW(t){if(typeof atob>"u")throw kW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class iy{constructor(e,n){this.data=e,this.contentType=n||null}}function GW(t,e){switch(t){case Si.RAW:return new iy(FA(e));case Si.BASE64:case Si.BASE64URL:return new iy(VA(t,e));case Si.DATA_URL:return new iy(YW(e),XW(e))}throw Sw()}function FA(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function QW(t){let e;try{e=decodeURIComponent(t)}catch{throw Dc(Si.DATA_URL,"Malformed data URL.")}return FA(e)}function VA(t,e){switch(t){case Si.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Dc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Si.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Dc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=KW(e)}catch(i){throw i.message.includes("polyfill")?i:Dc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class UA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Dc(Si.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=JW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function YW(t){const e=new UA(t);return e.base64?VA(Si.BASE64,e.rest):QW(e.rest)}function XW(t){return new UA(t).contentType}function JW(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){let r=0,i="";fI(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(fI(this.data_)){const r=this.data_,i=qW(r,e,n);return i===null?null:new Os(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Os(r,!0)}}static getBlob(...e){if(Cw()){const n=e.map(r=>r instanceof Os?r.data_:r);return new Os(HW.apply(null,n))}else{const n=e.map(o=>Ig(o)?GW(Si.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Os(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t){let e;try{e=JSON.parse(t)}catch{return null}return $W(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZW(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function eH(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function BA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(t,e){return e}class qn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||tH}}let sf=null;function nH(t){return!Ig(t)||t.length<2?t:BA(t)}function zA(){if(sf)return sf;const t=[];t.push(new qn("bucket")),t.push(new qn("generation")),t.push(new qn("metageneration")),t.push(new qn("name","fullPath",!0));function e(s,o){return nH(o)}const n=new qn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new qn("size");return i.xform=r,t.push(i),t.push(new qn("timeCreated")),t.push(new qn("updated")),t.push(new qn("md5Hash",null,!0)),t.push(new qn("cacheControl",null,!0)),t.push(new qn("contentDisposition",null,!0)),t.push(new qn("contentEncoding",null,!0)),t.push(new qn("contentLanguage",null,!0)),t.push(new qn("contentType",null,!0)),t.push(new qn("metadata","customMetadata",!0)),sf=t,sf}function rH(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new yr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function iH(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return rH(r,t),r}function WA(t,e,n){const r=jA(e);return r===null?null:iH(t,r,n)}function sH(t,e,n,r){const i=jA(e);if(i===null||!Ig(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),f=th(h,n,r),p=LA({alt:"media",token:u});return f+p})[0]}function HA(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class hu{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t){if(!t)throw Sw()}function Iw(t,e){function n(r,i){const s=WA(t,i,e);return ss(s!==null),s}return n}function oH(t,e){function n(r,i){const s=WA(t,i,e);return ss(s!==null),sH(s,i,t.host,t._protocol)}return n}function nh(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=SW():i=TW():n.getStatus()===402?i=EW(t.bucket):n.getStatus()===403?i=CW(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function qA(t){const e=nh(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=wW(t.path)),s.serverResponse=i.serverResponse,s}return n}function aH(t,e,n){const r=e.fullServerUrl(),i=th(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new hu(i,s,Iw(t,n),o);return a.errorHandler=qA(e),a}function lH(t,e,n){const r=e.fullServerUrl(),i=th(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new hu(i,s,oH(t,n),o);return a.errorHandler=qA(e),a}function uH(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function KA(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=uH(null,e)),r}function cH(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let E=0;E<2;E++)y=y+Math.random().toString().slice(2);return y}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=KA(e,r,i),c=HA(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=Os.getBlob(d,r,h);if(f===null)throw MA();const p={name:u.fullPath},g=th(s,t.host,t._protocol),T="POST",m=t.maxUploadRetryTime,v=new hu(g,T,Iw(t,n),m);return v.urlParams=p,v.headers=o,v.body=f.uploadData(),v.errorHandler=nh(e),v}class Np{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Rw(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ss(!1)}return ss(!!n&&(e||["active"]).indexOf(n)!==-1),n}function dH(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=KA(e,r,i),a={name:o.fullPath},l=th(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=HA(o,n),h=t.maxUploadRetryTime;function f(g){Rw(g);let T;try{T=g.getResponseHeader("X-Goog-Upload-URL")}catch{ss(!1)}return ss(Ig(T)),T}const p=new hu(l,u,f,h);return p.urlParams=a,p.headers=c,p.body=d,p.errorHandler=nh(e),p}function hH(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=Rw(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ss(!1)}d||ss(!1);const h=Number(d);return ss(!isNaN(h)),new Np(h,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new hu(n,o,s,a);return l.headers=i,l.errorHandler=nh(e),l}const mI=256*1024;function fH(t,e,n,r,i,s,o,a){const l=new Np(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw xW();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,h=d+c;let f="";c===0?f="finalize":u===c?f="upload, finalize":f="upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},g=r.slice(d,h);if(g===null)throw MA();function T(E,I){const w=Rw(E,["active","final"]),S=l.current+c,b=r.size();let P;return w==="final"?P=Iw(e,s)(E,I):P=null,new Np(S,b,w==="final",P)}const m="POST",v=e.maxUploadRetryTime,y=new hu(n,m,T,v);return y.headers=p,y.body=g.uploadData(),y.progressCallback=a||null,y.errorHandler=nh(t),y}const tr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function sy(t){switch(t){case"running":case"pausing":case"canceling":return tr.RUNNING;case"paused":return tr.PAUSED;case"success":return tr.SUCCESS;case"canceled":return tr.CANCELED;case"error":return tr.ERROR;default:return tr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(e,n,r){if(LW(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class mH{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ko.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ko.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ko.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ku("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ku("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ku("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ku("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ku("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class gH extends mH{initXhr(){this.xhr_.responseType="text"}}function Wa(){return new gH}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=zA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(wt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if($A(i.status,[]))if(s)i=NA();else{this.sleepTime=Math.max(this.sleepTime*2,_W),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(wt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=dH(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Wa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=hH(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Wa,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=mI*this._chunkMultiplier,n=new Np(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=fH(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Wa,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){mI*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=aH(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Wa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=cH(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Wa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=OA(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=sy(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new pH(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(sy(this._state)){case tr.SUCCESS:Ua(this._resolve.bind(null,this.snapshot))();break;case tr.CANCELED:case tr.ERROR:const n=this._reject;Ua(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(sy(this._state)){case tr.RUNNING:case tr.PAUSED:e.next&&Ua(e.next.bind(e,this.snapshot))();break;case tr.SUCCESS:e.complete&&Ua(e.complete.bind(e))();break;case tr.CANCELED:case tr.ERROR:e.error&&Ua(e.error.bind(e,this._error))();break;default:e.error&&Ua(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this._service=e,n instanceof yr?this._location=n:this._location=yr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new la(e,n)}get root(){const e=new yr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BA(this._location.path)}get storage(){return this._service}get parent(){const e=ZW(this._location.path);if(e===null)return null;const n=new yr(this._location.bucket,e);return new la(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw AW(e)}}function yH(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new vH(t,new Os(e),n)}function _H(t){t._throwIfRoot("getDownloadURL");const e=lH(t.storage,t._location,zA());return t.storage.makeRequestWithTokens(e,Wa).then(n=>{if(n===null)throw PW();return n})}function wH(t,e){const n=eH(t._location.path,e),r=new yr(t._location.bucket,n);return new la(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EH(t){return/^[A-Za-z]+:\/\//.test(t)}function TH(t,e){return new la(t,e)}function GA(t,e){if(t instanceof bw){const n=t;if(n._bucket==null)throw bW();const r=new la(n,n._bucket);return e!=null?GA(r,e):r}else return e!==void 0?wH(t,e):t}function SH(t,e){if(e&&EH(e)){if(t instanceof bw)return TH(t,e);throw Y_("To use ref(service, url), the first argument must be a Storage instance.")}else return GA(t,e)}function gI(t,e){const n=e==null?void 0:e[AA];return n==null?null:yr.makeFromBucketSpec(n,t)}function CH(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:wA(i,t.app.options.projectId))}class bw{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=kA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vW,this._maxUploadRetryTime=yW,this._requests=new Set,i!=null?this._bucket=yr.makeFromBucketSpec(i,this._host):this._bucket=gI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yr.makeFromBucketSpec(this._url,e):this._bucket=gI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new la(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new NW(DA());{const o=zW(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const vI="@firebase/storage",yI="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="storage";function YA(t,e,n){return t=_t(t),yH(t,e,n)}function XA(t){return t=_t(t),_H(t)}function JA(t,e){return t=_t(t),SH(t,e)}function ZA(t=Tw(),e){t=_t(t);const r=Cg(t,QA).getImmediate({identifier:e}),i=vA("storage");return i&&IH(r,...i),r}function IH(t,e,n,r={}){CH(t,e,n,r)}function RH(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new bw(n,r,i,e,yo)}function bH(){so(new fs(QA,RH,"PUBLIC").setMultipleInstances(!0)),Br(vI,yI,""),Br(vI,yI,"esm2017")}bH();function xH(){const t=Sa();Ta();const e=L$("/pract-chat");return _.useEffect(()=>{e&&t("/pract-chat/chat")},[t,e]),C.jsx("div",{children:C.jsx(U8,{children:C.jsx(XU,{theme:j8,children:C.jsx(L1,{})})})})}var xw={},eN={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(eN);var rh=eN.exports,oy={};const PH=_D(i3);var _I;function ih(){return _I||(_I=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=PH}(oy)),oy}var kH=rh;Object.defineProperty(xw,"__esModule",{value:!0});var Pw=xw.default=void 0,AH=kH(ih()),NH=C;Pw=xw.default=(0,AH.default)((0,NH.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7"}),"VisibilityOutlined");var kw={},OH=rh;Object.defineProperty(kw,"__esModule",{value:!0});var Aw=kw.default=void 0,MH=OH(ih()),DH=C;Aw=kw.default=(0,MH.default)((0,DH.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6m-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14M2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45zm7.5 7.5 2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13m-3.4-3.4 1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53"}),"VisibilityOffOutlined");function Nw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LH=tN,nN=new eh("auth","Firebase",tN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=new Sg("@firebase/auth");function $H(t,...e){Op.logLevel<=Ne.WARN&&Op.warn(`Auth (${yo}): ${t}`,...e)}function Lf(t,...e){Op.logLevel<=Ne.ERROR&&Op.error(`Auth (${yo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t,...e){throw Ow(t,...e)}function Ai(t,...e){return Ow(t,...e)}function FH(t,e,n){const r=Object.assign(Object.assign({},LH()),{[e]:n});return new eh("auth","Firebase",r).create(e,{appName:t.name})}function Ow(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return nN.create(t,...e)}function me(t,e,...n){if(!t)throw Ow(e,...n)}function Zi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lf(e),new Error(e)}function ps(t,e){t||Zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function VH(){return wI()==="http:"||wI()==="https:"}function wI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VH()||X8()||"connection"in navigator)?navigator.onLine:!0}function jH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ps(n>e,"Short delay should be less than long delay!"),this.isMobile=ww()||EA()}get(){return UH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t,e){ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=new sh(3e4,6e4);function _o(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ts(t,e,n,r,i={}){return iN(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=du(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),rN.fetch()(sN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function iN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},BH),e);try{const i=new HH(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw of(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw of(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw of(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw of(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw FH(t,c,u);ci(t,c)}}catch(i){if(i instanceof zi)throw i;ci(t,"network-request-failed",{message:String(i)})}}async function oh(t,e,n,r,i={}){const s=await Ts(t,e,n,r,i);return"mfaPendingCredential"in s&&ci(t,"multi-factor-auth-required",{_serverResponse:s}),s}function sN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Mw(t.config,i):`${t.config.apiScheme}://${i}`}function WH(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HH{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ai(this.auth,"network-request-failed")),zH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function of(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ai(t,e,r);return i.customData._tokenResponse=n,i}function EI(t){return t!==void 0&&t.enterprise!==void 0}class qH{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return WH(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function KH(t,e){return Ts(t,"GET","/v2/recaptchaConfig",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GH(t,e){return Ts(t,"POST","/v1/accounts:delete",e)}async function QH(t,e){return Ts(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YH(t,e=!1){const n=_t(t),r=await n.getIdToken(e),i=Dw(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Lc(ay(i.auth_time)),issuedAtTime:Lc(ay(i.iat)),expirationTime:Lc(ay(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ay(t){return Number(t)*1e3}function Dw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Lf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Pp(n);return i?JSON.parse(i):(Lf("Failed to decode base64 JWT payload"),null)}catch(i){return Lf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function XH(t){const e=Dw(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zi&&JH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function JH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lc(this.lastLoginAt),this.creationTime=Lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await zl(t,QH(n,{idToken:r}));me(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?nq(s.providerUserInfo):[],a=tq(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new oN(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function eq(t){const e=_t(t);await Mp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function nq(t){return t.map(e=>{var{providerId:n}=e,r=Nw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rq(t,e){const n=await iN(t,{},async()=>{const r=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=sN(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rN.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iq(t,e){return Ts(t,"POST","/v2/accounts:revokeToken",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XH(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return me(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await rq(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Cd;return r&&(me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(me(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cd,this.toJSON())}_performRefresh(){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Go{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Nw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new oN(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await zl(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return YH(this,e)}reload(){return eq(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Go(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await zl(this,GH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:E,isAnonymous:I,providerData:w,stsTokenManager:S}=n;me(y&&S,e,"internal-error");const b=Cd.fromJSON(this.name,S);me(typeof y=="string",e,"internal-error"),bs(d,e.name),bs(h,e.name),me(typeof E=="boolean",e,"internal-error"),me(typeof I=="boolean",e,"internal-error"),bs(f,e.name),bs(p,e.name),bs(g,e.name),bs(T,e.name),bs(m,e.name),bs(v,e.name);const P=new Go({uid:y,auth:e,email:h,emailVerified:E,displayName:d,isAnonymous:I,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:b,createdAt:m,lastLoginAt:v});return w&&Array.isArray(w)&&(P.providerData=w.map(x=>Object.assign({},x))),T&&(P._redirectEventId=T),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Cd;i.updateFromServerResponse(n);const s=new Go({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Mp(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=new Map;function es(t){ps(t instanceof Function,"Expected a class definition");let e=TI.get(t);return e?(ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,TI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aN.type="NONE";const SI=aN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t,e,n){return`firebase:${t}:${e}:${n}`}class wl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=$f(this.userKey,i.apiKey,s),this.fullPersistenceKey=$f("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Go._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wl(es(SI),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||es(SI);const o=$f(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Go._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new wl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new wl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hN(e))return"Blackberry";if(fN(e))return"Webos";if(Lw(e))return"Safari";if((e.includes("chrome/")||uN(e))&&!e.includes("edge/"))return"Chrome";if(dN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lN(t=tn()){return/firefox\//i.test(t)}function Lw(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uN(t=tn()){return/crios\//i.test(t)}function cN(t=tn()){return/iemobile/i.test(t)}function dN(t=tn()){return/android/i.test(t)}function hN(t=tn()){return/blackberry/i.test(t)}function fN(t=tn()){return/webos/i.test(t)}function Rg(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sq(t=tn()){var e;return Rg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function oq(){return J8()&&document.documentMode===10}function pN(t=tn()){return Rg(t)||dN(t)||fN(t)||hN(t)||/windows phone/i.test(t)||cN(t)}function aq(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(t,e=[]){let n;switch(t){case"Browser":n=CI(tn());break;case"Worker":n=`${CI(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uq(t,e={}){return Ts(t,"GET","/v2/passwordPolicy",_o(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cq=6;class dq{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:cq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new II(this),this.idTokenSubscription=new II(this),this.beforeStateQueue=new lq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=es(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await wl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?_t(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uq(this),n=new dq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new eh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await iq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&es(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await wl.create(this,[es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&$H(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ra(t){return _t(t)}class II{constructor(e){this.auth=e,this.observer=null,this.addObserver=a7(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fq(t){bg=t}function gN(t){return bg.loadJS(t)}function pq(){return bg.recaptchaEnterpriseScript}function mq(){return bg.gapiScript}function gq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const vq="recaptcha-enterprise",yq="NO_RECAPTCHA";class _q{constructor(e){this.type=vq,this.auth=Ra(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{KH(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new qH(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;EI(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(yq)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&EI(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=pq();l.length!==0&&(l+=a),gN(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function RI(t,e,n,r=!1){const i=new _q(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function J_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await RI(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await RI(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wq(t,e){const n=Cg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Td(s,e??{}))return i;ci(i,"already-initialized")}return n.initialize({options:e})}function Eq(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(es);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Tq(t,e,n){const r=Ra(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=vN(e),{host:o,port:a}=Sq(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Cq()}function vN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Sq(t){const e=vN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:bI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:bI(o)}}}function bI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Cq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zi("not implemented")}_getIdTokenResponse(e){return Zi("not implemented")}_linkToIdToken(e,n){return Zi("not implemented")}_getReauthenticationResolver(e){return Zi("not implemented")}}async function Iq(t,e){return Ts(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rq(t,e){return oh(t,"POST","/v1/accounts:signInWithPassword",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bq(t,e){return oh(t,"POST","/v1/accounts:signInWithEmailLink",_o(t,e))}async function xq(t,e){return oh(t,"POST","/v1/accounts:signInWithEmailLink",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends $w{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Id(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Id(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return J_(e,n,"signInWithPassword",Rq);case"emailLink":return bq(e,{email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return J_(e,r,"signUpPassword",Iq);case"emailLink":return xq(e,{idToken:n,email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(t,e){return oh(t,"POST","/v1/accounts:signInWithIdp",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq="http://localhost";class ua extends $w{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Nw(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ua(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return El(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,El(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,El(e,n)}buildRequest(){const e={requestUri:Pq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Aq(t){const e=cc(dc(t)).link,n=e?cc(dc(e)).deep_link_id:null,r=cc(dc(t)).deep_link_id;return(r?cc(dc(r)).link:null)||r||n||e||t}class Fw{constructor(e){var n,r,i,s,o,a;const l=cc(dc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=kq((i=l.mode)!==null&&i!==void 0?i:null);me(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Aq(e);try{return new Fw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(){this.providerId=fu.PROVIDER_ID}static credential(e,n){return Id._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Fw.parseLink(n);return me(r,"argument-error"),Id._fromEmailAndCode(e,r.code,r.tenantId)}}fu.PROVIDER_ID="password";fu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends yN{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends ah{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends ah{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ua._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ds.credential(n,r)}catch{return null}}}Ds.GOOGLE_SIGN_IN_METHOD="google.com";Ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends ah{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.GITHUB_SIGN_IN_METHOD="github.com";Ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends ah{constructor(){super("twitter.com")}static credential(e,n){return ua._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $s.credential(n,r)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nq(t,e){return oh(t,"POST","/v1/accounts:signUp",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Go._fromIdTokenResponse(e,r,i),o=xI(r);return new ca({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=xI(r);return new ca({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function xI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends zi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Dp(e,n,r,i)}}function _N(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Dp._fromErrorAndOperation(t,s,e,r):s})}async function Oq(t,e,n=!1){const r=await zl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ca._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mq(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await zl(t,_N(r,i,e,t),n);me(s.idToken,r,"internal-error");const o=Dw(s.idToken);me(o,r,"internal-error");const{sub:a}=o;return me(t.uid===a,r,"user-mismatch"),ca._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ci(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(t,e,n=!1){const r="signIn",i=await _N(t,r,e),s=await ca._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Dq(t,e){return wN(Ra(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(t){const e=Ra(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Lq(t,e,n){const r=Ra(t),o=await J_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Nq).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&EN(t),l}),a=await ca._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function $q(t,e,n){return Dq(_t(t),fu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&EN(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fq(t,e){return Ts(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vq(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=_t(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await zl(r,Fq(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function Uq(t,e,n,r){return _t(t).onIdTokenChanged(e,n,r)}function jq(t,e,n){return _t(t).beforeAuthStateChanged(e,n)}function Bq(t,e,n,r){return _t(t).onAuthStateChanged(e,n,r)}function zq(t){return _t(t).signOut()}const Lp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lp,"1"),this.storage.removeItem(Lp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wq(){const t=tn();return Lw(t)||Rg(t)}const Hq=1e3,qq=10;class SN extends TN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Wq()&&aq(),this.fallbackToPolling=pN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);oq()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,qq):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Hq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}SN.type="LOCAL";const Kq=SN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN extends TN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}CN.type="SESSION";const IN=CN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new xg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await Gq(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Vw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function Yq(t){Ni().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function Xq(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Jq(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Zq(){return RN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="firebaseLocalStorageDb",eK=1,$p="firebaseLocalStorage",xN="fbase_key";class lh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pg(t,e){return t.transaction([$p],e?"readwrite":"readonly").objectStore($p)}function tK(){const t=indexedDB.deleteDatabase(bN);return new lh(t).toPromise()}function Z_(){const t=indexedDB.open(bN,eK);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($p,{keyPath:xN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($p)?e(r):(r.close(),await tK(),e(await Z_()))})})}async function PI(t,e,n){const r=Pg(t,!0).put({[xN]:e,value:n});return new lh(r).toPromise()}async function nK(t,e){const n=Pg(t,!1).get(e),r=await new lh(n).toPromise();return r===void 0?null:r.value}function kI(t,e){const n=Pg(t,!0).delete(e);return new lh(n).toPromise()}const rK=800,iK=3;class PN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Z_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>iK)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xg._getInstance(Zq()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Xq(),!this.activeServiceWorker)return;this.sender=new Qq(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Jq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Z_();return await PI(e,Lp,"1"),await kI(e,Lp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>PI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nK(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>kI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Pg(i,!1).getAll();return new lh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}PN.type="LOCAL";const sK=PN;new sh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oK(t,e){return e?es(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw extends $w{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return El(e,this._buildIdpRequest())}_linkToIdToken(e,n){return El(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return El(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aK(t){return wN(t.auth,new Uw(t),t.bypassAuthState)}function lK(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),Mq(n,new Uw(t),t.bypassAuthState)}async function uK(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),Oq(n,new Uw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aK;case"linkViaPopup":case"linkViaRedirect":return uK;case"reauthViaPopup":case"reauthViaRedirect":return lK;default:ci(this.auth,"internal-error")}}resolve(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cK=new sh(2e3,1e4);class ll extends kN{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ll.currentPopupAction&&ll.currentPopupAction.cancel(),ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const e=Vw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cK.get())};e()}}ll.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dK="pendingRedirect",Ff=new Map;class hK extends kN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ff.get(this.auth._key());if(!e){try{const r=await fK(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ff.set(this.auth._key(),e)}return this.bypassAuthState||Ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fK(t,e){const n=gK(e),r=mK(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function pK(t,e){Ff.set(t._key(),e)}function mK(t){return es(t._redirectPersistence)}function gK(t){return $f(dK,t.config.apiKey,t.name)}async function vK(t,e,n=!1){const r=Ra(t),i=oK(r,e),o=await new hK(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yK=10*60*1e3;class _K{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wK(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ai(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yK&&this.cachedEventUids.clear(),this.cachedEventUids.has(AI(e))}saveEventToCache(e){this.cachedEventUids.add(AI(e)),this.lastProcessedEventTime=Date.now()}}function AI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wK(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EK(t,e={}){return Ts(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SK=/^https?/;async function CK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await EK(t);for(const n of e)try{if(IK(n))return}catch{}ci(t,"unauthorized-domain")}function IK(t){const e=X_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!SK.test(n))return!1;if(TK.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RK=new sh(3e4,6e4);function NI(){const t=Ni().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bK(t){return new Promise((e,n)=>{var r,i,s;function o(){NI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NI(),n(Ai(t,"network-request-failed"))},timeout:RK.get()})}if(!((i=(r=Ni().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ni().gapi)===null||s===void 0)&&s.load)o();else{const a=gq("iframefcb");return Ni()[a]=()=>{gapi.load?o():n(Ai(t,"network-request-failed"))},gN(`${mq()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Vf=null,e})}let Vf=null;function xK(t){return Vf=Vf||bK(t),Vf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PK=new sh(5e3,15e3),kK="__/auth/iframe",AK="emulator/auth/iframe",NK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},OK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MK(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Mw(e,AK):`https://${t.config.authDomain}/${kK}`,r={apiKey:e.apiKey,appName:t.name,v:yo},i=OK.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${du(r).slice(1)}`}async function DK(t){const e=await xK(t),n=Ni().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:MK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NK,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ai(t,"network-request-failed"),a=Ni().setTimeout(()=>{s(o)},PK.get());function l(){Ni().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$K=500,FK=600,VK="_blank",UK="http://localhost";class OI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jK(t,e,n,r=$K,i=FK){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},LK),{width:r.toString(),height:i.toString(),top:s,left:o}),u=tn().toLowerCase();n&&(a=uN(u)?VK:n),lN(u)&&(e=e||UK,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(sq(u)&&a!=="_self")return BK(e||"",a),new OI(null);const d=window.open(e||"",a,c);me(d,t,"popup-blocked");try{d.focus()}catch{}return new OI(d)}function BK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zK="__/auth/handler",WK="emulator/auth/handler",HK=encodeURIComponent("fac");async function MI(t,e,n,r,i,s){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yo,eventId:i};if(e instanceof yN){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",W_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof ah){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${HK}=${encodeURIComponent(l)}`:"";return`${qK(t)}?${du(a).slice(1)}${u}`}function qK({config:t}){return t.emulator?Mw(t,WK):`https://${t.authDomain}/${zK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly="webStorageSupport";class KK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IN,this._completeRedirectFn=vK,this._overrideRedirectResult=pK}async _openPopup(e,n,r,i){var s;ps((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await MI(e,n,r,X_(),i);return jK(e,o,Vw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await MI(e,n,r,X_(),i);return Yq(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ps(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await DK(e),r=new _K(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ly,{type:ly},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[ly];o!==void 0&&n(!!o),ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pN()||Lw()||Rg()}}const GK=KK;var DI="@firebase/auth",LI="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XK(t){so(new fs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mN(t)},u=new hq(r,i,s,l);return Eq(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),so(new fs("auth-internal",e=>{const n=Ra(e.getProvider("auth").getImmediate());return(r=>new QK(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(DI,LI,YK(t)),Br(DI,LI,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JK=5*60,ZK=_A("authIdTokenMaxAge")||JK;let $I=null;const eG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZK)return;const i=n==null?void 0:n.token;$I!==i&&($I=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function tG(t=Tw()){const e=Cg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=wq(t,{popupRedirectResolver:GK,persistence:[sK,Kq,IN]}),r=_A("authTokenSyncURL");if(r){const s=eG(r);jq(n,s,()=>s(n.currentUser)),Uq(n,o=>s(o))}const i=gA("auth");return i&&Tq(n,`http://${i}`),n}function nG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}fq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ai("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",nG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XK("Browser");var rG="firebase",iG="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(rG,iG,"app");var sG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q,jw=jw||{},ve=sG||self;function kg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function uh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function oG(t){return Object.prototype.hasOwnProperty.call(t,uy)&&t[uy]||(t[uy]=++aG)}var uy="closure_uid_"+(1e9*Math.random()>>>0),aG=0;function lG(t,e,n){return t.call.apply(t.bind,arguments)}function uG(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function jn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?jn=lG:jn=uG,jn.apply(null,arguments)}function af(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function _n(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function wo(){this.s=this.s,this.o=this.o}var cG=0;wo.prototype.s=!1;wo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),cG!=0)&&oG(this)};wo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const NN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Bw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function FI(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(kg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Bn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Bn.prototype.h=function(){this.defaultPrevented=!0};var dG=function(){if(!ve.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ve.addEventListener("test",n,e),ve.removeEventListener("test",n,e)}catch{}return t}();function Rd(t){return/^[\s\xa0]*$/.test(t)}function Ag(){var t=ve.navigator;return t&&(t=t.userAgent)?t:""}function Ti(t){return Ag().indexOf(t)!=-1}function zw(t){return zw[" "](t),t}zw[" "]=function(){};function hG(t,e){var n=iQ;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var fG=Ti("Opera"),Wl=Ti("Trident")||Ti("MSIE"),ON=Ti("Edge"),e0=ON||Wl,MN=Ti("Gecko")&&!(Ag().toLowerCase().indexOf("webkit")!=-1&&!Ti("Edge"))&&!(Ti("Trident")||Ti("MSIE"))&&!Ti("Edge"),pG=Ag().toLowerCase().indexOf("webkit")!=-1&&!Ti("Edge");function DN(){var t=ve.document;return t?t.documentMode:void 0}var t0;e:{var cy="",dy=function(){var t=Ag();if(MN)return/rv:([^\);]+)(\)|;)/.exec(t);if(ON)return/Edge\/([\d\.]+)/.exec(t);if(Wl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(pG)return/WebKit\/(\S+)/.exec(t);if(fG)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(dy&&(cy=dy?dy[1]:""),Wl){var hy=DN();if(hy!=null&&hy>parseFloat(cy)){t0=String(hy);break e}}t0=cy}var n0;if(ve.document&&Wl){var VI=DN();n0=VI||parseInt(t0,10)||void 0}else n0=void 0;var mG=n0;function bd(t,e){if(Bn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(MN){e:{try{zw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:gG[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&bd.$.h.call(this)}}_n(bd,Bn);var gG={2:"touch",3:"pen",4:"mouse"};bd.prototype.h=function(){bd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ch="closure_listenable_"+(1e6*Math.random()|0),vG=0;function yG(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++vG,this.fa=this.ia=!1}function Ng(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ww(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function _G(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function LN(t){const e={};for(const n in t)e[n]=t[n];return e}const UI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $N(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<UI.length;s++)n=UI[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Og(t){this.src=t,this.g={},this.h=0}Og.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=i0(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new yG(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function r0(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=NN(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ng(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function i0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var Hw="closure_lm_"+(1e6*Math.random()|0),fy={};function FN(t,e,n,r,i){if(r&&r.once)return UN(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)FN(t,e[s],n,r,i);return null}return n=Gw(n),t&&t[ch]?t.O(e,n,uh(r)?!!r.capture:!!r,i):VN(t,e,n,!1,r,i)}function VN(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=uh(i)?!!i.capture:!!i,a=Kw(t);if(a||(t[Hw]=a=new Og(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=wG(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)dG||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(BN(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function wG(){function t(n){return e.call(t.src,t.listener,n)}const e=EG;return t}function UN(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)UN(t,e[s],n,r,i);return null}return n=Gw(n),t&&t[ch]?t.P(e,n,uh(r)?!!r.capture:!!r,i):VN(t,e,n,!0,r,i)}function jN(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)jN(t,e[s],n,r,i);else r=uh(r)?!!r.capture:!!r,n=Gw(n),t&&t[ch]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=i0(s,n,r,i),-1<n&&(Ng(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Kw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=i0(e,n,r,i)),(n=-1<t?e[t]:null)&&qw(n))}function qw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ch])r0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(BN(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Kw(e))?(r0(n,t),n.h==0&&(n.src=null,e[Hw]=null)):Ng(t)}}}function BN(t){return t in fy?fy[t]:fy[t]="on"+t}function EG(t,e){if(t.fa)t=!0;else{e=new bd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&qw(t),t=n.call(r,e)}return t}function Kw(t){return t=t[Hw],t instanceof Og?t:null}var py="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gw(t){return typeof t=="function"?t:(t[py]||(t[py]=function(e){return t.handleEvent(e)}),t[py])}function vn(){wo.call(this),this.i=new Og(this),this.S=this,this.J=null}_n(vn,wo);vn.prototype[ch]=!0;vn.prototype.removeEventListener=function(t,e,n,r){jN(this,t,e,n,r)};function xn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Bn(e,t);else if(e instanceof Bn)e.target=e.target||t;else{var i=e;e=new Bn(r,t),$N(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=lf(o,r,!0,e)&&i}if(o=e.g=t,i=lf(o,r,!0,e)&&i,i=lf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=lf(o,r,!1,e)&&i}vn.prototype.N=function(){if(vn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ng(n[r]);delete t.g[e],t.h--}}this.J=null};vn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};vn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function lf(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&r0(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Qw=ve.JSON.stringify;class TG{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function SG(){var t=Yw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class CG{constructor(){this.h=this.g=null}add(e,n){const r=zN.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var zN=new TG(()=>new IG,t=>t.reset());class IG{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function RG(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function bG(t){ve.setTimeout(()=>{throw t},0)}let xd,Pd=!1,Yw=new CG,WN=()=>{const t=ve.Promise.resolve(void 0);xd=()=>{t.then(xG)}};var xG=()=>{for(var t;t=SG();){try{t.h.call(t.g)}catch(n){bG(n)}var e=zN;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Pd=!1};function Mg(t,e){vn.call(this),this.h=t||1,this.g=e||ve,this.j=jn(this.qb,this),this.l=Date.now()}_n(Mg,vn);Q=Mg.prototype;Q.ga=!1;Q.T=null;Q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xn(this,"tick"),this.ga&&(Xw(this),this.start()))}};Q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Xw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Q.N=function(){Mg.$.N.call(this),Xw(this),delete this.g};function Jw(t,e,n){if(typeof t=="function")n&&(t=jn(t,n));else if(t&&typeof t.handleEvent=="function")t=jn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ve.setTimeout(t,e||0)}function HN(t){t.g=Jw(()=>{t.g=null,t.i&&(t.i=!1,HN(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class PG extends wo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:HN(this)}N(){super.N(),this.g&&(ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kd(t){wo.call(this),this.h=t,this.g={}}_n(kd,wo);var jI=[];function qN(t,e,n,r){Array.isArray(n)||(n&&(jI[0]=n.toString()),n=jI);for(var i=0;i<n.length;i++){var s=FN(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function KN(t){Ww(t.g,function(e,n){this.g.hasOwnProperty(n)&&qw(e)},t),t.g={}}kd.prototype.N=function(){kd.$.N.call(this),KN(this)};kd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Dg(){this.g=!0}Dg.prototype.Ea=function(){this.g=!1};function kG(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function AG(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ul(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+OG(t,n)+(r?" "+r:"")})}function NG(t,e){t.info(function(){return"TIMEOUT: "+e})}Dg.prototype.info=function(){};function OG(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Qw(n)}catch{return e}}var ba={},BI=null;function Lg(){return BI=BI||new vn}ba.Ta="serverreachability";function GN(t){Bn.call(this,ba.Ta,t)}_n(GN,Bn);function Ad(t){const e=Lg();xn(e,new GN(e))}ba.STAT_EVENT="statevent";function QN(t,e){Bn.call(this,ba.STAT_EVENT,t),this.stat=e}_n(QN,Bn);function Qn(t){const e=Lg();xn(e,new QN(e,t))}ba.Ua="timingevent";function YN(t,e){Bn.call(this,ba.Ua,t),this.size=e}_n(YN,Bn);function dh(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ve.setTimeout(function(){t()},e)}var $g={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},XN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Zw(){}Zw.prototype.h=null;function zI(t){return t.h||(t.h=t.i())}function JN(){}var hh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function eE(){Bn.call(this,"d")}_n(eE,Bn);function tE(){Bn.call(this,"c")}_n(tE,Bn);var s0;function Fg(){}_n(Fg,Zw);Fg.prototype.g=function(){return new XMLHttpRequest};Fg.prototype.i=function(){return{}};s0=new Fg;function fh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new kd(this),this.P=MG,t=e0?125:void 0,this.V=new Mg(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ZN}function ZN(){this.i=null,this.g="",this.h=!1}var MG=45e3,e2={},o0={};Q=fh.prototype;Q.setTimeout=function(t){this.P=t};function a0(t,e,n){t.L=1,t.A=Ug(ms(e)),t.u=n,t.S=!0,t2(t,null)}function t2(t,e){t.G=Date.now(),ph(t),t.B=ms(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),u2(n.i,"t",r),t.o=0,n=t.l.J,t.h=new ZN,t.g=k2(t.l,n?e:null,!t.u),0<t.O&&(t.M=new PG(jn(t.Pa,t,t.g),t.O)),qN(t.U,t.g,"readystatechange",t.nb),e=t.I?LN(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ad(),kG(t.j,t.v,t.B,t.m,t.W,t.u)}Q.nb=function(t){t=t.target;const e=this.M;e&&Ci(t)==3?e.l():this.Pa(t)};Q.Pa=function(t){try{if(t==this.g)e:{const c=Ci(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||e0||this.g&&(this.h.h||this.g.ja()||KI(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Ad(3):Ad(2)),Vg(this);var n=this.g.da();this.ca=n;t:if(n2(this)){var r=KI(this.g);t="";var i=r.length,s=Ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vo(this),$c(this);var o="";break t}this.h.i=new ve.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,AG(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rd(a)){var u=a;break t}}u=null}if(n=u)ul(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,l0(this,n);else{this.i=!1,this.s=3,Qn(12),Vo(this),$c(this);break e}}this.S?(r2(this,c,o),e0&&this.i&&c==3&&(qN(this.U,this.V,"tick",this.mb),this.V.start())):(ul(this.j,this.m,o,null),l0(this,o)),c==4&&Vo(this),this.i&&!this.J&&(c==4?R2(this.l,this):(this.i=!1,ph(this)))}else tQ(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Qn(12)):(this.s=0,Qn(13)),Vo(this),$c(this)}}}catch{}finally{}};function n2(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function r2(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=DG(t,n),i==o0){e==4&&(t.s=4,Qn(14),r=!1),ul(t.j,t.m,null,"[Incomplete Response]");break}else if(i==e2){t.s=4,Qn(15),ul(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ul(t.j,t.m,i,null),l0(t,i);n2(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Qn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),aE(e),e.M=!0,Qn(11))):(ul(t.j,t.m,n,"[Invalid Chunked Response]"),Vo(t),$c(t))}Q.mb=function(){if(this.g){var t=Ci(this.g),e=this.g.ja();this.o<e.length&&(Vg(this),r2(this,t,e),this.i&&t!=4&&ph(this))}};function DG(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?o0:(n=Number(e.substring(n,r)),isNaN(n)?e2:(r+=1,r+n>e.length?o0:(e=e.slice(r,r+n),t.o=r+n,e)))}Q.cancel=function(){this.J=!0,Vo(this)};function ph(t){t.Y=Date.now()+t.P,i2(t,t.P)}function i2(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=dh(jn(t.lb,t),e)}function Vg(t){t.C&&(ve.clearTimeout(t.C),t.C=null)}Q.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(NG(this.j,this.B),this.L!=2&&(Ad(),Qn(17)),Vo(this),this.s=2,$c(this)):i2(this,this.Y-t)};function $c(t){t.l.H==0||t.J||R2(t.l,t)}function Vo(t){Vg(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Xw(t.V),KN(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function l0(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||u0(n.i,t))){if(!t.K&&u0(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Up(n),Wg(n);else break e;oE(n),Qn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=dh(jn(n.ib,n),6e3));if(1>=h2(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Uo(n,11)}else if((t.K||n.g==t)&&Up(n),!Rd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(nE(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,gt(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=P2(r,r.J?r.pa:null,r.Y),o.K){f2(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Vg(a),ph(a)),r.g=o}else C2(r);0<n.j.length&&Hg(n)}else u[0]!="stop"&&u[0]!="close"||Uo(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Uo(n,7):sE(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ad(4)}catch{}}function LG(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(kg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function $G(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(kg(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function s2(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(kg(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=$G(t),r=LG(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var o2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FG(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Qo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Qo){this.h=t.h,Fp(this,t.j),this.s=t.s,this.g=t.g,Vp(this,t.m),this.l=t.l;var e=t.i,n=new Nd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),WI(this,n),this.o=t.o}else t&&(e=String(t).match(o2))?(this.h=!1,Fp(this,e[1]||"",!0),this.s=hc(e[2]||""),this.g=hc(e[3]||"",!0),Vp(this,e[4]),this.l=hc(e[5]||"",!0),WI(this,e[6]||"",!0),this.o=hc(e[7]||"")):(this.h=!1,this.i=new Nd(null,this.h))}Qo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fc(e,HI,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(fc(e,HI,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(fc(n,n.charAt(0)=="/"?jG:UG,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",fc(n,zG)),t.join("")};function ms(t){return new Qo(t)}function Fp(t,e,n){t.j=n?hc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Vp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function WI(t,e,n){e instanceof Nd?(t.i=e,WG(t.i,t.h)):(n||(e=fc(e,BG)),t.i=new Nd(e,t.h))}function gt(t,e,n){t.i.set(e,n)}function Ug(t){return gt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function hc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,VG),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function VG(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var HI=/[#\/\?@]/g,UG=/[#\?:]/g,jG=/[#\?]/g,BG=/[#\?@]/g,zG=/#/g;function Nd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Eo(t){t.g||(t.g=new Map,t.h=0,t.i&&FG(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Q=Nd.prototype;Q.add=function(t,e){Eo(this),this.i=null,t=pu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function a2(t,e){Eo(t),e=pu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function l2(t,e){return Eo(t),e=pu(t,e),t.g.has(e)}Q.forEach=function(t,e){Eo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Q.ta=function(){Eo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Q.Z=function(t){Eo(this);let e=[];if(typeof t=="string")l2(this,t)&&(e=e.concat(this.g.get(pu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Q.set=function(t,e){return Eo(this),this.i=null,t=pu(this,t),l2(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function u2(t,e,n){a2(t,e),0<n.length&&(t.i=null,t.g.set(pu(t,e),Bw(n)),t.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function pu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function WG(t,e){e&&!t.j&&(Eo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(a2(this,r),u2(this,i,n))},t)),t.j=e}var HG=class{constructor(t,e){this.g=t,this.map=e}};function c2(t){this.l=t||qG,ve.PerformanceNavigationTiming?(t=ve.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ve.g&&ve.g.Ka&&ve.g.Ka()&&ve.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var qG=10;function d2(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function h2(t){return t.h?1:t.g?t.g.size:0}function u0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function nE(t,e){t.g?t.g.add(e):t.h=e}function f2(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}c2.prototype.cancel=function(){if(this.i=p2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function p2(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Bw(t.i)}var KG=class{stringify(t){return ve.JSON.stringify(t,void 0)}parse(t){return ve.JSON.parse(t,void 0)}};function GG(){this.g=new KG}function QG(t,e,n){const r=n||"";try{s2(t,function(i,s){let o=i;uh(i)&&(o=Qw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function YG(t,e){const n=new Dg;if(ve.Image){const r=new Image;r.onload=af(uf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=af(uf,n,r,"TestLoadImage: error",!1,e),r.onabort=af(uf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=af(uf,n,r,"TestLoadImage: timeout",!1,e),ve.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function uf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function jg(t){this.l=t.ec||null,this.j=t.ob||!1}_n(jg,Zw);jg.prototype.g=function(){return new Bg(this.l,this.j)};jg.prototype.i=function(t){return function(){return t}}({});function Bg(t,e){vn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=rE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_n(Bg,vn);var rE=0;Q=Bg.prototype;Q.open=function(t,e){if(this.readyState!=rE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Od(this)};Q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ve).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mh(this)),this.readyState=rE};Q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Od(this)),this.g&&(this.readyState=3,Od(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ve.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;m2(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function m2(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?mh(this):Od(this),this.readyState==3&&m2(this)}};Q.Za=function(t){this.g&&(this.response=this.responseText=t,mh(this))};Q.Ya=function(t){this.g&&(this.response=t,mh(this))};Q.ka=function(){this.g&&mh(this)};function mh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Od(t)}Q.setRequestHeader=function(t,e){this.v.append(t,e)};Q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Od(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Bg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var XG=ve.JSON.parse;function Bt(t){vn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=g2,this.L=this.M=!1}_n(Bt,vn);var g2="",JG=/^https?$/i,ZG=["POST","PUT"];Q=Bt.prototype;Q.Oa=function(t){this.M=t};Q.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():s0.g(),this.C=this.u?zI(this.u):zI(s0),this.g.onreadystatechange=jn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){qI(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ve.FormData&&t instanceof ve.FormData,!(0<=NN(ZG,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{_2(this),0<this.B&&((this.L=eQ(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jn(this.ua,this)):this.A=Jw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){qI(this,s)}};function eQ(t){return Wl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Q.ua=function(){typeof jw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xn(this,"timeout"),this.abort(8))};function qI(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,v2(t),zg(t)}function v2(t){t.F||(t.F=!0,xn(t,"complete"),xn(t,"error"))}Q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,xn(this,"complete"),xn(this,"abort"),zg(this))};Q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zg(this,!0)),Bt.$.N.call(this)};Q.La=function(){this.s||(this.G||this.v||this.l?y2(this):this.kb())};Q.kb=function(){y2(this)};function y2(t){if(t.h&&typeof jw<"u"&&(!t.C[1]||Ci(t)!=4||t.da()!=2)){if(t.v&&Ci(t)==4)Jw(t.La,0,t);else if(xn(t,"readystatechange"),Ci(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(o2)[1]||null;!i&&ve.self&&ve.self.location&&(i=ve.self.location.protocol.slice(0,-1)),r=!JG.test(i?i.toLowerCase():"")}n=r}if(n)xn(t,"complete"),xn(t,"success");else{t.m=6;try{var s=2<Ci(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",v2(t)}}finally{zg(t)}}}}function zg(t,e){if(t.g){_2(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||xn(t,"ready");try{n.onreadystatechange=r}catch{}}}function _2(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ve.clearTimeout(t.A),t.A=null)}Q.isActive=function(){return!!this.g};function Ci(t){return t.g?t.g.readyState:0}Q.da=function(){try{return 2<Ci(this)?this.g.status:-1}catch{return-1}};Q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),XG(e)}};function KI(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case g2:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function tQ(t){const e={};t=(t.g&&2<=Ci(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Rd(t[r]))continue;var n=RG(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}_G(e,function(r){return r.join(", ")})}Q.Ia=function(){return this.m};Q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function w2(t){let e="";return Ww(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function iE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=w2(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):gt(t,e,n))}function Gu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function E2(t){this.Ga=0,this.j=[],this.l=new Dg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Gu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Gu("baseRetryDelayMs",5e3,t),this.hb=Gu("retryDelaySeedMs",1e4,t),this.eb=Gu("forwardChannelMaxRetries",2,t),this.xa=Gu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new c2(t&&t.concurrentRequestLimit),this.Ja=new GG,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Q=E2.prototype;Q.ra=8;Q.H=1;function sE(t){if(T2(t),t.H==3){var e=t.W++,n=ms(t.I);if(gt(n,"SID",t.K),gt(n,"RID",e),gt(n,"TYPE","terminate"),gh(t,n),e=new fh(t,t.l,e),e.L=2,e.A=Ug(ms(n)),n=!1,ve.navigator&&ve.navigator.sendBeacon)try{n=ve.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ve.Image&&(new Image().src=e.A,n=!0),n||(e.g=k2(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ph(e)}x2(t)}function Wg(t){t.g&&(aE(t),t.g.cancel(),t.g=null)}function T2(t){Wg(t),t.u&&(ve.clearTimeout(t.u),t.u=null),Up(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ve.clearTimeout(t.m),t.m=null)}function Hg(t){if(!d2(t.i)&&!t.m){t.m=!0;var e=t.Na;xd||WN(),Pd||(xd(),Pd=!0),Yw.add(e,t),t.C=0}}function nQ(t,e){return h2(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=dh(jn(t.Na,t,e),b2(t,t.C)),t.C++,!0)}Q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new fh(this,this.l,t);let s=this.s;if(this.U&&(s?(s=LN(s),$N(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=S2(this,i,e),n=ms(this.I),gt(n,"RID",t),gt(n,"CVER",22),this.F&&gt(n,"X-HTTP-Session-Id",this.F),gh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(w2(s)))+"&"+e:this.o&&iE(n,this.o,s)),nE(this.i,i),this.bb&&gt(n,"TYPE","init"),this.P?(gt(n,"$req",e),gt(n,"SID","null"),i.aa=!0,a0(i,n,null)):a0(i,n,e),this.H=2}}else this.H==3&&(t?GI(this,t):this.j.length==0||d2(this.i)||GI(this))};function GI(t,e){var n;e?n=e.m:n=t.W++;const r=ms(t.I);gt(r,"SID",t.K),gt(r,"RID",n),gt(r,"AID",t.V),gh(t,r),t.o&&t.s&&iE(r,t.o,t.s),n=new fh(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=S2(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),nE(t.i,n),a0(n,r,e)}function gh(t,e){t.na&&Ww(t.na,function(n,r){gt(e,r,n)}),t.h&&s2({},function(n,r){gt(e,r,n)})}function S2(t,e,n){n=Math.min(t.j.length,n);var r=t.h?jn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{QG(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function C2(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;xd||WN(),Pd||(xd(),Pd=!0),Yw.add(e,t),t.A=0}}function oE(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=dh(jn(t.Ma,t),b2(t,t.A)),t.A++,!0)}Q.Ma=function(){if(this.u=null,I2(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=dh(jn(this.jb,this),t)}};Q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qn(10),Wg(this),I2(this))};function aE(t){t.B!=null&&(ve.clearTimeout(t.B),t.B=null)}function I2(t){t.g=new fh(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ms(t.wa);gt(e,"RID","rpc"),gt(e,"SID",t.K),gt(e,"AID",t.V),gt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&gt(e,"TO",t.qa),gt(e,"TYPE","xmlhttp"),gh(t,e),t.o&&t.s&&iE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Ug(ms(e)),n.u=null,n.S=!0,t2(n,t)}Q.ib=function(){this.v!=null&&(this.v=null,Wg(this),oE(this),Qn(19))};function Up(t){t.v!=null&&(ve.clearTimeout(t.v),t.v=null)}function R2(t,e){var n=null;if(t.g==e){Up(t),aE(t),t.g=null;var r=2}else if(u0(t.i,e))n=e.F,f2(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Lg(),xn(r,new YN(r,n)),Hg(t)}else C2(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&nQ(t,e)||r==2&&oE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Uo(t,5);break;case 4:Uo(t,10);break;case 3:Uo(t,6);break;default:Uo(t,2)}}}function b2(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Uo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=jn(t.pb,t);n||(n=new Qo("//www.google.com/images/cleardot.gif"),ve.location&&ve.location.protocol=="http"||Fp(n,"https"),Ug(n)),YG(n.toString(),r)}else Qn(2);t.H=0,t.h&&t.h.za(e),x2(t),T2(t)}Q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Qn(2)):(this.l.info("Failed to ping google.com"),Qn(1))};function x2(t){if(t.H=0,t.ma=[],t.h){const e=p2(t.i);(e.length!=0||t.j.length!=0)&&(FI(t.ma,e),FI(t.ma,t.j),t.i.i.length=0,Bw(t.j),t.j.length=0),t.h.ya()}}function P2(t,e,n){var r=n instanceof Qo?ms(n):new Qo(n);if(r.g!="")e&&(r.g=e+"."+r.g),Vp(r,r.m);else{var i=ve.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Qo(null);r&&Fp(s,r),e&&(s.g=e),i&&Vp(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&gt(r,n,e),gt(r,"VER",t.ra),gh(t,r),r}function k2(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Bt(new jg({ob:n})):new Bt(t.va),e.Oa(t.J),e}Q.isActive=function(){return!!this.h&&this.h.isActive(this)};function A2(){}Q=A2.prototype;Q.Ba=function(){};Q.Aa=function(){};Q.za=function(){};Q.ya=function(){};Q.isActive=function(){return!0};Q.Va=function(){};function jp(){if(Wl&&!(10<=Number(mG)))throw Error("Environmental error: no available transport.")}jp.prototype.g=function(t,e){return new Ir(t,e)};function Ir(t,e){vn.call(this),this.g=new E2(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Rd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Rd(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new mu(this)}_n(Ir,vn);Ir.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Qn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=P2(t,null,t.Y),Hg(t)};Ir.prototype.close=function(){sE(this.g)};Ir.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Qw(t),t=n);e.j.push(new HG(e.fb++,t)),e.H==3&&Hg(e)};Ir.prototype.N=function(){this.g.h=null,delete this.j,sE(this.g),delete this.g,Ir.$.N.call(this)};function N2(t){eE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}_n(N2,eE);function O2(){tE.call(this),this.status=1}_n(O2,tE);function mu(t){this.g=t}_n(mu,A2);mu.prototype.Ba=function(){xn(this.g,"a")};mu.prototype.Aa=function(t){xn(this.g,new N2(t))};mu.prototype.za=function(t){xn(this.g,new O2)};mu.prototype.ya=function(){xn(this.g,"b")};function rQ(){this.blockSize=-1}function di(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}_n(di,rQ);di.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function my(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}di.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)my(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){my(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){my(this,r),i=0;break}}this.h=i,this.i+=e};di.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ze(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var iQ={};function lE(t){return-128<=t&&128>t?hG(t,function(e){return new Ze([e|0],0>e?-1:0)}):new Ze([t|0],0>t?-1:0)}function Ii(t){if(isNaN(t)||!isFinite(t))return Tl;if(0>t)return Cn(Ii(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=c0;return new Ze(e,0)}function M2(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Cn(M2(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ii(Math.pow(e,8)),r=Tl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Ii(Math.pow(e,s)),r=r.R(s).add(Ii(o))):(r=r.R(n),r=r.add(Ii(o)))}return r}var c0=4294967296,Tl=lE(0),d0=lE(1),QI=lE(16777216);Q=Ze.prototype;Q.ea=function(){if(Dr(this))return-Cn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:c0+r)*e,e*=c0}return t};Q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ts(this))return"0";if(Dr(this))return"-"+Cn(this).toString(t);for(var e=Ii(Math.pow(t,6)),n=this,r="";;){var i=zp(n,e).g;n=Bp(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ts(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ts(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Dr(t){return t.h==-1}Q.X=function(t){return t=Bp(this,t),Dr(t)?-1:ts(t)?0:1};function Cn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ze(n,~t.h).add(d0)}Q.abs=function(){return Dr(this)?Cn(this):this};Q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ze(n,n[n.length-1]&-2147483648?-1:0)};function Bp(t,e){return t.add(Cn(e))}Q.R=function(t){if(ts(this)||ts(t))return Tl;if(Dr(this))return Dr(t)?Cn(this).R(Cn(t)):Cn(Cn(this).R(t));if(Dr(t))return Cn(this.R(Cn(t)));if(0>this.X(QI)&&0>t.X(QI))return Ii(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,cf(n,2*r+2*i),n[2*r+2*i+1]+=s*l,cf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,cf(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,cf(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ze(n,0)};function cf(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Qu(t,e){this.g=t,this.h=e}function zp(t,e){if(ts(e))throw Error("division by zero");if(ts(t))return new Qu(Tl,Tl);if(Dr(t))return e=zp(Cn(t),e),new Qu(Cn(e.g),Cn(e.h));if(Dr(e))return e=zp(t,Cn(e)),new Qu(Cn(e.g),e.h);if(30<t.g.length){if(Dr(t)||Dr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=d0,r=e;0>=r.X(t);)n=YI(n),r=YI(r);var i=ja(n,1),s=ja(r,1);for(r=ja(r,2),n=ja(n,2);!ts(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ja(r,1),n=ja(n,1)}return e=Bp(t,i.R(e)),new Qu(i,e)}for(i=Tl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Ii(n),o=s.R(e);Dr(o)||0<o.X(t);)n-=r,s=Ii(n),o=s.R(e);ts(s)&&(s=d0),i=i.add(s),t=Bp(t,o)}return new Qu(i,t)}Q.gb=function(t){return zp(this,t).h};Q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ze(n,this.h&t.h)};Q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ze(n,this.h|t.h)};Q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ze(n,this.h^t.h)};function YI(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ze(n,t.h)}function ja(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ze(i,t.h)}jp.prototype.createWebChannel=jp.prototype.g;Ir.prototype.send=Ir.prototype.u;Ir.prototype.open=Ir.prototype.m;Ir.prototype.close=Ir.prototype.close;$g.NO_ERROR=0;$g.TIMEOUT=8;$g.HTTP_ERROR=6;XN.COMPLETE="complete";JN.EventType=hh;hh.OPEN="a";hh.CLOSE="b";hh.ERROR="c";hh.MESSAGE="d";vn.prototype.listen=vn.prototype.O;Bt.prototype.listenOnce=Bt.prototype.P;Bt.prototype.getLastError=Bt.prototype.Sa;Bt.prototype.getLastErrorCode=Bt.prototype.Ia;Bt.prototype.getStatus=Bt.prototype.da;Bt.prototype.getResponseJson=Bt.prototype.Wa;Bt.prototype.getResponseText=Bt.prototype.ja;Bt.prototype.send=Bt.prototype.ha;Bt.prototype.setWithCredentials=Bt.prototype.Oa;di.prototype.digest=di.prototype.l;di.prototype.reset=di.prototype.reset;di.prototype.update=di.prototype.j;Ze.prototype.add=Ze.prototype.add;Ze.prototype.multiply=Ze.prototype.R;Ze.prototype.modulo=Ze.prototype.gb;Ze.prototype.compare=Ze.prototype.X;Ze.prototype.toNumber=Ze.prototype.ea;Ze.prototype.toString=Ze.prototype.toString;Ze.prototype.getBits=Ze.prototype.D;Ze.fromNumber=Ii;Ze.fromString=M2;var sQ=function(){return new jp},oQ=function(){return Lg()},gy=$g,aQ=XN,lQ=ba,XI={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},df=JN,uQ=Bt,cQ=di,Sl=Ze;const JI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new Sg("@firebase/firestore");function Yu(){return da.logLevel}function K(t,...e){if(da.logLevel<=Ne.DEBUG){const n=e.map(uE);da.debug(`Firestore (${gu}): ${t}`,...n)}}function Ui(t,...e){if(da.logLevel<=Ne.ERROR){const n=e.map(uE);da.error(`Firestore (${gu}): ${t}`,...n)}}function Hl(t,...e){if(da.logLevel<=Ne.WARN){const n=e.map(uE);da.warn(`Firestore (${gu}): ${t}`,...n)}}function uE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${gu}) INTERNAL ASSERTION FAILED: `+t;throw Ui(e),new Error(e)}function dt(t,e){t||ge()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Dn.UNAUTHENTICATED))}shutdown(){}}class hQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fQ{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Oi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Oi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string"),new D2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string"),new Dn(e)}}class pQ{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class mQ{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new pQ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Dn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gQ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vQ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,K("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string"),this.R=n.token,new gQ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=yQ(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function ql(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new At(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new At(0,0))}static max(){return new we(new At(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Md.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Md?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class vt extends Md{construct(e,n,r){return new vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new vt(n)}static emptyPath(){return new vt([])}}const _Q=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends Md{construct(e,n,r){return new Rn(e,n,r)}static isValidIdentifier(e){return _Q.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new X(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new X(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(n)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(vt.fromString(e))}static fromName(e){return new le(vt.fromString(e).popFirst(5))}static empty(){return new le(vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&vt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new vt(e.slice()))}}function wQ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new oo(i,le.empty(),e)}function EQ(t){return new oo(t.readTime,t.key,-1)}class oo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new oo(we.min(),le.empty(),-1)}static max(){return new oo(we.max(),le.empty(),-1)}}function TQ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==SQ)throw t;K("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Oi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Fc(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=dE(r.target.error);this.V.reject(new Fc(e,i))}}static open(e,n,r,i){try{return new cE(n,e.transaction(i,r))}catch(s){throw new Fc(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(K("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new RQ(n)}}class jo{constructor(e,n,r){this.name=e,this.version=n,this.p=r,jo.S(tn())===12.2&&Ui("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return K("SimpleDb","Removing database:",e),Ao(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!SA())return!1;if(jo.C())return!0;const e=tn(),n=jo.S(e),r=0<n&&n<10,i=jo.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(K("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Fc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new X(F.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new X(F.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Fc(e,o))},i.onupgradeneeded=s=>{K("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{K("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=cE.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),U.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(K("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class IQ{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ao(this.k.delete())}}class Fc extends X{constructor(e,n){super(F.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function yh(t){return t.name==="IndexedDbTransactionError"}class RQ{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(K("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(K("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ao(r)}add(e){return K("SimpleDb","ADD",this.store.name,e,e),Ao(this.store.add(e))}get(e){return Ao(this.store.get(e)).next(n=>(n===void 0&&(n=null),K("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return K("SimpleDb","DELETE",this.store.name,e),Ao(this.store.delete(e))}count(){return K("SimpleDb","COUNT",this.store.name),Ao(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new U((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new U((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){K("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new U((r,i)=>{n.onerror=s=>{const o=dE(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new U((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new IQ(a),u=n(a.primaryKey,a.value,l);if(u instanceof U){const c=u.catch(d=>(l.done(),U.reject(d)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>U.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ao(t){return new U((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=dE(r.target.error);n(i)}})}let ZI=!1;function dE(t){const e=jo.S(tn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new X("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ZI||(ZI=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}hE._e=-1;function qg(t){return t==null}function Wp(t){return t===0&&1/t==-1/0}function bQ(t){return typeof t=="number"&&Number.isInteger(t)&&!Wp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function $2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nn=class h0{constructor(e,n){this.comparator=e,this.root=n||Js.EMPTY}insert(e,n){return new h0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Js.BLACK,null,null))}remove(e){return new h0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Js.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hf(this.root,e,this.comparator,!0)}},hf=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Js=class Ki{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ki.RED,this.left=i??Ki.EMPTY,this.right=s??Ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ki(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ki.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}};Js.EMPTY=null,Js.RED=!0,Js.BLACK=!1;Js.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Js(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new tR(this.data.getIterator())}getIteratorFrom(e){return new tR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pn(this.comparator);return n.data=e,n}}class tR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new _r([])}unionWith(e){let n=new Pn(Rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _r(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new F2("Invalid base64 string: "+s):s}}(e);return new Hn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const xQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ao(t){if(dt(!!t),typeof t=="string"){let e=0;const n=xQ.exec(t);if(dt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ha(t){return typeof t=="string"?Hn.fromBase64String(t):Hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function pE(t){const e=t.mapValue.fields.__previous_value__;return fE(e)?pE(e):e}function Dd(t){const e=ao(t.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ld{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ld("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ld&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?fE(t)?4:kQ(t)?9007199254740991:10:ge()}function ji(t,e){if(t===e)return!0;const n=fa(t);if(n!==fa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dd(t).isEqual(Dd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ao(i.timestampValue),a=ao(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ha(i.bytesValue).isEqual(ha(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Yt(i.geoPointValue.latitude)===Yt(s.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Yt(i.integerValue)===Yt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Yt(i.doubleValue),a=Yt(s.doubleValue);return o===a?Wp(o)===Wp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ql(t.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(eR(o)!==eR(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ji(o[l],a[l])))return!1;return!0}(t,e);default:return ge()}}function $d(t,e){return(t.values||[]).find(n=>ji(n,e))!==void 0}function Kl(t,e){if(t===e)return 0;const n=fa(t),r=fa(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Yt(s.integerValue||s.doubleValue),l=Yt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return nR(t.timestampValue,e.timestampValue);case 4:return nR(Dd(t),Dd(e));case 5:return Qe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ha(s),l=ha(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Qe(a[u],l[u]);if(c!==0)return c}return Qe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Qe(Yt(s.latitude),Yt(o.latitude));return a!==0?a:Qe(Yt(s.longitude),Yt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Kl(a[u],l[u]);if(c)return c}return Qe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ff.mapValue&&o===ff.mapValue)return 0;if(s===ff.mapValue)return 1;if(o===ff.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Qe(l[d],c[d]);if(h!==0)return h;const f=Kl(a[l[d]],u[c[d]]);if(f!==0)return f}return Qe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ge()}}function nR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=ao(t),r=ao(e),i=Qe(n.seconds,r.seconds);return i!==0?i:Qe(n.nanos,r.nanos)}function Gl(t){return f0(t)}function f0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ao(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ha(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=f0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${f0(n.fields[o])}`;return i+"}"}(t.mapValue):ge()}function rR(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function p0(t){return!!t&&"integerValue"in t}function mE(t){return!!t&&"arrayValue"in t}function iR(t){return!!t&&"nullValue"in t}function sR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uf(t){return!!t&&"mapValue"in t}function Vc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vc(n)}setAll(e){let n=Rn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Vc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Uf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Uf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new rr(Vc(this.value))}}function V2(t){const e=[];return xa(t.fields,(n,r)=>{const i=new Rn([n]);if(Uf(r)){const s=V2(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new _r(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $n(e,0,we.min(),we.min(),we.min(),rr.empty(),0)}static newFoundDocument(e,n,r,i){return new $n(e,1,n,we.min(),r,i,0)}static newNoDocument(e,n){return new $n(e,2,n,we.min(),we.min(),rr.empty(),0)}static newUnknownDocument(e,n){return new $n(e,3,n,we.min(),we.min(),rr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n){this.position=e,this.inclusive=n}}function oR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=Kl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function aR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ji(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n="asc"){this.field=e,this.dir=n}}function AQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{}class Zt extends U2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new OQ(e,n,r):n==="array-contains"?new LQ(e,r):n==="in"?new $Q(e,r):n==="not-in"?new FQ(e,r):n==="array-contains-any"?new VQ(e,r):new Zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new MQ(e,r):new DQ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Kl(n,this.value)):n!==null&&fa(this.value)===fa(n)&&this.matchesComparison(Kl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends U2{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new hi(e,n)}matches(e){return j2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function j2(t){return t.op==="and"}function B2(t){return NQ(t)&&j2(t)}function NQ(t){for(const e of t.filters)if(e instanceof hi)return!1;return!0}function m0(t){if(t instanceof Zt)return t.field.canonicalString()+t.op.toString()+Gl(t.value);if(B2(t))return t.filters.map(e=>m0(e)).join(",");{const e=t.filters.map(n=>m0(n)).join(",");return`${t.op}(${e})`}}function z2(t,e){return t instanceof Zt?function(r,i){return i instanceof Zt&&r.op===i.op&&r.field.isEqual(i.field)&&ji(r.value,i.value)}(t,e):t instanceof hi?function(r,i){return i instanceof hi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&z2(o,i.filters[a]),!0):!1}(t,e):void ge()}function W2(t){return t instanceof Zt?function(n){return`${n.field.canonicalString()} ${n.op} ${Gl(n.value)}`}(t):t instanceof hi?function(n){return n.op.toString()+" {"+n.getFilters().map(W2).join(" ,")+"}"}(t):"Filter"}class OQ extends Zt{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class MQ extends Zt{constructor(e,n){super(e,"in",n),this.keys=H2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class DQ extends Zt{constructor(e,n){super(e,"not-in",n),this.keys=H2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function H2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class LQ extends Zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mE(n)&&$d(n.arrayValue,this.value)}}class $Q extends Zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$d(this.value.arrayValue,n)}}class FQ extends Zt{constructor(e,n){super(e,"not-in",n)}matches(e){if($d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!$d(this.value.arrayValue,n)}}class VQ extends Zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$d(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UQ{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function lR(t,e=null,n=[],r=[],i=null,s=null,o=null){return new UQ(t,e,n,r,i,s,o)}function gE(t){const e=Ce(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>m0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),qg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Gl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Gl(r)).join(",")),e.ce=n}return e.ce}function vE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!AQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!z2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!aR(t.startAt,e.startAt)&&aR(t.endAt,e.endAt)}function g0(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function jQ(t,e,n,r,i,s,o,a){return new _h(t,e,n,r,i,s,o,a)}function Kg(t){return new _h(t)}function uR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function q2(t){return t.collectionGroup!==null}function Uc(t){const e=Ce(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Pn(Rn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new qp(s,r))}),n.has(Rn.keyField().canonicalString())||e.le.push(new qp(Rn.keyField(),r))}return e.le}function Mi(t){const e=Ce(t);return e.he||(e.he=BQ(e,Uc(t))),e.he}function BQ(t,e){if(t.limitType==="F")return lR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new qp(i.field,s)});const n=t.endAt?new Hp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hp(t.startAt.position,t.startAt.inclusive):null;return lR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function v0(t,e){const n=t.filters.concat([e]);return new _h(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function y0(t,e,n){return new _h(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gg(t,e){return vE(Mi(t),Mi(e))&&t.limitType===e.limitType}function K2(t){return`${gE(Mi(t))}|lt:${t.limitType}`}function Ha(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>W2(i)).join(", ")}]`),qg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Gl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Gl(i)).join(",")),`Target(${r})`}(Mi(t))}; limitType=${t.limitType})`}function Qg(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):le.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Uc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=oR(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Uc(r),i)||r.endAt&&!function(o,a,l){const u=oR(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Uc(r),i))}(t,e)}function zQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function G2(t){return(e,n)=>{let r=!1;for(const i of Uc(t)){const s=WQ(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function WQ(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Kl(l,u):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return $2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HQ=new nn(le.comparator);function gs(){return HQ}const Q2=new nn(le.comparator);function pc(...t){let e=Q2;for(const n of t)e=e.insert(n.key,n);return e}function Y2(t){let e=Q2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bo(){return jc()}function X2(){return jc()}function jc(){return new vu(t=>t.toString(),(t,e)=>t.isEqual(e))}const qQ=new nn(le.comparator),KQ=new Pn(le.comparator);function Oe(...t){let e=KQ;for(const n of t)e=e.add(n);return e}const GQ=new Pn(Qe);function QQ(){return GQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wp(e)?"-0":e}}function Z2(t){return{integerValue:""+t}}function YQ(t,e){return bQ(e)?Z2(e):J2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(){this._=void 0}}function XQ(t,e,n){return t instanceof Kp?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&fE(s)&&(s=pE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ql?tO(t,e):t instanceof Fd?nO(t,e):function(i,s){const o=eO(i,s),a=cR(o)+cR(i.Ie);return p0(o)&&p0(i.Ie)?Z2(a):J2(i.serializer,a)}(t,e)}function JQ(t,e,n){return t instanceof Ql?tO(t,e):t instanceof Fd?nO(t,e):n}function eO(t,e){return t instanceof Gp?function(r){return p0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Kp extends Yg{}class Ql extends Yg{constructor(e){super(),this.elements=e}}function tO(t,e){const n=rO(e);for(const r of t.elements)n.some(i=>ji(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fd extends Yg{constructor(e){super(),this.elements=e}}function nO(t,e){let n=rO(e);for(const r of t.elements)n=n.filter(i=>!ji(i,r));return{arrayValue:{values:n}}}class Gp extends Yg{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function cR(t){return Yt(t.integerValue||t.doubleValue)}function rO(t){return mE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZQ{constructor(e,n){this.field=e,this.transform=n}}function eY(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ql&&i instanceof Ql||r instanceof Fd&&i instanceof Fd?ql(r.elements,i.elements,ji):r instanceof Gp&&i instanceof Gp?ji(r.Ie,i.Ie):r instanceof Kp&&i instanceof Kp}(t.transform,e.transform)}class tY{constructor(e,n){this.version=e,this.transformResults=n}}class Di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xg{}function iO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new oO(t.key,Di.none()):new wh(t.key,t.data,Di.none());{const n=t.data,r=rr.empty();let i=new Pn(Rn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new To(t.key,r,new _r(i.toArray()),Di.none())}}function nY(t,e,n){t instanceof wh?function(i,s,o){const a=i.value.clone(),l=hR(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof To?function(i,s,o){if(!jf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=hR(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(sO(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Bc(t,e,n,r){return t instanceof wh?function(s,o,a,l){if(!jf(s.precondition,o))return a;const u=s.value.clone(),c=fR(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof To?function(s,o,a,l){if(!jf(s.precondition,o))return a;const u=fR(s.fieldTransforms,l,o),c=o.data;return c.setAll(sO(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return jf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function rY(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=eO(r.transform,i||null);s!=null&&(n===null&&(n=rr.empty()),n.set(r.field,s))}return n||null}function dR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ql(r,i,(s,o)=>eY(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wh extends Xg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class To extends Xg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function sO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function hR(t,e,n){const r=new Map;dt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,JQ(o,a,n[i]))}return r}function fR(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,XQ(s,o,e))}return r}class oO extends Xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iY extends Xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sY{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&nY(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=X2();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=iO(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Oe())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,(n,r)=>dR(n,r))&&ql(this.baseMutations,e.baseMutations,(n,r)=>dR(n,r))}}class yE{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){dt(e.mutations.length===r.length);let i=function(){return qQ}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new yE(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oY{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,Ve;function lY(t){switch(t){default:return ge();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function aO(t){if(t===void 0)return Ui("GRPC error has no .code"),F.UNKNOWN;switch(t){case Qt.OK:return F.OK;case Qt.CANCELLED:return F.CANCELLED;case Qt.UNKNOWN:return F.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return F.INTERNAL;case Qt.UNAVAILABLE:return F.UNAVAILABLE;case Qt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case Qt.NOT_FOUND:return F.NOT_FOUND;case Qt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case Qt.ABORTED:return F.ABORTED;case Qt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case Qt.DATA_LOSS:return F.DATA_LOSS;default:return ge()}}(Ve=Qt||(Qt={}))[Ve.OK=0]="OK",Ve[Ve.CANCELLED=1]="CANCELLED",Ve[Ve.UNKNOWN=2]="UNKNOWN",Ve[Ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ve[Ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ve[Ve.NOT_FOUND=5]="NOT_FOUND",Ve[Ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ve[Ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ve[Ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ve[Ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ve[Ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ve[Ve.ABORTED=10]="ABORTED",Ve[Ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ve[Ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ve[Ve.INTERNAL=13]="INTERNAL",Ve[Ve.UNAVAILABLE=14]="UNAVAILABLE",Ve[Ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cY=new Sl([4294967295,4294967295],0);function pR(t){const e=uY().encode(t),n=new cQ;return n.update(e),new Uint8Array(n.digest())}function mR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Sl([n,r],0),new Sl([i,s],0)]}class _E{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mc(`Invalid padding: ${n}`);if(r<0)throw new mc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new mc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Sl.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Sl.fromNumber(r)));return i.compare(cY)===1&&(i=new Sl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=pR(e),[r,i]=mR(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new _E(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=pR(e),[r,i]=mR(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Eh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jg(we.min(),i,new nn(Qe),gs(),Oe())}}class Eh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Eh(r,n,Oe(),Oe(),Oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class lO{constructor(e,n){this.targetId=e,this.fe=n}}class uO{constructor(e,n,r=Hn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class gR{constructor(){this.ge=0,this.pe=yR(),this.ye=Hn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Oe(),n=Oe(),r=Oe();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new Eh(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=yR()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,dt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class dY{constructor(e){this.Le=e,this.ke=new Map,this.qe=gs(),this.Qe=vR(),this.Ke=new nn(Qe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(g0(s))if(r===0){const o=new le(s.path);this.We(n,o,$n.newNoDocument(o,we.min()))}else dt(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ha(r).toUint8Array()}catch(l){if(l instanceof F2)return Hl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new _E(o,i,s)}catch(l){return Hl(l instanceof mc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&g0(a.target)){const l=new le(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,$n.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=Oe();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Jg(e,n,this.Ke,this.qe,r);return this.qe=gs(),this.Qe=vR(),this.Ke=new nn(Qe),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new gR,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Pn(Qe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||K("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new gR),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function vR(){return new nn(le.comparator)}function yR(){return new nn(le.comparator)}const hY={asc:"ASCENDING",desc:"DESCENDING"},fY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pY={and:"AND",or:"OR"};class mY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _0(t,e){return t.useProto3Json||qg(e)?e:{value:e}}function Qp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gY(t,e){return Qp(t,e.toTimestamp())}function Li(t){return dt(!!t),we.fromTimestamp(function(n){const r=ao(n);return new At(r.seconds,r.nanos)}(t))}function wE(t,e){return w0(t,e).canonicalString()}function w0(t,e){const n=function(i){return new vt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function dO(t){const e=vt.fromString(t);return dt(gO(e)),e}function E0(t,e){return wE(t.databaseId,e.path)}function vy(t,e){const n=dO(e);if(n.get(1)!==t.databaseId.projectId)throw new X(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(fO(n))}function hO(t,e){return wE(t.databaseId,e)}function vY(t){const e=dO(t);return e.length===4?vt.emptyPath():fO(e)}function T0(t){return new vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function fO(t){return dt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _R(t,e,n){return{name:E0(t,e),fields:n.value.mapValue.fields}}function yY(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(dt(c===void 0||typeof c=="string"),Hn.fromBase64String(c||"")):(dt(c===void 0||c instanceof Uint8Array),Hn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?F.UNKNOWN:aO(u.code);return new X(c,u.message||"")}(o);n=new uO(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=vy(t,r.document.name),s=Li(r.document.updateTime),o=r.document.createTime?Li(r.document.createTime):we.min(),a=new rr({mapValue:{fields:r.document.fields}}),l=$n.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Bf(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=vy(t,r.document),s=r.readTime?Li(r.readTime):we.min(),o=$n.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Bf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=vy(t,r.document),s=r.removedTargetIds||[];n=new Bf([],s,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new aY(i,s),a=r.targetId;n=new lO(a,o)}}return n}function _Y(t,e){let n;if(e instanceof wh)n={update:_R(t,e.key,e.value)};else if(e instanceof oO)n={delete:E0(t,e.key)};else if(e instanceof To)n={update:_R(t,e.key,e.data),updateMask:xY(e.fieldMask)};else{if(!(e instanceof iY))return ge();n={verify:E0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Kp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ql)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gp)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:gY(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge()}(t,e.precondition)),n}function wY(t,e){return t&&t.length>0?(dt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Li(i.updateTime):Li(s);return o.isEqual(we.min())&&(o=Li(s)),new tY(o,i.transformResults||[])}(n,e))):[]}function EY(t,e){return{documents:[hO(t,e.path)]}}function TY(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hO(t,i);const s=function(u){if(u.length!==0)return mO(hi.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:qa(h.field),direction:IY(h.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=_0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function SY(t){let e=vY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dt(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=pO(d);return h instanceof hi&&B2(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(p){return new qp(Ka(p.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,qg(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new Hp(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new Hp(f,h)}(n.endAt)),jQ(e,i,o,s,a,"F",l,u)}function CY(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function pO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ka(n.unaryFilter.field);return Zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ka(n.unaryFilter.field);return Zt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ka(n.unaryFilter.field);return Zt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ka(n.unaryFilter.field);return Zt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return Zt.create(Ka(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hi.create(n.compositeFilter.filters.map(r=>pO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function IY(t){return hY[t]}function RY(t){return fY[t]}function bY(t){return pY[t]}function qa(t){return{fieldPath:t.canonicalString()}}function Ka(t){return Rn.fromServerFormat(t.fieldPath)}function mO(t){return t instanceof Zt?function(n){if(n.op==="=="){if(sR(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NAN"}};if(iR(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(sR(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NAN"}};if(iR(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(n.field),op:RY(n.op),value:n.value}}}(t):t instanceof hi?function(n){const r=n.getFilters().map(i=>mO(i));return r.length===1?r[0]:{compositeFilter:{op:bY(n.op),filters:r}}}(t):ge()}function xY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function gO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r,i,s=we.min(),o=we.min(),a=Hn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PY{constructor(e){this.ct=e}}function kY(t){const e=SY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?y0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AY{constructor(){this._n=new NY}addToCollectionParentIndex(e,n){return this._n.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(oo.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(oo.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class NY{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pn(vt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pn(vt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Yl(0)}static Bn(){return new Yl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OY{constructor(){this.changes=new vu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DY{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Bc(r.mutation,i,_r.empty(),At.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Oe()){const i=Bo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=pc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Bo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=gs();const o=jc(),a=function(){return jc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof To)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Bc(c.mutation,u,c.mutation.getFieldMask(),At.now())):o.set(u.key,_r.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new MY(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=jc();let i=new nn((o,a)=>o-a),s=Oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||_r.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Oe()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=X2();c.forEach(h=>{if(!s.has(h)){const f=iO(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return le.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):q2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(Bo());let a=-1,l=s;return o.next(u=>U.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?U.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Oe())).next(c=>({batchId:a,changes:Y2(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let i=pc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=pc();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const u=function(d,h){return new _h(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,$n.newInvalidDocument(c)))});let a=pc();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Bc(c.mutation,u,_r.empty(),At.now()),Qg(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LY{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return U.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Li(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:kY(i.bundledQuery),readTime:Li(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(){this.overlays=new nn(le.comparator),this.hr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bo();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Bo(),s=n.length+1,o=new le(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new nn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Bo(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Bo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return U.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new oY(n,r));let s=this.hr.get(n);s===void 0&&(s=Oe(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.Pr=new Pn(dn.Ir),this.Tr=new Pn(dn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new dn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new dn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new le(new vt([])),r=new dn(n,e),i=new dn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new le(new vt([])),r=new dn(n,e),i=new dn(n,e+1);let s=Oe();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new dn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return le.comparator(e.key,n.key)||Qe(e.pr,n.pr)}static Er(e,n){return Qe(e.pr,n.pr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Pn(dn.Ir)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new sY(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new dn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dn(n,0),i=new dn(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pn(Qe);return n.forEach(i=>{const s=new dn(i,0),o=new dn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),U.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;le.isDocumentKey(s)||(s=s.child(""));const o=new dn(new le(s),0);let a=new Pn(Qe);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),U.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){dt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return U.forEach(n.mutations,i=>{const s=new dn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new dn(n,0),i=this.wr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VY{constructor(e){this.vr=e,this.docs=function(){return new nn(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():$n.newInvalidDocument(n))}getEntries(e,n){let r=gs();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$n.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=gs();const o=n.path,a=new le(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||TQ(EQ(c),r)<=0||(i.has(c.key)||Qg(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ge()}Fr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new UY(this)}getSize(e){return U.resolve(this.size)}}class UY extends OY{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jY{constructor(e){this.persistence=e,this.Mr=new vu(n=>gE(n),vE),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Or=0,this.Nr=new EE,this.targetCount=0,this.Br=Yl.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),U.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Yl(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.qn(n),U.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BY{constructor(e,n){this.Lr={},this.overlays={},this.kr=new hE(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new jY(this),this.indexManager=new AY,this.remoteDocumentCache=function(i){return new VY(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new PY(n),this.$r=new LY(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $Y,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new FY(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){K("MemoryPersistence","Starting transaction:",e);const i=new zY(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return U.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class zY extends CQ{constructor(e){super(),this.currentSequenceNumber=e}}class TE{constructor(e){this.persistence=e,this.zr=new EE,this.jr=null}static Hr(e){return new TE(e)}get Jr(){if(this.jr)return this.jr;throw ge()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),U.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Jr,r=>{const i=le.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,we.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return U.or([()=>U.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Oe(),i=Oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new SE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Z8()?8:jo.v(tn())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new WY;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Yu()<=Ne.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Ha(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),U.resolve()):(Yu()<=Ne.DEBUG&&K("QueryEngine","Query:",Ha(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Yu()<=Ne.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Ha(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):U.resolve())}ji(e,n){if(uR(n))return U.resolve(null);let r=Mi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=y0(n,null,"F"),r=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Oe(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,y0(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return uR(n)||i.isEqual(we.min())?U.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?U.resolve(null):(Yu()<=Ne.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ha(n)),this.es(e,o,n,wQ(i,-1)).next(a=>a))})}Zi(e,n){let r=new Pn(G2(e));return n.forEach((i,s)=>{Qg(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Yu()<=Ne.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Ha(n)),this.zi.getDocumentsMatchingQuery(e,n,oo.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new nn(Qe),this.rs=new vu(s=>gE(s),vE),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DY(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function KY(t,e,n,r){return new qY(t,e,n,r)}async function vO(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Oe();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function GY(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=U.resolve();return h.forEach(p=>{f=f.next(()=>c.getEntry(l,p)).next(g=>{const T=u.docVersions.get(p);dt(T!==null),g.version.compareTo(T)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Oe();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function yO(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function QY(t,e){const n=Ce(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(Hn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(g,T,m){return g.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,f,c)&&a.push(n.Qr.updateTargetData(s,f))});let l=gs(),u=Oe();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(YY(s,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(we.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function YY(t,e,n){let r=Oe(),i=Oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=gs();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function XY(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function JY(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new js(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function S0(t,e,n){const r=Ce(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!yh(o))throw o;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function wR(t,e,n){const r=Ce(t);let i=we.min(),s=Oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=Ce(l),h=d.rs.get(c);return h!==void 0?U.resolve(d.ns.get(h)):d.Qr.getTargetData(u,c)}(r,o,Mi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:we.min(),n?s:Oe())).next(a=>(ZY(r,zQ(e),a),{documents:a,hs:s})))}function ZY(t,e,n){let r=t.ss.get(e)||we.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class ER{constructor(){this.activeTargetIds=QQ()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eX{constructor(){this.no=new ER,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new ER,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tX{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf=null;function yy(){return pf===null?pf=function(){return 268435456+Math.round(2147483648*Math.random())}():pf++,"0x"+pf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rX{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class iX extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=yy(),l=this.bo(n,r.toUriEncodedString());K("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,l,u,i).then(c=>(K("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Hl("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=nX[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=yy();return new Promise((o,a)=>{const l=new uQ;l.setWithCredentials(!0),l.listenOnce(aQ.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case gy.NO_ERROR:const c=l.getResponseJson();K(On,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case gy.TIMEOUT:K(On,`RPC '${e}' ${s} timed out`),a(new X(F.DEADLINE_EXCEEDED,"Request time out"));break;case gy.HTTP_ERROR:const d=l.getStatus();if(K(On,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(T){const m=T.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(m)>=0?m:F.UNKNOWN}(f.status);a(new X(p,f.message))}else a(new X(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X(F.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{K(On,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);K(On,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=yy(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=sQ(),a=oQ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");K(On,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const p=new rX({lo:T=>{f?K(On,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(h||(K(On,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),K(On,`RPC '${e}' stream ${i} sending:`,T),d.send(T))},ho:()=>d.close()}),g=(T,m,v)=>{T.listen(m,y=>{try{v(y)}catch(E){setTimeout(()=>{throw E},0)}})};return g(d,df.EventType.OPEN,()=>{f||K(On,`RPC '${e}' stream ${i} transport opened.`)}),g(d,df.EventType.CLOSE,()=>{f||(f=!0,K(On,`RPC '${e}' stream ${i} transport closed`),p.Vo())}),g(d,df.EventType.ERROR,T=>{f||(f=!0,Hl(On,`RPC '${e}' stream ${i} transport errored:`,T),p.Vo(new X(F.UNAVAILABLE,"The operation could not be completed")))}),g(d,df.EventType.MESSAGE,T=>{var m;if(!f){const v=T.data[0];dt(!!v);const y=v,E=y.error||((m=y[0])===null||m===void 0?void 0:m.error);if(E){K(On,`RPC '${e}' stream ${i} received error:`,E);const I=E.status;let w=function(P){const x=Qt[P];if(x!==void 0)return aO(x)}(I),S=E.message;w===void 0&&(w=F.INTERNAL,S="Unknown error status: "+I+" with message "+E.message),f=!0,p.Vo(new X(w,S)),d.close()}else K(On,`RPC '${e}' stream ${i} received:`,v),p.mo(v)}}),g(a,lQ.STAT_EVENT,T=>{T.stat===XI.PROXY?K(On,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===XI.NOPROXY&&K(On,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}function _y(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t){return new mY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new _O(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Ui(n.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new X(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sX extends wO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=yY(this.serializer,e),r=function(s){if(!("targetChange"in s))return we.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?we.min():o.readTime?Li(o.readTime):we.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=T0(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=g0(l)?{documents:EY(s,l)}:{query:TY(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=cO(s,o.resumeToken);const u=_0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(we.min())>0){a.readTime=Qp(s,o.snapshotVersion.toTimestamp());const u=_0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=CY(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=T0(this.serializer),n.removeTarget=e,this.t_(n)}}class oX extends wO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=wY(e.writeResults,e.commitTime),r=Li(e.commitTime);return this.listener.T_(r,n)}return dt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=T0(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>_Y(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aX extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new X(F.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,w0(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(F.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,w0(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(F.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class lX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Ui(n),this.g_=!1):K("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uX{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{Pa(this)&&(K("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ce(l);u.v_.add(4),await Th(u),u.x_.set("Unknown"),u.v_.delete(4),await ev(u)}(this))})}),this.x_=new lX(r,i)}}async function ev(t){if(Pa(t))for(const e of t.F_)await e(!0)}async function Th(t){for(const e of t.F_)await e(!1)}function EO(t,e){const n=Ce(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),RE(n)?IE(n):yu(n).Jo()&&CE(n,e))}function TO(t,e){const n=Ce(t),r=yu(n);n.C_.delete(e),r.Jo()&&SO(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Pa(n)&&n.x_.set("Unknown"))}function CE(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}yu(t).c_(e)}function SO(t,e){t.O_.Oe(e),yu(t).l_(e)}function IE(t){t.O_=new dY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),yu(t).start(),t.x_.p_()}function RE(t){return Pa(t)&&!yu(t).Ho()&&t.C_.size>0}function Pa(t){return Ce(t).v_.size===0}function CO(t){t.O_=void 0}async function cX(t){t.C_.forEach((e,n)=>{CE(t,e)})}async function dX(t,e){CO(t),RE(t)?(t.x_.S_(e),IE(t)):t.x_.set("Unknown")}async function hX(t,e,n){if(t.x_.set("Online"),e instanceof uO&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yp(t,r)}else if(e instanceof Bf?t.O_.$e(e):e instanceof lO?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(we.min()))try{const r=await yO(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.C_.get(u);c&&s.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.C_.get(l);if(!c)return;s.C_.set(l,c.withResumeToken(Hn.EMPTY_BYTE_STRING,c.snapshotVersion)),SO(s,l);const d=new js(c.target,l,u,c.sequenceNumber);CE(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){K("RemoteStore","Failed to raise snapshot:",r),await Yp(t,r)}}async function Yp(t,e,n){if(!yh(e))throw e;t.v_.add(1),await Th(t),t.x_.set("Offline"),n||(n=()=>yO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{K("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await ev(t)})}function IO(t,e){return e().catch(n=>Yp(t,n,e))}async function tv(t){const e=Ce(t),n=lo(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;fX(e);)try{const i=await XY(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,pX(e,i)}catch(i){await Yp(e,i)}RO(e)&&bO(e)}function fX(t){return Pa(t)&&t.D_.length<10}function pX(t,e){t.D_.push(e);const n=lo(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function RO(t){return Pa(t)&&!lo(t).Ho()&&t.D_.length>0}function bO(t){lo(t).start()}async function mX(t){lo(t).d_()}async function gX(t){const e=lo(t);for(const n of t.D_)e.I_(n.mutations)}async function vX(t,e,n){const r=t.D_.shift(),i=yE.from(r,e,n);await IO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await tv(t)}async function yX(t,e){e&&lo(t).P_&&await async function(r,i){if(function(o){return lY(o)&&o!==F.ABORTED}(i.code)){const s=r.D_.shift();lo(r).Zo(),await IO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await tv(r)}}(t,e),RO(t)&&bO(t)}async function SR(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");const r=Pa(n);n.v_.add(3),await Th(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await ev(n)}async function _X(t,e){const n=Ce(t);e?(n.v_.delete(2),await ev(n)):e||(n.v_.add(2),await Th(n),n.x_.set("Unknown"))}function yu(t){return t.N_||(t.N_=function(n,r,i){const s=Ce(n);return s.R_(),new sX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:cX.bind(null,t),To:dX.bind(null,t),u_:hX.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),RE(t)?IE(t):t.x_.set("Unknown")):(await t.N_.stop(),CO(t))})),t.N_}function lo(t){return t.B_||(t.B_=function(n,r,i){const s=Ce(n);return s.R_(),new oX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:mX.bind(null,t),To:yX.bind(null,t),E_:gX.bind(null,t),T_:vX.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await tv(t)):(await t.B_.stop(),t.D_.length>0&&(K("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new bE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xE(t,e){if(Ui("AsyncQueue",`${e}: ${t}`),yh(t))return new X(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=pc(),this.sortedSet=new nn(this.comparator)}static emptySet(e){return new Cl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Cl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.L_=new nn(le.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):ge():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Xl(e,n,Cl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wX{constructor(){this.q_=void 0,this.Q_=[]}}class EX{constructor(){this.queries=new vu(e=>K2(e),Gg),this.onlineState="Unknown",this.K_=new Set}}async function PE(t,e){const n=Ce(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new wX),i)try{s.q_=await n.onListen(r)}catch(o){const a=xE(o,`Initialization of query '${Ha(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&AE(n)}async function kE(t,e){const n=Ce(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function TX(t,e){const n=Ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&AE(n)}function SX(t,e,n){const r=Ce(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function AE(t){t.K_.forEach(e=>{e.next()})}class NE{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.key=e}}class PO{constructor(e){this.key=e}}class CX{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=Oe(),this.mutatedKeys=Oe(),this.ua=G2(e),this.ca=new Cl(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new CR,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=Qg(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let T=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),T=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),T=!0,(l&&this.ua(f,l)>0||u&&this.ua(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),T=!0):h&&!f&&(r.track({type:1,doc:h}),T=!0,(l||u)&&(a=!0)),T&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((c,d)=>function(f,p){const g=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return g(f)-g(p)}(c.type,d.type)||this.ua(c.doc,d.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,o.length!==0||u?{snapshot:new Xl(this.query,e.ca,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new CR,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=Oe(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new PO(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new xO(r))}),n}Ra(e){this.oa=e.hs,this.aa=Oe();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Xl.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class IX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RX{constructor(e){this.key=e,this.ma=!1}}class bX{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new vu(a=>K2(a),Gg),this.pa=new Map,this.ya=new Set,this.wa=new nn(le.comparator),this.Sa=new Map,this.ba=new EE,this.Da={},this.Ca=new Map,this.va=Yl.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function xX(t,e){const n=FX(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await JY(n.localStore,Mi(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await PX(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&EO(n.remoteStore,o)}return i}async function PX(t,e,n,r,i){t.Ma=(d,h,f)=>async function(g,T,m,v){let y=T.view.ha(m);y.Xi&&(y=await wR(g.localStore,T.query,!1).then(({documents:S})=>T.view.ha(S,y)));const E=v&&v.targetChanges.get(T.targetId),I=v&&v.targetMismatches.get(T.targetId)!=null,w=T.view.applyChanges(y,g.isPrimaryClient,E,I);return RR(g,T.targetId,w.da),w.snapshot}(t,d,h,f);const s=await wR(t.localStore,e,!0),o=new CX(e,s.hs),a=o.ha(s.documents),l=Eh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);RR(t,n,u.da);const c=new IX(e,n,o);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function kX(t,e){const n=Ce(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Gg(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await S0(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),TO(n.remoteStore,r.targetId),C0(n,r.targetId)}).catch(vh)):(C0(n,r.targetId),await S0(n.localStore,r.targetId,!0))}async function AX(t,e,n){const r=VX(t);try{const i=await function(o,a){const l=Ce(o),u=At.now(),c=a.reduce((f,p)=>f.add(p.key),Oe());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=gs(),g=Oe();return l.os.getEntries(f,c).next(T=>{p=T,p.forEach((m,v)=>{v.isValidDocument()||(g=g.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(T=>{d=T;const m=[];for(const v of a){const y=rY(v,d.get(v.key).overlayedDocument);y!=null&&m.push(new To(v.key,y,V2(y.value.mapValue),Di.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,m,a)}).next(T=>{h=T;const m=T.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(f,T.batchId,m)})}).then(()=>({batchId:h.batchId,changes:Y2(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Da[o.currentUser.toKey()];u||(u=new nn(Qe)),u=u.insert(a,l),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),await Sh(r,i.changes),await tv(r.remoteStore)}catch(i){const s=xE(i,"Failed to persist write");n.reject(s)}}async function kO(t,e){const n=Ce(t);try{const r=await QY(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?dt(o.ma):i.removedDocuments.size>0&&(dt(o.ma),o.ma=!1))}),await Sh(n,r,e)}catch(r){await vh(r)}}function IR(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ce(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.Q_)h.U_(a)&&(u=!0)}),u&&AE(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function NX(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new nn(le.comparator);o=o.insert(s,$n.newNoDocument(s,we.min()));const a=Oe().add(s),l=new Jg(we.min(),new Map,new nn(Qe),o,a);await kO(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),OE(r)}else await S0(r.localStore,e,!1).then(()=>C0(r,e,n)).catch(vh)}async function OX(t,e){const n=Ce(t),r=e.batch.batchId;try{const i=await GY(n.localStore,e);NO(n,r,null),AO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sh(n,i)}catch(i){await vh(i)}}async function MX(t,e,n){const r=Ce(t);try{const i=await function(o,a){const l=Ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(dt(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);NO(r,e,n),AO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sh(r,i)}catch(i){await vh(i)}}function AO(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function NO(t,e,n){const r=Ce(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function C0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||OO(t,r)})}function OO(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(TO(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),OE(t))}function RR(t,e,n){for(const r of n)r instanceof xO?(t.ba.addReference(r.key,e),DX(t,r)):r instanceof PO?(K("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||OO(t,r.key)):ge()}function DX(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(K("SyncEngine","New document in limbo: "+n),t.ya.add(r),OE(t))}function OE(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new le(vt.fromString(e)),r=t.va.next();t.Sa.set(r,new RX(n)),t.wa=t.wa.insert(n,r),EO(t.remoteStore,new js(Mi(Kg(n.path)),r,"TargetPurposeLimboResolution",hE._e))}}async function Sh(t,e,n){const r=Ce(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=SE.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.fa.u_(i),await async function(l,u){const c=Ce(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>U.forEach(u,h=>U.forEach(h.qi,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>U.forEach(h.Qi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!yh(d))throw d;K("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.ns.get(h),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);c.ns=c.ns.insert(h,g)}}}(r.localStore,s))}async function LX(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());const r=await vO(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new X(F.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sh(n,r.us)}}function $X(t,e){const n=Ce(t),r=n.Sa.get(e);if(r&&r.ma)return Oe().add(r.key);{let i=Oe();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function FX(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$X.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=NX.bind(null,e),e.fa.u_=TX.bind(null,e.eventManager),e.fa.xa=SX.bind(null,e.eventManager),e}function VX(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MX.bind(null,e),e}class bR{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Zg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return KY(this.persistence,new HY,e.initialUser,this.serializer)}createPersistence(e){return new BY(TE.Hr,this.serializer)}createSharedClientState(e){return new eX}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class UX{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>IR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=LX.bind(null,this.syncEngine),await _X(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EX}()}createDatastore(e){const n=Zg(e.databaseInfo.databaseId),r=function(s){return new iX(s)}(e.databaseInfo);return function(s,o,a,l){return new aX(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new uX(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>IR(this.syncEngine,n,0),function(){return TR.D()?new TR:new tX}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new bX(i,s,o,a,l,u);return c&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ce(r);K("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Th(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jX{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dn.UNAUTHENTICATED,this.clientId=L2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{K("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wy(t,e){t.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await vO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zX(t);K("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>SR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>SR(e.remoteStore,i)),t._onlineComponents=e}function BX(t){return t.name==="FirebaseError"?t.code===F.FAILED_PRECONDITION||t.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function zX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{await wy(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!BX(n))throw n;Hl("Error using user provided cache. Falling back to memory cache: "+n),await wy(t,new bR)}}else K("FirestoreClient","Using default OfflineComponentProvider"),await wy(t,new bR);return t._offlineComponents}async function MO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),await xR(t,t._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),await xR(t,new UX))),t._onlineComponents}function WX(t){return MO(t).then(e=>e.syncEngine)}async function Xp(t){const e=await MO(t),n=e.eventManager;return n.onListen=xX.bind(null,e.syncEngine),n.onUnlisten=kX.bind(null,e.syncEngine),n}function HX(t,e,n={}){const r=new Oi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new ME({next:h=>{o.enqueueAndForget(()=>kE(s,d));const f=h.docs.has(a);!f&&h.fromCache?u.reject(new X(F.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new X(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new NE(Kg(a.path),c,{includeMetadataChanges:!0,Z_:!0});return PE(s,d)}(await Xp(t),t.asyncQueue,e,n,r)),r.promise}function qX(t,e,n={}){const r=new Oi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new ME({next:h=>{o.enqueueAndForget(()=>kE(s,d)),h.fromCache&&l.source==="server"?u.reject(new X(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new NE(a,c,{includeMetadataChanges:!0,Z_:!0});return PE(s,d)}(await Xp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t,e,n){if(!n)throw new X(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KX(t,e,n,r){if(e===!0&&r===!0)throw new X(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kR(t){if(!le.isDocumentKey(t))throw new X(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function AR(t){if(le.isDocumentKey(t))throw new X(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function zr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nv(t);throw new X(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rv{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NR(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new dQ;switch(r.type){case"firstParty":return new mQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=PR.get(n);r&&(K("ComponentProvider","Removing Datastore"),PR.delete(n),r.terminate())}(this),Promise.resolve()}}function GX(t,e,n,r={}){var i;const s=(t=zr(t,rv))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Dn.MOCK_USER;else{a=wA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new X(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Dn(u)}t._authCredentials=new hQ(new D2(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ka(this.firestore,e,this._query)}}class zn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zn(this.firestore,e,this._key)}}class Zs extends ka{constructor(e,n,r){super(e,n,Kg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new le(e))}withConverter(e){return new Zs(this.firestore,e,this._path)}}function QX(t,e,...n){if(t=_t(t),LO("collection","path",e),t instanceof rv){const r=vt.fromString(e,...n);return AR(r),new Zs(t,null,r)}{if(!(t instanceof zn||t instanceof Zs))throw new X(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return AR(r),new Zs(t.firestore,null,r)}}function ri(t,e,...n){if(t=_t(t),arguments.length===1&&(e=L2.newId()),LO("doc","path",e),t instanceof rv){const r=vt.fromString(e,...n);return kR(r),new zn(t,null,new le(r))}{if(!(t instanceof zn||t instanceof Zs))throw new X(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(vt.fromString(e,...n));return kR(r),new zn(t.firestore,t instanceof Zs?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YX{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new _O(this,"async_queue_retry"),this._u=()=>{const n=_y();n&&K("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=_y();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=_y();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Oi;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!yh(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ui("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=bE.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&ge()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function OR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class pa extends rv{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new YX}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||$O(this),this._firestoreClient.terminate()}}function XX(t,e){const n=typeof t=="object"?t:Tw(),r=typeof t=="string"?t:e||"(default)",i=Cg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=vA("firestore");s&&GX(i,...s)}return i}function iv(t){return t._firestoreClient||$O(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $O(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new PQ(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,DO(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new jX(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jl(Hn.fromBase64String(e))}catch(n){throw new X(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jl(Hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sv{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JX=/^__.*__$/;class ZX{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new To(e,this.data,this.fieldMask,n,this.fieldTransforms):new wh(e,this.data,n,this.fieldTransforms)}}class FO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new To(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function VO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class av{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new av(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Jp(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(VO(this.du)&&JX.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class eJ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zg(e)}Su(e,n,r,i=!1){return new av({du:e,methodName:n,wu:r,path:Rn.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function LE(t){const e=t._freezeSettings(),n=Zg(t._databaseId);return new eJ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function tJ(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);FE("Data must be an object, but it was:",o,r);const a=UO(r,o);let l,u;if(s.merge)l=new _r(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=I0(e,d,n);if(!o.contains(h))throw new X(F.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);BO(c,h)||c.push(h)}l=new _r(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new ZX(new rr(a),l,u)}class lv extends ov{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lv}}function nJ(t,e,n){return new av({du:3,wu:e.settings.wu,methodName:t._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class $E extends ov{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=nJ(this,e,!0),r=this.bu.map(s=>_u(s,n)),i=new Ql(r);return new ZQ(e.path,i)}isEqual(e){return e instanceof $E&&Td(this.bu,e.bu)}}function rJ(t,e,n,r){const i=t.Su(1,e,n);FE("Data must be an object, but it was:",i,r);const s=[],o=rr.empty();xa(r,(l,u)=>{const c=VE(e,l,n);u=_t(u);const d=i.fu(c);if(u instanceof lv)s.push(c);else{const h=_u(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new _r(s);return new FO(o,a,i.fieldTransforms)}function iJ(t,e,n,r,i,s){const o=t.Su(1,e,n),a=[I0(e,r,n)],l=[i];if(s.length%2!=0)throw new X(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(I0(e,s[h])),l.push(s[h+1]);const u=[],c=rr.empty();for(let h=a.length-1;h>=0;--h)if(!BO(u,a[h])){const f=a[h];let p=l[h];p=_t(p);const g=o.fu(f);if(p instanceof lv)u.push(f);else{const T=_u(p,g);T!=null&&(u.push(f),c.set(f,T))}}const d=new _r(u);return new FO(c,d,o.fieldTransforms)}function sJ(t,e,n,r=!1){return _u(n,t.Su(r?4:3,e))}function _u(t,e){if(jO(t=_t(t)))return FE("Unsupported field value:",e,t),UO(t,e);if(t instanceof ov)return function(r,i){if(!VO(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=_u(a,i.gu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YQ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=At.fromDate(r);return{timestampValue:Qp(i.serializer,s)}}if(r instanceof At){const s=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qp(i.serializer,s)}}if(r instanceof DE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jl)return{bytesValue:cO(i.serializer,r._byteString)};if(r instanceof zn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:wE(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${nv(r)}`)}(t,e)}function UO(t,e){const n={};return $2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xa(t,(r,i)=>{const s=_u(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function jO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof DE||t instanceof Jl||t instanceof zn||t instanceof ov)}function FE(t,e,n){if(!jO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=nv(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function I0(t,e,n){if((e=_t(e))instanceof sv)return e._internalPath;if(typeof e=="string")return VE(t,e);throw Jp("Field path arguments must be of type string or ",t,!1,void 0,n)}const oJ=new RegExp("[~\\*/\\[\\]]");function VE(t,e,n){if(e.search(oJ)>=0)throw Jp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sv(...e.split("."))._internalPath}catch{throw Jp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new X(F.INVALID_ARGUMENT,a+t+l)}function BO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new aJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(UE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aJ extends zO{data(){return super.data()}}function UE(t,e){return typeof e=="string"?VE(t,e):e instanceof sv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jE{}class lJ extends jE{}function uJ(t,e,...n){let r=[];e instanceof jE&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof BE).length,a=s.filter(l=>l instanceof uv).length;if(o>1||o>0&&a>0)throw new X(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class uv extends lJ{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new uv(e,n,r)}_apply(e){const n=this._parse(e);return HO(e._query,n),new ka(e.firestore,e.converter,v0(e._query,n))}_parse(e){const n=LE(e.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new X(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){DR(d,c);const f=[];for(const p of d)f.push(MR(l,s,p));h={arrayValue:{values:f}}}else h=MR(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||DR(d,c),h=sJ(a,o,d,c==="in"||c==="not-in");return Zt.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function cJ(t,e,n){const r=e,i=UE("where",t);return uv._create(i,r,n)}class BE extends jE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new BE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:hi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)HO(o,l),o=v0(o,l)}(e._query,n),new ka(e.firestore,e.converter,v0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function MR(t,e,n){if(typeof(n=_t(n))=="string"){if(n==="")throw new X(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q2(e)&&n.indexOf("/")!==-1)throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(vt.fromString(n));if(!le.isDocumentKey(r))throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rR(t,new le(r))}if(n instanceof zn)return rR(t,n._key);throw new X(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nv(n)}.`)}function DR(t,e){if(!Array.isArray(t)||t.length===0)throw new X(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HO(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class dJ{convertValue(e,n="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xa(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new DE(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dd(e));default:return null}}convertTimestamp(e){const n=ao(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=vt.fromString(e);dt(gO(r));const i=new Ld(r.get(1),r.get(3)),s=new le(r.popFirst(5));return i.isEqual(n)||Ui(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hJ(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qO extends zO{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(UE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class zf extends qO{data(e={}){return super.data(e)}}class KO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new gc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zf(this._firestore,this._userDataWriter,r.key,r,new gc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new zf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new gc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new zf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new gc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:fJ(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function fJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t){t=zr(t,zn);const e=zr(t.firestore,pa);return HX(iv(e),t._key).then(n=>YO(e,t,n))}class zE extends dJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zn(this.firestore,null,n)}}function pJ(t){t=zr(t,ka);const e=zr(t.firestore,pa),n=iv(e),r=new zE(e);return WO(t._query),qX(n,t._query).then(i=>new KO(e,r,t,i))}function Zp(t,e,n){t=zr(t,zn);const r=zr(t.firestore,pa),i=hJ(t.converter,e,n);return QO(r,[tJ(LE(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Di.none())])}function vc(t,e,n,...r){t=zr(t,zn);const i=zr(t.firestore,pa),s=LE(i);let o;return o=typeof(e=_t(e))=="string"||e instanceof sv?iJ(s,"updateDoc",t._key,e,n,r):rJ(s,"updateDoc",t._key,e),QO(i,[o.toMutation(t._key,Di.exists(!0))])}function GO(t,...e){var n,r,i;t=_t(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||OR(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(OR(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof zn)u=zr(t.firestore,pa),c=Kg(t._key.path),l={next:d=>{e[o]&&e[o](YO(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=zr(t,ka);u=zr(d.firestore,pa),c=d._query;const h=new zE(u);l={next:f=>{e[o]&&e[o](new KO(u,h,d,f))},error:e[o+1],complete:e[o+2]},WO(t._query)}return function(h,f,p,g){const T=new ME(g),m=new NE(f,T,p);return h.asyncQueue.enqueueAndForget(async()=>PE(await Xp(h),m)),()=>{T.La(),h.asyncQueue.enqueueAndForget(async()=>kE(await Xp(h),m))}}(iv(u),c,a,l)}function QO(t,e){return function(r,i){const s=new Oi;return r.asyncQueue.enqueueAndForget(async()=>AX(await WX(r),i,s)),s.promise}(iv(t),e)}function YO(t,e,n){const r=n.docs.get(e._key),i=new zE(t);return new qO(t,i,e._key,r,new gc(n.hasPendingWrites,n.fromCache),e.converter)}function $R(...t){return new $E("arrayUnion",t)}(function(e,n=!0){(function(i){gu=i})(yo),so(new fs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new pa(new fQ(r.getProvider("auth-internal")),new vQ(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ld(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Br(JI,"4.4.2",e),Br(JI,"4.4.2","esm2017")})();const mJ={apiKey:"AIzaSyDqHW7C7SIvkp_Bp9pJrWSHONl181jPSdo",authDomain:"pract-chat.firebaseapp.com",databaseURL:"https://pract-chat-default-rtdb.firebaseio.com",projectId:"pract-chat",storageBucket:"pract-chat.appspot.com",messagingSenderId:"828679656058",appId:"1:828679656058:web:a62aff6d72a5cf8ec2e1c3",measurementId:"G-LYH1TBF56B"};bA(mJ);const em=tG(),gJ=ZA(),Lr=XX(),vJ="_container_1p1r9_1",yJ="_p_1p1r9_8",_J="_h1_1p1r9_13",wJ="_inputContainer_1p1r9_17",EJ="_textField_1p1r9_24",TJ="_btn_1p1r9_30",SJ="_suggestion_1p1r9_44",CJ="_link_1p1r9_49",IJ="_passwordContainer_1p1r9_56",RJ="_visibilityIcon_1p1r9_60",pr={container:vJ,p:yJ,h1:_J,inputContainer:wJ,textField:EJ,btn:TJ,suggestion:SJ,link:CJ,passwordContainer:IJ,visibilityIcon:RJ},bJ=()=>{const[t,e]=_.useState(""),[n,r]=_.useState(!1),[i,s]=_.useState(""),[o,a]=_.useState(""),[l,u]=_.useState(!1),[c,d]=_.useState(""),[h,f]=_.useState(!1),[p,g]=_.useState(!1),T=Sa(),{isDarkMode:m}=Ia(),v=async w=>{w.preventDefault(),(!n||!l)&&$q(em,t,o).then(()=>{T("/pract-chat/chat")}).catch(S=>{S.code,S.message,console.log(S),f(!0)})},y=w=>{const S=/^[^]+@[^]+\.[a-z]{2,3}$/,b=w.target.value;e(b),b===""||!b.match(S)?(r(!0),s("Please enter a valid email address")):(r(!1),s(""))},E=w=>{const S=w.target.value;a(S),S===""||S.length<6?(u(!0),d("You must have at least 6 characters")):(u(!1),d(""))},I=()=>{g(!p)};return C.jsxs("div",{className:`${pr.container} ${m?pr.dark:""}`,children:[h?C.jsx(Lk,{severity:"error",children:"Your email or password is incorrect."}):null,C.jsx("h1",{className:pr.h1,children:"Welcome Back!"}),C.jsx("p",{className:pr.p,children:"Please enter your information"}),C.jsxs("div",{className:pr.inputContainer,children:[C.jsx(Mc,{color:n?"error":m?"dark":"primary",focused:m&&!n,error:n,helperText:i,onChange:y,value:t,className:pr.textField,id:"standard-basic",label:"Email",variant:"standard"}),C.jsxs(Pk,{className:pr.passwordContainer,children:[C.jsx(Mc,{color:l?"error":m?"dark":"primary",focused:m&&!l,error:l,helperText:c,onChange:E,className:pr.textField,id:"standard-password-input",label:"Password",type:p?"text":"password",autoComplete:"current-password",variant:"standard"}),p?C.jsx(Pw,{onClick:I,className:pr.visibilityIcon}):C.jsx(Aw,{onClick:I,className:pr.visibilityIcon})]}),C.jsx("button",{onClick:v,className:pr.btn,children:"Log In"})]}),C.jsxs("p",{className:pr.suggestion,children:["Don't Have an account? ",C.jsx("span",{className:pr.link,onClick:()=>{T("/pract-chat/sign-up")},children:"Sign Up"})]})]})},XO=_.createContext(null),xJ=({children:t})=>{const[e,n]=_.useState(null),[r,i]=_.useState(!1);_.useEffect(()=>{Bq(em,o=>{n(o),i(!0)})},[]);const s=()=>{zq(em)};return console.log(e),C.jsx(XO.Provider,{value:{user:e,logOut:s,isInitialized:r},children:t})},wu=()=>_.useContext(XO),PJ=()=>{const{user:t}=wu();return console.log(t),t?C.jsx(L1,{}):alert("You have to be logged in to get access to the chat")||C.jsx(J$,{to:"log-in"})},kJ=()=>{const{isInitialized:t}=wu();return t?C.jsx(L1,{}):C.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:C.jsx(B9,{style:{color:"darkgray"}})})};var WE={},AJ=rh;Object.defineProperty(WE,"__esModule",{value:!0});var JO=WE.default=void 0,NJ=AJ(ih()),OJ=C;JO=WE.default=(0,NJ.default)((0,OJ.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout");var HE={},MJ=rh;Object.defineProperty(HE,"__esModule",{value:!0});var ZO=HE.default=void 0,DJ=MJ(ih()),LJ=C;ZO=HE.default=(0,DJ.default)((0,LJ.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"}),"Circle");var qE={},$J=rh;Object.defineProperty(qE,"__esModule",{value:!0});var eM=qE.default=void 0,FJ=$J(ih()),VJ=C;eM=qE.default=(0,FJ.default)((0,VJ.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 11c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1m1 4h-2v-2h2z"}),"ErrorRounded");var tM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},FR=mn.createContext&&mn.createContext(tM),UJ=["attr","size","title"];function jJ(t,e){if(t==null)return{};var n=BJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tm.apply(this,arguments)}function VR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VR(Object(n),!0).forEach(function(r){zJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zJ(t,e,n){return e=WJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WJ(t){var e=HJ(t,"string");return typeof e=="symbol"?e:String(e)}function HJ(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nM(t){return t&&t.map((e,n)=>mn.createElement(e.tag,nm({key:n},e.attr),nM(e.child)))}function fi(t){return e=>mn.createElement(qJ,tm({attr:nm({},t.attr)},e),nM(t.child))}function qJ(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=jJ(t,UJ),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),mn.createElement("svg",tm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:nm(nm({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&mn.createElement("title",null,s),t.children)};return FR!==void 0?mn.createElement(FR.Consumer,null,n=>e(n)):e(tM)}function KJ(t){return fi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM40,128A88,88,0,0,1,190.2,65.8L65.8,190.2A87.76,87.76,0,0,1,40,128Z"},child:[]}]})(t)}function GJ(t){return fi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,24A104,104,0,0,0,36.18,176.88L24.83,210.93a16,16,0,0,0,20.24,20.24l34.05-11.35A104,104,0,1,0,128,24Zm0,192a87.87,87.87,0,0,1-44.06-11.81,8,8,0,0,0-6.54-.67L40,216,52.47,178.6a8,8,0,0,0-.66-6.54A88,88,0,1,1,128,216Z"},child:[]}]})(t)}function QJ(t){return fi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,80a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160Zm88-29.84q.06-2.16,0-4.32l14.92-18.64a8,8,0,0,0,1.48-7.06,107.21,107.21,0,0,0-10.88-26.25,8,8,0,0,0-6-3.93l-23.72-2.64q-1.48-1.56-3-3L186,40.54a8,8,0,0,0-3.94-6,107.71,107.71,0,0,0-26.25-10.87,8,8,0,0,0-7.06,1.49L130.16,40Q128,40,125.84,40L107.2,25.11a8,8,0,0,0-7.06-1.48A107.6,107.6,0,0,0,73.89,34.51a8,8,0,0,0-3.93,6L67.32,64.27q-1.56,1.49-3,3L40.54,70a8,8,0,0,0-6,3.94,107.71,107.71,0,0,0-10.87,26.25,8,8,0,0,0,1.49,7.06L40,125.84Q40,128,40,130.16L25.11,148.8a8,8,0,0,0-1.48,7.06,107.21,107.21,0,0,0,10.88,26.25,8,8,0,0,0,6,3.93l23.72,2.64q1.49,1.56,3,3L70,215.46a8,8,0,0,0,3.94,6,107.71,107.71,0,0,0,26.25,10.87,8,8,0,0,0,7.06-1.49L125.84,216q2.16.06,4.32,0l18.64,14.92a8,8,0,0,0,7.06,1.48,107.21,107.21,0,0,0,26.25-10.88,8,8,0,0,0,3.93-6l2.64-23.72q1.56-1.48,3-3L215.46,186a8,8,0,0,0,6-3.94,107.71,107.71,0,0,0,10.87-26.25,8,8,0,0,0-1.49-7.06Zm-16.1-6.5a73.93,73.93,0,0,1,0,8.68,8,8,0,0,0,1.74,5.48l14.19,17.73a91.57,91.57,0,0,1-6.23,15L187,173.11a8,8,0,0,0-5.1,2.64,74.11,74.11,0,0,1-6.14,6.14,8,8,0,0,0-2.64,5.1l-2.51,22.58a91.32,91.32,0,0,1-15,6.23l-17.74-14.19a8,8,0,0,0-5-1.75h-.48a73.93,73.93,0,0,1-8.68,0,8,8,0,0,0-5.48,1.74L100.45,215.8a91.57,91.57,0,0,1-15-6.23L82.89,187a8,8,0,0,0-2.64-5.1,74.11,74.11,0,0,1-6.14-6.14,8,8,0,0,0-5.1-2.64L46.43,170.6a91.32,91.32,0,0,1-6.23-15l14.19-17.74a8,8,0,0,0,1.74-5.48,73.93,73.93,0,0,1,0-8.68,8,8,0,0,0-1.74-5.48L40.2,100.45a91.57,91.57,0,0,1,6.23-15L69,82.89a8,8,0,0,0,5.1-2.64,74.11,74.11,0,0,1,6.14-6.14A8,8,0,0,0,82.89,69L85.4,46.43a91.32,91.32,0,0,1,15-6.23l17.74,14.19a8,8,0,0,0,5.48,1.74,73.93,73.93,0,0,1,8.68,0,8,8,0,0,0,5.48-1.74L155.55,40.2a91.57,91.57,0,0,1,15,6.23L173.11,69a8,8,0,0,0,2.64,5.1,74.11,74.11,0,0,1,6.14,6.14,8,8,0,0,0,5.1,2.64l22.58,2.51a91.32,91.32,0,0,1,6.23,15l-14.19,17.74A8,8,0,0,0,199.87,123.66Z"},child:[]}]})(t)}function YJ(t){return fi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,152H168V104h48a8,8,0,0,0,0-16H168V40a8,8,0,0,0-16,0V88H104V40a8,8,0,0,0-16,0V88H40a8,8,0,0,0,0,16H88v48H40a8,8,0,0,0,0,16H88v48a8,8,0,0,0,16,0V168h48v48a8,8,0,0,0,16,0V168h48a8,8,0,0,0,0-16Zm-112,0V104h48v48Z"},child:[]}]})(t)}function XJ(t){return fi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"},child:[]}]})(t)}function JJ(t){return fi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"},child:[]}]})(t)}function rM(t){return fi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM40,56H80V200H40ZM216,200H96V56H216V200Z"},child:[]}]})(t)}function ZJ(t){return fi({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.404 14.596A6.5 6.5 0 1116.5 10a1.25 1.25 0 01-2.5 0 4 4 0 10-.571 2.06A2.75 2.75 0 0018 10a8 8 0 10-2.343 5.657.75.75 0 00-1.06-1.06 6.5 6.5 0 01-9.193 0zM10 7.5a2.5 2.5 0 100 5 2.5 2.5 0 000-5z",clipRule:"evenodd"},child:[]}]})(t)}const eZ="_container_fv7jj_1",tZ="_section_fv7jj_9",nZ="_userContainer_fv7jj_17",rZ="_userContainerInfo_fv7jj_22",iZ="_displayName_fv7jj_25",sZ="_userInfoContainer_fv7jj_34",oZ="_infoSectionContainer_fv7jj_40",aZ="_infoSectionItem_fv7jj_46",lZ="_label_fv7jj_53",uZ="_bottom_fv7jj_57",cZ="_warningContainer_fv7jj_64",dZ="_warningContainerInfo_fv7jj_74",hZ="_logOutBtn_fv7jj_77",fZ="_NoChats_fv7jj_89",at={container:eZ,section:tZ,userContainer:nZ,userContainerInfo:rZ,displayName:iZ,userInfoContainer:sZ,infoSectionContainer:oZ,infoSectionItem:aZ,label:lZ,bottom:uZ,warningContainer:cZ,warningContainerInfo:dZ,logOutBtn:hZ,NoChats:fZ},iM=()=>{const[t,e]=_.useState(!1),{user:n,logOut:r}=wu(),{isDarkMode:i,toggleTheme:s}=Ia();_.useEffect(()=>{const a=document.documentElement;i?a.classList.add("dark"):a.classList.remove("dark")},[i]);const o=()=>{e(!0),navigator.clipboard.writeText(n.uid),setTimeout(()=>{e(!1)},5e3)};return C.jsxs("div",{className:`${at.container} ${i?at.dark:""}`,children:[C.jsx(S8,{open:t,message:"Copied!",anchorOrigin:{vertical:"top",horizontal:"right"},ContentProps:{style:{backgroundColor:"var(--main-color)",color:"var(--main-bg-color)",padding:"10px",paddingLeft:"20px",paddingRight:"0px",borderRadius:"15px",zIndex:"100000"}}}),C.jsxs("div",{className:at.section,children:[C.jsxs("div",{className:at.userContainer,children:[C.jsx(wd,{src:n.photoURL,sx:{width:46,height:46,fontSize:27}}),C.jsxs("div",{className:at.userContainerInfo,children:[C.jsx("h1",{className:at.displayName,children:n.displayName}),C.jsxs("p",{children:[C.jsx(ZO,{sx:{width:12,height:12,color:"var(--accent-color-mixed)"}})," Online"]})]})]}),C.jsxs("div",{className:at.userInfoContainer,children:[C.jsx(ZJ,{style:{marginTop:"5px"},size:25}),C.jsxs("div",{className:at.infoSectionContainer,children:[C.jsx("p",{className:at.infoSectionItem,children:n.email}),C.jsx("p",{className:at.label,children:"Email"})]})]}),C.jsx(O8,{title:"Copy",placement:"right",children:C.jsxs("div",{className:at.userInfoContainer,onClick:o,children:[C.jsx(YJ,{style:{marginTop:"5px"},size:25}),C.jsxs("div",{className:at.infoSectionContainer,children:[C.jsx("p",{className:at.infoSectionItem,children:n.uid}),C.jsx("p",{className:at.label,children:"User ID"})]})]})}),C.jsx(j_,{variant:"middle"}),C.jsxs(US,{to:"/pract-chat/chat",className:at.userInfoContainer,children:[C.jsx(GJ,{style:{marginTop:"5px",marginLeft:"2px"},size:22}),C.jsx("div",{className:at.infoSectionContainer,children:C.jsx("p",{className:at.infoSectionItem,children:"Messages"})})]}),C.jsxs("div",{className:at.userInfoContainer,children:[C.jsx(KJ,{style:{marginTop:"5px"},size:23}),C.jsx("div",{className:at.infoSectionContainer,children:C.jsx("p",{className:at.infoSectionItem,onClick:s,children:i?"Dark Mode":"Light Mode"})})]}),C.jsxs(US,{to:"/pract-chat/settings",className:at.userInfoContainer,children:[C.jsx(QJ,{style:{marginTop:"5px"},size:24}),C.jsx("div",{className:at.infoSectionContainer,children:C.jsx("p",{className:at.infoSectionItem,children:"Settings"})})]}),C.jsxs("div",{className:at.bottom,children:[C.jsxs("div",{className:at.warningContainer,children:[C.jsx(eM,{sx:{fontSize:"30px"}}),C.jsx("div",{className:at.warningContainerInfo,children:C.jsx("p",{children:"This is a practice project, let's keep it appropriate"})})]}),C.jsxs("button",{className:at.logOutBtn,onClick:r,children:[C.jsx(JO,{sx:{color:"var(--highlight-color)",fontSize:"21px",position:"absolute",left:"20px",top:"13px"}})," Log Out"]})]})]})]})};var UR={};const jR="@firebase/database",BR="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sM="";function pZ(t){sM=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mZ{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),In(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ed(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gZ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Es(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new mZ(e)}}catch{}return new gZ},zo=oM("localStorage"),R0=oM("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new Sg("@firebase/database"),vZ=function(){let t=1;return function(){return t++}}(),aM=function(t){const e=d7(t),n=new o7;n.update(e);const r=n.digest();return yw.encodeByteArray(r)},Ch=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ch.apply(null,r):typeof r=="object"?e+=In(r):e+=r,e+=" "}return e};let Yo=null,zR=!0;const yZ=function(t,e){G(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Il.logLevel=Ne.VERBOSE,Yo=Il.log.bind(Il),e&&R0.set("logging_enabled",!0)):typeof t=="function"?Yo=t:(Yo=null,R0.remove("logging_enabled"))},Fn=function(...t){if(zR===!0&&(zR=!1,Yo===null&&R0.get("logging_enabled")===!0&&yZ(!0)),Yo){const e=Ch.apply(null,t);Yo(e)}},Ih=function(t){return function(...e){Fn(t,...e)}},b0=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ch(...t);Il.error(e)},ma=function(...t){const e=`FIREBASE FATAL ERROR: ${Ch(...t)}`;throw Il.error(e),new Error(e)},Tr=function(...t){const e="FIREBASE WARNING: "+Ch(...t);Il.warn(e)},_Z=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Tr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},lM=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},wZ=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Zl="[MIN_NAME]",ga="[MAX_NAME]",Eu=function(t,e){if(t===e)return 0;if(t===Zl||e===ga)return-1;if(e===Zl||t===ga)return 1;{const n=WR(t),r=WR(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},EZ=function(t,e){return t===e?0:t<e?-1:1},Xu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+In(e))},KE=function(t){if(typeof t!="object"||t===null)return In(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=In(e[r]),n+=":",n+=KE(t[e[r]]);return n+="}",n},uM=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Gr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const cM=function(t){G(!lM(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},TZ=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},SZ=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},CZ=new RegExp("^-?(0*)\\d{1,10}$"),IZ=-2147483648,RZ=2147483647,WR=function(t){if(CZ.test(t)){const e=Number(t);if(e>=IZ&&e<=RZ)return e}return null},Rh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Tr("Exception was thrown by user callback.",n),e},Math.floor(0))}},bZ=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},zc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xZ{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Tr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Fn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tr(e)}}class x0{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}x0.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="5",dM="v",hM="s",fM="r",pM="f",mM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,gM="ls",vM="p",P0="ac",yM="websocket",_M="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kZ{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&zo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function AZ(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function wM(t,e,n){G(typeof e=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");let r;if(e===yM)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===_M)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);AZ(t)&&(n.ns=t.namespace);const i=[];return Gr(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NZ{constructor(){this.counters_={}}incrementCounter(e,n=1){Es(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return W8(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey={},Ty={};function QE(t){const e=t.toString();return Ey[e]||(Ey[e]=new NZ),Ey[e]}function OZ(t,e){const n=t.toString();return Ty[n]||(Ty[n]=e()),Ty[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MZ{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Rh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="start",DZ="close",LZ="pLPCommand",$Z="pRTLPCB",EM="id",TM="pw",SM="ser",FZ="cb",VZ="seg",UZ="ts",jZ="d",BZ="dframe",CM=1870,IM=30,zZ=CM-IM,WZ=25e3,HZ=3e4;class cl{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ih(e),this.stats_=QE(n),this.urlFn=l=>(this.appCheckToken&&(l[P0]=this.appCheckToken),wM(n,_M,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new MZ(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(HZ)),wZ(()=>{if(this.isClosed_)return;this.scriptTagHolder=new YE((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===HR)this.id=a,this.password=l;else if(o===DZ)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[HR]="t",r[SM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[FZ]=this.scriptTagHolder.uniqueCallbackIdentifier),r[dM]=GE,this.transportSessionId&&(r[hM]=this.transportSessionId),this.lastSessionId&&(r[gM]=this.lastSessionId),this.applicationId&&(r[vM]=this.applicationId),this.appCheckToken&&(r[P0]=this.appCheckToken),typeof location<"u"&&location.hostname&&mM.test(location.hostname)&&(r[fM]=pM);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){cl.forceAllow_=!0}static forceDisallow(){cl.forceDisallow_=!0}static isAvailable(){return cl.forceAllow_?!0:!cl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!TZ()&&!SZ()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=In(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=pA(n),i=uM(r,zZ);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[BZ]="t",r[EM]=e,r[TM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=In(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class YE{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=vZ(),window[LZ+this.uniqueCallbackIdentifier]=e,window[$Z+this.uniqueCallbackIdentifier]=n,this.myIFrame=YE.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Fn("frame writing exception"),a.stack&&Fn(a.stack),Fn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Fn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[EM]=this.myID,e[TM]=this.myPW,e[SM]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+IM+r.length<=CM;){const o=this.pendingSegs.shift();r=r+"&"+VZ+i+"="+o.seg+"&"+UZ+i+"="+o.ts+"&"+jZ+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(WZ)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Fn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qZ=16384,KZ=45e3;let rm=null;typeof MozWebSocket<"u"?rm=MozWebSocket:typeof WebSocket<"u"&&(rm=WebSocket);class ii{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ih(this.connId),this.stats_=QE(n),this.connURL=ii.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[dM]=GE,typeof location<"u"&&location.hostname&&mM.test(location.hostname)&&(o[fM]=pM),n&&(o[hM]=n),r&&(o[gM]=r),i&&(o[P0]=i),s&&(o[vM]=s),wM(e,yM,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zo.set("previous_websocket_failure",!0);try{let r;TA(),this.mySock=new rm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ii.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&rm!==null&&!ii.forceDisallow_}static previouslyFailed(){return zo.isInMemoryStorage||zo.get("previous_websocket_failure")===!0}markConnectionHealthy(){zo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ed(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=In(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=uM(n,qZ);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(KZ))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ii.responsesRequiredToBeHealthy=2;ii.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[cl,ii]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ii&&ii.isAvailable();let r=n&&!ii.previouslyFailed();if(e.webSocketOnly&&(n||Tr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ii];else{const i=this.transports_=[];for(const s of Vd.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Vd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Vd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GZ=6e4,QZ=5e3,YZ=10*1024,XZ=100*1024,Sy="t",qR="d",JZ="s",KR="r",ZZ="e",GR="o",QR="a",YR="n",XR="p",eee="h";class tee{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ih("c:"+this.id+":"),this.transportManager_=new Vd(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=zc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>XZ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>YZ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Sy in e){const n=e[Sy];n===QR?this.upgradeIfSecondaryHealthy_():n===KR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===GR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Xu("t",e),r=Xu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:XR,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:QR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:YR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Xu("t",e),r=Xu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Xu(Sy,e);if(qR in e){const r=e[qR];if(n===eee){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===YR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===JZ?this.onConnectionShutdown_(r):n===KR?this.onReset_(r):n===ZZ?b0("Server Error: "+r):n===GR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):b0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),GE!==r&&Tr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),zc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(GZ))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(QZ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:XR,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){G(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im extends bM{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ww()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new im}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=32,ZR=768;class Et{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function it(){return new Et("")}function Ue(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function uo(t){return t.pieces_.length-t.pieceNum_}function mt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Et(t.pieces_,e)}function xM(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function nee(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function PM(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function kM(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Et(e,0)}function pn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Et)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Et(n,0)}function $e(t){return t.pieceNum_>=t.pieces_.length}function Vr(t,e){const n=Ue(t),r=Ue(e);if(n===null)return e;if(n===r)return Vr(mt(t),mt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function AM(t,e){if(uo(t)!==uo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function si(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(uo(t)>uo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class ree{constructor(e,n){this.errorPrefix_=n,this.parts_=PM(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Tg(this.parts_[r]);NM(this)}}function iee(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Tg(e),NM(t)}function see(t){const e=t.parts_.pop();t.byteLength_-=Tg(e),t.parts_.length>0&&(t.byteLength_-=1)}function NM(t){if(t.byteLength_>ZR)throw new Error(t.errorPrefix_+"has a key path longer than "+ZR+" bytes ("+t.byteLength_+").");if(t.parts_.length>JR)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+JR+") or object contains a cycle "+ko(t))}function ko(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends bM{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new XE}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=1e3,oee=60*5*1e3,eb=30*1e3,aee=1.3,lee=3e4,uee="server_kill",tb=3;class os extends RM{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=os.nextPersistentConnectionId_++,this.log_=Ih("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ju,this.maxReconnectDelay_=oee,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!TA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");XE.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&im.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(In(s)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new _w,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;os.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Es(e,"w")){const r=Bl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Tr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||s7(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=eb)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=i7(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+In(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):b0("Unrecognized action received from server: "+In(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ju,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ju,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>lee&&(this.reconnectDelay_=Ju),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*aee)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+os.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){G(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Fn("getToken() completed but was canceled"):(Fn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new tee(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{Tr(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(uee)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Tr(d),l())}}}interrupt(e){Fn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Fn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],W_(this.interruptReasons_)&&(this.reconnectDelay_=Ju,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>KE(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Et(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Fn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=tb&&(this.reconnectDelay_=eb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Fn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=tb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+sM.replace(/\./g,"-")]=1,ww()?e["framework.cordova"]=1:EA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=im.getInstance().currentlyOnline();return W_(this.interruptReasons_)&&e}}os.nextPersistentConnectionId_=0;os.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new je(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cv{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new je(Zl,e),i=new je(Zl,n);return this.compare(r,i)!==0}minPost(){return je.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf;class OM extends cv{static get __EMPTY_NODE(){return mf}static set __EMPTY_NODE(e){mf=e}compare(e,n){return Eu(e.name,n.name)}isDefinedOn(e){throw cu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return je.MIN}maxPost(){return new je(ga,mf)}makePost(e,n){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new je(e,mf)}toString(){return".key"}}const Rl=new OM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class fn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??fn.RED,this.left=i??sr.EMPTY_NODE,this.right=s??sr.EMPTY_NODE}copy(e,n,r,i,s){return new fn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return sr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return sr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}fn.RED=!0;fn.BLACK=!1;class cee{copy(e,n,r,i,s){return this}insert(e,n,r){return new fn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class sr{constructor(e,n=sr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new sr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,fn.BLACK,null,null))}remove(e){return new sr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,fn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new gf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new gf(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new gf(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new gf(this.root_,null,this.comparator_,!0,e)}}sr.EMPTY_NODE=new cee;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dee(t,e){return Eu(t.name,e.name)}function JE(t,e){return Eu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k0;function hee(t){k0=t}const MM=function(t){return typeof t=="number"?"number:"+cM(t):"string:"+t},DM=function(t){if(t.isLeafNode()){const e=t.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Es(e,".sv"),"Priority must be a string or number.")}else G(t===k0||t.isEmpty(),"priority of unexpected type.");G(t===k0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nb;class cn{constructor(e,n=cn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),DM(this.priorityNode_)}static set __childrenNodeConstructor(e){nb=e}static get __childrenNodeConstructor(){return nb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new cn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:cn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return $e(e)?this:Ue(e)===".priority"?this.priorityNode_:cn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:cn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ue(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(G(r!==".priority"||uo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,cn.__childrenNodeConstructor.EMPTY_NODE.updateChild(mt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+MM(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=cM(this.value_):e+=this.value_,this.lazyHash_=aM(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===cn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof cn.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=cn.VALUE_TYPE_ORDER.indexOf(n),s=cn.VALUE_TYPE_ORDER.indexOf(r);return G(i>=0,"Unknown leaf type: "+n),G(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}cn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LM,$M;function fee(t){LM=t}function pee(t){$M=t}class mee extends cv{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Eu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return je.MIN}maxPost(){return new je(ga,new cn("[PRIORITY-POST]",$M))}makePost(e,n){const r=LM(e);return new je(n,new cn("[PRIORITY-POST]",r))}toString(){return".priority"}}const Un=new mee;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gee=Math.log(2);class vee{constructor(e){const n=s=>parseInt(Math.log(s)/gee,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const sm=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new fn(h,d.node,fn.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),g=i(f+1,u);return d=t[f],h=n?n(d):d,new fn(h,d.node,fn.BLACK,p,g)}},s=function(l){let u=null,c=null,d=t.length;const h=function(p,g){const T=d-p,m=d;d-=p;const v=i(T+1,m),y=t[T],E=n?n(y):y;f(new fn(E,y.node,g,null,v))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),T=Math.pow(2,l.count-(p+1));g?h(T,fn.BLACK):(h(T,fn.BLACK),h(T,fn.RED))}return c},o=new vee(t.length),a=s(o);return new sr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cy;const Ba={};class ns{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return G(Ba&&Un,"ChildrenNode.ts has not been loaded"),Cy=Cy||new ns({".priority":Ba},{".priority":Un}),Cy}get(e){const n=Bl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof sr?n:null}hasIndex(e){return Es(this.indexSet_,e.toString())}addIndex(e,n){G(e!==Rl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(je.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=sm(r,e.getCompare()):a=Ba;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new ns(c,u)}addToIndexes(e,n){const r=kp(this.indexes_,(i,s)=>{const o=Bl(this.indexSet_,s);if(G(o,"Missing index implementation for "+s),i===Ba)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(je.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),sm(a,o.getCompare())}else return Ba;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new je(e.name,a))),l.insert(e,e.node)}});return new ns(r,this.indexSet_)}removeFromIndexes(e,n){const r=kp(this.indexes_,i=>{if(i===Ba)return i;{const s=n.get(e.name);return s?i.remove(new je(e.name,s)):i}});return new ns(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu;class Ye{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&DM(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Zu||(Zu=new Ye(new sr(JE),null,ns.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Zu}updatePriority(e){return this.children_.isEmpty()?this:new Ye(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Zu:n}}getChild(e){const n=Ue(e);return n===null?this:this.getImmediateChild(n).getChild(mt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(G(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new je(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Zu:this.priorityNode_;return new Ye(i,o,s)}}updateChild(e,n){const r=Ue(e);if(r===null)return n;{G(Ue(e)!==".priority"||uo(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(mt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(Un,(o,a)=>{n[o]=a.val(e),r++,s&&Ye.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+MM(this.getPriority().val())+":"),this.forEachChild(Un,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":aM(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new je(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new je(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new je(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,je.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,je.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bh?-1:0}withIndex(e){if(e===Rl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ye(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Rl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Un),i=n.getIterator(Un);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Rl?null:this.indexMap_.get(e.toString())}}Ye.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class yee extends Ye{constructor(){super(new sr(JE),Ye.EMPTY_NODE,ns.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ye.EMPTY_NODE}isEmpty(){return!1}}const bh=new yee;Object.defineProperties(je,{MIN:{value:new je(Zl,Ye.EMPTY_NODE)},MAX:{value:new je(ga,bh)}});OM.__EMPTY_NODE=Ye.EMPTY_NODE;cn.__childrenNodeConstructor=Ye;hee(bh);pee(bh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ee=!0;function Vn(t,e=null){if(t===null)return Ye.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new cn(n,Vn(e))}if(!(t instanceof Array)&&_ee){const n=[];let r=!1;if(Gr(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Vn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new je(o,l)))}}),n.length===0)return Ye.EMPTY_NODE;const s=sm(n,dee,o=>o.name,JE);if(r){const o=sm(n,Un.getCompare());return new Ye(s,Vn(e),new ns({".priority":o},{".priority":Un}))}else return new Ye(s,Vn(e),ns.Default)}else{let n=Ye.EMPTY_NODE;return Gr(t,(r,i)=>{if(Es(t,r)&&r.substring(0,1)!=="."){const s=Vn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Vn(e))}}fee(Vn);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wee extends cv{constructor(e){super(),this.indexPath_=e,G(!$e(e)&&Ue(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Eu(e.name,n.name):s}makePost(e,n){const r=Vn(e),i=Ye.EMPTY_NODE.updateChild(this.indexPath_,r);return new je(n,i)}maxPost(){const e=Ye.EMPTY_NODE.updateChild(this.indexPath_,bh);return new je(ga,e)}toString(){return PM(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eee extends cv{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Eu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return je.MIN}maxPost(){return je.MAX}makePost(e,n){const r=Vn(e);return new je(n,r)}toString(){return".value"}}const Tee=new Eee;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function See(t){return{type:"value",snapshotNode:t}}function Cee(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Iee(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function rb(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Ree(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Un}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zl}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ga}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Un}copy(){const e=new ZE;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ib(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Un?n="$priority":t.index_===Tee?n="$value":t.index_===Rl?n="$key":(G(t.index_ instanceof wee,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=In(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=In(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+In(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=In(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+In(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function sb(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Un&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om extends RM{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ih("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=om.getListenId_(e,r),a={};this.listens_[o]=a;const l=ib(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Bl(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=om.getListenId_(e,n);delete this.listens_[r]}get(e){const n=ib(e._queryParams),r=e._path.toString(),i=new _w;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+du(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ed(a.responseText)}catch{Tr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Tr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bee{constructor(){this.rootNode_=Ye.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(){return{value:null,children:new Map}}function FM(t,e,n){if($e(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ue(e);t.children.has(r)||t.children.set(r,am());const i=t.children.get(r);e=mt(e),FM(i,e,n)}}function A0(t,e,n){t.value!==null?n(e,t.value):xee(t,(r,i)=>{const s=new Et(e.toString()+"/"+r);A0(i,s,n)})}function xee(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pee{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Gr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob=10*1e3,kee=30*1e3,Aee=5*60*1e3;class Nee{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Pee(e);const r=ob+(kee-ob)*Math.random();zc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Gr(e,(i,s)=>{s>0&&Es(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),zc(this.reportStats_.bind(this),Math.floor(Math.random()*2*Aee))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ri;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ri||(Ri={}));function VM(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function UM(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function jM(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ri.ACK_USER_WRITE,this.source=VM()}operationForChild(e){if($e(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Et(e));return new lm(it(),n,this.revert)}}else return G(Ue(this.path)===e,"operationForChild called for unrelated child."),new lm(mt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ri.OVERWRITE}operationForChild(e){return $e(this.path)?new va(this.source,it(),this.snap.getImmediateChild(e)):new va(this.source,mt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ri.MERGE}operationForChild(e){if($e(this.path)){const n=this.children.subtree(new Et(e));return n.isEmpty()?null:n.value?new va(this.source,it(),n.value):new Ud(this.source,it(),n)}else return G(Ue(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ud(this.source,mt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if($e(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ue(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Oee(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Ree(o.childName,o.snapshotNode))}),ec(t,i,"child_removed",e,r,n),ec(t,i,"child_added",e,r,n),ec(t,i,"child_moved",s,r,n),ec(t,i,"child_changed",e,r,n),ec(t,i,"value",e,r,n),i}function ec(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>Dee(t,a,l)),o.forEach(a=>{const l=Mee(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function Mee(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Dee(t,e,n){if(e.childName==null||n.childName==null)throw cu("Should only compare child_ events.");const r=new je(e.childName,e.snapshotNode),i=new je(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t,e){return{eventCache:t,serverCache:e}}function Wc(t,e,n,r){return BM(new eT(e,n,r),t.serverCache)}function zM(t,e,n,r){return BM(t.eventCache,new eT(e,n,r))}function N0(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ya(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iy;const Lee=()=>(Iy||(Iy=new sr(EZ)),Iy);class pt{constructor(e,n=Lee()){this.value=e,this.children=n}static fromObject(e){let n=new pt(null);return Gr(e,(r,i)=>{n=n.set(new Et(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:it(),value:this.value};if($e(e))return null;{const r=Ue(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(mt(e),n);return s!=null?{path:pn(new Et(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if($e(e))return this;{const n=Ue(e),r=this.children.get(n);return r!==null?r.subtree(mt(e)):new pt(null)}}set(e,n){if($e(e))return new pt(n,this.children);{const r=Ue(e),s=(this.children.get(r)||new pt(null)).set(mt(e),n),o=this.children.insert(r,s);return new pt(this.value,o)}}remove(e){if($e(e))return this.children.isEmpty()?new pt(null):new pt(null,this.children);{const n=Ue(e),r=this.children.get(n);if(r){const i=r.remove(mt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new pt(null):new pt(this.value,s)}else return this}}get(e){if($e(e))return this.value;{const n=Ue(e),r=this.children.get(n);return r?r.get(mt(e)):null}}setTree(e,n){if($e(e))return n;{const r=Ue(e),s=(this.children.get(r)||new pt(null)).setTree(mt(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new pt(this.value,o)}}fold(e){return this.fold_(it(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(pn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,it(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if($e(e))return null;{const s=Ue(e),o=this.children.get(s);return o?o.findOnPath_(mt(e),pn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,it(),n)}foreachOnPath_(e,n,r){if($e(e))return this;{this.value&&r(n,this.value);const i=Ue(e),s=this.children.get(i);return s?s.foreachOnPath_(mt(e),pn(n,i),r):new pt(null)}}foreach(e){this.foreach_(it(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(pn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.writeTree_=e}static empty(){return new li(new pt(null))}}function Hc(t,e,n){if($e(e))return new li(new pt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Vr(i,e);return s=s.updateChild(o,n),new li(t.writeTree_.set(i,s))}else{const i=new pt(n),s=t.writeTree_.setTree(e,i);return new li(s)}}}function ab(t,e,n){let r=t;return Gr(n,(i,s)=>{r=Hc(r,pn(e,i),s)}),r}function lb(t,e){if($e(e))return li.empty();{const n=t.writeTree_.setTree(e,new pt(null));return new li(n)}}function O0(t,e){return Aa(t,e)!=null}function Aa(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Vr(n.path,e)):null}function ub(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Un,(r,i)=>{e.push(new je(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new je(r,i.value))}),e}function eo(t,e){if($e(e))return t;{const n=Aa(t,e);return n!=null?new li(new pt(n)):new li(t.writeTree_.subtree(e))}}function M0(t){return t.writeTree_.isEmpty()}function eu(t,e){return WM(it(),t.writeTree_,e)}function WM(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(G(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=WM(pn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(pn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(t,e){return YM(e,t)}function $ee(t,e,n,r,i){G(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Hc(t.visibleWrites,e,n)),t.lastWriteId=r}function Fee(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Vee(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);G(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&Uee(a,r.path)?i=!1:si(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return jee(t),!0;if(r.snap)t.visibleWrites=lb(t.visibleWrites,r.path);else{const a=r.children;Gr(a,l=>{t.visibleWrites=lb(t.visibleWrites,pn(r.path,l))})}return!0}else return!1}function Uee(t,e){if(t.snap)return si(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&si(pn(t.path,n),e))return!0;return!1}function jee(t){t.visibleWrites=qM(t.allWrites,Bee,it()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Bee(t){return t.visible}function qM(t,e,n){let r=li.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)si(n,o)?(a=Vr(n,o),r=Hc(r,a,s.snap)):si(o,n)&&(a=Vr(o,n),r=Hc(r,it(),s.snap.getChild(a)));else if(s.children){if(si(n,o))a=Vr(n,o),r=ab(r,a,s.children);else if(si(o,n))if(a=Vr(o,n),$e(a))r=ab(r,it(),s.children);else{const l=Bl(s.children,Ue(a));if(l){const u=l.getChild(mt(a));r=Hc(r,it(),u)}}}else throw cu("WriteRecord should have .snap or .children")}}return r}function KM(t,e,n,r,i){if(!r&&!i){const s=Aa(t.visibleWrites,e);if(s!=null)return s;{const o=eo(t.visibleWrites,e);if(M0(o))return n;if(n==null&&!O0(o,it()))return null;{const a=n||Ye.EMPTY_NODE;return eu(o,a)}}}else{const s=eo(t.visibleWrites,e);if(!i&&M0(s))return n;if(!i&&n==null&&!O0(s,it()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(si(u.path,e)||si(e,u.path))},a=qM(t.allWrites,o,e),l=n||Ye.EMPTY_NODE;return eu(a,l)}}}function zee(t,e,n){let r=Ye.EMPTY_NODE;const i=Aa(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Un,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=eo(t.visibleWrites,e);return n.forEachChild(Un,(o,a)=>{const l=eu(eo(s,new Et(o)),a);r=r.updateImmediateChild(o,l)}),ub(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=eo(t.visibleWrites,e);return ub(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Wee(t,e,n,r,i){G(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=pn(e,n);if(O0(t.visibleWrites,s))return null;{const o=eo(t.visibleWrites,s);return M0(o)?i.getChild(n):eu(o,i.getChild(n))}}function Hee(t,e,n,r){const i=pn(e,n),s=Aa(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=eo(t.visibleWrites,i);return eu(o,r.getNode().getImmediateChild(n))}else return null}function qee(t,e){return Aa(t.visibleWrites,e)}function Kee(t,e,n,r,i,s,o){let a;const l=eo(t.visibleWrites,e),u=Aa(l,it());if(u!=null)a=u;else if(n!=null)a=eu(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)d(f,r)!==0&&c.push(f),f=h.getNext();return c}else return[]}function Gee(){return{visibleWrites:li.empty(),allWrites:[],lastWriteId:-1}}function D0(t,e,n,r){return KM(t.writeTree,t.treePath,e,n,r)}function GM(t,e){return zee(t.writeTree,t.treePath,e)}function cb(t,e,n,r){return Wee(t.writeTree,t.treePath,e,n,r)}function um(t,e){return qee(t.writeTree,pn(t.treePath,e))}function Qee(t,e,n,r,i,s){return Kee(t.writeTree,t.treePath,e,n,r,i,s)}function tT(t,e,n){return Hee(t.writeTree,t.treePath,e,n)}function QM(t,e){return YM(pn(t.treePath,e),t.writeTree)}function YM(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yee{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,rb(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Iee(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Cee(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,rb(r,e.snapshotNode,i.oldSnap));else throw cu("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xee{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const XM=new Xee;class nT{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new eT(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return tT(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ya(this.viewCache_),s=Qee(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function Jee(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Zee(t,e,n,r,i){const s=new Yee;let o,a;if(n.type===Ri.OVERWRITE){const u=n;u.source.fromUser?o=L0(t,e,u.path,u.snap,r,i,s):(G(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!$e(u.path),o=cm(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Ri.MERGE){const u=n;u.source.fromUser?o=tte(t,e,u.path,u.children,r,i,s):(G(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=$0(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Ri.ACK_USER_WRITE){const u=n;u.revert?o=ite(t,e,u.path,r,i,s):o=nte(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Ri.LISTEN_COMPLETE)o=rte(t,e,n.path,r,s);else throw cu("Unknown operation type: "+n.type);const l=s.getChanges();return ete(e,o,l),{viewCache:o,changes:l}}function ete(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=N0(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(See(N0(e)))}}function JM(t,e,n,r,i,s){const o=e.eventCache;if(um(r,n)!=null)return e;{let a,l;if($e(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=ya(e),c=u instanceof Ye?u:Ye.EMPTY_NODE,d=GM(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=D0(r,ya(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=Ue(n);if(u===".priority"){G(uo(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=cb(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=mt(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=cb(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=tT(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return Wc(e,a,o.isFullyInitialized()||$e(n),t.filter.filtersNodes())}}function cm(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if($e(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=Ue(n);if(!l.isCompleteForPath(n)&&uo(n)>1)return e;const p=mt(n),T=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?u=c.updatePriority(l.getNode(),T):u=c.updateChild(l.getNode(),f,T,p,XM,null)}const d=zM(e,u,l.isFullyInitialized()||$e(n),c.filtersNodes()),h=new nT(i,d,s);return JM(t,d,n,i,h,a)}function L0(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new nT(i,e,s);if($e(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Wc(e,u,!0,t.filter.filtersNodes());else{const d=Ue(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Wc(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=mt(n),f=a.getNode().getImmediateChild(d);let p;if($e(h))p=r;else{const g=c.getCompleteChild(d);g!=null?xM(h)===".priority"&&g.getChild(kM(h)).isEmpty()?p=g:p=g.updateChild(h,r):p=Ye.EMPTY_NODE}if(f.equals(p))l=e;else{const g=t.filter.updateChild(a.getNode(),d,p,h,c,o);l=Wc(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function db(t,e){return t.eventCache.isCompleteForChild(e)}function tte(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=pn(n,l);db(e,Ue(c))&&(a=L0(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=pn(n,l);db(e,Ue(c))||(a=L0(t,a,c,u,i,s,o))}),a}function hb(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function $0(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;$e(n)?u=r:u=new pt(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=hb(t,f,h);l=cm(t,l,new Et(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),g=hb(t,p,h);l=cm(t,l,new Et(d),g,i,s,o,a)}}),l}function nte(t,e,n,r,i,s,o){if(um(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if($e(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return cm(t,e,n,l.getNode().getChild(n),i,s,a,o);if($e(n)){let u=new pt(null);return l.getNode().forEachChild(Rl,(c,d)=>{u=u.set(new Et(c),d)}),$0(t,e,n,u,i,s,a,o)}else return e}else{let u=new pt(null);return r.foreach((c,d)=>{const h=pn(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),$0(t,e,n,u,i,s,a,o)}}function rte(t,e,n,r,i){const s=e.serverCache,o=zM(e,s.getNode(),s.isFullyInitialized()||$e(n),s.isFiltered());return JM(t,o,n,r,XM,i)}function ite(t,e,n,r,i,s){let o;if(um(r,n)!=null)return e;{const a=new nT(r,e,i),l=e.eventCache.getNode();let u;if($e(n)||Ue(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=D0(r,ya(e));else{const d=e.serverCache.getNode();G(d instanceof Ye,"serverChildren would be complete if leaf node"),c=GM(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=Ue(n);let d=tT(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,mt(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Ye.EMPTY_NODE,mt(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=D0(r,ya(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||um(r,it())!=null,Wc(e,u,o,t.filter.filtersNodes())}}function ste(t,e){const n=ya(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!$e(e)&&!n.getImmediateChild(Ue(e)).isEmpty())?n.getChild(e):null}function fb(t,e,n,r){e.type===Ri.MERGE&&e.source.queryId!==null&&(G(ya(t.viewCache_),"We should always have a full cache before handling merges"),G(N0(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Zee(t.processor_,i,e,n,r);return Jee(t.processor_,s.viewCache),G(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,ote(t,s.changes,s.viewCache.eventCache.getNode(),null)}function ote(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Oee(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pb;function ate(t){G(!pb,"__referenceConstructor has already been defined"),pb=t}function rT(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return G(s!=null,"SyncTree gave us an op for an invalid query."),fb(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(fb(o,e,n,r));return s}}function iT(t,e){let n=null;for(const r of t.views.values())n=n||ste(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mb;function lte(t){G(!mb,"__referenceConstructor has already been defined"),mb=t}class gb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pt(null),this.pendingWriteTree_=Gee(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ute(t,e,n,r,i){return $ee(t.pendingWriteTree_,e,n,r,i),i?hv(t,new va(VM(),e,n)):[]}function dl(t,e,n=!1){const r=Fee(t.pendingWriteTree_,e);if(Vee(t.pendingWriteTree_,e)){let s=new pt(null);return r.snap!=null?s=s.set(it(),!0):Gr(r.children,o=>{s=s.set(new Et(o),!0)}),hv(t,new lm(r.path,s,n))}else return[]}function dv(t,e,n){return hv(t,new va(UM(),e,n))}function cte(t,e,n){const r=pt.fromObject(n);return hv(t,new Ud(UM(),e,r))}function dte(t,e,n,r){const i=nD(t,r);if(i!=null){const s=rD(i),o=s.path,a=s.queryId,l=Vr(o,e),u=new va(jM(a),l,n);return iD(t,o,u)}else return[]}function hte(t,e,n,r){const i=nD(t,r);if(i){const s=rD(i),o=s.path,a=s.queryId,l=Vr(o,e),u=pt.fromObject(n),c=new Ud(jM(a),l,u);return iD(t,o,c)}else return[]}function ZM(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Vr(o,e),u=iT(a,l);if(u)return u});return KM(i,e,s,n,!0)}function hv(t,e){return eD(e,t.syncPointTree_,null,HM(t.pendingWriteTree_,it()))}function eD(t,e,n,r){if($e(t.path))return tD(t,e,n,r);{const i=e.get(it());n==null&&i!=null&&(n=iT(i,it()));let s=[];const o=Ue(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=QM(r,o);s=s.concat(eD(a,l,u,c))}return i&&(s=s.concat(rT(i,t,r,n))),s}}function tD(t,e,n,r){const i=e.get(it());n==null&&i!=null&&(n=iT(i,it()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=QM(r,o),c=t.operationForChild(o);c&&(s=s.concat(tD(c,a,l,u)))}),i&&(s=s.concat(rT(i,t,r,n))),s}function nD(t,e){return t.tagToQueryMap.get(e)}function rD(t){const e=t.indexOf("$");return G(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Et(t.substr(0,e))}}function iD(t,e,n){const r=t.syncPointTree_.get(e);G(r,"Missing sync point for query tag that we're tracking");const i=HM(t.pendingWriteTree_,e);return rT(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new sT(n)}node(){return this.node_}}class oT{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=pn(this.path_,e);return new oT(this.syncTree_,n)}node(){return ZM(this.syncTree_,this.path_)}}const fte=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},vb=function(t,e,n){if(!t||typeof t!="object")return t;if(G(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return pte(t[".sv"],e,n);if(typeof t[".sv"]=="object")return mte(t[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},pte=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+t)}},mte=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&G(!1,"Unexpected increment value: "+r);const i=e.node();if(G(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},gte=function(t,e,n,r){return aT(e,new oT(n,t),r)},vte=function(t,e,n){return aT(t,new sT(e),n)};function aT(t,e,n){const r=t.getPriority().val(),i=vb(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=vb(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new cn(a,Vn(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new cn(i))),o.forEachChild(Un,(a,l)=>{const u=aT(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function uT(t,e){let n=e instanceof Et?e:new Et(e),r=t,i=Ue(n);for(;i!==null;){const s=Bl(r.node.children,i)||{children:{},childCount:0};r=new lT(i,r,s),n=mt(n),i=Ue(n)}return r}function Tu(t){return t.node.value}function sD(t,e){t.node.value=e,F0(t)}function oD(t){return t.node.childCount>0}function yte(t){return Tu(t)===void 0&&!oD(t)}function fv(t,e){Gr(t.node.children,(n,r)=>{e(new lT(n,t,r))})}function aD(t,e,n,r){n&&!r&&e(t),fv(t,i=>{aD(i,e,!0,r)}),n&&r&&e(t)}function _te(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function xh(t){return new Et(t.parent===null?t.name:xh(t.parent)+"/"+t.name)}function F0(t){t.parent!==null&&wte(t.parent,t.name,t)}function wte(t,e,n){const r=yte(n),i=Es(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,F0(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,F0(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ete=/[\[\].#$\/\u0000-\u001F\u007F]/,Tte=/[\[\].#$\u0000-\u001F\u007F]/,Ry=10*1024*1024,lD=function(t){return typeof t=="string"&&t.length!==0&&!Ete.test(t)},Ste=function(t){return typeof t=="string"&&t.length!==0&&!Tte.test(t)},Cte=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ste(t)},uD=function(t,e,n){const r=n instanceof Et?new ree(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ko(r));if(typeof e=="function")throw new Error(t+"contains a function "+ko(r)+" with contents = "+e.toString());if(lM(e))throw new Error(t+"contains "+e.toString()+" "+ko(r));if(typeof e=="string"&&e.length>Ry/3&&Tg(e)>Ry)throw new Error(t+"contains a string greater than "+Ry+" utf8 bytes "+ko(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Gr(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!lD(o)))throw new Error(t+" contains an invalid key ("+o+") "+ko(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);iee(r,o),uD(t,a,r),see(r)}),i&&s)throw new Error(t+' contains ".value" child '+ko(r)+" in addition to actual children.")}},Ite=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!lD(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Cte(n))throw new Error(c7(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rte{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function bte(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!AM(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Na(t,e,n){bte(t,n),xte(t,r=>si(r,e)||si(e,r))}function xte(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(Pte(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Pte(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Yo&&Fn("event: "+n.toString()),Rh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kte="repo_interrupt",Ate=25;class Nte{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Rte,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=am(),this.transactionQueueTree_=new lT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Ote(t,e,n){if(t.stats_=QE(t.repoInfo_),t.forceRestClient_||bZ())t.server_=new om(t.repoInfo_,(r,i,s,o)=>{yb(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>_b(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{In(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new os(t.repoInfo_,e,(r,i,s,o)=>{yb(t,r,i,s,o)},r=>{_b(t,r)},r=>{Dte(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=OZ(t.repoInfo_,()=>new Nee(t.stats_,t.server_)),t.infoData_=new bee,t.infoSyncTree_=new gb({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=dv(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),cT(t,"connected",!1),t.serverSyncTree_=new gb({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Na(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Mte(t){const n=t.infoData_.getNode(new Et(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function cD(t){return fte({timestamp:Mte(t)})}function yb(t,e,n,r,i){t.dataUpdateCount++;const s=new Et(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=kp(n,u=>Vn(u));o=hte(t.serverSyncTree_,s,l,i)}else{const l=Vn(n);o=dte(t.serverSyncTree_,s,l,i)}else if(r){const l=kp(n,u=>Vn(u));o=cte(t.serverSyncTree_,s,l)}else{const l=Vn(n);o=dv(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=hT(t,s)),Na(t.eventQueue_,a,o)}function _b(t,e){cT(t,"connected",e),e===!1&&$te(t)}function Dte(t,e){Gr(e,(n,r)=>{cT(t,n,r)})}function cT(t,e,n){const r=new Et("/.info/"+e),i=Vn(n);t.infoData_.updateSnapshot(r,i);const s=dv(t.infoSyncTree_,r,i);Na(t.eventQueue_,r,s)}function Lte(t){return t.nextWriteId_++}function $te(t){dD(t,"onDisconnectEvents");const e=cD(t),n=am();A0(t.onDisconnect_,it(),(i,s)=>{const o=gte(i,s,t.serverSyncTree_,e);FM(n,i,o)});let r=[];A0(n,it(),(i,s)=>{r=r.concat(dv(t.serverSyncTree_,i,s));const o=jte(t,i);hT(t,o)}),t.onDisconnect_=am(),Na(t.eventQueue_,it(),r)}function Fte(t){t.persistentConnection_&&t.persistentConnection_.interrupt(kte)}function dD(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Fn(n,...e)}function hD(t,e,n){return ZM(t.serverSyncTree_,e,n)||Ye.EMPTY_NODE}function dT(t,e=t.transactionQueueTree_){if(e||pv(t,e),Tu(e)){const n=pD(t,e);G(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Vte(t,xh(e),n)}else oD(e)&&fv(e,n=>{dT(t,n)})}function Vte(t,e,n){const r=n.map(u=>u.currentWriteId),i=hD(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];G(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Vr(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{dD(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(dl(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();pv(t,uT(t.transactionQueueTree_,e)),dT(t,t.transactionQueueTree_),Na(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)Rh(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Tr("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}hT(t,e)}},o)}function hT(t,e){const n=fD(t,e),r=xh(n),i=pD(t,n);return Ute(t,i,r),r}function Ute(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Vr(n,l.path);let c=!1,d;if(G(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(dl(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Ate)c=!0,d="maxretry",i=i.concat(dl(t.serverSyncTree_,l.currentWriteId,!0));else{const h=hD(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){uD("transaction failed: Data returned ",f,l.path);let p=Vn(f);typeof f=="object"&&f!=null&&Es(f,".priority")||(p=p.updatePriority(h.getPriority()));const T=l.currentWriteId,m=cD(t),v=vte(p,h,m);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=Lte(t),o.splice(o.indexOf(T),1),i=i.concat(ute(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(dl(t.serverSyncTree_,T,!0))}else c=!0,d="nodata",i=i.concat(dl(t.serverSyncTree_,l.currentWriteId,!0))}Na(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}pv(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Rh(r[a]);dT(t,t.transactionQueueTree_)}function fD(t,e){let n,r=t.transactionQueueTree_;for(n=Ue(e);n!==null&&Tu(r)===void 0;)r=uT(r,n),e=mt(e),n=Ue(e);return r}function pD(t,e){const n=[];return mD(t,e,n),n.sort((r,i)=>r.order-i.order),n}function mD(t,e,n){const r=Tu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);fv(e,i=>{mD(t,i,n)})}function pv(t,e){const n=Tu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,sD(e,n.length>0?n:void 0)}fv(e,r=>{pv(t,r)})}function jte(t,e){const n=xh(fD(t,e)),r=uT(t.transactionQueueTree_,e);return _te(r,i=>{by(t,i)}),by(t,r),aD(r,i=>{by(t,i)}),n}function by(t,e){const n=Tu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(G(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(G(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(dl(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?sD(e,void 0):n.length=s+1,Na(t.eventQueue_,xh(e),i);for(let o=0;o<r.length;o++)Rh(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bte(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function zte(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Tr(`Invalid query segment '${n}' in query '${t}'`)}return e}const wb=function(t,e){const n=Wte(t),r=n.namespace;n.domain==="firebase.com"&&ma(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ma("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||_Z();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new kZ(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Et(n.pathString)}},Wte=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=Bte(t.substring(c,d)));const h=zte(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return $e(this._path)?null:xM(this._path)}get ref(){return new Su(this._repo,this._path)}get _queryIdentifier(){const e=sb(this._queryParams),n=KE(e);return n==="{}"?"default":n}get _queryObject(){return sb(this._queryParams)}isEqual(e){if(e=_t(e),!(e instanceof fT))return!1;const n=this._repo===e._repo,r=AM(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+nee(this._path)}}class Su extends fT{constructor(e,n){super(e,n,new ZE,!1)}get parent(){const e=kM(this._path);return e===null?null:new Su(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}ate(Su);lte(Su);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hte="FIREBASE_DATABASE_EMULATOR_HOST",V0={};let qte=!1;function Kte(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ma("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Fn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=wb(s,i),a=o.repoInfo,l,u;typeof process<"u"&&UR&&(u=UR[Hte]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=wb(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new x0(x0.OWNER):new PZ(t.name,t.options,e);Ite("Invalid Firebase Database URL",o),$e(o.path)||ma("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Qte(a,t,c,new xZ(t.name,n));return new Yte(d,t)}function Gte(t,e){const n=V0[e];(!n||n[t.key]!==t)&&ma(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Fte(t),delete n[t.key]}function Qte(t,e,n,r){let i=V0[e.name];i||(i={},V0[e.name]=i);let s=i[t.toURLString()];return s&&ma("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Nte(t,qte,n,r),i[t.toURLString()]=s,s}class Yte{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Ote(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Su(this._repo,it())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Gte(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ma("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xte(t){pZ(yo),so(new fs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Kte(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Br(jR,BR,t),Br(jR,BR,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jte={".sv":"timestamp"};function Zte(){return Jte}os.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};os.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Xte();const gD=_.createContext(),ene=({children:t})=>{const{user:e}=wu(),n={chatId:null,otherUser:{}},r=(o,a)=>{switch(a.type){case"CHANGE_USER":return{otherUser:a.payload,chatId:e.uid>a.payload.uid?e.uid+a.payload.uid:a.payload.uid+e.uid};default:return o}},[i,s]=_.useReducer(r,n);return _.useEffect(()=>{e&&s({type:"CHANGE_USER",payload:i.otherUser})},[e]),C.jsx(gD.Provider,{value:{data:i,dispatch:s},children:t})},vD=()=>_.useContext(gD);function tne(t){return fi({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"},child:[]}]})(t)}function Eb(t){return fi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(t)}let vf;const nne=new Uint8Array(16);function rne(){if(!vf&&(vf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!vf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return vf(nne)}const En=[];for(let t=0;t<256;++t)En.push((t+256).toString(16).slice(1));function ine(t,e=0){return En[t[e+0]]+En[t[e+1]]+En[t[e+2]]+En[t[e+3]]+"-"+En[t[e+4]]+En[t[e+5]]+"-"+En[t[e+6]]+En[t[e+7]]+"-"+En[t[e+8]]+En[t[e+9]]+"-"+En[t[e+10]]+En[t[e+11]]+En[t[e+12]]+En[t[e+13]]+En[t[e+14]]+En[t[e+15]]}const sne=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Tb={randomUUID:sne};function xy(t,e,n){if(Tb.randomUUID&&!e&&!t)return Tb.randomUUID();t=t||{};const r=t.random||(t.rng||rne)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return ine(r)}const one="https://milkevich.github.io/pract-chat/assets/chatImgNoMessages-kTNKWbDn.png",ane="_container_vhhbq_1",lne="_userInfoContainer_vhhbq_11",une="_userInfo_vhhbq_11",cne="_displayName_vhhbq_22",dne="_email_vhhbq_29",hne="_typeMessage_vhhbq_36",fne="_messageInput_vhhbq_47",pne="_icon_vhhbq_61",mne="_sendBtn_vhhbq_75",gne="_sendBtnIcon_vhhbq_91",vne="_messagesContainer_vhhbq_98",yne="_progress_vhhbq_108",_ne="_message_vhhbq_47",wne="_ownMessage_vhhbq_122",Ene="_otherMessage_vhhbq_132",Tne="_ownImgMessage_vhhbq_142",Sne="_otherImgMessage_vhhbq_150",Cne="_img_vhhbq_159",Ine="_noMessagesContainerImg_vhhbq_164",Rne="_noMessagesContainer_vhhbq_164",bne="_date_vhhbq_179",xne="_sendBtnIconSingle_vhhbq_192",Pne="_backBtn_vhhbq_196",kne="_noMessagesH1_vhhbq_307",Ane="_noMessagesP_vhhbq_311",ut={container:ane,userInfoContainer:lne,userInfo:une,displayName:cne,email:dne,typeMessage:hne,messageInput:fne,icon:pne,sendBtn:mne,sendBtnIcon:gne,messagesContainer:vne,progress:yne,message:_ne,ownMessage:wne,otherMessage:Ene,ownImgMessage:Tne,otherImgMessage:Sne,img:Cne,noMessagesContainerImg:Ine,noMessagesContainer:Rne,date:bne,sendBtnIconSingle:xne,backBtn:Pne,noMessagesH1:kne,noMessagesP:Ane};function Nne(t){return fi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(t)}const One="https://milkevich.github.io/pract-chat/assets/chatImgNoMessagesDark-PZ_T0ob0.png",Mne=()=>{const{data:t}=vD(),{user:e}=wu(),{isDarkMode:n}=Ia(),[r,i]=_.useState([]),[s,o]=_.useState(""),[a,l]=_.useState(null),u=_.useRef(null),[c,d]=_.useState(null),h=ZA();_.useEffect(()=>{if(t.chatId){const E=GO(ri(Lr,"chats",t.chatId),I=>{if(I.exists()){const w=I.data();i(w.messages)}});return()=>{E()}}},[t.chatId]),_.useEffect(()=>{p()},[r]),_.useEffect(()=>(window.addEventListener("resize",f),window.addEventListener("orientationchange",f),()=>{window.removeEventListener("resize",f),window.removeEventListener("orientationchange",f)}),[]);const f=()=>{const E=document.getElementById("chat-container");E&&(E.style.height=`${window.innerHeight}px`)},p=()=>{var E;(E=u.current)==null||E.scrollIntoView({behavior:"smooth"})},g=async()=>{if(s.trim()||a)if(a){const E=JA(h,`images/${xy()}`),I=YA(E,a);I.on("state_changed",w=>{const S=w.bytesTransferred/w.totalBytes*100;console.log("Upload is "+S+"% done"),d(S)},w=>{console.error("Upload error:",w)},()=>{XA(I.snapshot.ref).then(async w=>{await vc(ri(Lr,"chats",t.chatId),{messages:$R({id:xy(),senderId:e.uid,date:At.now(),img:w})}),d(null),l(null)})})}else await vc(ri(Lr,"chats",t.chatId),{messages:$R({id:xy(),text:s,senderId:e.uid,date:At.now()})}),o("");await vc(ri(Lr,"userChats",e.uid),{[t.chatId+".lastMessage"]:{text:s},[t.chatId+".date"]:At.now()}),await vc(ri(Lr,"userChats",t.otherUser.uid),{[t.chatId+".lastMessage"]:{text:s},[t.chatId+".date"]:At.now()}),o(""),l(null)},T=E=>{const I=E.target.files[0];l(I)},m=E=>{E.key==="Enter"&&g()},v=E=>{const I=E.toDate(),w=I.getHours(),S=I.getMinutes(),b=w>=12?"PM":"AM",P=w%12===0?12:w%12,x=S<10?`0${S}`:S;return`${P}:${x} ${b}`},y=()=>{location.reload()};return t&&t.otherUser&&t.otherUser.displayName&&t.otherUser.displayName[0].toUpperCase(),C.jsxs("div",{className:ut.container,id:"chat-container",children:[C.jsxs("div",{className:ut.userInfoContainer,children:[C.jsx(Nne,{onClick:y,className:ut.backBtn}),C.jsx(wd,{src:t.otherUser.photoURL}),C.jsxs("div",{className:ut.userInfo,children:[C.jsx("h1",{className:ut.displayName,children:t.otherUser.displayName}),C.jsx("p",{className:ut.email,children:t.otherUser.email})]})]}),r.length===0?C.jsxs("div",{className:ut.noMessagesContainer,children:[C.jsx("h1",{className:ut.noMessagesH1,children:"Looks like it's nothing here."}),C.jsx("p",{className:ut.noMessagesP,style:{marginTop:"-15px"},children:"Send a message to start chatting!"}),C.jsx("img",{className:ut.noMessagesContainerImg,src:n?One:one,alt:""})]}):C.jsxs("div",{className:ut.messagesContainer,children:[r.map(E=>C.jsxs(mn.Fragment,{children:[E.text&&C.jsx("div",{className:`${ut.message} ${E.senderId===e.uid?ut.ownMessage:ut.otherMessage}`,children:C.jsxs("p",{children:[E.text,C.jsx("span",{className:ut.date,children:v(E.date)})]})}),E.img&&C.jsxs("div",{className:`${ut.imMessage} ${E.senderId===e.uid?ut.ownImgMessage:ut.otherImgMessage}`,children:[C.jsx("img",{className:ut.img,src:E.img,alt:"File Attached"}),C.jsx("span",{style:{marginLeft:"10px",marginTop:"10px",fontSize:"11px"},children:v(E.date)})]})]},E.id)),C.jsx("div",{ref:u})]}),C.jsxs("div",{className:ut.typeMessage,children:[c>0?C.jsx(ez,{sx:{zIndex:1e3,position:"absolute",bottom:"70px",height:"5px",borderRadius:"50px"},className:ut.progress,variant:"determinate",value:c,color:"secondary"}):null,C.jsx("label",{htmlFor:"file-upload",children:C.jsx(tne,{className:ut.icon})}),C.jsx("input",{id:"file-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:T}),C.jsx("input",{onChange:E=>o(E.target.value),onKeyPress:m,className:ut.messageInput,type:"text",placeholder:"Enter Text",value:s}),C.jsx(Eb,{onClick:g,className:ut.sendBtnIconSingle}),C.jsxs("button",{onClick:g,className:ut.sendBtn,children:["Send ",C.jsx(Eb,{className:ut.sendBtnIcon})]})]})]})},Dne="https://milkevich.github.io/pract-chat/assets/NoChats-VzLtQHpE.png",Lne="_container_1thkk_1",$ne="_section_1thkk_8",Fne="_searchContainer_1thkk_18",Vne="_search_1thkk_18",Une="_searchBtn_1thkk_37",jne="_navMenuBtn_1thkk_47",Bne="_messageContainer_1thkk_51",zne="_messageContainerInfoContainer_1thkk_60",Wne="_displayName_1thkk_67",Hne="_LastMessageContainer_1thkk_77",qne="_lastMessage_1thkk_89",Kne="_date_1thkk_97",Gne="_noChatsP_1thkk_119",Qne="_noChatsH_1thkk_141",Yne="_chatContainer_1thkk_168",Xne="_noChats_1thkk_119",zt={container:Lne,section:$ne,searchContainer:Fne,search:Vne,searchBtn:Une,navMenuBtn:jne,messageContainer:Bne,messageContainerInfoContainer:zne,displayName:Wne,LastMessageContainer:Hne,lastMessage:qne,date:Kne,noChatsP:Gne,noChatsH:Qne,chatContainer:Yne,noChats:Xne},Jne="_navMenu_e16vk_1",Zne="_show_e16vk_10",ere="_tabClose_e16vk_14",Py={navMenu:Jne,show:Zne,tabClose:ere},tre=({onCloseTab:t})=>{const[e,n]=_.useState(!1);_.useEffect(()=>{const i=setTimeout(()=>{n(!0)},100);return()=>clearTimeout(i)},[]);const r=()=>{n(!1),t()};return C.jsx("div",{className:`${Py.navMenu} ${e?Py.show:""}`,children:C.jsx(sB,{direction:"right",in:e,mountOnEnter:!0,unmountOnExit:!0,timeout:{enter:1e3,exit:1e3},children:C.jsxs("div",{children:[C.jsx(rM,{className:Py.tabClose,onClick:r}),C.jsx(iM,{})]})})})},nre="https://milkevich.github.io/pract-chat/assets/NoChatsDark-BqvXQxYA.png",rre=()=>{var I;const[t,e]=_.useState(""),[n,r]=_.useState(null),{user:i}=wu(),{dispatch:s}=vD(),[o,a]=_.useState([]),[l,u]=_.useState(null),[c,d]=_.useState(!1),[h,f]=_.useState(window.innerWidth),{isDarkMode:p}=Ia();_.useEffect(()=>{const w=()=>{f(window.innerWidth)};return window.addEventListener("resize",w),()=>{window.removeEventListener("resize",w)}},[]);const g=()=>{d(!c)};_.useEffect(()=>{const w=()=>{const S=GO(ri(Lr,"userChats",i.uid),b=>{a(b.data())});return()=>{S()}};i.uid&&w()},[i.uid]);const T=async()=>{if(t.trim()!==""){const w=uJ(QX(Lr,"users"),cJ("uid","==",t.trim()));try{const S=await pJ(w);if(S.empty)r(null),console.log("no user");else{const b=S.docs.map(P=>P.data());r(b),console.log("user found "+t)}}catch(S){console.error("Error searching user:",S)}}},m=w=>{w.code==="Enter"&&T(),e(null)},v=async()=>{if(n&&n.length>0){const w=n[0],S=i.uid>w.uid?i.uid+w.uid:w.uid+i.uid;try{const b=ri(Lr,"chats",S);(await LR(b)).exists()||await Zp(b,{messages:[]});const x=async(O,L)=>{const D=ri(Lr,"userChats",O);(await LR(D)).exists()||await Zp(D,{}),await vc(ri(Lr,"userChats",O),{[S+".userInfo"]:{uid:L.uid,displayName:L.displayName,email:L.email,photoURL:L.photoURL},[S+".date"]:Zte()})};r(null),e(""),await x(w.uid,i),await x(i.uid,w)}catch(b){console.error("Error selecting chat:",b)}}},y=w=>{s({type:"CHANGE_USER",payload:w}),u(w)},E=w=>{if(w&&w.toDate){const S=w.toDate(),b=S.getHours(),P=S.getMinutes(),x=b>=12?"PM":"AM",O=b%12===0?12:b%12,L=P<10?`0${P}`:P;return`${O}:${L} ${x}`.toString()}else return""};return C.jsxs("div",{className:zt.container,children:[c&&C.jsx(tre,{onCloseTab:g}),(h>1120&&l||!l||h>=620&&l||!l||h<=620&&!l)&&C.jsxs("section",{className:zt.section,children:[C.jsxs("div",{className:zt.searchContainer,children:[C.jsx(rM,{onClick:g,className:zt.navMenuBtn}),C.jsx(XJ,{className:zt.searchBtn}),C.jsx("input",{onKeyDown:m,value:t,onChange:w=>e(w.target.value),placeholder:"Search",className:zt.search,type:"text"})]}),t!==""&&C.jsxs("div",{style:{textAlign:"start",marginLeft:"20px",color:"grey"},children:["Please enter user's exact ID ",C.jsx("br",{})," and then press Enter to find a user"]}),n&&C.jsxs("div",{children:[C.jsxs("div",{onClick:v,className:zt.messageContainer,children:[C.jsx(wd,{src:n[0].photoURL,sx:{width:46,height:46,fontSize:27}}),C.jsxs("div",{className:zt.messageContainerInfoContainer,children:[C.jsx("h1",{className:zt.displayName,children:n[0].displayName}),C.jsx("p",{className:zt.lastMessage,children:"Click to chat"})]})]}),C.jsx(j_,{sx:{backgroundColor:"var(--divider-color)"},variant:"middle"})]}),t===""&&o&&((I=Object.entries(o))==null?void 0:I.sort((w,S)=>S[1].date-w[1].date).map((w,S)=>C.jsx(Xk,{in:!0,style:{transitionDelay:`${S*200}ms`},children:C.jsxs("div",{onClick:()=>y(w[1].userInfo),children:[C.jsxs("div",{className:zt.messageContainer,onClick:v,style:{backgroundColor:l&&w[1].userInfo.uid===l.uid?"rgba(167, 255, 0, 0.3)":"var(--main-bg-color)",borderLeft:l&&w[1].userInfo.uid===l.uid?"3px solid rgba(167, 255, 0, 1)":"3px solid rgba(167, 255, 0, 0)"},children:[C.jsx(wd,{src:w[1].userInfo.photoURL,sx:{width:46,height:46,fontSize:27}}),C.jsxs("div",{className:zt.messageContainerInfoContainer,children:[C.jsx("h1",{className:zt.displayName,children:w[1].userInfo.displayName}),C.jsx("span",{className:zt.date,children:w[1].lastMessage?E(w[1].date):""}),C.jsx("div",{className:zt.LastMessageContainer,children:w[1].lastMessage&&w[1].lastMessage.text?C.jsx("p",{className:zt.lastMessage,children:w[1].lastMessage.text}):C.jsx("p",{className:zt.lastMessage,children:w[1].lastMessage&&w[1].lastMessage.type!=="text"?"File sent":"Click to chat"})})]})]}),C.jsx(j_,{sx:{backgroundColor:"var(--divider-color)"},variant:"middle"})]},w[0])})))]}),l?C.jsx("div",{className:zt.chatContainer,children:C.jsx(Mne,{})}):C.jsx("div",{className:zt.noChats,children:C.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"90vh"},children:[C.jsx("h1",{className:zt.noChatsH,children:"You have no active chats yet."}),C.jsx("p",{className:zt.noChatsP,children:"Find a friend and start the dialog!"}),C.jsx("img",{style:{maxWidth:"70%",marginTop:"50px"},src:p?nre:Dne,alt:"No chats"})]})})]})},ire="_mainContainer_csg2q_1",sre="_hide_csg2q_7",Sb={mainContainer:ire,hide:sre},ore=()=>C.jsxs("div",{className:Sb.mainContainer,children:[C.jsx("div",{className:Sb.hide,children:C.jsx(iM,{})}),C.jsx(rre,{})]}),are="_container_up548_1",lre="_p_up548_8",ure="_h1_up548_13",cre="_inputContainer_up548_17",dre="_textField_up548_24",hre="_btn_up548_29",fre="_suggestion_up548_43",pre="_link_up548_48",mre="_passwordContainer_up548_55",gre="_visibilityIcon_up548_59",vre="_photoUpload_up548_67",yre="_photoUploadButton_up548_74",Kn={container:are,p:lre,h1:ure,inputContainer:cre,textField:dre,btn:hre,suggestion:fre,link:pre,passwordContainer:mre,visibilityIcon:gre,photoUpload:vre,photoUploadButton:yre};function _re(){const[t,e]=_.useState(""),[n,r]=_.useState(!1),[i,s]=_.useState(""),[o,a]=_.useState(""),[l,u]=_.useState(!1),[c,d]=_.useState(""),[h,f]=_.useState(""),[p,g]=_.useState(!1),[T,m]=_.useState(""),[v,y]=_.useState(!1),[E,I]=_.useState(!1),[w,S]=_.useState(""),[b,P]=_.useState(null),[x,O]=_.useState(null),{isDarkMode:L}=Ia(),D=Sa(),V=async te=>{if(te.preventDefault(),!n&&!l&&!p&&b)try{const ce=(await Lq(em,t,o)).user,Z=new Date().getTime(),de=JA(gJ,`${h+Z}`);await YA(de,b).then(()=>{XA(de).then(async ue=>{await Vq(ce,{displayName:h,photoURL:ue});const Fe=ri(Lr,"users",ce.uid);await Zp(Fe,{uid:ce.uid,displayName:h,email:t,photoURL:ue}),await Zp(ri(Lr,"userChats",ce.uid),{}),D("/pract-chat/chat")})})}catch(Y){console.error("Error creating user:",Y),y(!0),S("The user with this email already exists, try again.")}else n?(y(!0),S("Email address is not valid or already being used.")):(y(!1),S("")),l?(y(!0),S("Please enter a valid password.")):(y(!1),S("")),p?(y(!0),S("Please enter a valid display name.")):(y(!1),S(""))},z=te=>{const Y=te.target.files[0];P(Y),O(URL.createObjectURL(Y))},B=te=>{const Y=/^[^]+@[^]+\.[a-z]{2,3}$/,ce=te.target.value;e(ce),ce===""||!ce.match(Y)?(r(!0),s("Please enter a valid email address")):(r(!1),s(""))},j=te=>{const Y=te.target.value;a(Y),Y===""||Y.length<6?(u(!0),d("You must have at least 6 characters")):(u(!1),d(""))},A=te=>{const Y=te.target.value;f(Y),Y===""?(g(!0),m("You must enter your full name.")):(g(!1),m(""))},$=()=>{I(!E)},H=()=>{D("/pract-chat/log-in")};return C.jsxs("div",{className:`${Kn.container}`,children:[v?C.jsx(Lk,{severity:"error",children:w}):null,C.jsx("h1",{className:Kn.h1,children:"Welcome!"}),C.jsx("p",{className:Kn.p,children:"Please enter your information"}),C.jsxs("div",{className:Kn.inputContainer,children:[C.jsx(wd,{sx:{width:"100px",height:"100px"},src:x,className:Kn.photoUpload}),C.jsxs("div",{style:{marginBottom:"20px"},children:[C.jsx("input",{type:"file",accept:"image/*",onChange:z,style:{display:"none"},id:"fileInput"}),C.jsx("label",{htmlFor:"fileInput",className:Kn.photoUploadButton,children:C.jsx(JJ,{})})]}),C.jsx(Mc,{color:p?"error":L?"dark":"primary",error:p,focused:L&&!p,helperText:T,onChange:A,value:h,sx:{width:"70%"},id:"standard-basic",label:"Display Name",variant:"standard",className:Kn.textField}),C.jsx(Mc,{color:n?"error":L?"dark":"primary",focused:L&&!n,error:n,helperText:i,onChange:B,value:t,className:Kn.textField,id:"standard-basic",label:"Email",variant:"standard"}),C.jsxs(Pk,{className:Kn.passwordContainer,children:[C.jsx(Mc,{color:l?"error":L?"dark":"primary",focused:L&&!l,error:l,helperText:c,onChange:j,id:"standard-password-input",label:"Password",type:E?"text":"password",autoComplete:"current-password",variant:"standard",className:Kn.textField}),E?C.jsx(Pw,{onClick:$,className:Kn.visibilityIcon}):C.jsx(Aw,{onClick:$,className:Kn.visibilityIcon})]}),C.jsx("button",{onClick:V,className:Kn.btn,children:"Sign Up"})]}),C.jsxs("p",{className:Kn.suggestion,children:["Already Have an account? ",C.jsx("span",{className:Kn.link,onClick:H,children:"Log In"})]})]})}class wre extends _.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error("Error caught by ErrorBoundary:",e,n)}render(){return this.state.hasError?C.jsx("div",{children:"Unexpected"}):this.props.children}}const Ere="https://milkevich.github.io/pract-chat/assets/404-avyOQv9o.png",Tre="https://milkevich.github.io/pract-chat/assets/404Dark-7afdkmv_.png",Sre="_container_mt172_1",tc={container:Sre},Cb=()=>{const t=Sa(),{isDarkMode:e}=Ia(),n=()=>{t("/pract-chat/chat")};return C.jsxs("div",{className:tc.container,children:[C.jsx("img",{className:tc.img,src:e?Tre:Ere,alt:"404 not found"}),C.jsx("h1",{className:tc.h1,children:"Oops! We've wandered off the trail!"}),C.jsx("p",{className:tc.p,children:"Seems like the path you're seeking doesn't exist. Let's find our way back together!"}),C.jsx("button",{onClick:n,className:tc.btn,children:"Go Back"})]})},Cre="https://milkevich.github.io/pract-chat/assets/working-rFq9V_P3.png",Ire="_container_k1c1f_1",nc={container:Ire},Rre="https://milkevich.github.io/pract-chat/assets/workingDark-EAu1XLo5.png",bre=()=>{const t=Sa(),{isDarkMode:e}=Ia(),n=()=>{t("/pract-chat/chat")};return C.jsxs("div",{className:nc.container,children:[C.jsx("img",{className:nc.img,src:e?Rre:Cre,alt:"working"}),C.jsx("h1",{className:nc.h1,children:"Oops!.. Still Under Construction"}),C.jsx("p",{className:nc.p,children:"Excuse the dust! We're sprucing things up."}),C.jsx("button",{onClick:n,className:nc.btn,children:"Go Back"})]})},xre=oF(b_(C.jsx(qi,{path:"/pract-chat/",element:C.jsx(xH,{}),children:C.jsxs(qi,{element:C.jsx(kJ,{}),children:[C.jsx(qi,{path:"/pract-chat/log-in",element:C.jsx(bJ,{})}),C.jsx(qi,{path:"/pract-chat/sign-up",element:C.jsx(_re,{})}),C.jsx(qi,{path:"/pract-chat/*",element:C.jsx(Cb,{}),errorElement:C.jsx(Cb,{})}),C.jsx(qi,{path:"/pract-chat/settings",element:C.jsx(bre,{})}),C.jsx(qi,{element:C.jsx(PJ,{}),children:C.jsx(qi,{path:"/pract-chat/chat",element:C.jsx(ore,{})})})]})}))),Pre=ky.createRoot(document.getElementById("root"));Pre.render(C.jsx(xJ,{children:C.jsx(ene,{children:C.jsx(wre,{children:C.jsx(mF,{router:xre})})})}));
