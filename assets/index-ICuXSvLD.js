function Rb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function bb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ED(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var xb={exports:{}},dm={},Pb={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jd=Symbol.for("react.element"),TD=Symbol.for("react.portal"),SD=Symbol.for("react.fragment"),CD=Symbol.for("react.strict_mode"),ID=Symbol.for("react.profiler"),RD=Symbol.for("react.provider"),bD=Symbol.for("react.context"),xD=Symbol.for("react.forward_ref"),PD=Symbol.for("react.suspense"),kD=Symbol.for("react.memo"),AD=Symbol.for("react.lazy"),mT=Symbol.iterator;function ND(t){return t===null||typeof t!="object"?null:(t=mT&&t[mT]||t["@@iterator"],typeof t=="function"?t:null)}var kb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ab=Object.assign,Nb={};function tu(t,e,n){this.props=t,this.context=e,this.refs=Nb,this.updater=n||kb}tu.prototype.isReactComponent={};tu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};tu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ob(){}Ob.prototype=tu.prototype;function U0(t,e,n){this.props=t,this.context=e,this.refs=Nb,this.updater=n||kb}var j0=U0.prototype=new Ob;j0.constructor=U0;Ab(j0,tu.prototype);j0.isPureReactComponent=!0;var gT=Array.isArray,Mb=Object.prototype.hasOwnProperty,B0={current:null},Db={key:!0,ref:!0,__self:!0,__source:!0};function Lb(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Mb.call(e,r)&&!Db.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:jd,type:t,key:s,ref:o,props:i,_owner:B0.current}}function OD(t,e){return{$$typeof:jd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function z0(t){return typeof t=="object"&&t!==null&&t.$$typeof===jd}function MD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var yT=/\/+/g;function gy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MD(""+t.key):e.toString(36)}function vf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case jd:case TD:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+gy(o,0):r,gT(i)?(n="",t!=null&&(n=t.replace(yT,"$&/")+"/"),vf(i,e,n,"",function(u){return u})):i!=null&&(z0(i)&&(i=OD(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(yT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",gT(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+gy(s,a);o+=vf(s,e,n,l,i)}else if(l=ND(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+gy(s,a++),o+=vf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Mh(t,e,n){if(t==null)return t;var r=[],i=0;return vf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function DD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Xn={current:null},_f={transition:null},LD={ReactCurrentDispatcher:Xn,ReactCurrentBatchConfig:_f,ReactCurrentOwner:B0};Le.Children={map:Mh,forEach:function(t,e,n){Mh(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Mh(t,function(){e++}),e},toArray:function(t){return Mh(t,function(e){return e})||[]},only:function(t){if(!z0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Le.Component=tu;Le.Fragment=SD;Le.Profiler=ID;Le.PureComponent=U0;Le.StrictMode=CD;Le.Suspense=PD;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LD;Le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ab({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=B0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Mb.call(e,l)&&!Db.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:jd,type:t.type,key:i,ref:s,props:r,_owner:o}};Le.createContext=function(t){return t={$$typeof:bD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RD,_context:t},t.Consumer=t};Le.createElement=Lb;Le.createFactory=function(t){var e=Lb.bind(null,t);return e.type=t,e};Le.createRef=function(){return{current:null}};Le.forwardRef=function(t){return{$$typeof:xD,render:t}};Le.isValidElement=z0;Le.lazy=function(t){return{$$typeof:AD,_payload:{_status:-1,_result:t},_init:DD}};Le.memo=function(t,e){return{$$typeof:kD,type:t,compare:e===void 0?null:e}};Le.startTransition=function(t){var e=_f.transition;_f.transition={};try{t()}finally{_f.transition=e}};Le.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Le.useCallback=function(t,e){return Xn.current.useCallback(t,e)};Le.useContext=function(t){return Xn.current.useContext(t)};Le.useDebugValue=function(){};Le.useDeferredValue=function(t){return Xn.current.useDeferredValue(t)};Le.useEffect=function(t,e){return Xn.current.useEffect(t,e)};Le.useId=function(){return Xn.current.useId()};Le.useImperativeHandle=function(t,e,n){return Xn.current.useImperativeHandle(t,e,n)};Le.useInsertionEffect=function(t,e){return Xn.current.useInsertionEffect(t,e)};Le.useLayoutEffect=function(t,e){return Xn.current.useLayoutEffect(t,e)};Le.useMemo=function(t,e){return Xn.current.useMemo(t,e)};Le.useReducer=function(t,e,n){return Xn.current.useReducer(t,e,n)};Le.useRef=function(t){return Xn.current.useRef(t)};Le.useState=function(t){return Xn.current.useState(t)};Le.useSyncExternalStore=function(t,e,n){return Xn.current.useSyncExternalStore(t,e,n)};Le.useTransition=function(){return Xn.current.useTransition()};Le.version="18.2.0";Pb.exports=Le;var w=Pb.exports;const mn=bb(w),Wf=Rb({__proto__:null,default:mn},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $D=w,FD=Symbol.for("react.element"),VD=Symbol.for("react.fragment"),UD=Object.prototype.hasOwnProperty,jD=$D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BD={key:!0,ref:!0,__self:!0,__source:!0};function $b(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)UD.call(e,r)&&!BD.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:FD,type:t,key:s,ref:o,props:i,_owner:jD.current}}dm.Fragment=VD;dm.jsx=$b;dm.jsxs=$b;xb.exports=dm;var S=xb.exports,kv={},Fb={exports:{}},Rr={},Vb={exports:{}},Ub={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,L){var H=A.length;A.push(L);e:for(;0<H;){var se=H-1>>>1,re=A[se];if(0<i(re,L))A[se]=L,A[H]=re,H=se;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var L=A[0],H=A.pop();if(H!==L){A[0]=H;e:for(var se=0,re=A.length,ce=re>>>1;se<ce;){var q=2*(se+1)-1,oe=A[q],de=q+1,$e=A[de];if(0>i(oe,H))de<re&&0>i($e,oe)?(A[se]=$e,A[de]=H,se=de):(A[se]=oe,A[q]=H,se=q);else if(de<re&&0>i($e,H))A[se]=$e,A[de]=H,se=de;else break e}}return L}function i(A,L){var H=A.sortIndex-L.sortIndex;return H!==0?H:A.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,f=!1,p=!1,g=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(A){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=A)r(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(u)}}function T(A){if(g=!1,v(A),!p)if(n(l)!==null)p=!0,B(R);else{var L=n(u);L!==null&&j(T,L.startTime-A)}}function R(A,L){p=!1,g&&(g=!1,m(b),b=-1),f=!0;var H=h;try{for(v(L),d=n(l);d!==null&&(!(d.expirationTime>L)||A&&!O());){var se=d.callback;if(typeof se=="function"){d.callback=null,h=d.priorityLevel;var re=se(d.expirationTime<=L);L=t.unstable_now(),typeof re=="function"?d.callback=re:d===n(l)&&r(l),v(L)}else r(l);d=n(l)}if(d!==null)var ce=!0;else{var q=n(u);q!==null&&j(T,q.startTime-L),ce=!1}return ce}finally{d=null,h=H,f=!1}}var _=!1,C=null,b=-1,P=5,x=-1;function O(){return!(t.unstable_now()-x<P)}function $(){if(C!==null){var A=t.unstable_now();x=A;var L=!0;try{L=C(!0,A)}finally{L?M():(_=!1,C=null)}}else _=!1}var M;if(typeof y=="function")M=function(){y($)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,z=F.port2;F.port1.onmessage=$,M=function(){z.postMessage(null)}}else M=function(){E($,0)};function B(A){C=A,_||(_=!0,M())}function j(A,L){b=E(function(){A(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,B(R))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(A){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var H=h;h=L;try{return A()}finally{h=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,L){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var H=h;h=A;try{return L()}finally{h=H}},t.unstable_scheduleCallback=function(A,L,H){var se=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?se+H:se):H=se,A){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=H+re,A={id:c++,callback:L,priorityLevel:A,startTime:H,expirationTime:re,sortIndex:-1},H>se?(A.sortIndex=H,e(u,A),n(l)===null&&A===n(u)&&(g?(m(b),b=-1):g=!0,j(T,H-se))):(A.sortIndex=re,e(l,A),p||f||(p=!0,B(R))),A},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(A){var L=h;return function(){var H=h;h=L;try{return A.apply(this,arguments)}finally{h=H}}}})(Ub);Vb.exports=Ub;var zD=Vb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jb=w,Sr=zD;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bb=new Set,qc={};function _a(t,e){bl(t,e),bl(t+"Capture",e)}function bl(t,e){for(qc[t]=e,t=0;t<e.length;t++)Bb.add(e[t])}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Av=Object.prototype.hasOwnProperty,WD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vT={},_T={};function HD(t){return Av.call(_T,t)?!0:Av.call(vT,t)?!1:WD.test(t)?_T[t]=!0:(vT[t]=!0,!1)}function qD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KD(t,e,n,r){if(e===null||typeof e>"u"||qD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var kn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){kn[t]=new Jn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];kn[e]=new Jn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){kn[t]=new Jn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){kn[t]=new Jn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){kn[t]=new Jn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){kn[t]=new Jn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){kn[t]=new Jn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){kn[t]=new Jn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){kn[t]=new Jn(t,5,!1,t.toLowerCase(),null,!1,!1)});var W0=/[\-:]([a-z])/g;function H0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(W0,H0);kn[e]=new Jn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(W0,H0);kn[e]=new Jn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(W0,H0);kn[e]=new Jn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){kn[t]=new Jn(t,1,!1,t.toLowerCase(),null,!1,!1)});kn.xlinkHref=new Jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){kn[t]=new Jn(t,1,!1,t.toLowerCase(),null,!0,!0)});function q0(t,e,n,r){var i=kn.hasOwnProperty(e)?kn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KD(e,n,i,r)&&(n=null),r||i===null?HD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ys=jb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dh=Symbol.for("react.element"),Ga=Symbol.for("react.portal"),Qa=Symbol.for("react.fragment"),K0=Symbol.for("react.strict_mode"),Nv=Symbol.for("react.profiler"),zb=Symbol.for("react.provider"),Wb=Symbol.for("react.context"),G0=Symbol.for("react.forward_ref"),Ov=Symbol.for("react.suspense"),Mv=Symbol.for("react.suspense_list"),Q0=Symbol.for("react.memo"),Ps=Symbol.for("react.lazy"),Hb=Symbol.for("react.offscreen"),wT=Symbol.iterator;function bu(t){return t===null||typeof t!="object"?null:(t=wT&&t[wT]||t["@@iterator"],typeof t=="function"?t:null)}var Ot=Object.assign,yy;function rc(t){if(yy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yy=e&&e[1]||""}return`
`+yy+t}var vy=!1;function _y(t,e){if(!t||vy)return"";vy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{vy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?rc(t):""}function GD(t){switch(t.tag){case 5:return rc(t.type);case 16:return rc("Lazy");case 13:return rc("Suspense");case 19:return rc("SuspenseList");case 0:case 2:case 15:return t=_y(t.type,!1),t;case 11:return t=_y(t.type.render,!1),t;case 1:return t=_y(t.type,!0),t;default:return""}}function Dv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qa:return"Fragment";case Ga:return"Portal";case Nv:return"Profiler";case K0:return"StrictMode";case Ov:return"Suspense";case Mv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Wb:return(t.displayName||"Context")+".Consumer";case zb:return(t._context.displayName||"Context")+".Provider";case G0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q0:return e=t.displayName||null,e!==null?e:Dv(t.type)||"Memo";case Ps:e=t._payload,t=t._init;try{return Dv(t(e))}catch{}}return null}function QD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dv(e);case 8:return e===K0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function to(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function YD(t){var e=qb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Lh(t){t._valueTracker||(t._valueTracker=YD(t))}function Kb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Lv(t,e){var n=e.checked;return Ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ET(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=to(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Gb(t,e){e=e.checked,e!=null&&q0(t,"checked",e,!1)}function $v(t,e){Gb(t,e);var n=to(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Fv(t,e.type,n):e.hasOwnProperty("defaultValue")&&Fv(t,e.type,to(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function TT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Fv(t,e,n){(e!=="number"||Hf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ic=Array.isArray;function hl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+to(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return Ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ST(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(ic(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:to(n)}}function Qb(t,e){var n=to(e.value),r=to(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function CT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Yb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Yb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $h,Xb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($h=$h||document.createElement("div"),$h.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$h.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Kc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XD=["Webkit","ms","Moz","O"];Object.keys(vc).forEach(function(t){XD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vc[e]=vc[t]})});function Jb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vc.hasOwnProperty(t)&&vc[t]?(""+e).trim():e+"px"}function Zb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Jb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var JD=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jv(t,e){if(e){if(JD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Bv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zv=null;function Y0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wv=null,fl=null,pl=null;function IT(t){if(t=Wd(t)){if(typeof Wv!="function")throw Error(W(280));var e=t.stateNode;e&&(e=gm(e),Wv(t.stateNode,t.type,e))}}function ex(t){fl?pl?pl.push(t):pl=[t]:fl=t}function tx(){if(fl){var t=fl,e=pl;if(pl=fl=null,IT(t),e)for(t=0;t<e.length;t++)IT(e[t])}}function nx(t,e){return t(e)}function rx(){}var wy=!1;function ix(t,e,n){if(wy)return t(e,n);wy=!0;try{return nx(t,e,n)}finally{wy=!1,(fl!==null||pl!==null)&&(rx(),tx())}}function Gc(t,e){var n=t.stateNode;if(n===null)return null;var r=gm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var Hv=!1;if(as)try{var xu={};Object.defineProperty(xu,"passive",{get:function(){Hv=!0}}),window.addEventListener("test",xu,xu),window.removeEventListener("test",xu,xu)}catch{Hv=!1}function ZD(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var _c=!1,qf=null,Kf=!1,qv=null,eL={onError:function(t){_c=!0,qf=t}};function tL(t,e,n,r,i,s,o,a,l){_c=!1,qf=null,ZD.apply(eL,arguments)}function nL(t,e,n,r,i,s,o,a,l){if(tL.apply(this,arguments),_c){if(_c){var u=qf;_c=!1,qf=null}else throw Error(W(198));Kf||(Kf=!0,qv=u)}}function wa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function RT(t){if(wa(t)!==t)throw Error(W(188))}function rL(t){var e=t.alternate;if(!e){if(e=wa(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return RT(i),t;if(s===r)return RT(i),e;s=s.sibling}throw Error(W(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function ox(t){return t=rL(t),t!==null?ax(t):null}function ax(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ax(t);if(e!==null)return e;t=t.sibling}return null}var lx=Sr.unstable_scheduleCallback,bT=Sr.unstable_cancelCallback,iL=Sr.unstable_shouldYield,sL=Sr.unstable_requestPaint,Ht=Sr.unstable_now,oL=Sr.unstable_getCurrentPriorityLevel,X0=Sr.unstable_ImmediatePriority,ux=Sr.unstable_UserBlockingPriority,Gf=Sr.unstable_NormalPriority,aL=Sr.unstable_LowPriority,cx=Sr.unstable_IdlePriority,hm=null,bi=null;function lL(t){if(bi&&typeof bi.onCommitFiberRoot=="function")try{bi.onCommitFiberRoot(hm,t,void 0,(t.current.flags&128)===128)}catch{}}var oi=Math.clz32?Math.clz32:dL,uL=Math.log,cL=Math.LN2;function dL(t){return t>>>=0,t===0?32:31-(uL(t)/cL|0)|0}var Fh=64,Vh=4194304;function sc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Qf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=sc(a):(s&=o,s!==0&&(r=sc(s)))}else o=n&~i,o!==0?r=sc(o):s!==0&&(r=sc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-oi(e),i=1<<n,r|=t[n],e&=~i;return r}function hL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-oi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=hL(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Kv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dx(){var t=Fh;return Fh<<=1,!(Fh&4194240)&&(Fh=64),t}function Ey(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-oi(e),t[e]=n}function pL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-oi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function J0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-oi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Je=0;function hx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fx,Z0,px,mx,gx,Gv=!1,Uh=[],Bs=null,zs=null,Ws=null,Qc=new Map,Yc=new Map,As=[],mL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xT(t,e){switch(t){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Qc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yc.delete(e.pointerId)}}function Pu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Wd(e),e!==null&&Z0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function gL(t,e,n,r,i){switch(e){case"focusin":return Bs=Pu(Bs,t,e,n,r,i),!0;case"dragenter":return zs=Pu(zs,t,e,n,r,i),!0;case"mouseover":return Ws=Pu(Ws,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Qc.set(s,Pu(Qc.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Yc.set(s,Pu(Yc.get(s)||null,t,e,n,r,i)),!0}return!1}function yx(t){var e=No(t.target);if(e!==null){var n=wa(e);if(n!==null){if(e=n.tag,e===13){if(e=sx(n),e!==null){t.blockedOn=e,gx(t.priority,function(){px(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zv=r,n.target.dispatchEvent(r),zv=null}else return e=Wd(n),e!==null&&Z0(e),t.blockedOn=n,!1;e.shift()}return!0}function PT(t,e,n){wf(t)&&n.delete(e)}function yL(){Gv=!1,Bs!==null&&wf(Bs)&&(Bs=null),zs!==null&&wf(zs)&&(zs=null),Ws!==null&&wf(Ws)&&(Ws=null),Qc.forEach(PT),Yc.forEach(PT)}function ku(t,e){t.blockedOn===e&&(t.blockedOn=null,Gv||(Gv=!0,Sr.unstable_scheduleCallback(Sr.unstable_NormalPriority,yL)))}function Xc(t){function e(i){return ku(i,t)}if(0<Uh.length){ku(Uh[0],t);for(var n=1;n<Uh.length;n++){var r=Uh[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Bs!==null&&ku(Bs,t),zs!==null&&ku(zs,t),Ws!==null&&ku(Ws,t),Qc.forEach(e),Yc.forEach(e),n=0;n<As.length;n++)r=As[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<As.length&&(n=As[0],n.blockedOn===null);)yx(n),n.blockedOn===null&&As.shift()}var ml=ys.ReactCurrentBatchConfig,Yf=!0;function vL(t,e,n,r){var i=Je,s=ml.transition;ml.transition=null;try{Je=1,e1(t,e,n,r)}finally{Je=i,ml.transition=s}}function _L(t,e,n,r){var i=Je,s=ml.transition;ml.transition=null;try{Je=4,e1(t,e,n,r)}finally{Je=i,ml.transition=s}}function e1(t,e,n,r){if(Yf){var i=Qv(t,e,n,r);if(i===null)Ay(t,e,r,Xf,n),xT(t,r);else if(gL(i,t,e,n,r))r.stopPropagation();else if(xT(t,r),e&4&&-1<mL.indexOf(t)){for(;i!==null;){var s=Wd(i);if(s!==null&&fx(s),s=Qv(t,e,n,r),s===null&&Ay(t,e,r,Xf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ay(t,e,r,null,n)}}var Xf=null;function Qv(t,e,n,r){if(Xf=null,t=Y0(r),t=No(t),t!==null)if(e=wa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Xf=t,null}function vx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oL()){case X0:return 1;case ux:return 4;case Gf:case aL:return 16;case cx:return 536870912;default:return 16}default:return 16}}var Fs=null,t1=null,Ef=null;function _x(){if(Ef)return Ef;var t,e=t1,n=e.length,r,i="value"in Fs?Fs.value:Fs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Ef=i.slice(t,1<r?1-r:void 0)}function Tf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jh(){return!0}function kT(){return!1}function br(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?jh:kT,this.isPropagationStopped=kT,this}return Ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jh)},persist:function(){},isPersistent:jh}),e}var nu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n1=br(nu),zd=Ot({},nu,{view:0,detail:0}),wL=br(zd),Ty,Sy,Au,fm=Ot({},zd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:r1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Au&&(Au&&t.type==="mousemove"?(Ty=t.screenX-Au.screenX,Sy=t.screenY-Au.screenY):Sy=Ty=0,Au=t),Ty)},movementY:function(t){return"movementY"in t?t.movementY:Sy}}),AT=br(fm),EL=Ot({},fm,{dataTransfer:0}),TL=br(EL),SL=Ot({},zd,{relatedTarget:0}),Cy=br(SL),CL=Ot({},nu,{animationName:0,elapsedTime:0,pseudoElement:0}),IL=br(CL),RL=Ot({},nu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bL=br(RL),xL=Ot({},nu,{data:0}),NT=br(xL),PL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=AL[t])?!!e[t]:!1}function r1(){return NL}var OL=Ot({},zd,{key:function(t){if(t.key){var e=PL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:r1,charCode:function(t){return t.type==="keypress"?Tf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ML=br(OL),DL=Ot({},fm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),OT=br(DL),LL=Ot({},zd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:r1}),$L=br(LL),FL=Ot({},nu,{propertyName:0,elapsedTime:0,pseudoElement:0}),VL=br(FL),UL=Ot({},fm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jL=br(UL),BL=[9,13,27,32],i1=as&&"CompositionEvent"in window,wc=null;as&&"documentMode"in document&&(wc=document.documentMode);var zL=as&&"TextEvent"in window&&!wc,wx=as&&(!i1||wc&&8<wc&&11>=wc),MT=" ",DT=!1;function Ex(t,e){switch(t){case"keyup":return BL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ya=!1;function WL(t,e){switch(t){case"compositionend":return Tx(e);case"keypress":return e.which!==32?null:(DT=!0,MT);case"textInput":return t=e.data,t===MT&&DT?null:t;default:return null}}function HL(t,e){if(Ya)return t==="compositionend"||!i1&&Ex(t,e)?(t=_x(),Ef=t1=Fs=null,Ya=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wx&&e.locale!=="ko"?null:e.data;default:return null}}var qL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function LT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qL[t.type]:e==="textarea"}function Sx(t,e,n,r){ex(r),e=Jf(e,"onChange"),0<e.length&&(n=new n1("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ec=null,Jc=null;function KL(t){Mx(t,0)}function pm(t){var e=Za(t);if(Kb(e))return t}function GL(t,e){if(t==="change")return e}var Cx=!1;if(as){var Iy;if(as){var Ry="oninput"in document;if(!Ry){var $T=document.createElement("div");$T.setAttribute("oninput","return;"),Ry=typeof $T.oninput=="function"}Iy=Ry}else Iy=!1;Cx=Iy&&(!document.documentMode||9<document.documentMode)}function FT(){Ec&&(Ec.detachEvent("onpropertychange",Ix),Jc=Ec=null)}function Ix(t){if(t.propertyName==="value"&&pm(Jc)){var e=[];Sx(e,Jc,t,Y0(t)),ix(KL,e)}}function QL(t,e,n){t==="focusin"?(FT(),Ec=e,Jc=n,Ec.attachEvent("onpropertychange",Ix)):t==="focusout"&&FT()}function YL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pm(Jc)}function XL(t,e){if(t==="click")return pm(e)}function JL(t,e){if(t==="input"||t==="change")return pm(e)}function ZL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ui=typeof Object.is=="function"?Object.is:ZL;function Zc(t,e){if(ui(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Av.call(e,i)||!ui(t[i],e[i]))return!1}return!0}function VT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function UT(t,e){var n=VT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=VT(n)}}function Rx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Rx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bx(){for(var t=window,e=Hf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hf(t.document)}return e}function s1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function e4(t){var e=bx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Rx(n.ownerDocument.documentElement,n)){if(r!==null&&s1(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=UT(n,s);var o=UT(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var t4=as&&"documentMode"in document&&11>=document.documentMode,Xa=null,Yv=null,Tc=null,Xv=!1;function jT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Xv||Xa==null||Xa!==Hf(r)||(r=Xa,"selectionStart"in r&&s1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tc&&Zc(Tc,r)||(Tc=r,r=Jf(Yv,"onSelect"),0<r.length&&(e=new n1("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xa)))}function Bh(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ja={animationend:Bh("Animation","AnimationEnd"),animationiteration:Bh("Animation","AnimationIteration"),animationstart:Bh("Animation","AnimationStart"),transitionend:Bh("Transition","TransitionEnd")},by={},xx={};as&&(xx=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function mm(t){if(by[t])return by[t];if(!Ja[t])return t;var e=Ja[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xx)return by[t]=e[n];return t}var Px=mm("animationend"),kx=mm("animationiteration"),Ax=mm("animationstart"),Nx=mm("transitionend"),Ox=new Map,BT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function co(t,e){Ox.set(t,e),_a(e,[t])}for(var xy=0;xy<BT.length;xy++){var Py=BT[xy],n4=Py.toLowerCase(),r4=Py[0].toUpperCase()+Py.slice(1);co(n4,"on"+r4)}co(Px,"onAnimationEnd");co(kx,"onAnimationIteration");co(Ax,"onAnimationStart");co("dblclick","onDoubleClick");co("focusin","onFocus");co("focusout","onBlur");co(Nx,"onTransitionEnd");bl("onMouseEnter",["mouseout","mouseover"]);bl("onMouseLeave",["mouseout","mouseover"]);bl("onPointerEnter",["pointerout","pointerover"]);bl("onPointerLeave",["pointerout","pointerover"]);_a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_a("onBeforeInput",["compositionend","keypress","textInput","paste"]);_a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),i4=new Set("cancel close invalid load scroll toggle".split(" ").concat(oc));function zT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,nL(r,e,void 0,t),t.currentTarget=null}function Mx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;zT(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;zT(i,a,u),s=l}}}if(Kf)throw t=qv,Kf=!1,qv=null,t}function ft(t,e){var n=e[n_];n===void 0&&(n=e[n_]=new Set);var r=t+"__bubble";n.has(r)||(Dx(e,t,2,!1),n.add(r))}function ky(t,e,n){var r=0;e&&(r|=4),Dx(n,t,r,e)}var zh="_reactListening"+Math.random().toString(36).slice(2);function ed(t){if(!t[zh]){t[zh]=!0,Bb.forEach(function(n){n!=="selectionchange"&&(i4.has(n)||ky(n,!1,t),ky(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zh]||(e[zh]=!0,ky("selectionchange",!1,e))}}function Dx(t,e,n,r){switch(vx(e)){case 1:var i=vL;break;case 4:i=_L;break;default:i=e1}n=i.bind(null,e,n,t),i=void 0,!Hv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ay(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=No(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}ix(function(){var u=s,c=Y0(n),d=[];e:{var h=Ox.get(t);if(h!==void 0){var f=n1,p=t;switch(t){case"keypress":if(Tf(n)===0)break e;case"keydown":case"keyup":f=ML;break;case"focusin":p="focus",f=Cy;break;case"focusout":p="blur",f=Cy;break;case"beforeblur":case"afterblur":f=Cy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=AT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=TL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=$L;break;case Px:case kx:case Ax:f=IL;break;case Nx:f=VL;break;case"scroll":f=wL;break;case"wheel":f=jL;break;case"copy":case"cut":case"paste":f=bL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=OT}var g=(e&4)!==0,E=!g&&t==="scroll",m=g?h!==null?h+"Capture":null:h;g=[];for(var y=u,v;y!==null;){v=y;var T=v.stateNode;if(v.tag===5&&T!==null&&(v=T,m!==null&&(T=Gc(y,m),T!=null&&g.push(td(y,T,v)))),E)break;y=y.return}0<g.length&&(h=new f(h,p,null,n,c),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==zv&&(p=n.relatedTarget||n.fromElement)&&(No(p)||p[ls]))break e;if((f||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?No(p):null,p!==null&&(E=wa(p),p!==E||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(g=AT,T="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=OT,T="onPointerLeave",m="onPointerEnter",y="pointer"),E=f==null?h:Za(f),v=p==null?h:Za(p),h=new g(T,y+"leave",f,n,c),h.target=E,h.relatedTarget=v,T=null,No(c)===u&&(g=new g(m,y+"enter",p,n,c),g.target=v,g.relatedTarget=E,T=g),E=T,f&&p)t:{for(g=f,m=p,y=0,v=g;v;v=Ma(v))y++;for(v=0,T=m;T;T=Ma(T))v++;for(;0<y-v;)g=Ma(g),y--;for(;0<v-y;)m=Ma(m),v--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=Ma(g),m=Ma(m)}g=null}else g=null;f!==null&&WT(d,h,f,g,!1),p!==null&&E!==null&&WT(d,E,p,g,!0)}}e:{if(h=u?Za(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var R=GL;else if(LT(h))if(Cx)R=JL;else{R=YL;var _=QL}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(R=XL);if(R&&(R=R(t,u))){Sx(d,R,n,c);break e}_&&_(t,h,u),t==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Fv(h,"number",h.value)}switch(_=u?Za(u):window,t){case"focusin":(LT(_)||_.contentEditable==="true")&&(Xa=_,Yv=u,Tc=null);break;case"focusout":Tc=Yv=Xa=null;break;case"mousedown":Xv=!0;break;case"contextmenu":case"mouseup":case"dragend":Xv=!1,jT(d,n,c);break;case"selectionchange":if(t4)break;case"keydown":case"keyup":jT(d,n,c)}var C;if(i1)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ya?Ex(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(wx&&n.locale!=="ko"&&(Ya||b!=="onCompositionStart"?b==="onCompositionEnd"&&Ya&&(C=_x()):(Fs=c,t1="value"in Fs?Fs.value:Fs.textContent,Ya=!0)),_=Jf(u,b),0<_.length&&(b=new NT(b,t,null,n,c),d.push({event:b,listeners:_}),C?b.data=C:(C=Tx(n),C!==null&&(b.data=C)))),(C=zL?WL(t,n):HL(t,n))&&(u=Jf(u,"onBeforeInput"),0<u.length&&(c=new NT("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=C))}Mx(d,e)})}function td(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Gc(t,n),s!=null&&r.unshift(td(t,s,i)),s=Gc(t,e),s!=null&&r.push(td(t,s,i))),t=t.return}return r}function Ma(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function WT(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=Gc(n,s),l!=null&&o.unshift(td(n,l,a))):i||(l=Gc(n,s),l!=null&&o.push(td(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var s4=/\r\n?/g,o4=/\u0000|\uFFFD/g;function HT(t){return(typeof t=="string"?t:""+t).replace(s4,`
`).replace(o4,"")}function Wh(t,e,n){if(e=HT(e),HT(t)!==e&&n)throw Error(W(425))}function Zf(){}var Jv=null,Zv=null;function e_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var t_=typeof setTimeout=="function"?setTimeout:void 0,a4=typeof clearTimeout=="function"?clearTimeout:void 0,qT=typeof Promise=="function"?Promise:void 0,l4=typeof queueMicrotask=="function"?queueMicrotask:typeof qT<"u"?function(t){return qT.resolve(null).then(t).catch(u4)}:t_;function u4(t){setTimeout(function(){throw t})}function Ny(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Xc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Xc(e)}function Hs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function KT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ru=Math.random().toString(36).slice(2),Ei="__reactFiber$"+ru,nd="__reactProps$"+ru,ls="__reactContainer$"+ru,n_="__reactEvents$"+ru,c4="__reactListeners$"+ru,d4="__reactHandles$"+ru;function No(t){var e=t[Ei];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ls]||n[Ei]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=KT(t);t!==null;){if(n=t[Ei])return n;t=KT(t)}return e}t=n,n=t.parentNode}return null}function Wd(t){return t=t[Ei]||t[ls],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Za(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function gm(t){return t[nd]||null}var r_=[],el=-1;function ho(t){return{current:t}}function vt(t){0>el||(t.current=r_[el],r_[el]=null,el--)}function ct(t,e){el++,r_[el]=t.current,t.current=e}var no={},Hn=ho(no),or=ho(!1),Xo=no;function xl(t,e){var n=t.type.contextTypes;if(!n)return no;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ar(t){return t=t.childContextTypes,t!=null}function ep(){vt(or),vt(Hn)}function GT(t,e,n){if(Hn.current!==no)throw Error(W(168));ct(Hn,e),ct(or,n)}function Lx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(W(108,QD(t)||"Unknown",i));return Ot({},n,r)}function tp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||no,Xo=Hn.current,ct(Hn,t),ct(or,or.current),!0}function QT(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=Lx(t,e,Xo),r.__reactInternalMemoizedMergedChildContext=t,vt(or),vt(Hn),ct(Hn,t)):vt(or),ct(or,n)}var Qi=null,ym=!1,Oy=!1;function $x(t){Qi===null?Qi=[t]:Qi.push(t)}function h4(t){ym=!0,$x(t)}function fo(){if(!Oy&&Qi!==null){Oy=!0;var t=0,e=Je;try{var n=Qi;for(Je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qi=null,ym=!1}catch(i){throw Qi!==null&&(Qi=Qi.slice(t+1)),lx(X0,fo),i}finally{Je=e,Oy=!1}}return null}var tl=[],nl=0,np=null,rp=0,Nr=[],Or=0,Jo=null,Xi=1,Ji="";function Co(t,e){tl[nl++]=rp,tl[nl++]=np,np=t,rp=e}function Fx(t,e,n){Nr[Or++]=Xi,Nr[Or++]=Ji,Nr[Or++]=Jo,Jo=t;var r=Xi;t=Ji;var i=32-oi(r)-1;r&=~(1<<i),n+=1;var s=32-oi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-oi(e)+i|n<<i|r,Ji=s+t}else Xi=1<<s|n<<i|r,Ji=t}function o1(t){t.return!==null&&(Co(t,1),Fx(t,1,0))}function a1(t){for(;t===np;)np=tl[--nl],tl[nl]=null,rp=tl[--nl],tl[nl]=null;for(;t===Jo;)Jo=Nr[--Or],Nr[Or]=null,Ji=Nr[--Or],Nr[Or]=null,Xi=Nr[--Or],Nr[Or]=null}var wr=null,yr=null,Rt=!1,ni=null;function Vx(t,e){var n=$r(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function YT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wr=t,yr=Hs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wr=t,yr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Jo!==null?{id:Xi,overflow:Ji}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$r(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wr=t,yr=null,!0):!1;default:return!1}}function i_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function s_(t){if(Rt){var e=yr;if(e){var n=e;if(!YT(t,e)){if(i_(t))throw Error(W(418));e=Hs(n.nextSibling);var r=wr;e&&YT(t,e)?Vx(r,n):(t.flags=t.flags&-4097|2,Rt=!1,wr=t)}}else{if(i_(t))throw Error(W(418));t.flags=t.flags&-4097|2,Rt=!1,wr=t}}}function XT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wr=t}function Hh(t){if(t!==wr)return!1;if(!Rt)return XT(t),Rt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!e_(t.type,t.memoizedProps)),e&&(e=yr)){if(i_(t))throw Ux(),Error(W(418));for(;e;)Vx(t,e),e=Hs(e.nextSibling)}if(XT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yr=Hs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yr=null}}else yr=wr?Hs(t.stateNode.nextSibling):null;return!0}function Ux(){for(var t=yr;t;)t=Hs(t.nextSibling)}function Pl(){yr=wr=null,Rt=!1}function l1(t){ni===null?ni=[t]:ni.push(t)}var f4=ys.ReactCurrentBatchConfig;function Zr(t,e){if(t&&t.defaultProps){e=Ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ip=ho(null),sp=null,rl=null,u1=null;function c1(){u1=rl=sp=null}function d1(t){var e=ip.current;vt(ip),t._currentValue=e}function o_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gl(t,e){sp=t,u1=rl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ir=!0),t.firstContext=null)}function Wr(t){var e=t._currentValue;if(u1!==t)if(t={context:t,memoizedValue:e,next:null},rl===null){if(sp===null)throw Error(W(308));rl=t,sp.dependencies={lanes:0,firstContext:t}}else rl=rl.next=t;return e}var Oo=null;function h1(t){Oo===null?Oo=[t]:Oo.push(t)}function jx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,h1(e)):(n.next=i.next,i.next=n),e.interleaved=n,us(t,r)}function us(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ks=!1;function f1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,He&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,us(t,n)}return i=r.interleaved,i===null?(e.next=e,h1(r)):(e.next=i.next,i.next=e),r.interleaved=e,us(t,n)}function Sf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,J0(t,n)}}function JT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function op(t,e,n,r){var i=t.updateQueue;ks=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(h=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=Ot({},d,h);break e;case 2:ks=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=d):c=c.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ea|=o,t.lanes=o,t.memoizedState=d}}function ZT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(W(191,i));i.call(r)}}}var zx=new jb.Component().refs;function a_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var vm={isMounted:function(t){return(t=t._reactInternals)?wa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yn(),i=Gs(t),s=rs(r,i);s.payload=e,n!=null&&(s.callback=n),e=qs(t,s,i),e!==null&&(ai(e,t,i,r),Sf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yn(),i=Gs(t),s=rs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=qs(t,s,i),e!==null&&(ai(e,t,i,r),Sf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yn(),r=Gs(t),i=rs(n,r);i.tag=2,e!=null&&(i.callback=e),e=qs(t,i,r),e!==null&&(ai(e,t,r,n),Sf(e,t,r))}};function eS(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Zc(n,r)||!Zc(i,s):!0}function Wx(t,e,n){var r=!1,i=no,s=e.contextType;return typeof s=="object"&&s!==null?s=Wr(s):(i=ar(e)?Xo:Hn.current,r=e.contextTypes,s=(r=r!=null)?xl(t,i):no),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=vm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function tS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&vm.enqueueReplaceState(e,e.state,null)}function l_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=zx,f1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Wr(s):(s=ar(e)?Xo:Hn.current,i.context=xl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(a_(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&vm.enqueueReplaceState(i,i.state,null),op(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Nu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===zx&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function qh(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function nS(t){var e=t._init;return e(t._payload)}function Hx(t){function e(m,y){if(t){var v=m.deletions;v===null?(m.deletions=[y],m.flags|=16):v.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Qs(m,y),m.index=0,m.sibling=null,m}function s(m,y,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<y?(m.flags|=2,y):v):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,y,v,T){return y===null||y.tag!==6?(y=Uy(v,m.mode,T),y.return=m,y):(y=i(y,v),y.return=m,y)}function l(m,y,v,T){var R=v.type;return R===Qa?c(m,y,v.props.children,T,v.key):y!==null&&(y.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ps&&nS(R)===y.type)?(T=i(y,v.props),T.ref=Nu(m,y,v),T.return=m,T):(T=Pf(v.type,v.key,v.props,null,m.mode,T),T.ref=Nu(m,y,v),T.return=m,T)}function u(m,y,v,T){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=jy(v,m.mode,T),y.return=m,y):(y=i(y,v.children||[]),y.return=m,y)}function c(m,y,v,T,R){return y===null||y.tag!==7?(y=Ho(v,m.mode,T,R),y.return=m,y):(y=i(y,v),y.return=m,y)}function d(m,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Uy(""+y,m.mode,v),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Dh:return v=Pf(y.type,y.key,y.props,null,m.mode,v),v.ref=Nu(m,null,y),v.return=m,v;case Ga:return y=jy(y,m.mode,v),y.return=m,y;case Ps:var T=y._init;return d(m,T(y._payload),v)}if(ic(y)||bu(y))return y=Ho(y,m.mode,v,null),y.return=m,y;qh(m,y)}return null}function h(m,y,v,T){var R=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return R!==null?null:a(m,y,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Dh:return v.key===R?l(m,y,v,T):null;case Ga:return v.key===R?u(m,y,v,T):null;case Ps:return R=v._init,h(m,y,R(v._payload),T)}if(ic(v)||bu(v))return R!==null?null:c(m,y,v,T,null);qh(m,v)}return null}function f(m,y,v,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return m=m.get(v)||null,a(y,m,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Dh:return m=m.get(T.key===null?v:T.key)||null,l(y,m,T,R);case Ga:return m=m.get(T.key===null?v:T.key)||null,u(y,m,T,R);case Ps:var _=T._init;return f(m,y,v,_(T._payload),R)}if(ic(T)||bu(T))return m=m.get(v)||null,c(y,m,T,R,null);qh(y,T)}return null}function p(m,y,v,T){for(var R=null,_=null,C=y,b=y=0,P=null;C!==null&&b<v.length;b++){C.index>b?(P=C,C=null):P=C.sibling;var x=h(m,C,v[b],T);if(x===null){C===null&&(C=P);break}t&&C&&x.alternate===null&&e(m,C),y=s(x,y,b),_===null?R=x:_.sibling=x,_=x,C=P}if(b===v.length)return n(m,C),Rt&&Co(m,b),R;if(C===null){for(;b<v.length;b++)C=d(m,v[b],T),C!==null&&(y=s(C,y,b),_===null?R=C:_.sibling=C,_=C);return Rt&&Co(m,b),R}for(C=r(m,C);b<v.length;b++)P=f(C,m,b,v[b],T),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?b:P.key),y=s(P,y,b),_===null?R=P:_.sibling=P,_=P);return t&&C.forEach(function(O){return e(m,O)}),Rt&&Co(m,b),R}function g(m,y,v,T){var R=bu(v);if(typeof R!="function")throw Error(W(150));if(v=R.call(v),v==null)throw Error(W(151));for(var _=R=null,C=y,b=y=0,P=null,x=v.next();C!==null&&!x.done;b++,x=v.next()){C.index>b?(P=C,C=null):P=C.sibling;var O=h(m,C,x.value,T);if(O===null){C===null&&(C=P);break}t&&C&&O.alternate===null&&e(m,C),y=s(O,y,b),_===null?R=O:_.sibling=O,_=O,C=P}if(x.done)return n(m,C),Rt&&Co(m,b),R;if(C===null){for(;!x.done;b++,x=v.next())x=d(m,x.value,T),x!==null&&(y=s(x,y,b),_===null?R=x:_.sibling=x,_=x);return Rt&&Co(m,b),R}for(C=r(m,C);!x.done;b++,x=v.next())x=f(C,m,b,x.value,T),x!==null&&(t&&x.alternate!==null&&C.delete(x.key===null?b:x.key),y=s(x,y,b),_===null?R=x:_.sibling=x,_=x);return t&&C.forEach(function($){return e(m,$)}),Rt&&Co(m,b),R}function E(m,y,v,T){if(typeof v=="object"&&v!==null&&v.type===Qa&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Dh:e:{for(var R=v.key,_=y;_!==null;){if(_.key===R){if(R=v.type,R===Qa){if(_.tag===7){n(m,_.sibling),y=i(_,v.props.children),y.return=m,m=y;break e}}else if(_.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Ps&&nS(R)===_.type){n(m,_.sibling),y=i(_,v.props),y.ref=Nu(m,_,v),y.return=m,m=y;break e}n(m,_);break}else e(m,_);_=_.sibling}v.type===Qa?(y=Ho(v.props.children,m.mode,T,v.key),y.return=m,m=y):(T=Pf(v.type,v.key,v.props,null,m.mode,T),T.ref=Nu(m,y,v),T.return=m,m=T)}return o(m);case Ga:e:{for(_=v.key;y!==null;){if(y.key===_)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(m,y.sibling),y=i(y,v.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=jy(v,m.mode,T),y.return=m,m=y}return o(m);case Ps:return _=v._init,E(m,y,_(v._payload),T)}if(ic(v))return p(m,y,v,T);if(bu(v))return g(m,y,v,T);qh(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,v),y.return=m,m=y):(n(m,y),y=Uy(v,m.mode,T),y.return=m,m=y),o(m)):n(m,y)}return E}var kl=Hx(!0),qx=Hx(!1),Hd={},xi=ho(Hd),rd=ho(Hd),id=ho(Hd);function Mo(t){if(t===Hd)throw Error(W(174));return t}function p1(t,e){switch(ct(id,e),ct(rd,t),ct(xi,Hd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Uv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Uv(e,t)}vt(xi),ct(xi,e)}function Al(){vt(xi),vt(rd),vt(id)}function Kx(t){Mo(id.current);var e=Mo(xi.current),n=Uv(e,t.type);e!==n&&(ct(rd,t),ct(xi,n))}function m1(t){rd.current===t&&(vt(xi),vt(rd))}var kt=ho(0);function ap(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var My=[];function g1(){for(var t=0;t<My.length;t++)My[t]._workInProgressVersionPrimary=null;My.length=0}var Cf=ys.ReactCurrentDispatcher,Dy=ys.ReactCurrentBatchConfig,Zo=0,Nt=null,on=null,hn=null,lp=!1,Sc=!1,sd=0,p4=0;function An(){throw Error(W(321))}function y1(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ui(t[n],e[n]))return!1;return!0}function v1(t,e,n,r,i,s){if(Zo=s,Nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cf.current=t===null||t.memoizedState===null?v4:_4,t=n(r,i),Sc){s=0;do{if(Sc=!1,sd=0,25<=s)throw Error(W(301));s+=1,hn=on=null,e.updateQueue=null,Cf.current=w4,t=n(r,i)}while(Sc)}if(Cf.current=up,e=on!==null&&on.next!==null,Zo=0,hn=on=Nt=null,lp=!1,e)throw Error(W(300));return t}function _1(){var t=sd!==0;return sd=0,t}function vi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Nt.memoizedState=hn=t:hn=hn.next=t,hn}function Hr(){if(on===null){var t=Nt.alternate;t=t!==null?t.memoizedState:null}else t=on.next;var e=hn===null?Nt.memoizedState:hn.next;if(e!==null)hn=e,on=t;else{if(t===null)throw Error(W(310));on=t,t={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},hn===null?Nt.memoizedState=hn=t:hn=hn.next=t}return hn}function od(t,e){return typeof e=="function"?e(t):e}function Ly(t){var e=Hr(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=on,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Zo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Nt.lanes|=c,ea|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,ui(r,e.memoizedState)||(ir=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Nt.lanes|=s,ea|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function $y(t){var e=Hr(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);ui(s,e.memoizedState)||(ir=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Gx(){}function Qx(t,e){var n=Nt,r=Hr(),i=e(),s=!ui(r.memoizedState,i);if(s&&(r.memoizedState=i,ir=!0),r=r.queue,w1(Jx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||hn!==null&&hn.memoizedState.tag&1){if(n.flags|=2048,ad(9,Xx.bind(null,n,r,i,e),void 0,null),gn===null)throw Error(W(349));Zo&30||Yx(n,e,i)}return i}function Yx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Nt.updateQueue,e===null?(e={lastEffect:null,stores:null},Nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Xx(t,e,n,r){e.value=n,e.getSnapshot=r,Zx(e)&&eP(t)}function Jx(t,e,n){return n(function(){Zx(e)&&eP(t)})}function Zx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ui(t,n)}catch{return!0}}function eP(t){var e=us(t,1);e!==null&&ai(e,t,1,-1)}function rS(t){var e=vi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:od,lastRenderedState:t},e.queue=t,t=t.dispatch=y4.bind(null,Nt,t),[e.memoizedState,t]}function ad(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Nt.updateQueue,e===null?(e={lastEffect:null,stores:null},Nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tP(){return Hr().memoizedState}function If(t,e,n,r){var i=vi();Nt.flags|=t,i.memoizedState=ad(1|e,n,void 0,r===void 0?null:r)}function _m(t,e,n,r){var i=Hr();r=r===void 0?null:r;var s=void 0;if(on!==null){var o=on.memoizedState;if(s=o.destroy,r!==null&&y1(r,o.deps)){i.memoizedState=ad(e,n,s,r);return}}Nt.flags|=t,i.memoizedState=ad(1|e,n,s,r)}function iS(t,e){return If(8390656,8,t,e)}function w1(t,e){return _m(2048,8,t,e)}function nP(t,e){return _m(4,2,t,e)}function rP(t,e){return _m(4,4,t,e)}function iP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sP(t,e,n){return n=n!=null?n.concat([t]):null,_m(4,4,iP.bind(null,e,t),n)}function E1(){}function oP(t,e){var n=Hr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&y1(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function aP(t,e){var n=Hr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&y1(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lP(t,e,n){return Zo&21?(ui(n,e)||(n=dx(),Nt.lanes|=n,ea|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ir=!0),t.memoizedState=n)}function m4(t,e){var n=Je;Je=n!==0&&4>n?n:4,t(!0);var r=Dy.transition;Dy.transition={};try{t(!1),e()}finally{Je=n,Dy.transition=r}}function uP(){return Hr().memoizedState}function g4(t,e,n){var r=Gs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cP(t))dP(e,n);else if(n=jx(t,e,n,r),n!==null){var i=Yn();ai(n,t,r,i),hP(n,e,r)}}function y4(t,e,n){var r=Gs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cP(t))dP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ui(a,o)){var l=e.interleaved;l===null?(i.next=i,h1(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=jx(t,e,i,r),n!==null&&(i=Yn(),ai(n,t,r,i),hP(n,e,r))}}function cP(t){var e=t.alternate;return t===Nt||e!==null&&e===Nt}function dP(t,e){Sc=lp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hP(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,J0(t,n)}}var up={readContext:Wr,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},v4={readContext:Wr,useCallback:function(t,e){return vi().memoizedState=[t,e===void 0?null:e],t},useContext:Wr,useEffect:iS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,If(4194308,4,iP.bind(null,e,t),n)},useLayoutEffect:function(t,e){return If(4194308,4,t,e)},useInsertionEffect:function(t,e){return If(4,2,t,e)},useMemo:function(t,e){var n=vi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=g4.bind(null,Nt,t),[r.memoizedState,t]},useRef:function(t){var e=vi();return t={current:t},e.memoizedState=t},useState:rS,useDebugValue:E1,useDeferredValue:function(t){return vi().memoizedState=t},useTransition:function(){var t=rS(!1),e=t[0];return t=m4.bind(null,t[1]),vi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Nt,i=vi();if(Rt){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),gn===null)throw Error(W(349));Zo&30||Yx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,iS(Jx.bind(null,r,s,t),[t]),r.flags|=2048,ad(9,Xx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=vi(),e=gn.identifierPrefix;if(Rt){var n=Ji,r=Xi;n=(r&~(1<<32-oi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=sd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=p4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_4={readContext:Wr,useCallback:oP,useContext:Wr,useEffect:w1,useImperativeHandle:sP,useInsertionEffect:nP,useLayoutEffect:rP,useMemo:aP,useReducer:Ly,useRef:tP,useState:function(){return Ly(od)},useDebugValue:E1,useDeferredValue:function(t){var e=Hr();return lP(e,on.memoizedState,t)},useTransition:function(){var t=Ly(od)[0],e=Hr().memoizedState;return[t,e]},useMutableSource:Gx,useSyncExternalStore:Qx,useId:uP,unstable_isNewReconciler:!1},w4={readContext:Wr,useCallback:oP,useContext:Wr,useEffect:w1,useImperativeHandle:sP,useInsertionEffect:nP,useLayoutEffect:rP,useMemo:aP,useReducer:$y,useRef:tP,useState:function(){return $y(od)},useDebugValue:E1,useDeferredValue:function(t){var e=Hr();return on===null?e.memoizedState=t:lP(e,on.memoizedState,t)},useTransition:function(){var t=$y(od)[0],e=Hr().memoizedState;return[t,e]},useMutableSource:Gx,useSyncExternalStore:Qx,useId:uP,unstable_isNewReconciler:!1};function Nl(t,e){try{var n="",r=e;do n+=GD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Fy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function u_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var E4=typeof WeakMap=="function"?WeakMap:Map;function fP(t,e,n){n=rs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){dp||(dp=!0,__=r),u_(t,e)},n}function pP(t,e,n){n=rs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){u_(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){u_(t,e),typeof r!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function sS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new E4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=D4.bind(null,t,e,n),e.then(t,t))}function oS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function aS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rs(-1,1),e.tag=2,qs(n,e,1))),n.lanes|=1),t)}var T4=ys.ReactCurrentOwner,ir=!1;function Gn(t,e,n,r){e.child=t===null?qx(e,null,n,r):kl(e,t.child,n,r)}function lS(t,e,n,r,i){n=n.render;var s=e.ref;return gl(e,i),r=v1(t,e,n,r,s,i),n=_1(),t!==null&&!ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cs(t,e,i)):(Rt&&n&&o1(e),e.flags|=1,Gn(t,e,r,i),e.child)}function uS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!P1(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,mP(t,e,s,r,i)):(t=Pf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Zc,n(o,r)&&t.ref===e.ref)return cs(t,e,i)}return e.flags|=1,t=Qs(s,r),t.ref=e.ref,t.return=e,e.child=t}function mP(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Zc(s,r)&&t.ref===e.ref)if(ir=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ir=!0);else return e.lanes=t.lanes,cs(t,e,i)}return c_(t,e,n,r,i)}function gP(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ct(sl,mr),mr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ct(sl,mr),mr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ct(sl,mr),mr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ct(sl,mr),mr|=r;return Gn(t,e,i,n),e.child}function yP(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function c_(t,e,n,r,i){var s=ar(n)?Xo:Hn.current;return s=xl(e,s),gl(e,i),n=v1(t,e,n,r,s,i),r=_1(),t!==null&&!ir?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cs(t,e,i)):(Rt&&r&&o1(e),e.flags|=1,Gn(t,e,n,i),e.child)}function cS(t,e,n,r,i){if(ar(n)){var s=!0;tp(e)}else s=!1;if(gl(e,i),e.stateNode===null)Rf(t,e),Wx(e,n,r),l_(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wr(u):(u=ar(n)?Xo:Hn.current,u=xl(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&tS(e,o,r,u),ks=!1;var h=e.memoizedState;o.state=h,op(e,r,o,i),l=e.memoizedState,a!==r||h!==l||or.current||ks?(typeof c=="function"&&(a_(e,n,c,r),l=e.memoizedState),(a=ks||eS(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Bx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Zr(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wr(l):(l=ar(n)?Xo:Hn.current,l=xl(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&tS(e,o,r,l),ks=!1,h=e.memoizedState,o.state=h,op(e,r,o,i);var p=e.memoizedState;a!==d||h!==p||or.current||ks?(typeof f=="function"&&(a_(e,n,f,r),p=e.memoizedState),(u=ks||eS(e,n,u,r,h,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return d_(t,e,n,r,s,i)}function d_(t,e,n,r,i,s){yP(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&QT(e,n,!1),cs(t,e,s);r=e.stateNode,T4.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=kl(e,t.child,null,s),e.child=kl(e,null,a,s)):Gn(t,e,a,s),e.memoizedState=r.state,i&&QT(e,n,!0),e.child}function vP(t){var e=t.stateNode;e.pendingContext?GT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&GT(t,e.context,!1),p1(t,e.containerInfo)}function dS(t,e,n,r,i){return Pl(),l1(i),e.flags|=256,Gn(t,e,n,r),e.child}var h_={dehydrated:null,treeContext:null,retryLane:0};function f_(t){return{baseLanes:t,cachePool:null,transitions:null}}function _P(t,e,n){var r=e.pendingProps,i=kt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ct(kt,i&1),t===null)return s_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Tm(o,r,0,null),t=Ho(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=f_(n),e.memoizedState=h_,t):T1(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return S4(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Qs(a,s):(s=Ho(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?f_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=h_,r}return s=t.child,t=s.sibling,r=Qs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function T1(t,e){return e=Tm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Kh(t,e,n,r){return r!==null&&l1(r),kl(e,t.child,null,n),t=T1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function S4(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Fy(Error(W(422))),Kh(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Tm({mode:"visible",children:r.children},i,0,null),s=Ho(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&kl(e,t.child,null,o),e.child.memoizedState=f_(o),e.memoizedState=h_,s);if(!(e.mode&1))return Kh(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(W(419)),r=Fy(s,r,void 0),Kh(t,e,o,r)}if(a=(o&t.childLanes)!==0,ir||a){if(r=gn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,us(t,i),ai(r,t,i,-1))}return x1(),r=Fy(Error(W(421))),Kh(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=L4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,yr=Hs(i.nextSibling),wr=e,Rt=!0,ni=null,t!==null&&(Nr[Or++]=Xi,Nr[Or++]=Ji,Nr[Or++]=Jo,Xi=t.id,Ji=t.overflow,Jo=e),e=T1(e,r.children),e.flags|=4096,e)}function hS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),o_(t.return,e,n)}function Vy(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function wP(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Gn(t,e,r.children,n),r=kt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hS(t,n,e);else if(t.tag===19)hS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ct(kt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ap(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Vy(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ap(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Vy(e,!0,n,null,s);break;case"together":Vy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Rf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ea|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=Qs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function C4(t,e,n){switch(e.tag){case 3:vP(e),Pl();break;case 5:Kx(e);break;case 1:ar(e.type)&&tp(e);break;case 4:p1(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ct(ip,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ct(kt,kt.current&1),e.flags|=128,null):n&e.child.childLanes?_P(t,e,n):(ct(kt,kt.current&1),t=cs(t,e,n),t!==null?t.sibling:null);ct(kt,kt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wP(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ct(kt,kt.current),r)break;return null;case 22:case 23:return e.lanes=0,gP(t,e,n)}return cs(t,e,n)}var EP,p_,TP,SP;EP=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};p_=function(){};TP=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Mo(xi.current);var s=null;switch(n){case"input":i=Lv(t,i),r=Lv(t,r),s=[];break;case"select":i=Ot({},i,{value:void 0}),r=Ot({},r,{value:void 0}),s=[];break;case"textarea":i=Vv(t,i),r=Vv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Zf)}jv(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(qc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(qc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ft("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};SP=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ou(t,e){if(!Rt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function I4(t,e,n){var r=e.pendingProps;switch(a1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(e),null;case 1:return ar(e.type)&&ep(),Nn(e),null;case 3:return r=e.stateNode,Al(),vt(or),vt(Hn),g1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ni!==null&&(T_(ni),ni=null))),p_(t,e),Nn(e),null;case 5:m1(e);var i=Mo(id.current);if(n=e.type,t!==null&&e.stateNode!=null)TP(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Nn(e),null}if(t=Mo(xi.current),Hh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ei]=e,r[nd]=s,t=(e.mode&1)!==0,n){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(i=0;i<oc.length;i++)ft(oc[i],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":ET(r,s),ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ft("invalid",r);break;case"textarea":ST(r,s),ft("invalid",r)}jv(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Wh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Wh(r.textContent,a,t),i=["children",""+a]):qc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ft("scroll",r)}switch(n){case"input":Lh(r),TT(r,s,!0);break;case"textarea":Lh(r),CT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Zf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Yb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ei]=e,t[nd]=r,EP(t,e,!1,!1),e.stateNode=t;e:{switch(o=Bv(n,r),n){case"dialog":ft("cancel",t),ft("close",t),i=r;break;case"iframe":case"object":case"embed":ft("load",t),i=r;break;case"video":case"audio":for(i=0;i<oc.length;i++)ft(oc[i],t);i=r;break;case"source":ft("error",t),i=r;break;case"img":case"image":case"link":ft("error",t),ft("load",t),i=r;break;case"details":ft("toggle",t),i=r;break;case"input":ET(t,r),i=Lv(t,r),ft("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ot({},r,{value:void 0}),ft("invalid",t);break;case"textarea":ST(t,r),i=Vv(t,r),ft("invalid",t);break;default:i=r}jv(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Zb(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Xb(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Kc(t,l):typeof l=="number"&&Kc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(qc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ft("scroll",t):l!=null&&q0(t,s,l,o))}switch(n){case"input":Lh(t),TT(t,r,!1);break;case"textarea":Lh(t),CT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+to(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?hl(t,!!r.multiple,s,!1):r.defaultValue!=null&&hl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Zf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nn(e),null;case 6:if(t&&e.stateNode!=null)SP(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Mo(id.current),Mo(xi.current),Hh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ei]=e,(s=r.nodeValue!==n)&&(t=wr,t!==null))switch(t.tag){case 3:Wh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ei]=e,e.stateNode=r}return Nn(e),null;case 13:if(vt(kt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Rt&&yr!==null&&e.mode&1&&!(e.flags&128))Ux(),Pl(),e.flags|=98560,s=!1;else if(s=Hh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(W(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(W(317));s[Ei]=e}else Pl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nn(e),s=!1}else ni!==null&&(T_(ni),ni=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||kt.current&1?an===0&&(an=3):x1())),e.updateQueue!==null&&(e.flags|=4),Nn(e),null);case 4:return Al(),p_(t,e),t===null&&ed(e.stateNode.containerInfo),Nn(e),null;case 10:return d1(e.type._context),Nn(e),null;case 17:return ar(e.type)&&ep(),Nn(e),null;case 19:if(vt(kt),s=e.memoizedState,s===null)return Nn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ou(s,!1);else{if(an!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ap(t),o!==null){for(e.flags|=128,Ou(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ct(kt,kt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ht()>Ol&&(e.flags|=128,r=!0,Ou(s,!1),e.lanes=4194304)}else{if(!r)if(t=ap(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ou(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Rt)return Nn(e),null}else 2*Ht()-s.renderingStartTime>Ol&&n!==1073741824&&(e.flags|=128,r=!0,Ou(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ht(),e.sibling=null,n=kt.current,ct(kt,r?n&1|2:n&1),e):(Nn(e),null);case 22:case 23:return b1(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?mr&1073741824&&(Nn(e),e.subtreeFlags&6&&(e.flags|=8192)):Nn(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function R4(t,e){switch(a1(e),e.tag){case 1:return ar(e.type)&&ep(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Al(),vt(or),vt(Hn),g1(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return m1(e),null;case 13:if(vt(kt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Pl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return vt(kt),null;case 4:return Al(),null;case 10:return d1(e.type._context),null;case 22:case 23:return b1(),null;case 24:return null;default:return null}}var Gh=!1,$n=!1,b4=typeof WeakSet=="function"?WeakSet:Set,J=null;function il(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ut(t,e,r)}else n.current=null}function m_(t,e,n){try{n()}catch(r){Ut(t,e,r)}}var fS=!1;function x4(t,e){if(Jv=Yf,t=bx(),s1(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zv={focusedElem:t,selectionRange:n},Yf=!1,J=e;J!==null;)if(e=J,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,J=t;else for(;J!==null;){e=J;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,E=p.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:Zr(e.type,g),E);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(T){Ut(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,J=t;break}J=e.return}return p=fS,fS=!1,p}function Cc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&m_(e,n,s)}i=i.next}while(i!==r)}}function wm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function g_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function CP(t){var e=t.alternate;e!==null&&(t.alternate=null,CP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ei],delete e[nd],delete e[n_],delete e[c4],delete e[d4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IP(t){return t.tag===5||t.tag===3||t.tag===4}function pS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function y_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Zf));else if(r!==4&&(t=t.child,t!==null))for(y_(t,e,n),t=t.sibling;t!==null;)y_(t,e,n),t=t.sibling}function v_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(v_(t,e,n),t=t.sibling;t!==null;)v_(t,e,n),t=t.sibling}var Tn=null,ei=!1;function Cs(t,e,n){for(n=n.child;n!==null;)RP(t,e,n),n=n.sibling}function RP(t,e,n){if(bi&&typeof bi.onCommitFiberUnmount=="function")try{bi.onCommitFiberUnmount(hm,n)}catch{}switch(n.tag){case 5:$n||il(n,e);case 6:var r=Tn,i=ei;Tn=null,Cs(t,e,n),Tn=r,ei=i,Tn!==null&&(ei?(t=Tn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Tn.removeChild(n.stateNode));break;case 18:Tn!==null&&(ei?(t=Tn,n=n.stateNode,t.nodeType===8?Ny(t.parentNode,n):t.nodeType===1&&Ny(t,n),Xc(t)):Ny(Tn,n.stateNode));break;case 4:r=Tn,i=ei,Tn=n.stateNode.containerInfo,ei=!0,Cs(t,e,n),Tn=r,ei=i;break;case 0:case 11:case 14:case 15:if(!$n&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&m_(n,e,o),i=i.next}while(i!==r)}Cs(t,e,n);break;case 1:if(!$n&&(il(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ut(n,e,a)}Cs(t,e,n);break;case 21:Cs(t,e,n);break;case 22:n.mode&1?($n=(r=$n)||n.memoizedState!==null,Cs(t,e,n),$n=r):Cs(t,e,n);break;default:Cs(t,e,n)}}function mS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new b4),e.forEach(function(r){var i=$4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Tn=a.stateNode,ei=!1;break e;case 3:Tn=a.stateNode.containerInfo,ei=!0;break e;case 4:Tn=a.stateNode.containerInfo,ei=!0;break e}a=a.return}if(Tn===null)throw Error(W(160));RP(s,o,i),Tn=null,ei=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Ut(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bP(e,t),e=e.sibling}function bP(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jr(e,t),yi(t),r&4){try{Cc(3,t,t.return),wm(3,t)}catch(g){Ut(t,t.return,g)}try{Cc(5,t,t.return)}catch(g){Ut(t,t.return,g)}}break;case 1:Jr(e,t),yi(t),r&512&&n!==null&&il(n,n.return);break;case 5:if(Jr(e,t),yi(t),r&512&&n!==null&&il(n,n.return),t.flags&32){var i=t.stateNode;try{Kc(i,"")}catch(g){Ut(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Gb(i,s),Bv(a,o);var u=Bv(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?Zb(i,d):c==="dangerouslySetInnerHTML"?Xb(i,d):c==="children"?Kc(i,d):q0(i,c,d,u)}switch(a){case"input":$v(i,s);break;case"textarea":Qb(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?hl(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?hl(i,!!s.multiple,s.defaultValue,!0):hl(i,!!s.multiple,s.multiple?[]:"",!1))}i[nd]=s}catch(g){Ut(t,t.return,g)}}break;case 6:if(Jr(e,t),yi(t),r&4){if(t.stateNode===null)throw Error(W(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Ut(t,t.return,g)}}break;case 3:if(Jr(e,t),yi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xc(e.containerInfo)}catch(g){Ut(t,t.return,g)}break;case 4:Jr(e,t),yi(t);break;case 13:Jr(e,t),yi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(I1=Ht())),r&4&&mS(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?($n=(u=$n)||c,Jr(e,t),$n=u):Jr(e,t),yi(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(J=t,c=t.child;c!==null;){for(d=J=c;J!==null;){switch(h=J,f=h.child,h.tag){case 0:case 11:case 14:case 15:Cc(4,h,h.return);break;case 1:il(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Ut(r,n,g)}}break;case 5:il(h,h.return);break;case 22:if(h.memoizedState!==null){yS(d);continue}}f!==null?(f.return=h,J=f):yS(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Jb("display",o))}catch(g){Ut(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Ut(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Jr(e,t),yi(t),r&4&&mS(t);break;case 21:break;default:Jr(e,t),yi(t)}}function yi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(IP(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Kc(i,""),r.flags&=-33);var s=pS(t);v_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=pS(t);y_(t,a,o);break;default:throw Error(W(161))}}catch(l){Ut(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function P4(t,e,n){J=t,xP(t)}function xP(t,e,n){for(var r=(t.mode&1)!==0;J!==null;){var i=J,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Gh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||$n;a=Gh;var u=$n;if(Gh=o,($n=l)&&!u)for(J=i;J!==null;)o=J,l=o.child,o.tag===22&&o.memoizedState!==null?vS(i):l!==null?(l.return=o,J=l):vS(i);for(;s!==null;)J=s,xP(s),s=s.sibling;J=i,Gh=a,$n=u}gS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,J=s):gS(t)}}function gS(t){for(;J!==null;){var e=J;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$n||wm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!$n)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Zr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ZT(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ZT(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Xc(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}$n||e.flags&512&&g_(e)}catch(h){Ut(e,e.return,h)}}if(e===t){J=null;break}if(n=e.sibling,n!==null){n.return=e.return,J=n;break}J=e.return}}function yS(t){for(;J!==null;){var e=J;if(e===t){J=null;break}var n=e.sibling;if(n!==null){n.return=e.return,J=n;break}J=e.return}}function vS(t){for(;J!==null;){var e=J;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wm(4,e)}catch(l){Ut(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ut(e,i,l)}}var s=e.return;try{g_(e)}catch(l){Ut(e,s,l)}break;case 5:var o=e.return;try{g_(e)}catch(l){Ut(e,o,l)}}}catch(l){Ut(e,e.return,l)}if(e===t){J=null;break}var a=e.sibling;if(a!==null){a.return=e.return,J=a;break}J=e.return}}var k4=Math.ceil,cp=ys.ReactCurrentDispatcher,S1=ys.ReactCurrentOwner,Ur=ys.ReactCurrentBatchConfig,He=0,gn=null,Jt=null,bn=0,mr=0,sl=ho(0),an=0,ld=null,ea=0,Em=0,C1=0,Ic=null,nr=null,I1=0,Ol=1/0,Gi=null,dp=!1,__=null,Ks=null,Qh=!1,Vs=null,hp=0,Rc=0,w_=null,bf=-1,xf=0;function Yn(){return He&6?Ht():bf!==-1?bf:bf=Ht()}function Gs(t){return t.mode&1?He&2&&bn!==0?bn&-bn:f4.transition!==null?(xf===0&&(xf=dx()),xf):(t=Je,t!==0||(t=window.event,t=t===void 0?16:vx(t.type)),t):1}function ai(t,e,n,r){if(50<Rc)throw Rc=0,w_=null,Error(W(185));Bd(t,n,r),(!(He&2)||t!==gn)&&(t===gn&&(!(He&2)&&(Em|=n),an===4&&Ns(t,bn)),lr(t,r),n===1&&He===0&&!(e.mode&1)&&(Ol=Ht()+500,ym&&fo()))}function lr(t,e){var n=t.callbackNode;fL(t,e);var r=Qf(t,t===gn?bn:0);if(r===0)n!==null&&bT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&bT(n),e===1)t.tag===0?h4(_S.bind(null,t)):$x(_S.bind(null,t)),l4(function(){!(He&6)&&fo()}),n=null;else{switch(hx(r)){case 1:n=X0;break;case 4:n=ux;break;case 16:n=Gf;break;case 536870912:n=cx;break;default:n=Gf}n=LP(n,PP.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function PP(t,e){if(bf=-1,xf=0,He&6)throw Error(W(327));var n=t.callbackNode;if(yl()&&t.callbackNode!==n)return null;var r=Qf(t,t===gn?bn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=fp(t,r);else{e=r;var i=He;He|=2;var s=AP();(gn!==t||bn!==e)&&(Gi=null,Ol=Ht()+500,Wo(t,e));do try{O4();break}catch(a){kP(t,a)}while(!0);c1(),cp.current=s,He=i,Jt!==null?e=0:(gn=null,bn=0,e=an)}if(e!==0){if(e===2&&(i=Kv(t),i!==0&&(r=i,e=E_(t,i))),e===1)throw n=ld,Wo(t,0),Ns(t,r),lr(t,Ht()),n;if(e===6)Ns(t,r);else{if(i=t.current.alternate,!(r&30)&&!A4(i)&&(e=fp(t,r),e===2&&(s=Kv(t),s!==0&&(r=s,e=E_(t,s))),e===1))throw n=ld,Wo(t,0),Ns(t,r),lr(t,Ht()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Io(t,nr,Gi);break;case 3:if(Ns(t,r),(r&130023424)===r&&(e=I1+500-Ht(),10<e)){if(Qf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=t_(Io.bind(null,t,nr,Gi),e);break}Io(t,nr,Gi);break;case 4:if(Ns(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-oi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*k4(r/1960))-r,10<r){t.timeoutHandle=t_(Io.bind(null,t,nr,Gi),r);break}Io(t,nr,Gi);break;case 5:Io(t,nr,Gi);break;default:throw Error(W(329))}}}return lr(t,Ht()),t.callbackNode===n?PP.bind(null,t):null}function E_(t,e){var n=Ic;return t.current.memoizedState.isDehydrated&&(Wo(t,e).flags|=256),t=fp(t,e),t!==2&&(e=nr,nr=n,e!==null&&T_(e)),t}function T_(t){nr===null?nr=t:nr.push.apply(nr,t)}function A4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ui(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ns(t,e){for(e&=~C1,e&=~Em,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oi(e),r=1<<n;t[n]=-1,e&=~r}}function _S(t){if(He&6)throw Error(W(327));yl();var e=Qf(t,0);if(!(e&1))return lr(t,Ht()),null;var n=fp(t,e);if(t.tag!==0&&n===2){var r=Kv(t);r!==0&&(e=r,n=E_(t,r))}if(n===1)throw n=ld,Wo(t,0),Ns(t,e),lr(t,Ht()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Io(t,nr,Gi),lr(t,Ht()),null}function R1(t,e){var n=He;He|=1;try{return t(e)}finally{He=n,He===0&&(Ol=Ht()+500,ym&&fo())}}function ta(t){Vs!==null&&Vs.tag===0&&!(He&6)&&yl();var e=He;He|=1;var n=Ur.transition,r=Je;try{if(Ur.transition=null,Je=1,t)return t()}finally{Je=r,Ur.transition=n,He=e,!(He&6)&&fo()}}function b1(){mr=sl.current,vt(sl)}function Wo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,a4(n)),Jt!==null)for(n=Jt.return;n!==null;){var r=n;switch(a1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ep();break;case 3:Al(),vt(or),vt(Hn),g1();break;case 5:m1(r);break;case 4:Al();break;case 13:vt(kt);break;case 19:vt(kt);break;case 10:d1(r.type._context);break;case 22:case 23:b1()}n=n.return}if(gn=t,Jt=t=Qs(t.current,null),bn=mr=e,an=0,ld=null,C1=Em=ea=0,nr=Ic=null,Oo!==null){for(e=0;e<Oo.length;e++)if(n=Oo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Oo=null}return t}function kP(t,e){do{var n=Jt;try{if(c1(),Cf.current=up,lp){for(var r=Nt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lp=!1}if(Zo=0,hn=on=Nt=null,Sc=!1,sd=0,S1.current=null,n===null||n.return===null){an=1,ld=e,Jt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=bn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=oS(o);if(f!==null){f.flags&=-257,aS(f,o,a,s,e),f.mode&1&&sS(s,u,e),e=f,l=u;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){sS(s,u,e),x1();break e}l=Error(W(426))}}else if(Rt&&a.mode&1){var E=oS(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),aS(E,o,a,s,e),l1(Nl(l,a));break e}}s=l=Nl(l,a),an!==4&&(an=2),Ic===null?Ic=[s]:Ic.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=fP(s,l,e);JT(s,m);break e;case 1:a=l;var y=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Ks===null||!Ks.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=pP(s,a,e);JT(s,T);break e}}s=s.return}while(s!==null)}OP(n)}catch(R){e=R,Jt===n&&n!==null&&(Jt=n=n.return);continue}break}while(!0)}function AP(){var t=cp.current;return cp.current=up,t===null?up:t}function x1(){(an===0||an===3||an===2)&&(an=4),gn===null||!(ea&268435455)&&!(Em&268435455)||Ns(gn,bn)}function fp(t,e){var n=He;He|=2;var r=AP();(gn!==t||bn!==e)&&(Gi=null,Wo(t,e));do try{N4();break}catch(i){kP(t,i)}while(!0);if(c1(),He=n,cp.current=r,Jt!==null)throw Error(W(261));return gn=null,bn=0,an}function N4(){for(;Jt!==null;)NP(Jt)}function O4(){for(;Jt!==null&&!iL();)NP(Jt)}function NP(t){var e=DP(t.alternate,t,mr);t.memoizedProps=t.pendingProps,e===null?OP(t):Jt=e,S1.current=null}function OP(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=R4(n,e),n!==null){n.flags&=32767,Jt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{an=6,Jt=null;return}}else if(n=I4(n,e,mr),n!==null){Jt=n;return}if(e=e.sibling,e!==null){Jt=e;return}Jt=e=t}while(e!==null);an===0&&(an=5)}function Io(t,e,n){var r=Je,i=Ur.transition;try{Ur.transition=null,Je=1,M4(t,e,n,r)}finally{Ur.transition=i,Je=r}return null}function M4(t,e,n,r){do yl();while(Vs!==null);if(He&6)throw Error(W(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(pL(t,s),t===gn&&(Jt=gn=null,bn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Qh||(Qh=!0,LP(Gf,function(){return yl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ur.transition,Ur.transition=null;var o=Je;Je=1;var a=He;He|=4,S1.current=null,x4(t,n),bP(n,t),e4(Zv),Yf=!!Jv,Zv=Jv=null,t.current=n,P4(n),sL(),He=a,Je=o,Ur.transition=s}else t.current=n;if(Qh&&(Qh=!1,Vs=t,hp=i),s=t.pendingLanes,s===0&&(Ks=null),lL(n.stateNode),lr(t,Ht()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(dp)throw dp=!1,t=__,__=null,t;return hp&1&&t.tag!==0&&yl(),s=t.pendingLanes,s&1?t===w_?Rc++:(Rc=0,w_=t):Rc=0,fo(),null}function yl(){if(Vs!==null){var t=hx(hp),e=Ur.transition,n=Je;try{if(Ur.transition=null,Je=16>t?16:t,Vs===null)var r=!1;else{if(t=Vs,Vs=null,hp=0,He&6)throw Error(W(331));var i=He;for(He|=4,J=t.current;J!==null;){var s=J,o=s.child;if(J.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(J=u;J!==null;){var c=J;switch(c.tag){case 0:case 11:case 15:Cc(8,c,s)}var d=c.child;if(d!==null)d.return=c,J=d;else for(;J!==null;){c=J;var h=c.sibling,f=c.return;if(CP(c),c===u){J=null;break}if(h!==null){h.return=f,J=h;break}J=f}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}J=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,J=o;else e:for(;J!==null;){if(s=J,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Cc(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,J=m;break e}J=s.return}}var y=t.current;for(J=y;J!==null;){o=J;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,J=v;else e:for(o=y;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wm(9,a)}}catch(R){Ut(a,a.return,R)}if(a===o){J=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,J=T;break e}J=a.return}}if(He=i,fo(),bi&&typeof bi.onPostCommitFiberRoot=="function")try{bi.onPostCommitFiberRoot(hm,t)}catch{}r=!0}return r}finally{Je=n,Ur.transition=e}}return!1}function wS(t,e,n){e=Nl(n,e),e=fP(t,e,1),t=qs(t,e,1),e=Yn(),t!==null&&(Bd(t,1,e),lr(t,e))}function Ut(t,e,n){if(t.tag===3)wS(t,t,n);else for(;e!==null;){if(e.tag===3){wS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ks===null||!Ks.has(r))){t=Nl(n,t),t=pP(e,t,1),e=qs(e,t,1),t=Yn(),e!==null&&(Bd(e,1,t),lr(e,t));break}}e=e.return}}function D4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yn(),t.pingedLanes|=t.suspendedLanes&n,gn===t&&(bn&n)===n&&(an===4||an===3&&(bn&130023424)===bn&&500>Ht()-I1?Wo(t,0):C1|=n),lr(t,e)}function MP(t,e){e===0&&(t.mode&1?(e=Vh,Vh<<=1,!(Vh&130023424)&&(Vh=4194304)):e=1);var n=Yn();t=us(t,e),t!==null&&(Bd(t,e,n),lr(t,n))}function L4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),MP(t,n)}function $4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),MP(t,n)}var DP;DP=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||or.current)ir=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ir=!1,C4(t,e,n);ir=!!(t.flags&131072)}else ir=!1,Rt&&e.flags&1048576&&Fx(e,rp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Rf(t,e),t=e.pendingProps;var i=xl(e,Hn.current);gl(e,n),i=v1(null,e,r,t,i,n);var s=_1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ar(r)?(s=!0,tp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,f1(e),i.updater=vm,e.stateNode=i,i._reactInternals=e,l_(e,r,t,n),e=d_(null,e,r,!0,s,n)):(e.tag=0,Rt&&s&&o1(e),Gn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Rf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=V4(r),t=Zr(r,t),i){case 0:e=c_(null,e,r,t,n);break e;case 1:e=cS(null,e,r,t,n);break e;case 11:e=lS(null,e,r,t,n);break e;case 14:e=uS(null,e,r,Zr(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zr(r,i),c_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zr(r,i),cS(t,e,r,i,n);case 3:e:{if(vP(e),t===null)throw Error(W(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Bx(t,e),op(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Nl(Error(W(423)),e),e=dS(t,e,r,n,i);break e}else if(r!==i){i=Nl(Error(W(424)),e),e=dS(t,e,r,n,i);break e}else for(yr=Hs(e.stateNode.containerInfo.firstChild),wr=e,Rt=!0,ni=null,n=qx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Pl(),r===i){e=cs(t,e,n);break e}Gn(t,e,r,n)}e=e.child}return e;case 5:return Kx(e),t===null&&s_(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,e_(r,i)?o=null:s!==null&&e_(r,s)&&(e.flags|=32),yP(t,e),Gn(t,e,o,n),e.child;case 6:return t===null&&s_(e),null;case 13:return _P(t,e,n);case 4:return p1(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=kl(e,null,r,n):Gn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zr(r,i),lS(t,e,r,i,n);case 7:return Gn(t,e,e.pendingProps,n),e.child;case 8:return Gn(t,e,e.pendingProps.children,n),e.child;case 12:return Gn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ct(ip,r._currentValue),r._currentValue=o,s!==null)if(ui(s.value,o)){if(s.children===i.children&&!or.current){e=cs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=rs(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),o_(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),o_(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Gn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,gl(e,n),i=Wr(i),r=r(i),e.flags|=1,Gn(t,e,r,n),e.child;case 14:return r=e.type,i=Zr(r,e.pendingProps),i=Zr(r.type,i),uS(t,e,r,i,n);case 15:return mP(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zr(r,i),Rf(t,e),e.tag=1,ar(r)?(t=!0,tp(e)):t=!1,gl(e,n),Wx(e,r,i),l_(e,r,i,n),d_(null,e,r,!0,t,n);case 19:return wP(t,e,n);case 22:return gP(t,e,n)}throw Error(W(156,e.tag))};function LP(t,e){return lx(t,e)}function F4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $r(t,e,n,r){return new F4(t,e,n,r)}function P1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function V4(t){if(typeof t=="function")return P1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===G0)return 11;if(t===Q0)return 14}return 2}function Qs(t,e){var n=t.alternate;return n===null?(n=$r(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Pf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")P1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qa:return Ho(n.children,i,s,e);case K0:o=8,i|=8;break;case Nv:return t=$r(12,n,e,i|2),t.elementType=Nv,t.lanes=s,t;case Ov:return t=$r(13,n,e,i),t.elementType=Ov,t.lanes=s,t;case Mv:return t=$r(19,n,e,i),t.elementType=Mv,t.lanes=s,t;case Hb:return Tm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case zb:o=10;break e;case Wb:o=9;break e;case G0:o=11;break e;case Q0:o=14;break e;case Ps:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=$r(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ho(t,e,n,r){return t=$r(7,t,r,e),t.lanes=n,t}function Tm(t,e,n,r){return t=$r(22,t,r,e),t.elementType=Hb,t.lanes=n,t.stateNode={isHidden:!1},t}function Uy(t,e,n){return t=$r(6,t,null,e),t.lanes=n,t}function jy(t,e,n){return e=$r(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function U4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ey(0),this.expirationTimes=Ey(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ey(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function k1(t,e,n,r,i,s,o,a,l){return t=new U4(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=$r(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},f1(s),t}function j4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ga,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $P(t){if(!t)return no;t=t._reactInternals;e:{if(wa(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ar(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(ar(n))return Lx(t,n,e)}return e}function FP(t,e,n,r,i,s,o,a,l){return t=k1(n,r,!0,t,i,s,o,a,l),t.context=$P(null),n=t.current,r=Yn(),i=Gs(n),s=rs(r,i),s.callback=e??null,qs(n,s,i),t.current.lanes=i,Bd(t,i,r),lr(t,r),t}function Sm(t,e,n,r){var i=e.current,s=Yn(),o=Gs(i);return n=$P(n),e.context===null?e.context=n:e.pendingContext=n,e=rs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qs(i,e,o),t!==null&&(ai(t,i,o,s),Sf(t,i,o)),o}function pp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ES(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function A1(t,e){ES(t,e),(t=t.alternate)&&ES(t,e)}function B4(){return null}var VP=typeof reportError=="function"?reportError:function(t){console.error(t)};function N1(t){this._internalRoot=t}Cm.prototype.render=N1.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));Sm(t,e,null,null)};Cm.prototype.unmount=N1.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ta(function(){Sm(null,t,null,null)}),e[ls]=null}};function Cm(t){this._internalRoot=t}Cm.prototype.unstable_scheduleHydration=function(t){if(t){var e=mx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<As.length&&e!==0&&e<As[n].priority;n++);As.splice(n,0,t),n===0&&yx(t)}};function O1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Im(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function TS(){}function z4(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=pp(o);s.call(u)}}var o=FP(e,r,t,0,null,!1,!1,"",TS);return t._reactRootContainer=o,t[ls]=o.current,ed(t.nodeType===8?t.parentNode:t),ta(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=pp(l);a.call(u)}}var l=k1(t,0,!1,null,null,!1,!1,"",TS);return t._reactRootContainer=l,t[ls]=l.current,ed(t.nodeType===8?t.parentNode:t),ta(function(){Sm(e,l,n,r)}),l}function Rm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=pp(o);a.call(l)}}Sm(e,o,t,i)}else o=z4(n,e,t,i,r);return pp(o)}fx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=sc(e.pendingLanes);n!==0&&(J0(e,n|1),lr(e,Ht()),!(He&6)&&(Ol=Ht()+500,fo()))}break;case 13:ta(function(){var r=us(t,1);if(r!==null){var i=Yn();ai(r,t,1,i)}}),A1(t,1)}};Z0=function(t){if(t.tag===13){var e=us(t,134217728);if(e!==null){var n=Yn();ai(e,t,134217728,n)}A1(t,134217728)}};px=function(t){if(t.tag===13){var e=Gs(t),n=us(t,e);if(n!==null){var r=Yn();ai(n,t,e,r)}A1(t,e)}};mx=function(){return Je};gx=function(t,e){var n=Je;try{return Je=t,e()}finally{Je=n}};Wv=function(t,e,n){switch(e){case"input":if($v(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=gm(r);if(!i)throw Error(W(90));Kb(r),$v(r,i)}}}break;case"textarea":Qb(t,n);break;case"select":e=n.value,e!=null&&hl(t,!!n.multiple,e,!1)}};nx=R1;rx=ta;var W4={usingClientEntryPoint:!1,Events:[Wd,Za,gm,ex,tx,R1]},Mu={findFiberByHostInstance:No,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},H4={bundleType:Mu.bundleType,version:Mu.version,rendererPackageName:Mu.rendererPackageName,rendererConfig:Mu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ox(t),t===null?null:t.stateNode},findFiberByHostInstance:Mu.findFiberByHostInstance||B4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yh.isDisabled&&Yh.supportsFiber)try{hm=Yh.inject(H4),bi=Yh}catch{}}Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W4;Rr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O1(e))throw Error(W(200));return j4(t,e,null,n)};Rr.createRoot=function(t,e){if(!O1(t))throw Error(W(299));var n=!1,r="",i=VP;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=k1(t,1,!1,null,null,n,!1,r,i),t[ls]=e.current,ed(t.nodeType===8?t.parentNode:t),new N1(e)};Rr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=ox(e),t=t===null?null:t.stateNode,t};Rr.flushSync=function(t){return ta(t)};Rr.hydrate=function(t,e,n){if(!Im(e))throw Error(W(200));return Rm(null,t,e,!0,n)};Rr.hydrateRoot=function(t,e,n){if(!O1(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=VP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=FP(e,null,t,1,n??null,i,!1,s,o),t[ls]=e.current,ed(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Cm(e)};Rr.render=function(t,e,n){if(!Im(e))throw Error(W(200));return Rm(null,t,e,!1,n)};Rr.unmountComponentAtNode=function(t){if(!Im(t))throw Error(W(40));return t._reactRootContainer?(ta(function(){Rm(null,null,t,!1,function(){t._reactRootContainer=null,t[ls]=null})}),!0):!1};Rr.unstable_batchedUpdates=R1;Rr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Im(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return Rm(t,e,n,!1,r)};Rr.version="18.2.0-next-9e3b772b8-20220608";function UP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(UP)}catch(t){console.error(t)}}UP(),Fb.exports=Rr;var qd=Fb.exports;const ac=bb(qd),q4=Rb({__proto__:null,default:ac},[qd]);var SS=qd;kv.createRoot=SS.createRoot,kv.hydrateRoot=SS.hydrateRoot;/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jt(){return jt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jt.apply(this,arguments)}var Wt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wt||(Wt={}));const CS="popstate";function K4(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ud("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ra(i)}return Q4(e,n,null,t)}function Se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function na(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function G4(){return Math.random().toString(36).substr(2,8)}function IS(t,e){return{usr:t.state,key:t.key,idx:e}}function ud(t,e,n,r){return n===void 0&&(n=null),jt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vs(e):e,{state:n,key:e&&e.key||r||G4()})}function ra(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Q4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Wt.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(jt({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Wt.Pop;let E=c(),m=E==null?null:E-u;u=E,l&&l({action:a,location:g.location,delta:m})}function h(E,m){a=Wt.Push;let y=ud(g.location,E,m);n&&n(y,E),u=c()+1;let v=IS(y,u),T=g.createHref(y);try{o.pushState(v,"",T)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(T)}s&&l&&l({action:a,location:g.location,delta:1})}function f(E,m){a=Wt.Replace;let y=ud(g.location,E,m);n&&n(y,E),u=c();let v=IS(y,u),T=g.createHref(y);o.replaceState(v,"",T),s&&l&&l({action:a,location:g.location,delta:0})}function p(E){let m=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof E=="string"?E:ra(E);return Se(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let g={get action(){return a},get location(){return t(i,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(CS,d),l=E,()=>{i.removeEventListener(CS,d),l=null}},createHref(E){return e(i,E)},createURL:p,encodeLocation(E){let m=p(E);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:f,go(E){return o.go(E)}};return g}var Vt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Vt||(Vt={}));const Y4=new Set(["lazy","caseSensitive","path","id","index","children"]);function X4(t){return t.index===!0}function S_(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(Se(i.index!==!0||!i.children,"Cannot specify children on an index route"),Se(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),X4(i)){let l=jt({},i,e(i),{id:a});return r[a]=l,l}else{let l=jt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=S_(i.children,e,o,r)),l}})}function ol(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?vs(e):e,i=iu(r.pathname||"/",n);if(i==null)return null;let s=jP(t);Z4(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=l$(s[a],c$(i));return o}function J4(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function jP(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Se(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=is([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Se(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),jP(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:o$(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of BP(s.path))i(s,o,l)}),e}function BP(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=BP(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Z4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:a$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const e$=/^:[\w-]+$/,t$=3,n$=2,r$=1,i$=10,s$=-2,RS=t=>t==="*";function o$(t,e){let n=t.split("/"),r=n.length;return n.some(RS)&&(r+=s$),e&&(r+=n$),n.filter(i=>!RS(i)).reduce((i,s)=>i+(e$.test(s)?t$:s===""?r$:i$),r)}function a$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function l$(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=zP({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:is([i,c.pathname]),pathnameBase:p$(is([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=is([i,c.pathnameBase]))}return s}function zP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=u$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:f}=c;if(h==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?u[h]=void 0:u[h]=d$(p||"",h),u},{}),pathname:s,pathnameBase:o,pattern:t}}function u$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),na(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function c$(t){try{return decodeURI(t)}catch(e){return na(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function d$(t,e){try{return decodeURIComponent(t)}catch(n){return na(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function iu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function h$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?vs(t):t;return{pathname:n?n.startsWith("/")?n:f$(n,e):e,search:m$(r),hash:g$(i)}}function f$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function By(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WP(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bm(t,e){let n=WP(t);return e?n.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=vs(t):(i=jt({},t),Se(!i.pathname||!i.pathname.includes("?"),By("?","pathname","search",i)),Se(!i.pathname||!i.pathname.includes("#"),By("#","pathname","hash",i)),Se(!i.search||!i.search.includes("#"),By("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=h$(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const is=t=>t.join("/").replace(/\/\/+/g,"/"),p$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),m$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,g$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class M1{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function HP(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const qP=["post","put","patch","delete"],y$=new Set(qP),v$=["get",...qP],_$=new Set(v$),w$=new Set([301,302,303,307,308]),E$=new Set([307,308]),zy={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},T$={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Du={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},KP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,S$=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),GP="remix-router-transitions";function C$(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Se(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let k=t.detectErrorBoundary;i=N=>({hasErrorBoundary:k(N)})}else i=S$;let s={},o=S_(t.routes,i,void 0,s),a,l=t.basename||"/",u=jt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},t.future),c=null,d=new Set,h=null,f=null,p=null,g=t.hydrationData!=null,E=ol(o,t.history.location,l),m=null;if(E==null){let k=kr(404,{pathname:t.history.location.pathname}),{matches:N,route:D}=MS(o);E=N,m={[D.id]:k}}let y,v=E.some(k=>k.route.lazy),T=E.some(k=>k.route.loader);if(v)y=!1;else if(!T)y=!0;else if(u.v7_partialHydration){let k=t.hydrationData?t.hydrationData.loaderData:null,N=t.hydrationData?t.hydrationData.errors:null;y=E.every(D=>D.route.loader&&D.route.loader.hydrate!==!0&&(k&&k[D.route.id]!==void 0||N&&N[D.route.id]!==void 0))}else y=t.hydrationData!=null;let R,_={historyAction:t.history.action,location:t.history.location,matches:E,initialized:y,navigation:zy,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||m,fetchers:new Map,blockers:new Map},C=Wt.Pop,b=!1,P,x=!1,O=new Map,$=null,M=!1,F=!1,z=[],B=[],j=new Map,A=0,L=-1,H=new Map,se=new Set,re=new Map,ce=new Map,q=new Set,oe=new Map,de=new Map,$e=!1;function Ne(){if(c=t.history.listen(k=>{let{action:N,location:D,delta:K}=k;if($e){$e=!1;return}na(de.size===0||K!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ee=fr({currentLocation:_.location,nextLocation:D,historyAction:N});if(ee&&K!=null){$e=!0,t.history.go(K*-1),ot(ee,{state:"blocked",location:D,proceed(){ot(ee,{state:"proceeding",proceed:void 0,reset:void 0,location:D}),t.history.go(K)},reset(){let xe=new Map(_.blockers);xe.set(ee,Du),le({blockers:xe})}});return}return Ee(N,D)}),n){D$(e,O);let k=()=>L$(e,O);e.addEventListener("pagehide",k),$=()=>e.removeEventListener("pagehide",k)}return _.initialized||Ee(Wt.Pop,_.location,{initialHydration:!0}),R}function ke(){c&&c(),$&&$(),d.clear(),P&&P.abort(),_.fetchers.forEach((k,N)=>Gt(N)),_.blockers.forEach((k,N)=>qe(N))}function bt(k){return d.add(k),()=>d.delete(k)}function le(k,N){N===void 0&&(N={}),_=jt({},_,k);let D=[],K=[];u.v7_fetcherPersist&&_.fetchers.forEach((ee,xe)=>{ee.state==="idle"&&(q.has(xe)?K.push(xe):D.push(xe))}),[...d].forEach(ee=>ee(_,{deletedFetchers:K,unstable_viewTransitionOpts:N.viewTransitionOpts,unstable_flushSync:N.flushSync===!0})),u.v7_fetcherPersist&&(D.forEach(ee=>_.fetchers.delete(ee)),K.forEach(ee=>Gt(ee)))}function ze(k,N,D){var K,ee;let{flushSync:xe}=D===void 0?{}:D,pe=_.actionData!=null&&_.navigation.formMethod!=null&&ti(_.navigation.formMethod)&&_.navigation.state==="loading"&&((K=k.state)==null?void 0:K._isRedirect)!==!0,he;N.actionData?Object.keys(N.actionData).length>0?he=N.actionData:he=null:pe?he=_.actionData:he=null;let ie=N.loaderData?OS(_.loaderData,N.loaderData,N.matches||[],N.errors):_.loaderData,Ae=_.blockers;Ae.size>0&&(Ae=new Map(Ae),Ae.forEach((Pe,Pt)=>Ae.set(Pt,Du)));let Tt=b===!0||_.navigation.formMethod!=null&&ti(_.navigation.formMethod)&&((ee=k.state)==null?void 0:ee._isRedirect)!==!0;a&&(o=a,a=void 0),M||C===Wt.Pop||(C===Wt.Push?t.history.push(k,k.state):C===Wt.Replace&&t.history.replace(k,k.state));let _e;if(C===Wt.Pop){let Pe=O.get(_.location.pathname);Pe&&Pe.has(k.pathname)?_e={currentLocation:_.location,nextLocation:k}:O.has(k.pathname)&&(_e={currentLocation:k,nextLocation:_.location})}else if(x){let Pe=O.get(_.location.pathname);Pe?Pe.add(k.pathname):(Pe=new Set([k.pathname]),O.set(_.location.pathname,Pe)),_e={currentLocation:_.location,nextLocation:k}}le(jt({},N,{actionData:he,loaderData:ie,historyAction:C,location:k,initialized:!0,navigation:zy,revalidation:"idle",restoreScrollPosition:Ah(k,N.matches||_.matches),preventScrollReset:Tt,blockers:Ae}),{viewTransitionOpts:_e,flushSync:xe===!0}),C=Wt.Pop,b=!1,x=!1,M=!1,F=!1,z=[],B=[]}async function ve(k,N){if(typeof k=="number"){t.history.go(k);return}let D=C_(_.location,_.matches,l,u.v7_prependBasename,k,u.v7_relativeSplatPath,N==null?void 0:N.fromRouteId,N==null?void 0:N.relative),{path:K,submission:ee,error:xe}=bS(u.v7_normalizeFormMethod,!1,D,N),pe=_.location,he=ud(_.location,K,N&&N.state);he=jt({},he,t.history.encodeLocation(he));let ie=N&&N.replace!=null?N.replace:void 0,Ae=Wt.Push;ie===!0?Ae=Wt.Replace:ie===!1||ee!=null&&ti(ee.formMethod)&&ee.formAction===_.location.pathname+_.location.search&&(Ae=Wt.Replace);let Tt=N&&"preventScrollReset"in N?N.preventScrollReset===!0:void 0,_e=(N&&N.unstable_flushSync)===!0,Pe=fr({currentLocation:pe,nextLocation:he,historyAction:Ae});if(Pe){ot(Pe,{state:"blocked",location:he,proceed(){ot(Pe,{state:"proceeding",proceed:void 0,reset:void 0,location:he}),ve(k,N)},reset(){let Pt=new Map(_.blockers);Pt.set(Pe,Du),le({blockers:Pt})}});return}return await Ee(Ae,he,{submission:ee,pendingError:xe,preventScrollReset:Tt,replace:N&&N.replace,enableViewTransition:N&&N.unstable_viewTransition,flushSync:_e})}function Fe(){if(ht(),le({revalidation:"loading"}),_.navigation.state!=="submitting"){if(_.navigation.state==="idle"){Ee(_.historyAction,_.location,{startUninterruptedRevalidation:!0});return}Ee(C||_.historyAction,_.navigation.location,{overrideNavigation:_.navigation})}}async function Ee(k,N,D){P&&P.abort(),P=null,C=k,M=(D&&D.startUninterruptedRevalidation)===!0,my(_.location,_.matches),b=(D&&D.preventScrollReset)===!0,x=(D&&D.enableViewTransition)===!0;let K=a||o,ee=D&&D.overrideNavigation,xe=ol(K,N,l),pe=(D&&D.flushSync)===!0;if(!xe){let Pt=kr(404,{pathname:N.pathname}),{matches:er,route:St}=MS(K);Wi(),ze(N,{matches:er,loaderData:{},errors:{[St.id]:Pt}},{flushSync:pe});return}if(_.initialized&&!F&&P$(_.location,N)&&!(D&&D.submission&&ti(D.submission.formMethod))){ze(N,{matches:xe},{flushSync:pe});return}P=new AbortController;let he=$u(t.history,N,P.signal,D&&D.submission),ie,Ae;if(D&&D.pendingError)Ae={[bc(xe).route.id]:D.pendingError};else if(D&&D.submission&&ti(D.submission.formMethod)){let Pt=await wn(he,N,D.submission,xe,{replace:D.replace,flushSync:pe});if(Pt.shortCircuited)return;ie=Pt.pendingActionData,Ae=Pt.pendingActionError,ee=Wy(N,D.submission),pe=!1,he=new Request(he.url,{signal:he.signal})}let{shortCircuited:Tt,loaderData:_e,errors:Pe}=await rn(he,N,xe,ee,D&&D.submission,D&&D.fetcherSubmission,D&&D.replace,D&&D.initialHydration===!0,pe,ie,Ae);Tt||(P=null,ze(N,jt({matches:xe},ie?{actionData:ie}:{},{loaderData:_e,errors:Pe})))}async function wn(k,N,D,K,ee){ee===void 0&&(ee={}),ht();let xe=O$(N,D);le({navigation:xe},{flushSync:ee.flushSync===!0});let pe,he=R_(K,N);if(!he.route.action&&!he.route.lazy)pe={type:Vt.error,error:kr(405,{method:k.method,pathname:N.pathname,routeId:he.route.id})};else if(pe=await Lu("action",k,he,K,s,i,l,u.v7_relativeSplatPath),k.signal.aborted)return{shortCircuited:!0};if(Lo(pe)){let ie;return ee&&ee.replace!=null?ie=ee.replace:ie=pe.location===_.location.pathname+_.location.search,await Oe(_,pe,{submission:D,replace:ie}),{shortCircuited:!0}}if(al(pe)){let ie=bc(K,he.route.id);return(ee&&ee.replace)!==!0&&(C=Wt.Push),{pendingActionData:{},pendingActionError:{[ie.route.id]:pe.error}}}if(Do(pe))throw kr(400,{type:"defer-action"});return{pendingActionData:{[he.route.id]:pe.data}}}async function rn(k,N,D,K,ee,xe,pe,he,ie,Ae,Tt){let _e=K||Wy(N,ee),Pe=ee||xe||$S(_e),Pt=a||o,[er,St]=xS(t.history,_,D,Pe,N,u.v7_partialHydration&&he===!0,F,z,B,q,re,se,Pt,l,Ae,Tt);if(Wi(Re=>!(D&&D.some(Ct=>Ct.route.id===Re))||er&&er.some(Ct=>Ct.route.id===Re)),L=++A,er.length===0&&St.length===0){let Re=Pr();return ze(N,jt({matches:D,loaderData:{},errors:Tt||null},Ae?{actionData:Ae}:{},Re?{fetchers:new Map(_.fetchers)}:{}),{flushSync:ie}),{shortCircuited:!0}}if(!M&&(!u.v7_partialHydration||!he)){St.forEach(Ct=>{let gi=_.fetchers.get(Ct.key),Oh=Fu(void 0,gi?gi.data:void 0);_.fetchers.set(Ct.key,Oh)});let Re=Ae||_.actionData;le(jt({navigation:_e},Re?Object.keys(Re).length===0?{actionData:null}:{actionData:Re}:{},St.length>0?{fetchers:new Map(_.fetchers)}:{}),{flushSync:ie})}St.forEach(Re=>{j.has(Re.key)&&te(Re.key),Re.controller&&j.set(Re.key,Re.controller)});let pi=()=>St.forEach(Re=>te(Re.key));P&&P.signal.addEventListener("abort",pi);let{results:Oa,loaderResults:Hi,fetcherResults:Xr}=await Kt(_.matches,D,er,St,k);if(k.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",pi),St.forEach(Re=>j.delete(Re.key));let mi=DS(Oa);if(mi){if(mi.idx>=er.length){let Re=St[mi.idx-er.length].key;se.add(Re)}return await Oe(_,mi.result,{replace:pe}),{shortCircuited:!0}}let{loaderData:Cu,errors:Iu}=NS(_,D,er,Hi,Tt,St,Xr,oe);oe.forEach((Re,Ct)=>{Re.subscribe(gi=>{(gi||Re.done)&&oe.delete(Ct)})});let Ru=Pr(),Ss=Zn(L),Ie=Ru||Ss||St.length>0;return jt({loaderData:Cu,errors:Iu},Ie?{fetchers:new Map(_.fetchers)}:{})}function Dt(k,N,D,K){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");j.has(k)&&te(k);let ee=(K&&K.unstable_flushSync)===!0,xe=a||o,pe=C_(_.location,_.matches,l,u.v7_prependBasename,D,u.v7_relativeSplatPath,N,K==null?void 0:K.relative),he=ol(xe,pe,l);if(!he){xt(k,N,kr(404,{pathname:pe}),{flushSync:ee});return}let{path:ie,submission:Ae,error:Tt}=bS(u.v7_normalizeFormMethod,!0,pe,K);if(Tt){xt(k,N,Tt,{flushSync:ee});return}let _e=R_(he,ie);if(b=(K&&K.preventScrollReset)===!0,Ae&&ti(Ae.formMethod)){un(k,N,ie,_e,he,ee,Ae);return}re.set(k,{routeId:N,path:ie}),lt(k,N,ie,_e,he,ee,Ae)}async function un(k,N,D,K,ee,xe,pe){if(ht(),re.delete(k),!K.route.action&&!K.route.lazy){let Ct=kr(405,{method:pe.formMethod,pathname:D,routeId:N});xt(k,N,Ct,{flushSync:xe});return}let he=_.fetchers.get(k);be(k,M$(pe,he),{flushSync:xe});let ie=new AbortController,Ae=$u(t.history,D,ie.signal,pe);j.set(k,ie);let Tt=A,_e=await Lu("action",Ae,K,ee,s,i,l,u.v7_relativeSplatPath);if(Ae.signal.aborted){j.get(k)===ie&&j.delete(k);return}if(u.v7_fetcherPersist&&q.has(k)){if(Lo(_e)||al(_e)){be(k,xs(void 0));return}}else{if(Lo(_e))if(j.delete(k),L>Tt){be(k,xs(void 0));return}else return se.add(k),be(k,Fu(pe)),Oe(_,_e,{fetcherSubmission:pe});if(al(_e)){xt(k,N,_e.error);return}}if(Do(_e))throw kr(400,{type:"defer-action"});let Pe=_.navigation.location||_.location,Pt=$u(t.history,Pe,ie.signal),er=a||o,St=_.navigation.state!=="idle"?ol(er,_.navigation.location,l):_.matches;Se(St,"Didn't find any matches after fetcher action");let pi=++A;H.set(k,pi);let Oa=Fu(pe,_e.data);_.fetchers.set(k,Oa);let[Hi,Xr]=xS(t.history,_,St,pe,Pe,!1,F,z,B,q,re,se,er,l,{[K.route.id]:_e.data},void 0);Xr.filter(Ct=>Ct.key!==k).forEach(Ct=>{let gi=Ct.key,Oh=_.fetchers.get(gi),wD=Fu(void 0,Oh?Oh.data:void 0);_.fetchers.set(gi,wD),j.has(gi)&&te(gi),Ct.controller&&j.set(gi,Ct.controller)}),le({fetchers:new Map(_.fetchers)});let mi=()=>Xr.forEach(Ct=>te(Ct.key));ie.signal.addEventListener("abort",mi);let{results:Cu,loaderResults:Iu,fetcherResults:Ru}=await Kt(_.matches,St,Hi,Xr,Pt);if(ie.signal.aborted)return;ie.signal.removeEventListener("abort",mi),H.delete(k),j.delete(k),Xr.forEach(Ct=>j.delete(Ct.key));let Ss=DS(Cu);if(Ss){if(Ss.idx>=Hi.length){let Ct=Xr[Ss.idx-Hi.length].key;se.add(Ct)}return Oe(_,Ss.result)}let{loaderData:Ie,errors:Re}=NS(_,_.matches,Hi,Iu,void 0,Xr,Ru,oe);if(_.fetchers.has(k)){let Ct=xs(_e.data);_.fetchers.set(k,Ct)}Zn(pi),_.navigation.state==="loading"&&pi>L?(Se(C,"Expected pending action"),P&&P.abort(),ze(_.navigation.location,{matches:St,loaderData:Ie,errors:Re,fetchers:new Map(_.fetchers)})):(le({errors:Re,loaderData:OS(_.loaderData,Ie,St,Re),fetchers:new Map(_.fetchers)}),F=!1)}async function lt(k,N,D,K,ee,xe,pe){let he=_.fetchers.get(k);be(k,Fu(pe,he?he.data:void 0),{flushSync:xe});let ie=new AbortController,Ae=$u(t.history,D,ie.signal);j.set(k,ie);let Tt=A,_e=await Lu("loader",Ae,K,ee,s,i,l,u.v7_relativeSplatPath);if(Do(_e)&&(_e=await XP(_e,Ae.signal,!0)||_e),j.get(k)===ie&&j.delete(k),!Ae.signal.aborted){if(q.has(k)){be(k,xs(void 0));return}if(Lo(_e))if(L>Tt){be(k,xs(void 0));return}else{se.add(k),await Oe(_,_e);return}if(al(_e)){xt(k,N,_e.error);return}Se(!Do(_e),"Unhandled fetcher deferred data"),be(k,xs(_e.data))}}async function Oe(k,N,D){let{submission:K,fetcherSubmission:ee,replace:xe}=D===void 0?{}:D;N.revalidate&&(F=!0);let pe=ud(k.location,N.location,{_isRedirect:!0});if(Se(pe,"Expected a location on the redirect navigation"),n){let Pe=!1;if(N.reloadDocument)Pe=!0;else if(KP.test(N.location)){const Pt=t.history.createURL(N.location);Pe=Pt.origin!==e.location.origin||iu(Pt.pathname,l)==null}if(Pe){xe?e.location.replace(N.location):e.location.assign(N.location);return}}P=null;let he=xe===!0?Wt.Replace:Wt.Push,{formMethod:ie,formAction:Ae,formEncType:Tt}=k.navigation;!K&&!ee&&ie&&Ae&&Tt&&(K=$S(k.navigation));let _e=K||ee;if(E$.has(N.status)&&_e&&ti(_e.formMethod))await Ee(he,pe,{submission:jt({},_e,{formAction:N.location}),preventScrollReset:b});else{let Pe=Wy(pe,K);await Ee(he,pe,{overrideNavigation:Pe,fetcherSubmission:ee,preventScrollReset:b})}}async function Kt(k,N,D,K,ee){let xe=await Promise.all([...D.map(ie=>Lu("loader",ee,ie,N,s,i,l,u.v7_relativeSplatPath)),...K.map(ie=>ie.matches&&ie.match&&ie.controller?Lu("loader",$u(t.history,ie.path,ie.controller.signal),ie.match,ie.matches,s,i,l,u.v7_relativeSplatPath):{type:Vt.error,error:kr(404,{pathname:ie.path})})]),pe=xe.slice(0,D.length),he=xe.slice(D.length);return await Promise.all([LS(k,D,pe,pe.map(()=>ee.signal),!1,_.loaderData),LS(k,K.map(ie=>ie.match),he,K.map(ie=>ie.controller?ie.controller.signal:null),!0)]),{results:xe,loaderResults:pe,fetcherResults:he}}function ht(){F=!0,z.push(...Wi()),re.forEach((k,N)=>{j.has(N)&&(B.push(N),te(N))})}function be(k,N,D){D===void 0&&(D={}),_.fetchers.set(k,N),le({fetchers:new Map(_.fetchers)},{flushSync:(D&&D.flushSync)===!0})}function xt(k,N,D,K){K===void 0&&(K={});let ee=bc(_.matches,N);Gt(k),le({errors:{[ee.route.id]:D},fetchers:new Map(_.fetchers)},{flushSync:(K&&K.flushSync)===!0})}function sn(k){return u.v7_fetcherPersist&&(ce.set(k,(ce.get(k)||0)+1),q.has(k)&&q.delete(k)),_.fetchers.get(k)||T$}function Gt(k){let N=_.fetchers.get(k);j.has(k)&&!(N&&N.state==="loading"&&H.has(k))&&te(k),re.delete(k),H.delete(k),se.delete(k),q.delete(k),_.fetchers.delete(k)}function We(k){if(u.v7_fetcherPersist){let N=(ce.get(k)||0)-1;N<=0?(ce.delete(k),q.add(k)):ce.set(k,N)}else Gt(k);le({fetchers:new Map(_.fetchers)})}function te(k){let N=j.get(k);Se(N,"Expected fetch controller: "+k),N.abort(),j.delete(k)}function Lt(k){for(let N of k){let D=sn(N),K=xs(D.data);_.fetchers.set(N,K)}}function Pr(){let k=[],N=!1;for(let D of se){let K=_.fetchers.get(D);Se(K,"Expected fetcher: "+D),K.state==="loading"&&(se.delete(D),k.push(D),N=!0)}return Lt(k),N}function Zn(k){let N=[];for(let[D,K]of H)if(K<k){let ee=_.fetchers.get(D);Se(ee,"Expected fetcher: "+D),ee.state==="loading"&&(te(D),H.delete(D),N.push(D))}return Lt(N),N.length>0}function ae(k,N){let D=_.blockers.get(k)||Du;return de.get(k)!==N&&de.set(k,N),D}function qe(k){_.blockers.delete(k),de.delete(k)}function ot(k,N){let D=_.blockers.get(k)||Du;Se(D.state==="unblocked"&&N.state==="blocked"||D.state==="blocked"&&N.state==="blocked"||D.state==="blocked"&&N.state==="proceeding"||D.state==="blocked"&&N.state==="unblocked"||D.state==="proceeding"&&N.state==="unblocked","Invalid blocker state transition: "+D.state+" -> "+N.state);let K=new Map(_.blockers);K.set(k,N),le({blockers:K})}function fr(k){let{currentLocation:N,nextLocation:D,historyAction:K}=k;if(de.size===0)return;de.size>1&&na(!1,"A router only supports one blocker at a time");let ee=Array.from(de.entries()),[xe,pe]=ee[ee.length-1],he=_.blockers.get(xe);if(!(he&&he.state==="proceeding")&&pe({currentLocation:N,nextLocation:D,historyAction:K}))return xe}function Wi(k){let N=[];return oe.forEach((D,K)=>{(!k||k(K))&&(D.cancel(),N.push(K),oe.delete(K))}),N}function Ph(k,N,D){if(h=k,p=N,f=D||null,!g&&_.navigation===zy){g=!0;let K=Ah(_.location,_.matches);K!=null&&le({restoreScrollPosition:K})}return()=>{h=null,p=null,f=null}}function kh(k,N){return f&&f(k,N.map(K=>J4(K,_.loaderData)))||k.key}function my(k,N){if(h&&p){let D=kh(k,N);h[D]=p()}}function Ah(k,N){if(h){let D=kh(k,N),K=h[D];if(typeof K=="number")return K}return null}function Nh(k){s={},a=S_(k,i,void 0,s)}return R={get basename(){return l},get future(){return u},get state(){return _},get routes(){return o},get window(){return e},initialize:Ne,subscribe:bt,enableScrollRestoration:Ph,navigate:ve,fetch:Dt,revalidate:Fe,createHref:k=>t.history.createHref(k),encodeLocation:k=>t.history.encodeLocation(k),getFetcher:sn,deleteFetcher:We,dispose:ke,getBlocker:ae,deleteBlocker:qe,_internalFetchControllers:j,_internalActiveDeferreds:oe,_internalSetRoutes:Nh},R}function I$(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function C_(t,e,n,r,i,s,o,a){let l,u;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){u=d;break}}else l=e,u=e[e.length-1];let c=xm(i||".",bm(l,s),iu(t.pathname,n)||t.pathname,a==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!D1(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(c.pathname=c.pathname==="/"?n:is([n,c.pathname])),ra(c)}function bS(t,e,n,r){if(!r||!I$(r))return{path:n};if(r.formMethod&&!N$(r.formMethod))return{path:n,error:kr(405,{method:r.formMethod})};let i=()=>({path:n,error:kr(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=YP(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ti(o))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,p)=>{let[g,E]=p;return""+f+g+"="+E+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!ti(o))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}Se(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=I_(r.formData),u=r.formData;else if(r.body instanceof FormData)l=I_(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=AS(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=AS(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(ti(c.formMethod))return{path:n,submission:c};let d=vs(n);return e&&d.search&&D1(d.search)&&l.append("index",""),d.search="?"+l,{path:ra(d),submission:c}}function R$(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function xS(t,e,n,r,i,s,o,a,l,u,c,d,h,f,p,g){let E=g?Object.values(g)[0]:p?Object.values(p)[0]:void 0,m=t.createURL(e.location),y=t.createURL(i),v=g?Object.keys(g)[0]:void 0,R=R$(n,v).filter((C,b)=>{let{route:P}=C;if(P.lazy)return!0;if(P.loader==null)return!1;if(s)return P.loader.hydrate?!0:e.loaderData[P.id]===void 0&&(!e.errors||e.errors[P.id]===void 0);if(b$(e.loaderData,e.matches[b],C)||a.some($=>$===C.route.id))return!0;let x=e.matches[b],O=C;return PS(C,jt({currentUrl:m,currentParams:x.params,nextUrl:y,nextParams:O.params},r,{actionResult:E,defaultShouldRevalidate:o||m.pathname+m.search===y.pathname+y.search||m.search!==y.search||QP(x,O)}))}),_=[];return c.forEach((C,b)=>{if(s||!n.some(M=>M.route.id===C.routeId)||u.has(b))return;let P=ol(h,C.path,f);if(!P){_.push({key:b,routeId:C.routeId,path:C.path,matches:null,match:null,controller:null});return}let x=e.fetchers.get(b),O=R_(P,C.path),$=!1;d.has(b)?$=!1:l.includes(b)?$=!0:x&&x.state!=="idle"&&x.data===void 0?$=o:$=PS(O,jt({currentUrl:m,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:E,defaultShouldRevalidate:o})),$&&_.push({key:b,routeId:C.routeId,path:C.path,matches:P,match:O,controller:new AbortController})}),[R,_]}function b$(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function QP(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function PS(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function kS(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Se(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";na(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!Y4.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,jt({},e(i),{lazy:void 0}))}async function Lu(t,e,n,r,i,s,o,a,l){l===void 0&&(l={});let u,c,d,h=g=>{let E,m=new Promise((y,v)=>E=v);return d=()=>E(),e.signal.addEventListener("abort",d),Promise.race([g({request:e,params:n.params,context:l.requestContext}),m])};try{let g=n.route[t];if(n.route.lazy)if(g){let E,m=await Promise.all([h(g).catch(y=>{E=y}),kS(n.route,s,i)]);if(E)throw E;c=m[0]}else if(await kS(n.route,s,i),g=n.route[t],g)c=await h(g);else if(t==="action"){let E=new URL(e.url),m=E.pathname+E.search;throw kr(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:Vt.data,data:void 0};else if(g)c=await h(g);else{let E=new URL(e.url),m=E.pathname+E.search;throw kr(404,{pathname:m})}Se(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(g){u=Vt.error,c=g}finally{d&&e.signal.removeEventListener("abort",d)}if(A$(c)){let g=c.status;if(w$.has(g)){let m=c.headers.get("Location");if(Se(m,"Redirects returned/thrown from loaders/actions must have a Location header"),!KP.test(m))m=C_(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,m,a);else if(!l.isStaticRequest){let y=new URL(e.url),v=m.startsWith("//")?new URL(y.protocol+m):new URL(m),T=iu(v.pathname,o)!=null;v.origin===y.origin&&T&&(m=v.pathname+v.search+v.hash)}if(l.isStaticRequest)throw c.headers.set("Location",m),c;return{type:Vt.redirect,status:g,location:m,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(l.isRouteRequest)throw{type:u===Vt.error?Vt.error:Vt.data,response:c};let E;try{let m=c.headers.get("Content-Type");m&&/\bapplication\/json\b/.test(m)?c.body==null?E=null:E=await c.json():E=await c.text()}catch(m){return{type:Vt.error,error:m}}return u===Vt.error?{type:u,error:new M1(g,c.statusText,E),headers:c.headers}:{type:Vt.data,data:E,statusCode:c.status,headers:c.headers}}if(u===Vt.error)return{type:u,error:c};if(k$(c)){var f,p;return{type:Vt.deferred,deferredData:c,statusCode:(f=c.init)==null?void 0:f.status,headers:((p=c.init)==null?void 0:p.headers)&&new Headers(c.init.headers)}}return{type:Vt.data,data:c}}function $u(t,e,n,r){let i=t.createURL(YP(e)).toString(),s={signal:n};if(r&&ti(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=I_(r.formData):s.body=r.formData}return new Request(i,s)}function I_(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function AS(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function x$(t,e,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,d)=>{let h=e[d].route.id;if(Se(!Lo(c),"Cannot handle redirect results in processLoaderData"),al(c)){let f=bc(t,h),p=c.error;r&&(p=Object.values(r)[0],r=void 0),o=o||{},o[f.route.id]==null&&(o[f.route.id]=p),s[h]=void 0,l||(l=!0,a=HP(c.error)?c.error.status:500),c.headers&&(u[h]=c.headers)}else Do(c)?(i.set(h,c.deferredData),s[h]=c.deferredData.data):s[h]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[h]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function NS(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=x$(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:d,match:h,controller:f}=s[c];Se(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let p=o[c];if(!(f&&f.signal.aborted))if(al(p)){let g=bc(t.matches,h==null?void 0:h.route.id);u&&u[g.route.id]||(u=jt({},u,{[g.route.id]:p.error})),t.fetchers.delete(d)}else if(Lo(p))Se(!1,"Unhandled fetcher revalidation redirect");else if(Do(p))Se(!1,"Unhandled fetcher deferred data");else{let g=xs(p.data);t.fetchers.set(d,g)}}return{loaderData:l,errors:u}}function OS(t,e,n,r){let i=jt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function bc(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function MS(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function kr(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new M1(t||500,o,new Error(a),!0)}function DS(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Lo(n))return{result:n,idx:e}}}function YP(t){let e=typeof t=="string"?vs(t):t;return ra(jt({},e,{hash:""}))}function P$(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Do(t){return t.type===Vt.deferred}function al(t){return t.type===Vt.error}function Lo(t){return(t&&t.type)===Vt.redirect}function k$(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function A$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function N$(t){return _$.has(t.toLowerCase())}function ti(t){return y$.has(t.toLowerCase())}async function LS(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!QP(u,l)&&(s&&s[l.route.id])!==void 0;if(Do(a)&&(i||c)){let d=r[o];Se(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await XP(a,d,i).then(h=>{h&&(n[o]=h||n[o])})}}}async function XP(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Vt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Vt.error,error:i}}return{type:Vt.data,data:t.deferredData.data}}}function D1(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function R_(t,e){let n=typeof e=="string"?vs(e).search:e.search;if(t[t.length-1].route.index&&D1(n||""))return t[t.length-1];let r=WP(t);return r[r.length-1]}function $S(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Wy(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function O$(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Fu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function M$(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function xs(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function D$(t,e){try{let n=t.sessionStorage.getItem(GP);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function L$(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(GP,JSON.stringify(n))}catch(r){na(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cd(){return cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cd.apply(this,arguments)}const Pm=w.createContext(null),JP=w.createContext(null),po=w.createContext(null),km=w.createContext(null),_s=w.createContext({outlet:null,matches:[],isDataRoute:!1}),ZP=w.createContext(null);function $$(t,e){let{relative:n}=e===void 0?{}:e;Ea()||Se(!1);let{basename:r,navigator:i}=w.useContext(po),{hash:s,pathname:o,search:a}=tk(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:is([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ea(){return w.useContext(km)!=null}function Ta(){return Ea()||Se(!1),w.useContext(km).location}function F$(t){Ea()||Se(!1);let{pathname:e}=Ta();return w.useMemo(()=>zP(t,e),[e,t])}function ek(t){w.useContext(po).static||w.useLayoutEffect(t)}function Sa(){let{isDataRoute:t}=w.useContext(_s);return t?J$():V$()}function V$(){Ea()||Se(!1);let t=w.useContext(Pm),{basename:e,future:n,navigator:r}=w.useContext(po),{matches:i}=w.useContext(_s),{pathname:s}=Ta(),o=JSON.stringify(bm(i,n.v7_relativeSplatPath)),a=w.useRef(!1);return ek(()=>{a.current=!0}),w.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=xm(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:is([e,d.pathname])),(c.replace?r.replace:r.push)(d,c.state,c)},[e,r,o,s,t])}const U$=w.createContext(null);function j$(t){let e=w.useContext(_s).outlet;return e&&w.createElement(U$.Provider,{value:t},e)}function tk(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=w.useContext(po),{matches:i}=w.useContext(_s),{pathname:s}=Ta(),o=JSON.stringify(bm(i,r.v7_relativeSplatPath));return w.useMemo(()=>xm(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function B$(t,e,n,r){Ea()||Se(!1);let{navigator:i}=w.useContext(po),{matches:s}=w.useContext(_s),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ta(),c;if(e){var d;let E=typeof e=="string"?vs(e):e;l==="/"||(d=E.pathname)!=null&&d.startsWith(l)||Se(!1),c=E}else c=u;let h=c.pathname||"/",f=l==="/"?h:h.slice(l.length)||"/",p=ol(t,{pathname:f}),g=K$(p&&p.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:is([l,i.encodeLocation?i.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:is([l,i.encodeLocation?i.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),s,n,r);return e&&g?w.createElement(km.Provider,{value:{location:cd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Wt.Pop}},g):g}function z$(){let t=X$(),e=HP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:i},n):null,null)}const W$=w.createElement(z$,null);class H$ extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?w.createElement(_s.Provider,{value:this.props.routeContext},w.createElement(ZP.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function q$(t){let{routeContext:e,match:n,children:r}=t,i=w.useContext(Pm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(_s.Provider,{value:e},r)}function K$(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id]));c>=0||Se(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,h)=>{let f,p=!1,g=null,E=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||W$,l&&(u<0&&h===0?(Z$("route-fallback",!1),p=!0,E=null):u===h&&(p=!0,E=d.route.hydrateFallbackElement||null)));let m=e.concat(o.slice(0,h+1)),y=()=>{let v;return f?v=g:p?v=E:d.route.Component?v=w.createElement(d.route.Component,null):d.route.element?v=d.route.element:v=c,w.createElement(q$,{match:d,routeContext:{outlet:c,matches:m,isDataRoute:n!=null},children:v})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?w.createElement(H$,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var nk=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(nk||{}),mp=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(mp||{});function G$(t){let e=w.useContext(Pm);return e||Se(!1),e}function Q$(t){let e=w.useContext(JP);return e||Se(!1),e}function Y$(t){let e=w.useContext(_s);return e||Se(!1),e}function rk(t){let e=Y$(),n=e.matches[e.matches.length-1];return n.route.id||Se(!1),n.route.id}function X$(){var t;let e=w.useContext(ZP),n=Q$(mp.UseRouteError),r=rk(mp.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function J$(){let{router:t}=G$(nk.UseNavigateStable),e=rk(mp.UseNavigateStable),n=w.useRef(!1);return ek(()=>{n.current=!0}),w.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,cd({fromRouteId:e},s)))},[t,e])}const FS={};function Z$(t,e,n){!e&&!FS[t]&&(FS[t]=!0)}function eF(t){let{to:e,replace:n,state:r,relative:i}=t;Ea()||Se(!1);let{future:s,static:o}=w.useContext(po),{matches:a}=w.useContext(_s),{pathname:l}=Ta(),u=Sa(),c=xm(e,bm(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return w.useEffect(()=>u(JSON.parse(d),{replace:n,state:r,relative:i}),[u,d,i,n,r]),null}function L1(t){return j$(t.context)}function qi(t){Se(!1)}function tF(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Wt.Pop,navigator:s,static:o=!1,future:a}=t;Ea()&&Se(!1);let l=e.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:l,navigator:s,static:o,future:cd({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=vs(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,g=w.useMemo(()=>{let E=iu(c,l);return E==null?null:{location:{pathname:E,search:d,hash:h,state:f,key:p},navigationType:i}},[l,c,d,h,f,p,i]);return g==null?null:w.createElement(po.Provider,{value:u},w.createElement(km.Provider,{children:n,value:g}))}new Promise(()=>{});function b_(t,e){e===void 0&&(e=[]);let n=[];return w.Children.forEach(t,(r,i)=>{if(!w.isValidElement(r))return;let s=[...e,i];if(r.type===w.Fragment){n.push.apply(n,b_(r.props.children,s));return}r.type!==qi&&Se(!1),!r.props.index||!r.props.children||Se(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=b_(r.props.children,s)),n.push(o)}),n}function nF(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:w.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:w.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:w.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dd(){return dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dd.apply(this,arguments)}function rF(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function iF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sF(t,e){return t.button===0&&(!e||e==="_self")&&!iF(t)}const oF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],aF="6";try{window.__reactRouterVersion=aF}catch{}function lF(t,e){return C$({basename:e==null?void 0:e.basename,future:dd({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:K4({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||uF(),routes:t,mapRouteProperties:nF,window:e==null?void 0:e.window}).initialize()}function uF(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=dd({},e,{errors:cF(e.errors)})),e}function cF(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new M1(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const dF=w.createContext({isTransitioning:!1}),hF=w.createContext(new Map),fF="startTransition",VS=Wf[fF],pF="flushSync",US=q4[pF];function mF(t){VS?VS(t):t()}function Vu(t){US?US(t):t()}let gF=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function yF(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=w.useState(n.state),[o,a]=w.useState(),[l,u]=w.useState({isTransitioning:!1}),[c,d]=w.useState(),[h,f]=w.useState(),[p,g]=w.useState(),E=w.useRef(new Map),{v7_startTransition:m}=r||{},y=w.useCallback(C=>{m?mF(C):C()},[m]),v=w.useCallback((C,b)=>{let{deletedFetchers:P,unstable_flushSync:x,unstable_viewTransitionOpts:O}=b;P.forEach(M=>E.current.delete(M)),C.fetchers.forEach((M,F)=>{M.data!==void 0&&E.current.set(F,M.data)});let $=n.window==null||typeof n.window.document.startViewTransition!="function";if(!O||$){x?Vu(()=>s(C)):y(()=>s(C));return}if(x){Vu(()=>{h&&(c&&c.resolve(),h.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:O.currentLocation,nextLocation:O.nextLocation})});let M=n.window.document.startViewTransition(()=>{Vu(()=>s(C))});M.finished.finally(()=>{Vu(()=>{d(void 0),f(void 0),a(void 0),u({isTransitioning:!1})})}),Vu(()=>f(M));return}h?(c&&c.resolve(),h.skipTransition(),g({state:C,currentLocation:O.currentLocation,nextLocation:O.nextLocation})):(a(C),u({isTransitioning:!0,flushSync:!1,currentLocation:O.currentLocation,nextLocation:O.nextLocation}))},[n.window,h,c,E,y]);w.useLayoutEffect(()=>n.subscribe(v),[n,v]),w.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new gF)},[l]),w.useEffect(()=>{if(c&&o&&n.window){let C=o,b=c.promise,P=n.window.document.startViewTransition(async()=>{y(()=>s(C)),await b});P.finished.finally(()=>{d(void 0),f(void 0),a(void 0),u({isTransitioning:!1})}),f(P)}},[y,o,c,n.window]),w.useEffect(()=>{c&&o&&i.location.key===o.location.key&&c.resolve()},[c,h,i.location,o]),w.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),u({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),g(void 0))},[l.isTransitioning,p]),w.useEffect(()=>{},[]);let T=w.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:C=>n.navigate(C),push:(C,b,P)=>n.navigate(C,{state:b,preventScrollReset:P==null?void 0:P.preventScrollReset}),replace:(C,b,P)=>n.navigate(C,{replace:!0,state:b,preventScrollReset:P==null?void 0:P.preventScrollReset})}),[n]),R=n.basename||"/",_=w.useMemo(()=>({router:n,navigator:T,static:!1,basename:R}),[n,T,R]);return w.createElement(w.Fragment,null,w.createElement(Pm.Provider,{value:_},w.createElement(JP.Provider,{value:i},w.createElement(hF.Provider,{value:E.current},w.createElement(dF.Provider,{value:l},w.createElement(tF,{basename:R,location:i.location,navigationType:i.historyAction,navigator:T,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?w.createElement(vF,{routes:n.routes,future:n.future,state:i}):e))))),null)}function vF(t){let{routes:e,future:n,state:r}=t;return B$(e,void 0,r,n)}const _F=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jS=w.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,h=rF(e,oF),{basename:f}=w.useContext(po),p,g=!1;if(typeof u=="string"&&wF.test(u)&&(p=u,_F))try{let v=new URL(window.location.href),T=u.startsWith("//")?new URL(v.protocol+u):new URL(u),R=iu(T.pathname,f);T.origin===v.origin&&R!=null?u=R+T.search+T.hash:g=!0}catch{}let E=$$(u,{relative:i}),m=EF(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function y(v){r&&r(v),v.defaultPrevented||m(v)}return w.createElement("a",dd({},h,{href:p||E,onClick:g||s?r:y,ref:n,target:l}))});var BS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(BS||(BS={}));var zS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zS||(zS={}));function EF(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=Sa(),u=Ta(),c=tk(t,{relative:o});return w.useCallback(d=>{if(sF(d,n)){d.preventDefault();let h=r!==void 0?r:ra(u)===ra(c);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}const TF={black:"#000",white:"#fff"},hd=TF,Ro={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},SF={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Da=SF,CF={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},La=CF,IF={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},$a=IF,RF={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Fa=RF,bF={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Uu=bF,xF={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},PF=xF;function ro(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const Ml="$$material";function I(){return I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},I.apply(this,arguments)}function ne(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ik(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var kF=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,AF=ik(function(t){return kF.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91});function NF(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function OF(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var MF=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(OF(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=NF(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Dn="-ms-",gp="-moz-",Ke="-webkit-",sk="comm",$1="rule",F1="decl",DF="@import",ok="@keyframes",LF="@layer",$F=Math.abs,Am=String.fromCharCode,FF=Object.assign;function VF(t,e){return Sn(t,0)^45?(((e<<2^Sn(t,0))<<2^Sn(t,1))<<2^Sn(t,2))<<2^Sn(t,3):0}function ak(t){return t.trim()}function UF(t,e){return(t=e.exec(t))?t[0]:t}function Ge(t,e,n){return t.replace(e,n)}function x_(t,e){return t.indexOf(e)}function Sn(t,e){return t.charCodeAt(e)|0}function fd(t,e,n){return t.slice(e,n)}function _i(t){return t.length}function V1(t){return t.length}function Xh(t,e){return e.push(t),t}function jF(t,e){return t.map(e).join("")}var Nm=1,Dl=1,lk=0,hr=0,Xt=0,su="";function Om(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Nm,column:Dl,length:o,return:""}}function ju(t,e){return FF(Om("",null,null,"",null,null,0),t,{length:-t.length},e)}function BF(){return Xt}function zF(){return Xt=hr>0?Sn(su,--hr):0,Dl--,Xt===10&&(Dl=1,Nm--),Xt}function Er(){return Xt=hr<lk?Sn(su,hr++):0,Dl++,Xt===10&&(Dl=1,Nm++),Xt}function Pi(){return Sn(su,hr)}function kf(){return hr}function Kd(t,e){return fd(su,t,e)}function pd(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function uk(t){return Nm=Dl=1,lk=_i(su=t),hr=0,[]}function ck(t){return su="",t}function Af(t){return ak(Kd(hr-1,P_(t===91?t+2:t===40?t+1:t)))}function WF(t){for(;(Xt=Pi())&&Xt<33;)Er();return pd(t)>2||pd(Xt)>3?"":" "}function HF(t,e){for(;--e&&Er()&&!(Xt<48||Xt>102||Xt>57&&Xt<65||Xt>70&&Xt<97););return Kd(t,kf()+(e<6&&Pi()==32&&Er()==32))}function P_(t){for(;Er();)switch(Xt){case t:return hr;case 34:case 39:t!==34&&t!==39&&P_(Xt);break;case 40:t===41&&P_(t);break;case 92:Er();break}return hr}function qF(t,e){for(;Er()&&t+Xt!==57;)if(t+Xt===84&&Pi()===47)break;return"/*"+Kd(e,hr-1)+"*"+Am(t===47?t:Er())}function KF(t){for(;!pd(Pi());)Er();return Kd(t,hr)}function GF(t){return ck(Nf("",null,null,null,[""],t=uk(t),0,[0],t))}function Nf(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,f=0,p=0,g=1,E=1,m=1,y=0,v="",T=i,R=s,_=r,C=v;E;)switch(p=y,y=Er()){case 40:if(p!=108&&Sn(C,d-1)==58){x_(C+=Ge(Af(y),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:C+=Af(y);break;case 9:case 10:case 13:case 32:C+=WF(p);break;case 92:C+=HF(kf()-1,7);continue;case 47:switch(Pi()){case 42:case 47:Xh(QF(qF(Er(),kf()),e,n),l);break;default:C+="/"}break;case 123*g:a[u++]=_i(C)*m;case 125*g:case 59:case 0:switch(y){case 0:case 125:E=0;case 59+c:m==-1&&(C=Ge(C,/\f/g,"")),f>0&&_i(C)-d&&Xh(f>32?HS(C+";",r,n,d-1):HS(Ge(C," ","")+";",r,n,d-2),l);break;case 59:C+=";";default:if(Xh(_=WS(C,e,n,u,c,i,a,v,T=[],R=[],d),s),y===123)if(c===0)Nf(C,e,_,_,T,s,d,a,R);else switch(h===99&&Sn(C,3)===110?100:h){case 100:case 108:case 109:case 115:Nf(t,_,_,r&&Xh(WS(t,_,_,0,0,i,a,v,i,T=[],d),R),i,R,d,a,r?T:R);break;default:Nf(C,_,_,_,[""],R,0,a,R)}}u=c=f=0,g=m=1,v=C="",d=o;break;case 58:d=1+_i(C),f=p;default:if(g<1){if(y==123)--g;else if(y==125&&g++==0&&zF()==125)continue}switch(C+=Am(y),y*g){case 38:m=c>0?1:(C+="\f",-1);break;case 44:a[u++]=(_i(C)-1)*m,m=1;break;case 64:Pi()===45&&(C+=Af(Er())),h=Pi(),c=d=_i(v=C+=KF(kf())),y++;break;case 45:p===45&&_i(C)==2&&(g=0)}}return s}function WS(t,e,n,r,i,s,o,a,l,u,c){for(var d=i-1,h=i===0?s:[""],f=V1(h),p=0,g=0,E=0;p<r;++p)for(var m=0,y=fd(t,d+1,d=$F(g=o[p])),v=t;m<f;++m)(v=ak(g>0?h[m]+" "+y:Ge(y,/&\f/g,h[m])))&&(l[E++]=v);return Om(t,e,n,i===0?$1:a,l,u,c)}function QF(t,e,n){return Om(t,e,n,sk,Am(BF()),fd(t,2,-2),0)}function HS(t,e,n,r){return Om(t,e,n,F1,fd(t,0,r),fd(t,r+1,-1),r)}function vl(t,e){for(var n="",r=V1(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function YF(t,e,n,r){switch(t.type){case LF:if(t.children.length)break;case DF:case F1:return t.return=t.return||t.value;case sk:return"";case ok:return t.return=t.value+"{"+vl(t.children,r)+"}";case $1:t.value=t.props.join(",")}return _i(n=vl(t.children,r))?t.return=t.value+"{"+n+"}":""}function XF(t){var e=V1(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function JF(t){return function(e){e.root||(e=e.return)&&t(e)}}var ZF=function(e,n,r){for(var i=0,s=0;i=s,s=Pi(),i===38&&s===12&&(n[r]=1),!pd(s);)Er();return Kd(e,hr)},eV=function(e,n){var r=-1,i=44;do switch(pd(i)){case 0:i===38&&Pi()===12&&(n[r]=1),e[r]+=ZF(hr-1,n,r);break;case 2:e[r]+=Af(i);break;case 4:if(i===44){e[++r]=Pi()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=Am(i)}while(i=Er());return e},tV=function(e,n){return ck(eV(uk(e),n))},qS=new WeakMap,nV=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!qS.get(r))&&!i){qS.set(e,!0);for(var s=[],o=tV(n,s),a=r.props,l=0,u=0;l<o.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=s[l]?o[l].replace(/&\f/g,a[c]):a[c]+" "+o[l]}}},rV=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function dk(t,e){switch(VF(t,e)){case 5103:return Ke+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ke+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ke+t+gp+t+Dn+t+t;case 6828:case 4268:return Ke+t+Dn+t+t;case 6165:return Ke+t+Dn+"flex-"+t+t;case 5187:return Ke+t+Ge(t,/(\w+).+(:[^]+)/,Ke+"box-$1$2"+Dn+"flex-$1$2")+t;case 5443:return Ke+t+Dn+"flex-item-"+Ge(t,/flex-|-self/,"")+t;case 4675:return Ke+t+Dn+"flex-line-pack"+Ge(t,/align-content|flex-|-self/,"")+t;case 5548:return Ke+t+Dn+Ge(t,"shrink","negative")+t;case 5292:return Ke+t+Dn+Ge(t,"basis","preferred-size")+t;case 6060:return Ke+"box-"+Ge(t,"-grow","")+Ke+t+Dn+Ge(t,"grow","positive")+t;case 4554:return Ke+Ge(t,/([^-])(transform)/g,"$1"+Ke+"$2")+t;case 6187:return Ge(Ge(Ge(t,/(zoom-|grab)/,Ke+"$1"),/(image-set)/,Ke+"$1"),t,"")+t;case 5495:case 3959:return Ge(t,/(image-set\([^]*)/,Ke+"$1$`$1");case 4968:return Ge(Ge(t,/(.+:)(flex-)?(.*)/,Ke+"box-pack:$3"+Dn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ke+t+t;case 4095:case 3583:case 4068:case 2532:return Ge(t,/(.+)-inline(.+)/,Ke+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(_i(t)-1-e>6)switch(Sn(t,e+1)){case 109:if(Sn(t,e+4)!==45)break;case 102:return Ge(t,/(.+:)(.+)-([^]+)/,"$1"+Ke+"$2-$3$1"+gp+(Sn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~x_(t,"stretch")?dk(Ge(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Sn(t,e+1)!==115)break;case 6444:switch(Sn(t,_i(t)-3-(~x_(t,"!important")&&10))){case 107:return Ge(t,":",":"+Ke)+t;case 101:return Ge(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ke+(Sn(t,14)===45?"inline-":"")+"box$3$1"+Ke+"$2$3$1"+Dn+"$2box$3")+t}break;case 5936:switch(Sn(t,e+11)){case 114:return Ke+t+Dn+Ge(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ke+t+Dn+Ge(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ke+t+Dn+Ge(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ke+t+Dn+t+t}return t}var iV=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case F1:e.return=dk(e.value,e.length);break;case ok:return vl([ju(e,{value:Ge(e.value,"@","@"+Ke)})],i);case $1:if(e.length)return jF(e.props,function(s){switch(UF(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return vl([ju(e,{props:[Ge(s,/:(read-\w+)/,":"+gp+"$1")]})],i);case"::placeholder":return vl([ju(e,{props:[Ge(s,/:(plac\w+)/,":"+Ke+"input-$1")]}),ju(e,{props:[Ge(s,/:(plac\w+)/,":"+gp+"$1")]}),ju(e,{props:[Ge(s,/:(plac\w+)/,Dn+"input-$1")]})],i)}return""})}},sV=[iV],oV=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(g){var E=g.getAttribute("data-emotion");E.indexOf(" ")!==-1&&(document.head.appendChild(g),g.setAttribute("data-s",""))})}var i=e.stylisPlugins||sV,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(g){for(var E=g.getAttribute("data-emotion").split(" "),m=1;m<E.length;m++)s[E[m]]=!0;a.push(g)});var l,u=[nV,rV];{var c,d=[YF,JF(function(g){c.insert(g)})],h=XF(u.concat(i,d)),f=function(E){return vl(GF(E),h)};l=function(E,m,y,v){c=y,f(E?E+"{"+m.styles+"}":m.styles),v&&(p.inserted[m.name]=!0)}}var p={key:n,sheet:new MF({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return p.sheet.hydrate(a),p},hk={exports:{}},et={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vn=typeof Symbol=="function"&&Symbol.for,U1=vn?Symbol.for("react.element"):60103,j1=vn?Symbol.for("react.portal"):60106,Mm=vn?Symbol.for("react.fragment"):60107,Dm=vn?Symbol.for("react.strict_mode"):60108,Lm=vn?Symbol.for("react.profiler"):60114,$m=vn?Symbol.for("react.provider"):60109,Fm=vn?Symbol.for("react.context"):60110,B1=vn?Symbol.for("react.async_mode"):60111,Vm=vn?Symbol.for("react.concurrent_mode"):60111,Um=vn?Symbol.for("react.forward_ref"):60112,jm=vn?Symbol.for("react.suspense"):60113,aV=vn?Symbol.for("react.suspense_list"):60120,Bm=vn?Symbol.for("react.memo"):60115,zm=vn?Symbol.for("react.lazy"):60116,lV=vn?Symbol.for("react.block"):60121,uV=vn?Symbol.for("react.fundamental"):60117,cV=vn?Symbol.for("react.responder"):60118,dV=vn?Symbol.for("react.scope"):60119;function xr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case U1:switch(t=t.type,t){case B1:case Vm:case Mm:case Lm:case Dm:case jm:return t;default:switch(t=t&&t.$$typeof,t){case Fm:case Um:case zm:case Bm:case $m:return t;default:return e}}case j1:return e}}}function fk(t){return xr(t)===Vm}et.AsyncMode=B1;et.ConcurrentMode=Vm;et.ContextConsumer=Fm;et.ContextProvider=$m;et.Element=U1;et.ForwardRef=Um;et.Fragment=Mm;et.Lazy=zm;et.Memo=Bm;et.Portal=j1;et.Profiler=Lm;et.StrictMode=Dm;et.Suspense=jm;et.isAsyncMode=function(t){return fk(t)||xr(t)===B1};et.isConcurrentMode=fk;et.isContextConsumer=function(t){return xr(t)===Fm};et.isContextProvider=function(t){return xr(t)===$m};et.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===U1};et.isForwardRef=function(t){return xr(t)===Um};et.isFragment=function(t){return xr(t)===Mm};et.isLazy=function(t){return xr(t)===zm};et.isMemo=function(t){return xr(t)===Bm};et.isPortal=function(t){return xr(t)===j1};et.isProfiler=function(t){return xr(t)===Lm};et.isStrictMode=function(t){return xr(t)===Dm};et.isSuspense=function(t){return xr(t)===jm};et.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Mm||t===Vm||t===Lm||t===Dm||t===jm||t===aV||typeof t=="object"&&t!==null&&(t.$$typeof===zm||t.$$typeof===Bm||t.$$typeof===$m||t.$$typeof===Fm||t.$$typeof===Um||t.$$typeof===uV||t.$$typeof===cV||t.$$typeof===dV||t.$$typeof===lV)};et.typeOf=xr;hk.exports=et;var hV=hk.exports,pk=hV,fV={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},pV={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},mk={};mk[pk.ForwardRef]=fV;mk[pk.Memo]=pV;var mV=!0;function gV(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var gk=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||mV===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},yk=function(e,n,r){gk(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function yV(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var vV={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},_V=/[A-Z]|^ms/g,wV=/_EMO_([^_]+?)_([^]*?)_EMO_/g,vk=function(e){return e.charCodeAt(1)===45},KS=function(e){return e!=null&&typeof e!="boolean"},Hy=ik(function(t){return vk(t)?t:t.replace(_V,"-$&").toLowerCase()}),GS=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(wV,function(r,i,s){return wi={name:i,styles:s,next:wi},i})}return vV[e]!==1&&!vk(e)&&typeof n=="number"&&n!==0?n+"px":n};function md(t,e,n){if(n==null)return"";if(n.__emotion_styles!==void 0)return n;switch(typeof n){case"boolean":return"";case"object":{if(n.anim===1)return wi={name:n.name,styles:n.styles,next:wi},n.name;if(n.styles!==void 0){var r=n.next;if(r!==void 0)for(;r!==void 0;)wi={name:r.name,styles:r.styles,next:wi},r=r.next;var i=n.styles+";";return i}return EV(t,e,n)}case"function":{if(t!==void 0){var s=wi,o=n(t);return wi=s,md(t,e,o)}break}}if(e==null)return n;var a=e[n];return a!==void 0?a:n}function EV(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=md(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":KS(o)&&(r+=Hy(s)+":"+GS(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)KS(o[a])&&(r+=Hy(s)+":"+GS(s,o[a])+";");else{var l=md(t,e,o);switch(s){case"animation":case"animationName":{r+=Hy(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var QS=/label:\s*([^\s;\n{]+)\s*(;|$)/g,wi,z1=function(e,n,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";wi=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=md(r,n,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=md(r,n,e[a]),i&&(s+=o[a]);QS.lastIndex=0;for(var l="",u;(u=QS.exec(s))!==null;)l+="-"+u[1];var c=yV(s)+l;return{name:c,styles:s,next:wi}},TV=function(e){return e()},_k=Wf.useInsertionEffect?Wf.useInsertionEffect:!1,SV=_k||TV,YS=_k||w.useLayoutEffect,wk=w.createContext(typeof HTMLElement<"u"?oV({key:"css"}):null);wk.Provider;var Ek=function(e){return w.forwardRef(function(n,r){var i=w.useContext(wk);return e(n,i,r)})},Wm=w.createContext({}),CV=Ek(function(t,e){var n=t.styles,r=z1([n],void 0,w.useContext(Wm)),i=w.useRef();return YS(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),YS(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&yk(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function ou(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return z1(e)}var mo=function(){var e=ou.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},IV=AF,RV=function(e){return e!=="theme"},XS=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?IV:RV},JS=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},bV=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return gk(n,r,i),SV(function(){return yk(n,r,i)}),null},xV=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=JS(e,n,r),l=a||XS(i),u=!l("as");return function(){var c=arguments,d=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),c[0]==null||c[0].raw===void 0)d.push.apply(d,c);else{d.push(c[0][0]);for(var h=c.length,f=1;f<h;f++)d.push(c[f],c[0][f])}var p=Ek(function(g,E,m){var y=u&&g.as||i,v="",T=[],R=g;if(g.theme==null){R={};for(var _ in g)R[_]=g[_];R.theme=w.useContext(Wm)}typeof g.className=="string"?v=gV(E.registered,T,g.className):g.className!=null&&(v=g.className+" ");var C=z1(d.concat(T),E.registered,R);v+=E.key+"-"+C.name,o!==void 0&&(v+=" "+o);var b=u&&a===void 0?XS(y):l,P={};for(var x in g)u&&x==="as"||b(x)&&(P[x]=g[x]);return P.className=v,P.ref=m,w.createElement(w.Fragment,null,w.createElement(bV,{cache:E,serialized:C,isStringTag:typeof y=="string"}),w.createElement(y,P))});return p.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=i,p.__emotion_styles=d,p.__emotion_forwardProp=a,Object.defineProperty(p,"toString",{value:function(){return"."+o}}),p.withComponent=function(g,E){return t(g,I({},n,E,{shouldForwardProp:JS(p,E,!0)})).apply(void 0,d)},p}},PV=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],k_=xV.bind();PV.forEach(function(t){k_[t]=k_(t)});function kV(t){return t==null||Object.keys(t).length===0}function AV(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(kV(i)?n:i):e;return S.jsx(CV,{styles:r})}function Tk(t,e){return k_(t,e)}const NV=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))};function Yi(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Sk(t){if(!Yi(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=Sk(t[n])}),e}function ur(t,e,n={clone:!0}){const r=n.clone?I({},t):t;return Yi(t)&&Yi(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Yi(e[i])&&i in t&&Yi(t[i])?r[i]=ur(t[i],e[i],n):n.clone?r[i]=Yi(e[i])?Sk(e[i]):e[i]:r[i]=e[i])}),r}function fe(t){if(typeof t!="string")throw new Error(ro(7));return t.charAt(0).toUpperCase()+t.slice(1)}function A_(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function Hm(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function OV(t,e){return()=>null}function Of(t,e){var n,r;return w.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function ln(t){return t&&t.ownerDocument||document}function $i(t){return ln(t).defaultView||window}function MV(t,e){return()=>null}function yp(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const Fi=typeof window<"u"?w.useLayoutEffect:w.useEffect;let ZS=0;function DV(t){const[e,n]=w.useState(t),r=t||e;return w.useEffect(()=>{e==null&&(ZS+=1,n(`mui-${ZS}`))},[e]),r}const eC=Wf.useId;function qm(t){if(eC!==void 0){const e=eC();return t??e}return DV(t)}function LV(t,e,n,r,i){return null}function vp({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=w.useRef(t!==void 0),[s,o]=w.useState(e),a=i?t:s,l=w.useCallback(u=>{i||o(u)},[]);return[a,l]}function Fr(t){const e=w.useRef(t);return Fi(()=>{e.current=t}),w.useRef((...n)=>(0,e.current)(...n)).current}function en(...t){return w.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{yp(n,e)})},t)}const tC={};function $V(t,e){const n=w.useRef(tC);return n.current===tC&&(n.current=t(e)),n}const FV=[];function VV(t){w.useEffect(t,FV)}class Gd{constructor(){this.currentId=0,this.clear=()=>{this.currentId!==0&&(clearTimeout(this.currentId),this.currentId=0)},this.disposeEffect=()=>this.clear}static create(){return new Gd}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=0,n()},e)}}function $o(){const t=$V(Gd.create).current;return VV(t.disposeEffect),t}let Km=!0,N_=!1;const UV=new Gd,jV={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function BV(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&jV[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function zV(t){t.metaKey||t.altKey||t.ctrlKey||(Km=!0)}function qy(){Km=!1}function WV(){this.visibilityState==="hidden"&&N_&&(Km=!0)}function HV(t){t.addEventListener("keydown",zV,!0),t.addEventListener("mousedown",qy,!0),t.addEventListener("pointerdown",qy,!0),t.addEventListener("touchstart",qy,!0),t.addEventListener("visibilitychange",WV,!0)}function qV(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Km||BV(e)}function W1(){const t=w.useCallback(i=>{i!=null&&HV(i.ownerDocument)},[]),e=w.useRef(!1);function n(){return e.current?(N_=!0,UV.start(100,()=>{N_=!1}),e.current=!1,!0):!1}function r(i){return qV(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function Ck(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function Ik(t,e){const n=I({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=I({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=I({},s),Object.keys(i).forEach(o=>{n[r][o]=Ik(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function tt(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const nC=t=>t,KV=()=>{let t=nC;return{configure(e){t=e},generate(e){return t(e)},reset(){t=nC}}},GV=KV(),H1=GV,Rk={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function nt(t,e,n="Mui"){const r=Rk[e];return r?`${n}-${r}`:`${H1.generate(t)}-${e}`}function Xe(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=nt(t,i,n)}),r}function QV(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const YV=["values","unit","step"],XV=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>I({},n,{[r.key]:r.val}),{})};function JV(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=ne(t,YV),s=XV(e),o=Object.keys(s);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,f){const p=o.indexOf(f);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(p!==-1&&typeof e[o[p]]=="number"?e[o[p]]:f)-r/100}${n})`}function c(h){return o.indexOf(h)+1<o.length?u(h,o[o.indexOf(h)+1]):a(h)}function d(h){const f=o.indexOf(h);return f===0?a(o[1]):f===o.length-1?l(o[f]):u(h,o[o.indexOf(h)+1]).replace("@media","@media not all and")}return I({keys:o,values:s,up:a,down:l,between:u,only:c,not:d,unit:n},i)}const ZV={borderRadius:4},e5=ZV;function xc(t,e){return e?ur(t,e,{clone:!1}):t}const q1={xs:0,sm:600,md:900,lg:1200,xl:1536},rC={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${q1[t]}px)`};function ds(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||rC;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||rC;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||q1).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function t5(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function n5(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Gm(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function _p(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Gm(t,n)||r,e&&(i=e(i,r,t)),i}function qt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,u=Gm(l,r)||{};return ds(o,a,d=>{let h=_p(u,i,d);return d===h&&typeof d=="string"&&(h=_p(u,i,`${e}${d==="default"?"":fe(d)}`,d)),n===!1?h:{[n]:h}})};return s.propTypes={},s.filterProps=[e],s}function r5(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const i5={m:"margin",p:"padding"},s5={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},iC={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},o5=r5(t=>{if(t.length>2)if(iC[t])t=iC[t];else return[t];const[e,n]=t.split(""),r=i5[e],i=s5[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),K1=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],G1=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...K1,...G1];function Qd(t,e,n,r){var i;const s=(i=Gm(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function bk(t){return Qd(t,"spacing",8)}function Yd(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function a5(t,e){return n=>t.reduce((r,i)=>(r[i]=Yd(e,n),r),{})}function l5(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=o5(n),s=a5(i,r),o=t[n];return ds(t,o,s)}function xk(t,e){const n=bk(t.theme);return Object.keys(t).map(r=>l5(t,e,r,n)).reduce(xc,{})}function $t(t){return xk(t,K1)}$t.propTypes={};$t.filterProps=K1;function Ft(t){return xk(t,G1)}Ft.propTypes={};Ft.filterProps=G1;function u5(t=8){if(t.mui)return t;const e=bk({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function Qm(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?xc(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Mr(t){return typeof t!="number"?t:`${t}px solid`}function Qr(t,e){return qt({prop:t,themeKey:"borders",transform:e})}const c5=Qr("border",Mr),d5=Qr("borderTop",Mr),h5=Qr("borderRight",Mr),f5=Qr("borderBottom",Mr),p5=Qr("borderLeft",Mr),m5=Qr("borderColor"),g5=Qr("borderTopColor"),y5=Qr("borderRightColor"),v5=Qr("borderBottomColor"),_5=Qr("borderLeftColor"),w5=Qr("outline",Mr),E5=Qr("outlineColor"),Ym=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Qd(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:Yd(e,r)});return ds(t,t.borderRadius,n)}return null};Ym.propTypes={};Ym.filterProps=["borderRadius"];Qm(c5,d5,h5,f5,p5,m5,g5,y5,v5,_5,Ym,w5,E5);const Xm=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Qd(t.theme,"spacing",8),n=r=>({gap:Yd(e,r)});return ds(t,t.gap,n)}return null};Xm.propTypes={};Xm.filterProps=["gap"];const Jm=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Qd(t.theme,"spacing",8),n=r=>({columnGap:Yd(e,r)});return ds(t,t.columnGap,n)}return null};Jm.propTypes={};Jm.filterProps=["columnGap"];const Zm=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Qd(t.theme,"spacing",8),n=r=>({rowGap:Yd(e,r)});return ds(t,t.rowGap,n)}return null};Zm.propTypes={};Zm.filterProps=["rowGap"];const T5=qt({prop:"gridColumn"}),S5=qt({prop:"gridRow"}),C5=qt({prop:"gridAutoFlow"}),I5=qt({prop:"gridAutoColumns"}),R5=qt({prop:"gridAutoRows"}),b5=qt({prop:"gridTemplateColumns"}),x5=qt({prop:"gridTemplateRows"}),P5=qt({prop:"gridTemplateAreas"}),k5=qt({prop:"gridArea"});Qm(Xm,Jm,Zm,T5,S5,C5,I5,R5,b5,x5,P5,k5);function _l(t,e){return e==="grey"?e:t}const A5=qt({prop:"color",themeKey:"palette",transform:_l}),N5=qt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:_l}),O5=qt({prop:"backgroundColor",themeKey:"palette",transform:_l});Qm(A5,N5,O5);function gr(t){return t<=1&&t!==0?`${t*100}%`:t}const M5=qt({prop:"width",transform:gr}),Q1=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||q1[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:gr(n)}};return ds(t,t.maxWidth,e)}return null};Q1.filterProps=["maxWidth"];const D5=qt({prop:"minWidth",transform:gr}),L5=qt({prop:"height",transform:gr}),$5=qt({prop:"maxHeight",transform:gr}),F5=qt({prop:"minHeight",transform:gr});qt({prop:"size",cssProperty:"width",transform:gr});qt({prop:"size",cssProperty:"height",transform:gr});const V5=qt({prop:"boxSizing"});Qm(M5,Q1,D5,L5,$5,F5,V5);const U5={border:{themeKey:"borders",transform:Mr},borderTop:{themeKey:"borders",transform:Mr},borderRight:{themeKey:"borders",transform:Mr},borderBottom:{themeKey:"borders",transform:Mr},borderLeft:{themeKey:"borders",transform:Mr},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Mr},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Ym},color:{themeKey:"palette",transform:_l},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:_l},backgroundColor:{themeKey:"palette",transform:_l},p:{style:Ft},pt:{style:Ft},pr:{style:Ft},pb:{style:Ft},pl:{style:Ft},px:{style:Ft},py:{style:Ft},padding:{style:Ft},paddingTop:{style:Ft},paddingRight:{style:Ft},paddingBottom:{style:Ft},paddingLeft:{style:Ft},paddingX:{style:Ft},paddingY:{style:Ft},paddingInline:{style:Ft},paddingInlineStart:{style:Ft},paddingInlineEnd:{style:Ft},paddingBlock:{style:Ft},paddingBlockStart:{style:Ft},paddingBlockEnd:{style:Ft},m:{style:$t},mt:{style:$t},mr:{style:$t},mb:{style:$t},ml:{style:$t},mx:{style:$t},my:{style:$t},margin:{style:$t},marginTop:{style:$t},marginRight:{style:$t},marginBottom:{style:$t},marginLeft:{style:$t},marginX:{style:$t},marginY:{style:$t},marginInline:{style:$t},marginInlineStart:{style:$t},marginInlineEnd:{style:$t},marginBlock:{style:$t},marginBlockStart:{style:$t},marginBlockEnd:{style:$t},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Xm},rowGap:{style:Zm},columnGap:{style:Jm},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:gr},maxWidth:{style:Q1},minWidth:{transform:gr},height:{transform:gr},maxHeight:{transform:gr},minHeight:{transform:gr},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},eg=U5;function j5(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function B5(t,e){return typeof t=="function"?t(e):t}function z5(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:d}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=Gm(i,u)||{};return d?d(o):ds(o,r,p=>{let g=_p(h,c,p);return p===g&&typeof p=="string"&&(g=_p(h,c,`${n}${p==="default"?"":fe(p)}`,p)),l===!1?g:{[l]:g}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:eg;function a(l){let u=l;if(typeof l=="function")u=l(s);else if(typeof l!="object")return l;if(!u)return null;const c=t5(s.breakpoints),d=Object.keys(c);let h=c;return Object.keys(u).forEach(f=>{const p=B5(u[f],s);if(p!=null)if(typeof p=="object")if(o[f])h=xc(h,t(f,p,s,o));else{const g=ds({theme:s},p,E=>({[f]:E}));j5(g,p)?h[f]=e({sx:p,theme:s}):h=xc(h,g)}else h=xc(h,t(f,p,s,o))}),n5(d,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const Xd=z5();Xd.filterProps=["sx"];function W5(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const H5=["breakpoints","palette","spacing","shape"];function Y1(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=ne(t,H5),a=JV(n),l=u5(i);let u=ur({breakpoints:a,direction:"ltr",components:{},palette:I({mode:"light"},r),spacing:l,shape:I({},e5,s)},o);return u.applyStyles=W5,u=e.reduce((c,d)=>ur(c,d),u),u.unstable_sxConfig=I({},eg,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return Xd({sx:d,theme:this})},u}function q5(t){return Object.keys(t).length===0}function X1(t=null){const e=w.useContext(Wm);return!e||q5(e)?t:e}const K5=Y1();function tg(t=K5){return X1(t)}function G5({styles:t,themeId:e,defaultTheme:n={}}){const r=tg(n),i=typeof t=="function"?t(e&&r[e]||r):t;return S.jsx(AV,{styles:i})}const Q5=["sx"],Y5=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:eg;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function X5(t){const{sx:e}=t,n=ne(t,Q5),{systemProps:r,otherProps:i}=Y5(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Yi(a)?I({},r,a):r}:s=I({},r,e),I({},i,{sx:s})}function Pk(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Pk(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Te(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Pk(t))&&(r&&(r+=" "),r+=e);return r}const J5=["className","component"];function Z5(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=Tk("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Xd);return w.forwardRef(function(l,u){const c=tg(n),d=X5(l),{className:h,component:f="div"}=d,p=ne(d,J5);return S.jsx(s,I({as:f,ref:u,className:Te(h,i?i(r):r),theme:e&&c[e]||c},p))})}const eU=Xe("MuiBox",["root"]),tU=eU,nU=Z5({defaultClassName:tU.root,generateClassName:H1.generate}),kk=nU,rU=["variant"];function sC(t){return t.length===0}function Ak(t){const{variant:e}=t,n=ne(t,rU);let r=e||"";return Object.keys(n).sort().forEach(i=>{i==="color"?r+=sC(r)?t[i]:fe(t[i]):r+=`${sC(r)?i:fe(i)}${fe(t[i].toString())}`}),r}const iU=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function sU(t){return Object.keys(t).length===0}function oU(t){return typeof t=="string"&&t.charCodeAt(0)>96}const aU=(t,e)=>e.components&&e.components[t]&&e.components[t].styleOverrides?e.components[t].styleOverrides:null,wp=t=>{let e=0;const n={};return t&&t.forEach(r=>{let i="";typeof r.props=="function"?(i=`callback${e}`,e+=1):i=Ak(r.props),n[i]=r.style}),n},lU=(t,e)=>{let n=[];return e&&e.components&&e.components[t]&&e.components[t].variants&&(n=e.components[t].variants),wp(n)},Ep=(t,e,n)=>{const{ownerState:r={}}=t,i=[];let s=0;return n&&n.forEach(o=>{let a=!0;if(typeof o.props=="function"){const l=I({},t,r);a=o.props(l)}else Object.keys(o.props).forEach(l=>{r[l]!==o.props[l]&&t[l]!==o.props[l]&&(a=!1)});a&&(typeof o.props=="function"?i.push(e[`callback${s}`]):i.push(e[Ak(o.props)])),typeof o.props=="function"&&(s+=1)}),i},uU=(t,e,n,r)=>{var i;const s=n==null||(i=n.components)==null||(i=i[r])==null?void 0:i.variants;return Ep(t,e,s)};function Pc(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const cU=Y1(),dU=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Mf({defaultTheme:t,theme:e,themeId:n}){return sU(e)?t:e[n]||e}function hU(t){return t?(e,n)=>n[t]:null}const oC=({styledArg:t,props:e,defaultTheme:n,themeId:r})=>{const i=t(I({},e,{theme:Mf(I({},e,{defaultTheme:n,themeId:r}))}));let s;if(i&&i.variants&&(s=i.variants,delete i.variants),s){const o=Ep(e,wp(s),s);return[i,...o]}return i};function fU(t={}){const{themeId:e,defaultTheme:n=cU,rootShouldForwardProp:r=Pc,slotShouldForwardProp:i=Pc}=t,s=o=>Xd(I({},o,{theme:Mf(I({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{NV(o,T=>T.filter(R=>!(R!=null&&R.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:d,overridesResolver:h=hU(dU(u))}=a,f=ne(a,iU),p=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,g=d||!1;let E,m=Pc;u==="Root"||u==="root"?m=r:u?m=i:oU(o)&&(m=void 0);const y=Tk(o,I({shouldForwardProp:m,label:E},f)),v=(T,...R)=>{const _=R?R.map(x=>{if(typeof x=="function"&&x.__emotion_real!==x)return O=>oC({styledArg:x,props:O,defaultTheme:n,themeId:e});if(Yi(x)){let O=x,$;return x&&x.variants&&($=x.variants,delete O.variants,O=M=>{let F=x;return Ep(M,wp($),$).forEach(B=>{F=ur(F,B)}),F}),O}return x}):[];let C=T;if(Yi(T)){let x;T&&T.variants&&(x=T.variants,delete C.variants,C=O=>{let $=T;return Ep(O,wp(x),x).forEach(F=>{$=ur($,F)}),$})}else typeof T=="function"&&T.__emotion_real!==T&&(C=x=>oC({styledArg:T,props:x,defaultTheme:n,themeId:e}));l&&h&&_.push(x=>{const O=Mf(I({},x,{defaultTheme:n,themeId:e})),$=aU(l,O);if($){const M={};return Object.entries($).forEach(([F,z])=>{M[F]=typeof z=="function"?z(I({},x,{theme:O})):z}),h(x,M)}return null}),l&&!p&&_.push(x=>{const O=Mf(I({},x,{defaultTheme:n,themeId:e}));return uU(x,lU(l,O),O,l)}),g||_.push(s);const b=_.length-R.length;if(Array.isArray(T)&&b>0){const x=new Array(b).fill("");C=[...T,...x],C.raw=[...T.raw,...x]}const P=y(C,..._);return o.muiName&&(P.muiName=o.muiName),P};return y.withConfig&&(v.withConfig=y.withConfig),v}}function pU(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Ik(e.components[n].defaultProps,r)}function mU({props:t,name:e,defaultTheme:n,themeId:r}){let i=tg(n);return r&&(i=i[r]||i),pU({theme:i,name:e,props:t})}function J1(t,e=0,n=1){return QV(t,e,n)}function gU(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ia(t){if(t.type)return t;if(t.charAt(0)==="#")return ia(gU(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(ro(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(ro(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function ng(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function yU(t){t=ia(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(u,c=(u+n/30)%12)=>i-s*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),ng({type:a,values:l})}function O_(t){t=ia(t);let e=t.type==="hsl"||t.type==="hsla"?ia(yU(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function vU(t,e){const n=O_(t),r=O_(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function sa(t,e){return t=ia(t),e=J1(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,ng(t)}function gd(t,e){if(t=ia(t),e=J1(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return ng(t)}function yd(t,e){if(t=ia(t),e=J1(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return ng(t)}function _U(t,e=.15){return O_(t)>.5?gd(t,e):yd(t,e)}const wU=w.createContext(null),Nk=wU;function Ok(){return w.useContext(Nk)}const EU=typeof Symbol=="function"&&Symbol.for,TU=EU?Symbol.for("mui.nested"):"__THEME_NESTED__";function SU(t,e){return typeof e=="function"?e(t):I({},t,e)}function CU(t){const{children:e,theme:n}=t,r=Ok(),i=w.useMemo(()=>{const s=r===null?n:SU(r,n);return s!=null&&(s[TU]=r!==null),s},[n,r]);return S.jsx(Nk.Provider,{value:i,children:e})}const aC={};function lC(t,e,n,r=!1){return w.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const s=n(i),o=t?I({},e,{[t]:s}):s;return r?()=>o:o}return t?I({},e,{[t]:n}):I({},e,n)},[t,e,n,r])}function IU(t){const{children:e,theme:n,themeId:r}=t,i=X1(aC),s=Ok()||aC,o=lC(r,i,n),a=lC(r,s,n,!0);return S.jsx(CU,{theme:a,children:S.jsx(Wm.Provider,{value:o,children:e})})}function RU(t,e){return I({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const bU=["mode","contrastThreshold","tonalOffset"],uC={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:hd.white,default:hd.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Ky={text:{primary:hd.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:hd.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function cC(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=yd(t.main,i):e==="dark"&&(t.dark=gd(t.main,s)))}function xU(t="light"){return t==="dark"?{main:La[200],light:La[50],dark:La[400]}:{main:La[700],light:La[400],dark:La[800]}}function PU(t="light"){return t==="dark"?{main:Da[200],light:Da[50],dark:Da[400]}:{main:Da[500],light:Da[300],dark:Da[700]}}function kU(t="light"){return t==="dark"?{main:Ro[500],light:Ro[300],dark:Ro[700]}:{main:Ro[700],light:Ro[400],dark:Ro[800]}}function AU(t="light"){return t==="dark"?{main:$a[400],light:$a[300],dark:$a[700]}:{main:$a[700],light:$a[500],dark:$a[900]}}function NU(t="light"){return t==="dark"?{main:Fa[400],light:Fa[300],dark:Fa[700]}:{main:Fa[800],light:Fa[500],dark:Fa[900]}}function OU(t="light"){return t==="dark"?{main:Uu[400],light:Uu[300],dark:Uu[700]}:{main:"#ed6c02",light:Uu[500],dark:Uu[900]}}function MU(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=ne(t,bU),s=t.primary||xU(e),o=t.secondary||PU(e),a=t.error||kU(e),l=t.info||AU(e),u=t.success||NU(e),c=t.warning||OU(e);function d(g){return vU(g,Ky.text.primary)>=n?Ky.text.primary:uC.text.primary}const h=({color:g,name:E,mainShade:m=500,lightShade:y=300,darkShade:v=700})=>{if(g=I({},g),!g.main&&g[m]&&(g.main=g[m]),!g.hasOwnProperty("main"))throw new Error(ro(11,E?` (${E})`:"",m));if(typeof g.main!="string")throw new Error(ro(12,E?` (${E})`:"",JSON.stringify(g.main)));return cC(g,"light",y,r),cC(g,"dark",v,r),g.contrastText||(g.contrastText=d(g.main)),g},f={dark:Ky,light:uC};return ur(I({common:I({},hd),mode:e,primary:h({color:s,name:"primary"}),secondary:h({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:PF,contrastThreshold:n,getContrastText:d,augmentColor:h,tonalOffset:r},f[e]),i)}const DU=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function LU(t){return Math.round(t*1e5)/1e5}const dC={textTransform:"uppercase"},hC='"Roboto", "Helvetica", "Arial", sans-serif';function $U(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=hC,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:d}=n,h=ne(n,DU),f=i/14,p=d||(m=>`${m/u*f}rem`),g=(m,y,v,T,R)=>I({fontFamily:r,fontWeight:m,fontSize:p(y),lineHeight:v},r===hC?{letterSpacing:`${LU(T/y)}em`}:{},R,c),E={h1:g(s,96,1.167,-1.5),h2:g(s,60,1.2,-.5),h3:g(o,48,1.167,0),h4:g(o,34,1.235,.25),h5:g(o,24,1.334,0),h6:g(a,20,1.6,.15),subtitle1:g(o,16,1.75,.15),subtitle2:g(a,14,1.57,.1),body1:g(o,16,1.5,.15),body2:g(o,14,1.43,.15),button:g(a,14,1.75,.4,dC),caption:g(o,12,1.66,.4),overline:g(o,12,2.66,1,dC),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ur(I({htmlFontSize:u,pxToRem:p,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},E),h,{clone:!1})}const FU=.2,VU=.14,UU=.12;function It(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${FU})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${VU})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${UU})`].join(",")}const jU=["none",It(0,2,1,-1,0,1,1,0,0,1,3,0),It(0,3,1,-2,0,2,2,0,0,1,5,0),It(0,3,3,-2,0,3,4,0,0,1,8,0),It(0,2,4,-1,0,4,5,0,0,1,10,0),It(0,3,5,-1,0,5,8,0,0,1,14,0),It(0,3,5,-1,0,6,10,0,0,1,18,0),It(0,4,5,-2,0,7,10,1,0,2,16,1),It(0,5,5,-3,0,8,10,1,0,3,14,2),It(0,5,6,-3,0,9,12,1,0,3,16,2),It(0,6,6,-3,0,10,14,1,0,4,18,3),It(0,6,7,-4,0,11,15,1,0,4,20,3),It(0,7,8,-4,0,12,17,2,0,5,22,4),It(0,7,8,-4,0,13,19,2,0,5,24,4),It(0,7,9,-4,0,14,21,2,0,5,26,4),It(0,8,9,-5,0,15,22,2,0,6,28,5),It(0,8,10,-5,0,16,24,2,0,6,30,5),It(0,8,11,-5,0,17,26,2,0,6,32,5),It(0,9,11,-5,0,18,28,2,0,7,34,6),It(0,9,12,-6,0,19,29,2,0,7,36,6),It(0,10,13,-6,0,20,31,3,0,8,38,7),It(0,10,13,-6,0,21,33,3,0,8,40,7),It(0,10,14,-6,0,22,35,3,0,8,42,7),It(0,11,14,-7,0,23,36,3,0,9,44,8),It(0,11,15,-7,0,24,38,3,0,9,46,8)],BU=["duration","easing","delay"],zU={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},WU={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function fC(t){return`${Math.round(t)}ms`}function HU(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function qU(t){const e=I({},zU,t.easing),n=I({},WU,t.duration);return I({getAutoHeightDuration:HU,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return ne(s,BU),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof o=="string"?o:fC(o)} ${a} ${typeof l=="string"?l:fC(l)}`).join(",")}},t,{easing:e,duration:n})}const KU={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},GU=KU,QU=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Mk(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=ne(t,QU);if(t.vars)throw new Error(ro(18));const a=MU(r),l=Y1(t);let u=ur(l,{mixins:RU(l.breakpoints,n),palette:a,shadows:jU.slice(),typography:$U(a,s),transitions:qU(i),zIndex:I({},GU)});return u=ur(u,o),u=e.reduce((c,d)=>ur(c,d),u),u.unstable_sxConfig=I({},eg,o==null?void 0:o.unstable_sxConfig),u.unstable_sx=function(d){return Xd({sx:d,theme:this})},u}const YU=Mk(),rg=YU;function Ca(){const t=tg(rg);return t[Ml]||t}function rt({props:t,name:e}){return mU({props:t,name:e,defaultTheme:rg,themeId:Ml})}const Bi=t=>Pc(t)&&t!=="classes",XU=Pc,Z=fU({themeId:Ml,defaultTheme:rg,rootShouldForwardProp:Bi}),JU=["theme"];function ZU(t){let{theme:e}=t,n=ne(t,JU);const r=e[Ml];return S.jsx(IU,I({},n,{themeId:r?Ml:void 0,theme:r||e}))}const e3=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)},pC=e3;function t3(t){return nt("MuiSvgIcon",t)}Xe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const n3=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],r3=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${fe(e)}`,`fontSize${fe(n)}`]};return tt(i,t3,r)},i3=Z("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${fe(n.color)}`],e[`fontSize${fe(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,u,c,d,h,f,p;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(d=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?d:{action:(f=(t.vars||t).palette)==null||(f=f.action)==null?void 0:f.active,disabled:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.disabled,inherit:void 0}[e.color]}}),M_=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:d,viewBox:h="0 0 24 24"}=r,f=ne(r,n3),p=w.isValidElement(i)&&i.type==="svg",g=I({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:p}),E={};c||(E.viewBox=h);const m=r3(g);return S.jsxs(i3,I({as:a,className:Te(m.root,s),focusable:"false",color:u,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:n},E,f,p&&i.props,{ownerState:g,children:[p?i.props.children:i,d?S.jsx("title",{children:d}):null]}))});M_.muiName="SvgIcon";function go(t,e){function n(r,i){return S.jsx(M_,I({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=M_.muiName,w.memo(w.forwardRef(n))}const s3={configure:t=>{H1.configure(t)}},o3=Object.freeze(Object.defineProperty({__proto__:null,capitalize:fe,createChainedFunction:A_,createSvgIcon:go,debounce:Hm,deprecatedPropType:OV,isMuiElement:Of,ownerDocument:ln,ownerWindow:$i,requirePropFactory:MV,setRef:yp,unstable_ClassNameGenerator:s3,unstable_useEnhancedEffect:Fi,unstable_useId:qm,unsupportedProp:LV,useControlled:vp,useEventCallback:Fr,useForkRef:en,useIsFocusVisible:W1},Symbol.toStringTag,{value:"Module"}));var st={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1=Symbol.for("react.element"),ew=Symbol.for("react.portal"),ig=Symbol.for("react.fragment"),sg=Symbol.for("react.strict_mode"),og=Symbol.for("react.profiler"),ag=Symbol.for("react.provider"),lg=Symbol.for("react.context"),a3=Symbol.for("react.server_context"),ug=Symbol.for("react.forward_ref"),cg=Symbol.for("react.suspense"),dg=Symbol.for("react.suspense_list"),hg=Symbol.for("react.memo"),fg=Symbol.for("react.lazy"),l3=Symbol.for("react.offscreen"),Dk;Dk=Symbol.for("react.module.reference");function Yr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Z1:switch(t=t.type,t){case ig:case og:case sg:case cg:case dg:return t;default:switch(t=t&&t.$$typeof,t){case a3:case lg:case ug:case fg:case hg:case ag:return t;default:return e}}case ew:return e}}}st.ContextConsumer=lg;st.ContextProvider=ag;st.Element=Z1;st.ForwardRef=ug;st.Fragment=ig;st.Lazy=fg;st.Memo=hg;st.Portal=ew;st.Profiler=og;st.StrictMode=sg;st.Suspense=cg;st.SuspenseList=dg;st.isAsyncMode=function(){return!1};st.isConcurrentMode=function(){return!1};st.isContextConsumer=function(t){return Yr(t)===lg};st.isContextProvider=function(t){return Yr(t)===ag};st.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Z1};st.isForwardRef=function(t){return Yr(t)===ug};st.isFragment=function(t){return Yr(t)===ig};st.isLazy=function(t){return Yr(t)===fg};st.isMemo=function(t){return Yr(t)===hg};st.isPortal=function(t){return Yr(t)===ew};st.isProfiler=function(t){return Yr(t)===og};st.isStrictMode=function(t){return Yr(t)===sg};st.isSuspense=function(t){return Yr(t)===cg};st.isSuspenseList=function(t){return Yr(t)===dg};st.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ig||t===og||t===sg||t===cg||t===dg||t===l3||typeof t=="object"&&t!==null&&(t.$$typeof===fg||t.$$typeof===hg||t.$$typeof===ag||t.$$typeof===lg||t.$$typeof===ug||t.$$typeof===Dk||t.getModuleId!==void 0)};st.typeOf=Yr;function D_(t,e){return D_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D_(t,e)}function Lk(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,D_(t,e)}const mC={disabled:!1},Tp=mn.createContext(null);var u3=function(e){return e.scrollTop},lc="unmounted",bo="exited",xo="entering",za="entered",L_="exiting",ws=function(t){Lk(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=bo,s.appearStatus=xo):l=za:r.unmountOnExit||r.mountOnEnter?l=lc:l=bo,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===lc?{status:bo}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==xo&&o!==za&&(s=xo):(o===xo||o===za)&&(s=L_)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===xo){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:ac.findDOMNode(this);o&&u3(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===bo&&this.setState({status:lc})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[ac.findDOMNode(this),a],u=l[0],c=l[1],d=this.getTimeouts(),h=a?d.appear:d.enter;if(!i&&!o||mC.disabled){this.safeSetState({status:za},function(){s.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:xo},function(){s.props.onEntering(u,c),s.onTransitionEnd(h,function(){s.safeSetState({status:za},function(){s.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:ac.findDOMNode(this);if(!s||mC.disabled){this.safeSetState({status:bo},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:L_},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:bo},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:ac.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===lc)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=ne(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return mn.createElement(Tp.Provider,{value:null},typeof o=="function"?o(i,a):mn.cloneElement(mn.Children.only(o),a))},e}(mn.Component);ws.contextType=Tp;ws.propTypes={};function Va(){}ws.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Va,onEntering:Va,onEntered:Va,onExit:Va,onExiting:Va,onExited:Va};ws.UNMOUNTED=lc;ws.EXITED=bo;ws.ENTERING=xo;ws.ENTERED=za;ws.EXITING=L_;const tw=ws;function c3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nw(t,e){var n=function(s){return e&&w.isValidElement(s)?e(s):s},r=Object.create(null);return t&&w.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function d3(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var u=r[l][o];a[r[l][o]]=n(u)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Fo(t,e,n){return n[e]!=null?n[e]:t.props[e]}function h3(t,e){return nw(t.children,function(n){return w.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Fo(n,"appear",t),enter:Fo(n,"enter",t),exit:Fo(n,"exit",t)})})}function f3(t,e,n){var r=nw(t.children),i=d3(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(w.isValidElement(o)){var a=s in e,l=s in r,u=e[s],c=w.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[s]=w.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Fo(o,"exit",t),enter:Fo(o,"enter",t)}):!l&&a&&!c?i[s]=w.cloneElement(o,{in:!1}):l&&a&&w.isValidElement(u)&&(i[s]=w.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:Fo(o,"exit",t),enter:Fo(o,"enter",t)}))}}),i}var p3=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},m3={component:"div",childFactory:function(e){return e}},rw=function(t){Lk(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(c3(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?h3(i,a):f3(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=nw(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=I({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=ne(i,["component","childFactory"]),l=this.state.contextValue,u=p3(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?mn.createElement(Tp.Provider,{value:l},u):mn.createElement(Tp.Provider,{value:l},mn.createElement(s,a,u))},e}(mn.Component);rw.propTypes={};rw.defaultProps=m3;const g3=rw,iw=t=>t.scrollTop;function Ll(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function y3(t){return nt("MuiPaper",t)}Xe("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const v3=["className","component","elevation","square","variant"],_3=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return tt(s,y3,i)},w3=Z("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return I({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&I({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${sa("#fff",pC(e.elevation))}, ${sa("#fff",pC(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),E3=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,u=ne(r,v3),c=I({},r,{component:s,elevation:o,square:a,variant:l}),d=_3(c);return S.jsx(w3,I({as:s,ownerState:c,className:Te(d.root,i),ref:n},u))}),sw=E3;function Sp(t){return typeof t=="string"}function uc(t,e,n){return t===void 0||Sp(t)?e:I({},e,{ownerState:I({},e.ownerState,n)})}const T3={disableDefaultClasses:!1},S3=w.createContext(T3);function C3(t){const{disableDefaultClasses:e}=w.useContext(S3);return n=>e?"":t(n)}function Cp(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function I3(t,e,n){return typeof t=="function"?t(e,n):t}function gC(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function R3(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const f=Te(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),p=I({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),g=I({},n,i,r);return f.length>0&&(g.className=f),Object.keys(p).length>0&&(g.style=p),{props:g,internalRef:void 0}}const o=Cp(I({},i,r)),a=gC(r),l=gC(i),u=e(o),c=Te(u==null?void 0:u.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),d=I({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=I({},u,n,l,a);return c.length>0&&(h.className=c),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:u.ref}}const b3=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function io(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=ne(t,b3),a=s?{}:I3(r,i),{props:l,internalRef:u}=R3(I({},o,{externalSlotProps:a})),c=en(u,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return uc(n,I({},l,{ref:c}),i)}function x3(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:u}=t,[c,d]=w.useState(!1),h=Te(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},p=Te(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&d(!0),w.useEffect(()=>{if(!a&&l!=null){const g=setTimeout(l,u);return()=>{clearTimeout(g)}}},[l,a,u]),S.jsx("span",{className:h,style:f,children:S.jsx("span",{className:p})})}const Ar=Xe("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),P3=["center","classes","className"];let pg=t=>t,yC,vC,_C,wC;const $_=550,k3=80,A3=mo(yC||(yC=pg`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),N3=mo(vC||(vC=pg`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),O3=mo(_C||(_C=pg`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),M3=Z("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),D3=Z(x3,{name:"MuiTouchRipple",slot:"Ripple"})(wC||(wC=pg`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Ar.rippleVisible,A3,$_,({theme:t})=>t.transitions.easing.easeInOut,Ar.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Ar.child,Ar.childLeaving,N3,$_,({theme:t})=>t.transitions.easing.easeInOut,Ar.childPulsate,O3,({theme:t})=>t.transitions.easing.easeInOut),L3=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=ne(r,P3),[l,u]=w.useState([]),c=w.useRef(0),d=w.useRef(null);w.useEffect(()=>{d.current&&(d.current(),d.current=null)},[l]);const h=w.useRef(!1),f=$o(),p=w.useRef(null),g=w.useRef(null),E=w.useCallback(T=>{const{pulsate:R,rippleX:_,rippleY:C,rippleSize:b,cb:P}=T;u(x=>[...x,S.jsx(D3,{classes:{ripple:Te(s.ripple,Ar.ripple),rippleVisible:Te(s.rippleVisible,Ar.rippleVisible),ripplePulsate:Te(s.ripplePulsate,Ar.ripplePulsate),child:Te(s.child,Ar.child),childLeaving:Te(s.childLeaving,Ar.childLeaving),childPulsate:Te(s.childPulsate,Ar.childPulsate)},timeout:$_,pulsate:R,rippleX:_,rippleY:C,rippleSize:b},c.current)]),c.current+=1,d.current=P},[s]),m=w.useCallback((T={},R={},_=()=>{})=>{const{pulsate:C=!1,center:b=i||R.pulsate,fakeElement:P=!1}=R;if((T==null?void 0:T.type)==="mousedown"&&h.current){h.current=!1;return}(T==null?void 0:T.type)==="touchstart"&&(h.current=!0);const x=P?null:g.current,O=x?x.getBoundingClientRect():{width:0,height:0,left:0,top:0};let $,M,F;if(b||T===void 0||T.clientX===0&&T.clientY===0||!T.clientX&&!T.touches)$=Math.round(O.width/2),M=Math.round(O.height/2);else{const{clientX:z,clientY:B}=T.touches&&T.touches.length>0?T.touches[0]:T;$=Math.round(z-O.left),M=Math.round(B-O.top)}if(b)F=Math.sqrt((2*O.width**2+O.height**2)/3),F%2===0&&(F+=1);else{const z=Math.max(Math.abs((x?x.clientWidth:0)-$),$)*2+2,B=Math.max(Math.abs((x?x.clientHeight:0)-M),M)*2+2;F=Math.sqrt(z**2+B**2)}T!=null&&T.touches?p.current===null&&(p.current=()=>{E({pulsate:C,rippleX:$,rippleY:M,rippleSize:F,cb:_})},f.start(k3,()=>{p.current&&(p.current(),p.current=null)})):E({pulsate:C,rippleX:$,rippleY:M,rippleSize:F,cb:_})},[i,E,f]),y=w.useCallback(()=>{m({},{pulsate:!0})},[m]),v=w.useCallback((T,R)=>{if(f.clear(),(T==null?void 0:T.type)==="touchend"&&p.current){p.current(),p.current=null,f.start(0,()=>{v(T,R)});return}p.current=null,u(_=>_.length>0?_.slice(1):_),d.current=R},[f]);return w.useImperativeHandle(n,()=>({pulsate:y,start:m,stop:v}),[y,m,v]),S.jsx(M3,I({className:Te(Ar.root,s.root,o),ref:g},a,{children:S.jsx(g3,{component:null,exit:!0,children:l})}))}),$3=L3;function F3(t){return nt("MuiButtonBase",t)}const V3=Xe("MuiButtonBase",["root","disabled","focusVisible"]),U3=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],j3=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=tt({root:["root",e&&"disabled",n&&"focusVisible"]},F3,i);return n&&r&&(o.root+=` ${r}`),o},B3=Z("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${V3.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),z3=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:f="a",onBlur:p,onClick:g,onContextMenu:E,onDragLeave:m,onFocus:y,onFocusVisible:v,onKeyDown:T,onKeyUp:R,onMouseDown:_,onMouseLeave:C,onMouseUp:b,onTouchEnd:P,onTouchMove:x,onTouchStart:O,tabIndex:$=0,TouchRippleProps:M,touchRippleRef:F,type:z}=r,B=ne(r,U3),j=w.useRef(null),A=w.useRef(null),L=en(A,F),{isFocusVisibleRef:H,onFocus:se,onBlur:re,ref:ce}=W1(),[q,oe]=w.useState(!1);u&&q&&oe(!1),w.useImperativeHandle(i,()=>({focusVisible:()=>{oe(!0),j.current.focus()}}),[]);const[de,$e]=w.useState(!1);w.useEffect(()=>{$e(!0)},[]);const Ne=de&&!c&&!u;w.useEffect(()=>{q&&h&&!c&&de&&A.current.pulsate()},[c,h,q,de]);function ke(te,Lt,Pr=d){return Fr(Zn=>(Lt&&Lt(Zn),!Pr&&A.current&&A.current[te](Zn),!0))}const bt=ke("start",_),le=ke("stop",E),ze=ke("stop",m),ve=ke("stop",b),Fe=ke("stop",te=>{q&&te.preventDefault(),C&&C(te)}),Ee=ke("start",O),wn=ke("stop",P),rn=ke("stop",x),Dt=ke("stop",te=>{re(te),H.current===!1&&oe(!1),p&&p(te)},!1),un=Fr(te=>{j.current||(j.current=te.currentTarget),se(te),H.current===!0&&(oe(!0),v&&v(te)),y&&y(te)}),lt=()=>{const te=j.current;return l&&l!=="button"&&!(te.tagName==="A"&&te.href)},Oe=w.useRef(!1),Kt=Fr(te=>{h&&!Oe.current&&q&&A.current&&te.key===" "&&(Oe.current=!0,A.current.stop(te,()=>{A.current.start(te)})),te.target===te.currentTarget&&lt()&&te.key===" "&&te.preventDefault(),T&&T(te),te.target===te.currentTarget&&lt()&&te.key==="Enter"&&!u&&(te.preventDefault(),g&&g(te))}),ht=Fr(te=>{h&&te.key===" "&&A.current&&q&&!te.defaultPrevented&&(Oe.current=!1,A.current.stop(te,()=>{A.current.pulsate(te)})),R&&R(te),g&&te.target===te.currentTarget&&lt()&&te.key===" "&&!te.defaultPrevented&&g(te)});let be=l;be==="button"&&(B.href||B.to)&&(be=f);const xt={};be==="button"?(xt.type=z===void 0?"button":z,xt.disabled=u):(!B.href&&!B.to&&(xt.role="button"),u&&(xt["aria-disabled"]=u));const sn=en(n,ce,j),Gt=I({},r,{centerRipple:s,component:l,disabled:u,disableRipple:c,disableTouchRipple:d,focusRipple:h,tabIndex:$,focusVisible:q}),We=j3(Gt);return S.jsxs(B3,I({as:be,className:Te(We.root,a),ownerState:Gt,onBlur:Dt,onClick:g,onContextMenu:le,onFocus:un,onKeyDown:Kt,onKeyUp:ht,onMouseDown:bt,onMouseLeave:Fe,onMouseUp:ve,onDragLeave:ze,onTouchEnd:wn,onTouchMove:rn,onTouchStart:Ee,ref:sn,tabIndex:u?-1:$,type:z},xt,B,{children:[o,Ne?S.jsx($3,I({ref:L,center:s},M)):null]}))}),W3=z3;function H3(t){return nt("MuiAlert",t)}const q3=Xe("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),EC=q3;function K3(t){return nt("MuiIconButton",t)}const G3=Xe("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Q3=["edge","children","className","color","disabled","disableFocusRipple","size"],Y3=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${fe(r)}`,i&&`edge${fe(i)}`,`size${fe(s)}`]};return tt(o,K3,e)},X3=Z(W3,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${fe(n.color)}`],n.edge&&e[`edge${fe(n.edge)}`],e[`size${fe(n.size)}`]]}})(({theme:t,ownerState:e})=>I({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:sa(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return I({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&I({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":I({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:sa(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${G3.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),J3=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=r,d=ne(r,Q3),h=I({},r,{edge:i,color:a,disabled:l,disableFocusRipple:u,size:c}),f=Y3(h);return S.jsx(X3,I({className:Te(f.root,o),centerRipple:!0,focusRipple:!u,disabled:l,ref:n,ownerState:h},d,{children:s}))}),Z3=J3,e6=go(S.jsx("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),t6=go(S.jsx("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),n6=go(S.jsx("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),r6=go(S.jsx("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),i6=go(S.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),s6=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],o6=t=>{const{variant:e,color:n,severity:r,classes:i}=t,s={root:["root",`${e}${fe(n||r)}`,`${e}`],icon:["icon"],message:["message"],action:["action"]};return tt(s,H3,i)},a6=Z(sw,{name:"MuiAlert",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${fe(n.color||n.severity)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?gd:yd,r=t.palette.mode==="light"?yd:gd,i=e.color||e.severity;return I({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},i&&e.variant==="standard"&&{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${i}StandardBg`]:r(t.palette[i].light,.9),[`& .${EC.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}},i&&e.variant==="outlined"&&{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),border:`1px solid ${(t.vars||t).palette[i].light}`,[`& .${EC.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}},i&&e.variant==="filled"&&I({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${i}FilledColor`],backgroundColor:t.vars.palette.Alert[`${i}FilledBg`]}:{backgroundColor:t.palette.mode==="dark"?t.palette[i].dark:t.palette[i].main,color:t.palette.getContrastText(t.palette[i].main)}))}),l6=Z("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(t,e)=>e.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),u6=Z("div",{name:"MuiAlert",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),TC=Z("div",{name:"MuiAlert",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),SC={success:S.jsx(e6,{fontSize:"inherit"}),warning:S.jsx(t6,{fontSize:"inherit"}),error:S.jsx(n6,{fontSize:"inherit"}),info:S.jsx(r6,{fontSize:"inherit"})},c6=w.forwardRef(function(e,n){var r,i,s,o,a,l;const u=rt({props:e,name:"MuiAlert"}),{action:c,children:d,className:h,closeText:f="Close",color:p,components:g={},componentsProps:E={},icon:m,iconMapping:y=SC,onClose:v,role:T="alert",severity:R="success",slotProps:_={},slots:C={},variant:b="standard"}=u,P=ne(u,s6),x=I({},u,{color:p,severity:R,variant:b}),O=o6(x),$=(r=(i=C.closeButton)!=null?i:g.CloseButton)!=null?r:Z3,M=(s=(o=C.closeIcon)!=null?o:g.CloseIcon)!=null?s:i6,F=(a=_.closeButton)!=null?a:E.closeButton,z=(l=_.closeIcon)!=null?l:E.closeIcon;return S.jsxs(a6,I({role:T,elevation:0,ownerState:x,className:Te(O.root,h),ref:n},P,{children:[m!==!1?S.jsx(l6,{ownerState:x,className:O.icon,children:m||y[R]||SC[R]}):null,S.jsx(u6,{ownerState:x,className:O.message,children:d}),c!=null?S.jsx(TC,{ownerState:x,className:O.action,children:c}):null,c==null&&v?S.jsx(TC,{ownerState:x,className:O.action,children:S.jsx($,I({size:"small","aria-label":f,title:f,color:"inherit",onClick:v},F,{children:S.jsx(M,I({fontSize:"small"},z))}))}):null]}))}),$k=c6,Fk="base";function d6(t){return`${Fk}--${t}`}function h6(t,e){return`${Fk}-${t}-${e}`}function Vk(t,e){const n=Rk[e];return n?d6(n):h6(t,e)}function f6(t,e){const n={};return e.forEach(r=>{n[r]=Vk(t,r)}),n}function CC(t){return t.substring(2).toLowerCase()}function p6(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}function m6(t){const{children:e,disableReactTree:n=!1,mouseEvent:r="onClick",onClickAway:i,touchEvent:s="onTouchEnd"}=t,o=w.useRef(!1),a=w.useRef(null),l=w.useRef(!1),u=w.useRef(!1);w.useEffect(()=>(setTimeout(()=>{l.current=!0},0),()=>{l.current=!1}),[]);const c=en(e.ref,a),d=Fr(p=>{const g=u.current;u.current=!1;const E=ln(a.current);if(!l.current||!a.current||"clientX"in p&&p6(p,E))return;if(o.current){o.current=!1;return}let m;p.composedPath?m=p.composedPath().indexOf(a.current)>-1:m=!E.documentElement.contains(p.target)||a.current.contains(p.target),!m&&(n||!g)&&i(p)}),h=p=>g=>{u.current=!0;const E=e.props[p];E&&E(g)},f={ref:c};return s!==!1&&(f[s]=h(s)),w.useEffect(()=>{if(s!==!1){const p=CC(s),g=ln(a.current),E=()=>{o.current=!0};return g.addEventListener(p,d),g.addEventListener("touchmove",E),()=>{g.removeEventListener(p,d),g.removeEventListener("touchmove",E)}}},[d,s]),r!==!1&&(f[r]=h(r)),w.useEffect(()=>{if(r!==!1){const p=CC(r),g=ln(a.current);return g.addEventListener(p,d),()=>{g.removeEventListener(p,d)}}},[d,r]),S.jsx(w.Fragment,{children:w.cloneElement(e,f)})}const g6=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function y6(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function v6(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function _6(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||v6(t))}function w6(t){const e=[],n=[];return Array.from(t.querySelectorAll(g6)).forEach((r,i)=>{const s=y6(r);s===-1||!_6(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function E6(){return!0}function T6(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=w6,isEnabled:o=E6,open:a}=t,l=w.useRef(!1),u=w.useRef(null),c=w.useRef(null),d=w.useRef(null),h=w.useRef(null),f=w.useRef(!1),p=w.useRef(null),g=en(e.ref,p),E=w.useRef(null);w.useEffect(()=>{!a||!p.current||(f.current=!n)},[n,a]),w.useEffect(()=>{if(!a||!p.current)return;const v=ln(p.current);return p.current.contains(v.activeElement)||(p.current.hasAttribute("tabIndex")||p.current.setAttribute("tabIndex","-1"),f.current&&p.current.focus()),()=>{i||(d.current&&d.current.focus&&(l.current=!0,d.current.focus()),d.current=null)}},[a]),w.useEffect(()=>{if(!a||!p.current)return;const v=ln(p.current),T=C=>{E.current=C,!(r||!o()||C.key!=="Tab")&&v.activeElement===p.current&&C.shiftKey&&(l.current=!0,c.current&&c.current.focus())},R=()=>{const C=p.current;if(C===null)return;if(!v.hasFocus()||!o()||l.current){l.current=!1;return}if(C.contains(v.activeElement)||r&&v.activeElement!==u.current&&v.activeElement!==c.current)return;if(v.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!f.current)return;let b=[];if((v.activeElement===u.current||v.activeElement===c.current)&&(b=s(p.current)),b.length>0){var P,x;const O=!!((P=E.current)!=null&&P.shiftKey&&((x=E.current)==null?void 0:x.key)==="Tab"),$=b[0],M=b[b.length-1];typeof $!="string"&&typeof M!="string"&&(O?M.focus():$.focus())}else C.focus()};v.addEventListener("focusin",R),v.addEventListener("keydown",T,!0);const _=setInterval(()=>{v.activeElement&&v.activeElement.tagName==="BODY"&&R()},50);return()=>{clearInterval(_),v.removeEventListener("focusin",R),v.removeEventListener("keydown",T,!0)}},[n,r,i,o,a,s]);const m=v=>{d.current===null&&(d.current=v.relatedTarget),f.current=!0,h.current=v.target;const T=e.props.onFocus;T&&T(v)},y=v=>{d.current===null&&(d.current=v.relatedTarget),f.current=!0};return S.jsxs(w.Fragment,{children:[S.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),w.cloneElement(e,{ref:g,onFocus:m}),S.jsx("div",{tabIndex:a?0:-1,onFocus:y,ref:c,"data-testid":"sentinelEnd"})]})}var cr="top",qr="bottom",Kr="right",dr="left",ow="auto",Jd=[cr,qr,Kr,dr],$l="start",vd="end",S6="clippingParents",Uk="viewport",Bu="popper",C6="reference",IC=Jd.reduce(function(t,e){return t.concat([e+"-"+$l,e+"-"+vd])},[]),jk=[].concat(Jd,[ow]).reduce(function(t,e){return t.concat([e,e+"-"+$l,e+"-"+vd])},[]),I6="beforeRead",R6="read",b6="afterRead",x6="beforeMain",P6="main",k6="afterMain",A6="beforeWrite",N6="write",O6="afterWrite",M6=[I6,R6,b6,x6,P6,k6,A6,N6,O6];function Vi(t){return t?(t.nodeName||"").toLowerCase():null}function Cr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function oa(t){var e=Cr(t).Element;return t instanceof e||t instanceof Element}function jr(t){var e=Cr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function aw(t){if(typeof ShadowRoot>"u")return!1;var e=Cr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function D6(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!jr(s)||!Vi(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function L6(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,u){return l[u]="",l},{});!jr(i)||!Vi(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const $6={name:"applyStyles",enabled:!0,phase:"write",fn:D6,effect:L6,requires:["computeStyles"]};function ki(t){return t.split("-")[0]}var qo=Math.max,Ip=Math.min,Fl=Math.round;function F_(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Bk(){return!/^((?!chrome|android).)*safari/i.test(F_())}function Vl(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&jr(t)&&(i=t.offsetWidth>0&&Fl(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Fl(r.height)/t.offsetHeight||1);var o=oa(t)?Cr(t):window,a=o.visualViewport,l=!Bk()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function lw(t){var e=Vl(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function zk(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&aw(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function hs(t){return Cr(t).getComputedStyle(t)}function F6(t){return["table","td","th"].indexOf(Vi(t))>=0}function yo(t){return((oa(t)?t.ownerDocument:t.document)||window.document).documentElement}function mg(t){return Vi(t)==="html"?t:t.assignedSlot||t.parentNode||(aw(t)?t.host:null)||yo(t)}function RC(t){return!jr(t)||hs(t).position==="fixed"?null:t.offsetParent}function V6(t){var e=/firefox/i.test(F_()),n=/Trident/i.test(F_());if(n&&jr(t)){var r=hs(t);if(r.position==="fixed")return null}var i=mg(t);for(aw(i)&&(i=i.host);jr(i)&&["html","body"].indexOf(Vi(i))<0;){var s=hs(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function Zd(t){for(var e=Cr(t),n=RC(t);n&&F6(n)&&hs(n).position==="static";)n=RC(n);return n&&(Vi(n)==="html"||Vi(n)==="body"&&hs(n).position==="static")?e:n||V6(t)||e}function uw(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function kc(t,e,n){return qo(t,Ip(e,n))}function U6(t,e,n){var r=kc(t,e,n);return r>n?n:r}function Wk(){return{top:0,right:0,bottom:0,left:0}}function Hk(t){return Object.assign({},Wk(),t)}function qk(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var j6=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,Hk(typeof e!="number"?e:qk(e,Jd))};function B6(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=ki(n.placement),l=uw(a),u=[dr,Kr].indexOf(a)>=0,c=u?"height":"width";if(!(!s||!o)){var d=j6(i.padding,n),h=lw(s),f=l==="y"?cr:dr,p=l==="y"?qr:Kr,g=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],E=o[l]-n.rects.reference[l],m=Zd(s),y=m?l==="y"?m.clientHeight||0:m.clientWidth||0:0,v=g/2-E/2,T=d[f],R=y-h[c]-d[p],_=y/2-h[c]/2+v,C=kc(T,_,R),b=l;n.modifiersData[r]=(e={},e[b]=C,e.centerOffset=C-_,e)}}function z6(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||zk(e.elements.popper,i)&&(e.elements.arrow=i))}const W6={name:"arrow",enabled:!0,phase:"main",fn:B6,effect:z6,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ul(t){return t.split("-")[1]}var H6={top:"auto",right:"auto",bottom:"auto",left:"auto"};function q6(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Fl(n*i)/i||0,y:Fl(r*i)/i||0}}function bC(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,d=t.isFixed,h=o.x,f=h===void 0?0:h,p=o.y,g=p===void 0?0:p,E=typeof c=="function"?c({x:f,y:g}):{x:f,y:g};f=E.x,g=E.y;var m=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),v=dr,T=cr,R=window;if(u){var _=Zd(n),C="clientHeight",b="clientWidth";if(_===Cr(n)&&(_=yo(n),hs(_).position!=="static"&&a==="absolute"&&(C="scrollHeight",b="scrollWidth")),_=_,i===cr||(i===dr||i===Kr)&&s===vd){T=qr;var P=d&&_===R&&R.visualViewport?R.visualViewport.height:_[C];g-=P-r.height,g*=l?1:-1}if(i===dr||(i===cr||i===qr)&&s===vd){v=Kr;var x=d&&_===R&&R.visualViewport?R.visualViewport.width:_[b];f-=x-r.width,f*=l?1:-1}}var O=Object.assign({position:a},u&&H6),$=c===!0?q6({x:f,y:g},Cr(n)):{x:f,y:g};if(f=$.x,g=$.y,l){var M;return Object.assign({},O,(M={},M[T]=y?"0":"",M[v]=m?"0":"",M.transform=(R.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",M))}return Object.assign({},O,(e={},e[T]=y?g+"px":"",e[v]=m?f+"px":"",e.transform="",e))}function K6(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:ki(e.placement),variation:Ul(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,bC(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,bC(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const G6={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:K6,data:{}};var Jh={passive:!0};function Q6(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=Cr(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&u.forEach(function(c){c.addEventListener("scroll",n.update,Jh)}),a&&l.addEventListener("resize",n.update,Jh),function(){s&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Jh)}),a&&l.removeEventListener("resize",n.update,Jh)}}const Y6={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Q6,data:{}};var X6={left:"right",right:"left",bottom:"top",top:"bottom"};function Df(t){return t.replace(/left|right|bottom|top/g,function(e){return X6[e]})}var J6={start:"end",end:"start"};function xC(t){return t.replace(/start|end/g,function(e){return J6[e]})}function cw(t){var e=Cr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function dw(t){return Vl(yo(t)).left+cw(t).scrollLeft}function Z6(t,e){var n=Cr(t),r=yo(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var u=Bk();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+dw(t),y:l}}function ej(t){var e,n=yo(t),r=cw(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=qo(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=qo(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+dw(t),l=-r.scrollTop;return hs(i||n).direction==="rtl"&&(a+=qo(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function hw(t){var e=hs(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function Kk(t){return["html","body","#document"].indexOf(Vi(t))>=0?t.ownerDocument.body:jr(t)&&hw(t)?t:Kk(mg(t))}function Ac(t,e){var n;e===void 0&&(e=[]);var r=Kk(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=Cr(r),o=i?[s].concat(s.visualViewport||[],hw(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Ac(mg(o)))}function V_(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function tj(t,e){var n=Vl(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function PC(t,e,n){return e===Uk?V_(Z6(t,n)):oa(e)?tj(e,n):V_(ej(yo(t)))}function nj(t){var e=Ac(mg(t)),n=["absolute","fixed"].indexOf(hs(t).position)>=0,r=n&&jr(t)?Zd(t):t;return oa(r)?e.filter(function(i){return oa(i)&&zk(i,r)&&Vi(i)!=="body"}):[]}function rj(t,e,n,r){var i=e==="clippingParents"?nj(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,u){var c=PC(t,u,r);return l.top=qo(c.top,l.top),l.right=Ip(c.right,l.right),l.bottom=Ip(c.bottom,l.bottom),l.left=qo(c.left,l.left),l},PC(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Gk(t){var e=t.reference,n=t.element,r=t.placement,i=r?ki(r):null,s=r?Ul(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case cr:l={x:o,y:e.y-n.height};break;case qr:l={x:o,y:e.y+e.height};break;case Kr:l={x:e.x+e.width,y:a};break;case dr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?uw(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(s){case $l:l[u]=l[u]-(e[c]/2-n[c]/2);break;case vd:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function _d(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?S6:a,u=n.rootBoundary,c=u===void 0?Uk:u,d=n.elementContext,h=d===void 0?Bu:d,f=n.altBoundary,p=f===void 0?!1:f,g=n.padding,E=g===void 0?0:g,m=Hk(typeof E!="number"?E:qk(E,Jd)),y=h===Bu?C6:Bu,v=t.rects.popper,T=t.elements[p?y:h],R=rj(oa(T)?T:T.contextElement||yo(t.elements.popper),l,c,o),_=Vl(t.elements.reference),C=Gk({reference:_,element:v,strategy:"absolute",placement:i}),b=V_(Object.assign({},v,C)),P=h===Bu?b:_,x={top:R.top-P.top+m.top,bottom:P.bottom-R.bottom+m.bottom,left:R.left-P.left+m.left,right:P.right-R.right+m.right},O=t.modifiersData.offset;if(h===Bu&&O){var $=O[i];Object.keys(x).forEach(function(M){var F=[Kr,qr].indexOf(M)>=0?1:-1,z=[cr,qr].indexOf(M)>=0?"y":"x";x[M]+=$[z]*F})}return x}function ij(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?jk:l,c=Ul(r),d=c?a?IC:IC.filter(function(p){return Ul(p)===c}):Jd,h=d.filter(function(p){return u.indexOf(p)>=0});h.length===0&&(h=d);var f=h.reduce(function(p,g){return p[g]=_d(t,{placement:g,boundary:i,rootBoundary:s,padding:o})[ki(g)],p},{});return Object.keys(f).sort(function(p,g){return f[p]-f[g]})}function sj(t){if(ki(t)===ow)return[];var e=Df(t);return[xC(t),e,xC(e)]}function oj(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=f===void 0?!0:f,g=n.allowedAutoPlacements,E=e.options.placement,m=ki(E),y=m===E,v=l||(y||!p?[Df(E)]:sj(E)),T=[E].concat(v).reduce(function(q,oe){return q.concat(ki(oe)===ow?ij(e,{placement:oe,boundary:c,rootBoundary:d,padding:u,flipVariations:p,allowedAutoPlacements:g}):oe)},[]),R=e.rects.reference,_=e.rects.popper,C=new Map,b=!0,P=T[0],x=0;x<T.length;x++){var O=T[x],$=ki(O),M=Ul(O)===$l,F=[cr,qr].indexOf($)>=0,z=F?"width":"height",B=_d(e,{placement:O,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),j=F?M?Kr:dr:M?qr:cr;R[z]>_[z]&&(j=Df(j));var A=Df(j),L=[];if(s&&L.push(B[$]<=0),a&&L.push(B[j]<=0,B[A]<=0),L.every(function(q){return q})){P=O,b=!1;break}C.set(O,L)}if(b)for(var H=p?3:1,se=function(oe){var de=T.find(function($e){var Ne=C.get($e);if(Ne)return Ne.slice(0,oe).every(function(ke){return ke})});if(de)return P=de,"break"},re=H;re>0;re--){var ce=se(re);if(ce==="break")break}e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}}const aj={name:"flip",enabled:!0,phase:"main",fn:oj,requiresIfExists:["offset"],data:{_skip:!1}};function kC(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function AC(t){return[cr,Kr,qr,dr].some(function(e){return t[e]>=0})}function lj(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=_d(e,{elementContext:"reference"}),a=_d(e,{altBoundary:!0}),l=kC(o,r),u=kC(a,i,s),c=AC(l),d=AC(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const uj={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:lj};function cj(t,e,n){var r=ki(t),i=[dr,cr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[dr,Kr].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function dj(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=jk.reduce(function(c,d){return c[d]=cj(d,e.rects,s),c},{}),a=o[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const hj={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:dj};function fj(t){var e=t.state,n=t.name;e.modifiersData[n]=Gk({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const pj={name:"popperOffsets",enabled:!0,phase:"read",fn:fj,data:{}};function mj(t){return t==="x"?"y":"x"}function gj(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,p=n.tetherOffset,g=p===void 0?0:p,E=_d(e,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),m=ki(e.placement),y=Ul(e.placement),v=!y,T=uw(m),R=mj(T),_=e.modifiersData.popperOffsets,C=e.rects.reference,b=e.rects.popper,P=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,x=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,$={x:0,y:0};if(_){if(s){var M,F=T==="y"?cr:dr,z=T==="y"?qr:Kr,B=T==="y"?"height":"width",j=_[T],A=j+E[F],L=j-E[z],H=f?-b[B]/2:0,se=y===$l?C[B]:b[B],re=y===$l?-b[B]:-C[B],ce=e.elements.arrow,q=f&&ce?lw(ce):{width:0,height:0},oe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Wk(),de=oe[F],$e=oe[z],Ne=kc(0,C[B],q[B]),ke=v?C[B]/2-H-Ne-de-x.mainAxis:se-Ne-de-x.mainAxis,bt=v?-C[B]/2+H+Ne+$e+x.mainAxis:re+Ne+$e+x.mainAxis,le=e.elements.arrow&&Zd(e.elements.arrow),ze=le?T==="y"?le.clientTop||0:le.clientLeft||0:0,ve=(M=O==null?void 0:O[T])!=null?M:0,Fe=j+ke-ve-ze,Ee=j+bt-ve,wn=kc(f?Ip(A,Fe):A,j,f?qo(L,Ee):L);_[T]=wn,$[T]=wn-j}if(a){var rn,Dt=T==="x"?cr:dr,un=T==="x"?qr:Kr,lt=_[R],Oe=R==="y"?"height":"width",Kt=lt+E[Dt],ht=lt-E[un],be=[cr,dr].indexOf(m)!==-1,xt=(rn=O==null?void 0:O[R])!=null?rn:0,sn=be?Kt:lt-C[Oe]-b[Oe]-xt+x.altAxis,Gt=be?lt+C[Oe]+b[Oe]-xt-x.altAxis:ht,We=f&&be?U6(sn,lt,Gt):kc(f?sn:Kt,lt,f?Gt:ht);_[R]=We,$[R]=We-lt}e.modifiersData[r]=$}}const yj={name:"preventOverflow",enabled:!0,phase:"main",fn:gj,requiresIfExists:["offset"]};function vj(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function _j(t){return t===Cr(t)||!jr(t)?cw(t):vj(t)}function wj(t){var e=t.getBoundingClientRect(),n=Fl(e.width)/t.offsetWidth||1,r=Fl(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Ej(t,e,n){n===void 0&&(n=!1);var r=jr(e),i=jr(e)&&wj(e),s=yo(e),o=Vl(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Vi(e)!=="body"||hw(s))&&(a=_j(e)),jr(e)?(l=Vl(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=dw(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Tj(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Sj(t){var e=Tj(t);return M6.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Cj(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Ij(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var NC={placement:"bottom",modifiers:[],strategy:"absolute"};function OC(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function Rj(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?NC:i;return function(a,l,u){u===void 0&&(u=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},NC,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:c,setOptions:function(m){var y=typeof m=="function"?m(c.options):m;g(),c.options=Object.assign({},s,c.options,y),c.scrollParents={reference:oa(a)?Ac(a):a.contextElement?Ac(a.contextElement):[],popper:Ac(l)};var v=Sj(Ij([].concat(r,c.options.modifiers)));return c.orderedModifiers=v.filter(function(T){return T.enabled}),p(),f.update()},forceUpdate:function(){if(!h){var m=c.elements,y=m.reference,v=m.popper;if(OC(y,v)){c.rects={reference:Ej(y,Zd(v),c.options.strategy==="fixed"),popper:lw(v)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(x){return c.modifiersData[x.name]=Object.assign({},x.data)});for(var T=0;T<c.orderedModifiers.length;T++){if(c.reset===!0){c.reset=!1,T=-1;continue}var R=c.orderedModifiers[T],_=R.fn,C=R.options,b=C===void 0?{}:C,P=R.name;typeof _=="function"&&(c=_({state:c,options:b,name:P,instance:f})||c)}}}},update:Cj(function(){return new Promise(function(E){f.forceUpdate(),E(c)})}),destroy:function(){g(),h=!0}};if(!OC(a,l))return f;f.setOptions(u).then(function(E){!h&&u.onFirstUpdate&&u.onFirstUpdate(E)});function p(){c.orderedModifiers.forEach(function(E){var m=E.name,y=E.options,v=y===void 0?{}:y,T=E.effect;if(typeof T=="function"){var R=T({state:c,name:m,instance:f,options:v}),_=function(){};d.push(R||_)}})}function g(){d.forEach(function(E){return E()}),d=[]}return f}}var bj=[Y6,pj,G6,$6,hj,aj,yj,W6,uj],xj=Rj({defaultModifiers:bj});function Pj(t){return typeof t=="function"?t():t}const Qk=w.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=w.useState(null),l=en(w.isValidElement(r)?r.ref:null,n);if(Fi(()=>{s||a(Pj(i)||document.body)},[i,s]),Fi(()=>{if(o&&!s)return yp(n,o),()=>{yp(n,null)}},[n,o,s]),s){if(w.isValidElement(r)){const u={ref:l};return w.cloneElement(r,u)}return S.jsx(w.Fragment,{children:r})}return S.jsx(w.Fragment,{children:o&&qd.createPortal(r,o)})}),Yk="Popper";function kj(t){return Vk(Yk,t)}f6(Yk,["root"]);const Aj=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Nj=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Oj(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function U_(t){return typeof t=="function"?t():t}function Mj(t){return t.nodeType!==void 0}const Dj=()=>tt({root:["root"]},C3(kj)),Lj={},$j=w.forwardRef(function(e,n){var r;const{anchorEl:i,children:s,direction:o,disablePortal:a,modifiers:l,open:u,placement:c,popperOptions:d,popperRef:h,slotProps:f={},slots:p={},TransitionProps:g}=e,E=ne(e,Aj),m=w.useRef(null),y=en(m,n),v=w.useRef(null),T=en(v,h),R=w.useRef(T);Fi(()=>{R.current=T},[T]),w.useImperativeHandle(h,()=>v.current,[]);const _=Oj(c,o),[C,b]=w.useState(_),[P,x]=w.useState(U_(i));w.useEffect(()=>{v.current&&v.current.forceUpdate()}),w.useEffect(()=>{i&&x(U_(i))},[i]),Fi(()=>{if(!P||!u)return;const z=A=>{b(A.placement)};let B=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:A})=>{z(A)}}];l!=null&&(B=B.concat(l)),d&&d.modifiers!=null&&(B=B.concat(d.modifiers));const j=xj(P,m.current,I({placement:_},d,{modifiers:B}));return R.current(j),()=>{j.destroy(),R.current(null)}},[P,a,l,u,d,_]);const O={placement:C};g!==null&&(O.TransitionProps=g);const $=Dj(),M=(r=p.root)!=null?r:"div",F=io({elementType:M,externalSlotProps:f.root,externalForwardedProps:E,additionalProps:{role:"tooltip",ref:y},ownerState:e,className:$.root});return S.jsx(M,I({},F,{children:typeof s=="function"?s(O):s}))}),Fj=w.forwardRef(function(e,n){const{anchorEl:r,children:i,container:s,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:c,placement:d="bottom",popperOptions:h=Lj,popperRef:f,style:p,transition:g=!1,slotProps:E={},slots:m={}}=e,y=ne(e,Nj),[v,T]=w.useState(!0),R=()=>{T(!1)},_=()=>{T(!0)};if(!l&&!c&&(!g||v))return null;let C;if(s)C=s;else if(r){const x=U_(r);C=x&&Mj(x)?ln(x).body:ln(null).body}const b=!c&&l&&(!g||v)?"none":void 0,P=g?{in:c,onEnter:R,onExited:_}:void 0;return S.jsx(Qk,{disablePortal:a,container:C,children:S.jsx($j,I({anchorEl:r,direction:o,disablePortal:a,modifiers:u,ref:n,open:g?!v:c,placement:d,popperOptions:h,popperRef:f,slotProps:E,slots:m},y,{style:I({position:"fixed",top:0,left:0,display:b},p),TransitionProps:P,children:i}))})});function Vj(t){const e=ln(t);return e.body===t?$i(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function Nc(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function MC(t){return parseInt($i(t).getComputedStyle(t).paddingRight,10)||0}function Uj(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function DC(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!Uj(o);a&&l&&Nc(o,i)})}function Gy(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function jj(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(Vj(r)){const o=Ck(ln(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${MC(r)+o}px`;const a=ln(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${MC(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=ln(r).body;else{const o=r.parentElement,a=$i(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function Bj(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class zj{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&Nc(e.modalRef,!1);const i=Bj(n);DC(n,e.mount,e.modalRef,i,!0);const s=Gy(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Gy(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=jj(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Gy(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&Nc(e.modalRef,n),DC(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&Nc(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function Wj(t){return typeof t=="function"?t():t}function Hj(t){return t?t.props.hasOwnProperty("in"):!1}const qj=new zj;function Kj(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=qj,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:u,open:c,rootRef:d}=t,h=w.useRef({}),f=w.useRef(null),p=w.useRef(null),g=en(p,d),[E,m]=w.useState(!c),y=Hj(l);let v=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(v=!1);const T=()=>ln(f.current),R=()=>(h.current.modalRef=p.current,h.current.mount=f.current,h.current),_=()=>{i.mount(R(),{disableScrollLock:r}),p.current&&(p.current.scrollTop=0)},C=Fr(()=>{const B=Wj(e)||T().body;i.add(R(),B),p.current&&_()}),b=w.useCallback(()=>i.isTopModal(R()),[i]),P=Fr(B=>{f.current=B,B&&(c&&b()?_():p.current&&Nc(p.current,v))}),x=w.useCallback(()=>{i.remove(R(),v)},[v,i]);w.useEffect(()=>()=>{x()},[x]),w.useEffect(()=>{c?C():(!y||!s)&&x()},[c,x,y,s,C]);const O=B=>j=>{var A;(A=B.onKeyDown)==null||A.call(B,j),!(j.key!=="Escape"||j.which===229||!b())&&(n||(j.stopPropagation(),u&&u(j,"escapeKeyDown")))},$=B=>j=>{var A;(A=B.onClick)==null||A.call(B,j),j.target===j.currentTarget&&u&&u(j,"backdropClick")};return{getRootProps:(B={})=>{const j=Cp(t);delete j.onTransitionEnter,delete j.onTransitionExited;const A=I({},j,B);return I({role:"presentation"},A,{onKeyDown:O(A),ref:g})},getBackdropProps:(B={})=>{const j=B;return I({"aria-hidden":!0},j,{onClick:$(j),open:c})},getTransitionProps:()=>{const B=()=>{m(!1),o&&o()},j=()=>{m(!0),a&&a(),s&&x()};return{onEnter:A_(B,l==null?void 0:l.props.onEnter),onExited:A_(j,l==null?void 0:l.props.onExited)}},rootRef:g,portalRef:P,isTopModal:b,exited:E,hasTransition:y}}function Gj(t={}){const{autoHideDuration:e=null,disableWindowBlurListener:n=!1,onClose:r,open:i,resumeHideDuration:s}=t,o=$o();w.useEffect(()=>{if(!i)return;function m(y){y.defaultPrevented||(y.key==="Escape"||y.key==="Esc")&&(r==null||r(y,"escapeKeyDown"))}return document.addEventListener("keydown",m),()=>{document.removeEventListener("keydown",m)}},[i,r]);const a=Fr((m,y)=>{r==null||r(m,y)}),l=Fr(m=>{!r||m==null||o.start(m,()=>{a(null,"timeout")})});w.useEffect(()=>(i&&l(e),o.clear),[i,e,l,o]);const u=m=>{r==null||r(m,"clickaway")},c=o.clear,d=w.useCallback(()=>{e!=null&&l(s??e*.5)},[e,s,l]),h=m=>y=>{const v=m.onBlur;v==null||v(y),d()},f=m=>y=>{const v=m.onFocus;v==null||v(y),c()},p=m=>y=>{const v=m.onMouseEnter;v==null||v(y),c()},g=m=>y=>{const v=m.onMouseLeave;v==null||v(y),d()};return w.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",d),window.addEventListener("blur",c),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",c)}},[n,i,d,c]),{getRootProps:(m={})=>{const y=I({},Cp(t),Cp(m));return I({role:"presentation"},m,y,{onBlur:h(y),onFocus:f(y),onMouseEnter:p(y),onMouseLeave:g(y)})},onClickAway:u}}const Qj=["onChange","maxRows","minRows","style","value"];function Zh(t){return parseInt(t,10)||0}const Yj={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function LC(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflow}const Xj=w.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:s=1,style:o,value:a}=e,l=ne(e,Qj),{current:u}=w.useRef(a!=null),c=w.useRef(null),d=en(n,c),h=w.useRef(null),f=w.useRef(0),[p,g]=w.useState({outerHeightStyle:0}),E=w.useCallback(()=>{const T=c.current,_=$i(T).getComputedStyle(T);if(_.width==="0px")return{outerHeightStyle:0};const C=h.current;C.style.width=_.width,C.value=T.value||e.placeholder||"x",C.value.slice(-1)===`
`&&(C.value+=" ");const b=_.boxSizing,P=Zh(_.paddingBottom)+Zh(_.paddingTop),x=Zh(_.borderBottomWidth)+Zh(_.borderTopWidth),O=C.scrollHeight;C.value="x";const $=C.scrollHeight;let M=O;s&&(M=Math.max(Number(s)*$,M)),i&&(M=Math.min(Number(i)*$,M)),M=Math.max(M,$);const F=M+(b==="border-box"?P+x:0),z=Math.abs(M-O)<=1;return{outerHeightStyle:F,overflow:z}},[i,s,e.placeholder]),m=(T,R)=>{const{outerHeightStyle:_,overflow:C}=R;return f.current<20&&(_>0&&Math.abs((T.outerHeightStyle||0)-_)>1||T.overflow!==C)?(f.current+=1,{overflow:C,outerHeightStyle:_}):T},y=w.useCallback(()=>{const T=E();LC(T)||g(R=>m(R,T))},[E]);Fi(()=>{const T=()=>{const O=E();LC(O)||qd.flushSync(()=>{g($=>m($,O))})},R=()=>{f.current=0,T()};let _;const C=Hm(R),b=c.current,P=$i(b);P.addEventListener("resize",C);let x;return typeof ResizeObserver<"u"&&(x=new ResizeObserver(R),x.observe(b)),()=>{C.clear(),cancelAnimationFrame(_),P.removeEventListener("resize",C),x&&x.disconnect()}},[E]),Fi(()=>{y()}),w.useEffect(()=>{f.current=0},[a]);const v=T=>{f.current=0,u||y(),r&&r(T)};return S.jsxs(w.Fragment,{children:[S.jsx("textarea",I({value:a,onChange:v,ref:d,rows:s,style:I({height:p.outerHeightStyle,overflow:p.overflow?"hidden":void 0},o)},l)),S.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:I({},Yj.shadow,o,{paddingTop:0,paddingBottom:0})})]})}),Jj=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],Zj=Z(Fj,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),e9=w.forwardRef(function(e,n){var r;const i=X1(),s=rt({props:e,name:"MuiPopper"}),{anchorEl:o,component:a,components:l,componentsProps:u,container:c,disablePortal:d,keepMounted:h,modifiers:f,open:p,placement:g,popperOptions:E,popperRef:m,transition:y,slots:v,slotProps:T}=s,R=ne(s,Jj),_=(r=v==null?void 0:v.root)!=null?r:l==null?void 0:l.Root,C=I({anchorEl:o,container:c,disablePortal:d,keepMounted:h,modifiers:f,open:p,placement:g,popperOptions:E,popperRef:m,transition:y},R);return S.jsx(Zj,I({as:a,direction:i==null?void 0:i.direction,slots:{root:_},slotProps:T??u},C,{ref:n}))}),Xk=e9;function au({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const t9=w.createContext(void 0),fw=t9;function lu(){return w.useContext(fw)}function n9(t){return S.jsx(G5,I({},t,{defaultTheme:rg,themeId:Ml}))}function $C(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function Rp(t,e=!1){return t&&($C(t.value)&&t.value!==""||e&&$C(t.defaultValue)&&t.defaultValue!=="")}function r9(t){return t.startAdornment}function i9(t){return nt("MuiInputBase",t)}const s9=Xe("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),jl=s9,o9=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],gg=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${fe(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},yg=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},a9=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:s,focused:o,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:h,startAdornment:f,type:p}=t,g={root:["root",`color${fe(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",h&&h!=="medium"&&`size${fe(h)}`,c&&"multiline",f&&"adornedStart",s&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled",p==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",s&&"inputAdornedEnd",d&&"readOnly"]};return tt(g,i9,e)},vg=Z("div",{name:"MuiInputBase",slot:"Root",overridesResolver:gg})(({theme:t,ownerState:e})=>I({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${jl.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&I({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),_g=Z("input",{name:"MuiInputBase",slot:"Input",overridesResolver:yg})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=I({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return I({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${jl.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${jl.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),l9=S.jsx(n9,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),u9=w.forwardRef(function(e,n){var r;const i=rt({props:e,name:"MuiInputBase"}),{"aria-describedby":s,autoComplete:o,autoFocus:a,className:l,components:u={},componentsProps:c={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:f,endAdornment:p,fullWidth:g=!1,id:E,inputComponent:m="input",inputProps:y={},inputRef:v,maxRows:T,minRows:R,multiline:_=!1,name:C,onBlur:b,onChange:P,onClick:x,onFocus:O,onKeyDown:$,onKeyUp:M,placeholder:F,readOnly:z,renderSuffix:B,rows:j,slotProps:A={},slots:L={},startAdornment:H,type:se="text",value:re}=i,ce=ne(i,o9),q=y.value!=null?y.value:re,{current:oe}=w.useRef(q!=null),de=w.useRef(),$e=w.useCallback(We=>{},[]),Ne=en(de,v,y.ref,$e),[ke,bt]=w.useState(!1),le=lu(),ze=au({props:i,muiFormControl:le,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ze.focused=le?le.focused:ke,w.useEffect(()=>{!le&&h&&ke&&(bt(!1),b&&b())},[le,h,ke,b]);const ve=le&&le.onFilled,Fe=le&&le.onEmpty,Ee=w.useCallback(We=>{Rp(We)?ve&&ve():Fe&&Fe()},[ve,Fe]);Fi(()=>{oe&&Ee({value:q})},[q,Ee,oe]);const wn=We=>{if(ze.disabled){We.stopPropagation();return}O&&O(We),y.onFocus&&y.onFocus(We),le&&le.onFocus?le.onFocus(We):bt(!0)},rn=We=>{b&&b(We),y.onBlur&&y.onBlur(We),le&&le.onBlur?le.onBlur(We):bt(!1)},Dt=(We,...te)=>{if(!oe){const Lt=We.target||de.current;if(Lt==null)throw new Error(ro(1));Ee({value:Lt.value})}y.onChange&&y.onChange(We,...te),P&&P(We,...te)};w.useEffect(()=>{Ee(de.current)},[]);const un=We=>{de.current&&We.currentTarget===We.target&&de.current.focus(),x&&x(We)};let lt=m,Oe=y;_&&lt==="input"&&(j?Oe=I({type:void 0,minRows:j,maxRows:j},Oe):Oe=I({type:void 0,maxRows:T,minRows:R},Oe),lt=Xj);const Kt=We=>{Ee(We.animationName==="mui-auto-fill-cancel"?de.current:{value:"x"})};w.useEffect(()=>{le&&le.setAdornedStart(!!H)},[le,H]);const ht=I({},i,{color:ze.color||"primary",disabled:ze.disabled,endAdornment:p,error:ze.error,focused:ze.focused,formControl:le,fullWidth:g,hiddenLabel:ze.hiddenLabel,multiline:_,size:ze.size,startAdornment:H,type:se}),be=a9(ht),xt=L.root||u.Root||vg,sn=A.root||c.root||{},Gt=L.input||u.Input||_g;return Oe=I({},Oe,(r=A.input)!=null?r:c.input),S.jsxs(w.Fragment,{children:[!f&&l9,S.jsxs(xt,I({},sn,!Sp(xt)&&{ownerState:I({},ht,sn.ownerState)},{ref:n,onClick:un},ce,{className:Te(be.root,sn.className,l,z&&"MuiInputBase-readOnly"),children:[H,S.jsx(fw.Provider,{value:null,children:S.jsx(Gt,I({ownerState:ht,"aria-invalid":ze.error,"aria-describedby":s,autoComplete:o,autoFocus:a,defaultValue:d,disabled:ze.disabled,id:E,onAnimationStart:Kt,name:C,placeholder:F,readOnly:z,required:ze.required,rows:j,value:q,onKeyDown:$,onKeyUp:M,type:se},Oe,!Sp(Gt)&&{as:lt,ownerState:I({},ht,Oe.ownerState)},{ref:Ne,className:Te(be.input,Oe.className,z&&"MuiInputBase-readOnly"),onBlur:rn,onChange:Dt,onFocus:wn}))}),p,B?B(I({},ze,{startAdornment:H})):null]}))]})}),pw=u9;function c9(t){return nt("MuiInput",t)}const d9=I({},jl,Xe("MuiInput",["root","underline","input"])),zu=d9;function h9(t){return nt("MuiOutlinedInput",t)}const f9=I({},jl,Xe("MuiOutlinedInput",["root","notchedOutline","input"])),Is=f9;function p9(t){return nt("MuiFilledInput",t)}const m9=I({},jl,Xe("MuiFilledInput",["root","underline","input"])),So=m9,g9=go(S.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),y9=go(S.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function v9(t){return nt("MuiAvatar",t)}Xe("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const _9=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],w9=t=>{const{classes:e,variant:n,colorDefault:r}=t;return tt({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},v9,e)},E9=Z("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:I({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:I({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),T9=Z("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),S9=Z(y9,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function C9({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,s]=w.useState(!1);return w.useEffect(()=>{if(!n&&!r)return;s(!1);let o=!0;const a=new Image;return a.onload=()=>{o&&s("loaded")},a.onerror=()=>{o&&s("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{o=!1}},[t,e,n,r]),i}const I9=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:o,component:a="div",imgProps:l,sizes:u,src:c,srcSet:d,variant:h="circular"}=r,f=ne(r,_9);let p=null;const g=C9(I({},l,{src:c,srcSet:d})),E=c||d,m=E&&g!=="error",y=I({},r,{colorDefault:!m,component:a,variant:h}),v=w9(y);return m?p=S.jsx(T9,I({alt:i,srcSet:d,src:c,sizes:u,ownerState:y,className:v.img},l)):s!=null&&s!==""&&typeof s!="boolean"?p=s:E&&i?p=i[0]:p=S.jsx(S9,{ownerState:y,className:v.fallback}),S.jsx(E9,I({as:a,ownerState:y,className:Te(v.root,o),ref:n},f,{children:p}))}),wd=I9,R9=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],b9={entering:{opacity:1},entered:{opacity:1}},x9=w.forwardRef(function(e,n){const r=Ca(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:u,onEnter:c,onEntered:d,onEntering:h,onExit:f,onExited:p,onExiting:g,style:E,timeout:m=i,TransitionComponent:y=tw}=e,v=ne(e,R9),T=w.useRef(null),R=en(T,a.ref,n),_=F=>z=>{if(F){const B=T.current;z===void 0?F(B):F(B,z)}},C=_(h),b=_((F,z)=>{iw(F);const B=Ll({style:E,timeout:m,easing:l},{mode:"enter"});F.style.webkitTransition=r.transitions.create("opacity",B),F.style.transition=r.transitions.create("opacity",B),c&&c(F,z)}),P=_(d),x=_(g),O=_(F=>{const z=Ll({style:E,timeout:m,easing:l},{mode:"exit"});F.style.webkitTransition=r.transitions.create("opacity",z),F.style.transition=r.transitions.create("opacity",z),f&&f(F)}),$=_(p),M=F=>{s&&s(T.current,F)};return S.jsx(y,I({appear:o,in:u,nodeRef:T,onEnter:b,onEntered:P,onEntering:C,onExit:O,onExited:$,onExiting:x,addEndListener:M,timeout:m},v,{children:(F,z)=>w.cloneElement(a,I({style:I({opacity:0,visibility:F==="exited"&&!u?"hidden":void 0},b9[F],E,a.props.style),ref:R},z))}))}),Jk=x9;function P9(t){return nt("MuiBackdrop",t)}Xe("MuiBackdrop",["root","invisible"]);const k9=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],A9=t=>{const{classes:e,invisible:n}=t;return tt({root:["root",n&&"invisible"]},P9,e)},N9=Z("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>I({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),O9=w.forwardRef(function(e,n){var r,i,s;const o=rt({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:u="div",components:c={},componentsProps:d={},invisible:h=!1,open:f,slotProps:p={},slots:g={},TransitionComponent:E=Jk,transitionDuration:m}=o,y=ne(o,k9),v=I({},o,{component:u,invisible:h}),T=A9(v),R=(r=p.root)!=null?r:d.root;return S.jsx(E,I({in:f,timeout:m},y,{children:S.jsx(N9,I({"aria-hidden":!0},R,{as:(i=(s=g.root)!=null?s:c.Root)!=null?i:u,className:Te(T.root,l,R==null?void 0:R.className),ownerState:I({},v,R==null?void 0:R.ownerState),classes:T,ref:n,children:a}))}))}),M9=O9;function D9(t){return nt("MuiCircularProgress",t)}Xe("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const L9=["className","color","disableShrink","size","style","thickness","value","variant"];let wg=t=>t,FC,VC,UC,jC;const Rs=44,$9=mo(FC||(FC=wg`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),F9=mo(VC||(VC=wg`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),V9=t=>{const{classes:e,variant:n,color:r,disableShrink:i}=t,s={root:["root",n,`color${fe(r)}`],svg:["svg"],circle:["circle",`circle${fe(n)}`,i&&"circleDisableShrink"]};return tt(s,D9,e)},U9=Z("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${fe(n.color)}`]]}})(({ownerState:t,theme:e})=>I({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&ou(UC||(UC=wg`
      animation: ${0} 1.4s linear infinite;
    `),$9)),j9=Z("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),B9=Z("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${fe(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>I({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&ou(jC||(jC=wg`
      animation: ${0} 1.4s ease-in-out infinite;
    `),F9)),z9=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:o=!1,size:a=40,style:l,thickness:u=3.6,value:c=0,variant:d="indeterminate"}=r,h=ne(r,L9),f=I({},r,{color:s,disableShrink:o,size:a,thickness:u,value:c,variant:d}),p=V9(f),g={},E={},m={};if(d==="determinate"){const y=2*Math.PI*((Rs-u)/2);g.strokeDasharray=y.toFixed(3),m["aria-valuenow"]=Math.round(c),g.strokeDashoffset=`${((100-c)/100*y).toFixed(3)}px`,E.transform="rotate(-90deg)"}return S.jsx(U9,I({className:Te(p.root,i),style:I({width:a,height:a},E,l),ownerState:f,ref:n,role:"progressbar"},m,h,{children:S.jsx(j9,{className:p.svg,ownerState:f,viewBox:`${Rs/2} ${Rs/2} ${Rs} ${Rs}`,children:S.jsx(B9,{className:p.circle,style:g,ownerState:f,cx:Rs,cy:Rs,r:(Rs-u)/2,fill:"none",strokeWidth:u})})}))}),mw=z9;function W9(t){return nt("MuiModal",t)}Xe("MuiModal",["root","hidden","backdrop"]);const H9=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],q9=t=>{const{open:e,exited:n,classes:r}=t;return tt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},W9,r)},K9=Z("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>I({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),G9=Z(M9,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),Q9=w.forwardRef(function(e,n){var r,i,s,o,a,l;const u=rt({name:"MuiModal",props:e}),{BackdropComponent:c=G9,BackdropProps:d,className:h,closeAfterTransition:f=!1,children:p,container:g,component:E,components:m={},componentsProps:y={},disableAutoFocus:v=!1,disableEnforceFocus:T=!1,disableEscapeKeyDown:R=!1,disablePortal:_=!1,disableRestoreFocus:C=!1,disableScrollLock:b=!1,hideBackdrop:P=!1,keepMounted:x=!1,onBackdropClick:O,open:$,slotProps:M,slots:F}=u,z=ne(u,H9),B=I({},u,{closeAfterTransition:f,disableAutoFocus:v,disableEnforceFocus:T,disableEscapeKeyDown:R,disablePortal:_,disableRestoreFocus:C,disableScrollLock:b,hideBackdrop:P,keepMounted:x}),{getRootProps:j,getBackdropProps:A,getTransitionProps:L,portalRef:H,isTopModal:se,exited:re,hasTransition:ce}=Kj(I({},B,{rootRef:n})),q=I({},B,{exited:re}),oe=q9(q),de={};if(p.props.tabIndex===void 0&&(de.tabIndex="-1"),ce){const{onEnter:ve,onExited:Fe}=L();de.onEnter=ve,de.onExited=Fe}const $e=(r=(i=F==null?void 0:F.root)!=null?i:m.Root)!=null?r:K9,Ne=(s=(o=F==null?void 0:F.backdrop)!=null?o:m.Backdrop)!=null?s:c,ke=(a=M==null?void 0:M.root)!=null?a:y.root,bt=(l=M==null?void 0:M.backdrop)!=null?l:y.backdrop,le=io({elementType:$e,externalSlotProps:ke,externalForwardedProps:z,getSlotProps:j,additionalProps:{ref:n,as:E},ownerState:q,className:Te(h,ke==null?void 0:ke.className,oe==null?void 0:oe.root,!q.open&&q.exited&&(oe==null?void 0:oe.hidden))}),ze=io({elementType:Ne,externalSlotProps:bt,additionalProps:d,getSlotProps:ve=>A(I({},ve,{onClick:Fe=>{O&&O(Fe),ve!=null&&ve.onClick&&ve.onClick(Fe)}})),className:Te(bt==null?void 0:bt.className,d==null?void 0:d.className,oe==null?void 0:oe.backdrop),ownerState:q});return!x&&!$&&(!ce||re)?null:S.jsx(Qk,{ref:H,container:g,disablePortal:_,children:S.jsxs($e,I({},le,{children:[!P&&c?S.jsx(Ne,I({},ze)):null,S.jsx(T6,{disableEnforceFocus:T,disableAutoFocus:v,disableRestoreFocus:C,isEnabled:se,open:$,children:w.cloneElement(p,de)})]}))})}),Y9=Q9;function X9(t){return nt("MuiDivider",t)}Xe("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const J9=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Z9=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:s,orientation:o,textAlign:a,variant:l}=t;return tt({root:["root",e&&"absolute",l,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},X9,r)},eB=Z("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>I({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:sa(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>I({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>I({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>I({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>I({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),tB=Z("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>I({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),Zk=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,component:a=s?"div":"hr",flexItem:l=!1,light:u=!1,orientation:c="horizontal",role:d=a!=="hr"?"separator":void 0,textAlign:h="center",variant:f="fullWidth"}=r,p=ne(r,J9),g=I({},r,{absolute:i,component:a,flexItem:l,light:u,orientation:c,role:d,textAlign:h,variant:f}),E=Z9(g);return S.jsx(eB,I({as:a,className:Te(E.root,o),role:d,ref:n,ownerState:g},p,{children:s?S.jsx(tB,{className:E.wrapper,ownerState:g,children:s}):null}))});Zk.muiSkipListHighlight=!0;const j_=Zk,nB=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function rB(t,e,n){const r=e.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),s=$i(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const u=s.getComputedStyle(e);o=u.getPropertyValue("-webkit-transform")||u.getPropertyValue("transform")}let a=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const u=o.split("(")[1].split(")")[0].split(",");a=parseInt(u[4],10),l=parseInt(u[5],10)}return t==="left"?i?`translateX(${i.right+a-r.left}px)`:`translateX(${s.innerWidth+a-r.left}px)`:t==="right"?i?`translateX(-${r.right-i.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:t==="up"?i?`translateY(${i.bottom+l-r.top}px)`:`translateY(${s.innerHeight+l-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function iB(t){return typeof t=="function"?t():t}function ef(t,e,n){const r=iB(n),i=rB(t,e,r);i&&(e.style.webkitTransform=i,e.style.transform=i)}const sB=w.forwardRef(function(e,n){const r=Ca(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:u,direction:c="down",easing:d=i,in:h,onEnter:f,onEntered:p,onEntering:g,onExit:E,onExited:m,onExiting:y,style:v,timeout:T=s,TransitionComponent:R=tw}=e,_=ne(e,nB),C=w.useRef(null),b=en(l.ref,C,n),P=A=>L=>{A&&(L===void 0?A(C.current):A(C.current,L))},x=P((A,L)=>{ef(c,A,u),iw(A),f&&f(A,L)}),O=P((A,L)=>{const H=Ll({timeout:T,style:v,easing:d},{mode:"enter"});A.style.webkitTransition=r.transitions.create("-webkit-transform",I({},H)),A.style.transition=r.transitions.create("transform",I({},H)),A.style.webkitTransform="none",A.style.transform="none",g&&g(A,L)}),$=P(p),M=P(y),F=P(A=>{const L=Ll({timeout:T,style:v,easing:d},{mode:"exit"});A.style.webkitTransition=r.transitions.create("-webkit-transform",L),A.style.transition=r.transitions.create("transform",L),ef(c,A,u),E&&E(A)}),z=P(A=>{A.style.webkitTransition="",A.style.transition="",m&&m(A)}),B=A=>{o&&o(C.current,A)},j=w.useCallback(()=>{C.current&&ef(c,C.current,u)},[c,u]);return w.useEffect(()=>{if(h||c==="down"||c==="right")return;const A=Hm(()=>{C.current&&ef(c,C.current,u)}),L=$i(C.current);return L.addEventListener("resize",A),()=>{A.clear(),L.removeEventListener("resize",A)}},[c,h,u]),w.useEffect(()=>{h||j()},[h,j]),S.jsx(R,I({nodeRef:C,onEnter:x,onEntered:$,onEntering:O,onExit:F,onExited:z,onExiting:M,addEndListener:B,appear:a,in:h,timeout:T},_,{children:(A,L)=>w.cloneElement(l,I({ref:b,style:I({visibility:A==="exited"&&!h?"hidden":void 0},v,l.props.style)},L))}))}),oB=sB,aB=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],lB=t=>{const{classes:e,disableUnderline:n}=t,i=tt({root:["root",!n&&"underline"],input:["input"]},p9,e);return I({},e,i)},uB=Z(vg,{shouldForwardProp:t=>Bi(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...gg(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",o=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return I({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:o,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${So.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${So.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${So.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${So.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${So.disabled}, .${So.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${So.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&I({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),cB=Z(_g,{name:"MuiFilledInput",slot:"Input",overridesResolver:yg})(({theme:t,ownerState:e})=>I({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),eA=w.forwardRef(function(e,n){var r,i,s,o;const a=rt({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:d="input",multiline:h=!1,slotProps:f,slots:p={},type:g="text"}=a,E=ne(a,aB),m=I({},a,{fullWidth:c,inputComponent:d,multiline:h,type:g}),y=lB(a),v={root:{ownerState:m},input:{ownerState:m}},T=f??u?ur(v,f??u):v,R=(r=(i=p.root)!=null?i:l.Root)!=null?r:uB,_=(s=(o=p.input)!=null?o:l.Input)!=null?s:cB;return S.jsx(pw,I({slots:{root:R,input:_},componentsProps:T,fullWidth:c,inputComponent:d,multiline:h,ref:n,type:g},E,{classes:y}))});eA.muiName="Input";const tA=eA;function dB(t){return nt("MuiFormControl",t)}Xe("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const hB=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],fB=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${fe(n)}`,r&&"fullWidth"]};return tt(i,dB,e)},pB=Z("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>I({},e.root,e[`margin${fe(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>I({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),mB=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormControl"}),{children:i,className:s,color:o="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:d=!1,hiddenLabel:h=!1,margin:f="none",required:p=!1,size:g="medium",variant:E="outlined"}=r,m=ne(r,hB),y=I({},r,{color:o,component:a,disabled:l,error:u,fullWidth:d,hiddenLabel:h,margin:f,required:p,size:g,variant:E}),v=fB(y),[T,R]=w.useState(()=>{let M=!1;return i&&w.Children.forEach(i,F=>{if(!Of(F,["Input","Select"]))return;const z=Of(F,["Select"])?F.props.input:F;z&&r9(z.props)&&(M=!0)}),M}),[_,C]=w.useState(()=>{let M=!1;return i&&w.Children.forEach(i,F=>{Of(F,["Input","Select"])&&(Rp(F.props,!0)||Rp(F.props.inputProps,!0))&&(M=!0)}),M}),[b,P]=w.useState(!1);l&&b&&P(!1);const x=c!==void 0&&!l?c:b;let O;const $=w.useMemo(()=>({adornedStart:T,setAdornedStart:R,color:o,disabled:l,error:u,filled:_,focused:x,fullWidth:d,hiddenLabel:h,size:g,onBlur:()=>{P(!1)},onEmpty:()=>{C(!1)},onFilled:()=>{C(!0)},onFocus:()=>{P(!0)},registerEffect:O,required:p,variant:E}),[T,o,l,u,_,x,d,h,O,p,g,E]);return S.jsx(fw.Provider,{value:$,children:S.jsx(pB,I({as:a,ownerState:y,className:Te(v.root,s),ref:n},m,{children:i}))})}),gB=mB;function yB(t){return nt("MuiFormHelperText",t)}const vB=Xe("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),BC=vB;var zC;const _B=["children","className","component","disabled","error","filled","focused","margin","required","variant"],wB=t=>{const{classes:e,contained:n,size:r,disabled:i,error:s,filled:o,focused:a,required:l}=t,u={root:["root",i&&"disabled",s&&"error",r&&`size${fe(r)}`,n&&"contained",a&&"focused",o&&"filled",l&&"required"]};return tt(u,yB,e)},EB=Z("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${fe(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>I({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${BC.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${BC.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),TB=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormHelperText"}),{children:i,className:s,component:o="p"}=r,a=ne(r,_B),l=lu(),u=au({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=I({},r,{component:o,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=wB(c);return S.jsx(EB,I({as:o,ownerState:c,className:Te(d.root,s),ref:n},a,{children:i===" "?zC||(zC=S.jsx("span",{className:"notranslate",children:"​"})):i}))}),SB=TB;function CB(t){return nt("MuiFormLabel",t)}const IB=Xe("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Oc=IB,RB=["children","className","color","component","disabled","error","filled","focused","required"],bB=t=>{const{classes:e,color:n,focused:r,disabled:i,error:s,filled:o,required:a}=t,l={root:["root",`color${fe(n)}`,i&&"disabled",s&&"error",o&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",s&&"error"]};return tt(l,CB,e)},xB=Z("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>I({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>I({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Oc.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${Oc.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Oc.error}`]:{color:(t.vars||t).palette.error.main}})),PB=Z("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Oc.error}`]:{color:(t.vars||t).palette.error.main}})),kB=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiFormLabel"}),{children:i,className:s,component:o="label"}=r,a=ne(r,RB),l=lu(),u=au({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=I({},r,{color:u.color||"primary",component:o,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),d=bB(c);return S.jsxs(xB,I({as:o,ownerState:c,className:Te(d.root,s),ref:n},a,{children:[i,u.required&&S.jsxs(PB,{ownerState:c,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),AB=kB,NB=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function B_(t){return`scale(${t}, ${t**2})`}const OB={entering:{opacity:1,transform:B_(1)},entered:{opacity:1,transform:"none"}},Qy=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),nA=w.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:s,easing:o,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:d,onExited:h,onExiting:f,style:p,timeout:g="auto",TransitionComponent:E=tw}=e,m=ne(e,NB),y=$o(),v=w.useRef(),T=Ca(),R=w.useRef(null),_=en(R,s.ref,n),C=z=>B=>{if(z){const j=R.current;B===void 0?z(j):z(j,B)}},b=C(c),P=C((z,B)=>{iw(z);const{duration:j,delay:A,easing:L}=Ll({style:p,timeout:g,easing:o},{mode:"enter"});let H;g==="auto"?(H=T.transitions.getAutoHeightDuration(z.clientHeight),v.current=H):H=j,z.style.transition=[T.transitions.create("opacity",{duration:H,delay:A}),T.transitions.create("transform",{duration:Qy?H:H*.666,delay:A,easing:L})].join(","),l&&l(z,B)}),x=C(u),O=C(f),$=C(z=>{const{duration:B,delay:j,easing:A}=Ll({style:p,timeout:g,easing:o},{mode:"exit"});let L;g==="auto"?(L=T.transitions.getAutoHeightDuration(z.clientHeight),v.current=L):L=B,z.style.transition=[T.transitions.create("opacity",{duration:L,delay:j}),T.transitions.create("transform",{duration:Qy?L:L*.666,delay:Qy?j:j||L*.333,easing:A})].join(","),z.style.opacity=0,z.style.transform=B_(.75),d&&d(z)}),M=C(h),F=z=>{g==="auto"&&y.start(v.current||0,z),r&&r(R.current,z)};return S.jsx(E,I({appear:i,in:a,nodeRef:R,onEnter:P,onEntered:x,onEntering:b,onExit:$,onExited:M,onExiting:O,addEndListener:F,timeout:g==="auto"?null:g},m,{children:(z,B)=>w.cloneElement(s,I({style:I({opacity:0,transform:B_(.75),visibility:z==="exited"&&!a?"hidden":void 0},OB[z],p,s.props.style),ref:_},B))}))});nA.muiSupportAuto=!0;const bp=nA,MB=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],DB=t=>{const{classes:e,disableUnderline:n}=t,i=tt({root:["root",!n&&"underline"],input:["input"]},c9,e);return I({},e,i)},LB=Z(vg,{shouldForwardProp:t=>Bi(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...gg(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),I({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${zu.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${zu.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${zu.disabled}, .${zu.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${zu.disabled}:before`]:{borderBottomStyle:"dotted"}})}),$B=Z(_g,{name:"MuiInput",slot:"Input",overridesResolver:yg})({}),rA=w.forwardRef(function(e,n){var r,i,s,o;const a=rt({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:d=!1,inputComponent:h="input",multiline:f=!1,slotProps:p,slots:g={},type:E="text"}=a,m=ne(a,MB),y=DB(a),T={root:{ownerState:{disableUnderline:l}}},R=p??c?ur(p??c,T):T,_=(r=(i=g.root)!=null?i:u.Root)!=null?r:LB,C=(s=(o=g.input)!=null?o:u.Input)!=null?s:$B;return S.jsx(pw,I({slots:{root:_,input:C},slotProps:R,fullWidth:d,inputComponent:h,multiline:f,ref:n,type:E},m,{classes:y}))});rA.muiName="Input";const iA=rA;function FB(t){return nt("MuiInputLabel",t)}Xe("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const VB=["disableAnimation","margin","shrink","variant","className"],UB=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:s,variant:o,required:a}=t,l={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${fe(r)}`,o],asterisk:[a&&"asterisk"]},u=tt(l,FB,e);return I({},e,u)},jB=Z(AB,{shouldForwardProp:t=>Bi(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Oc.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>I({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&I({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&I({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&I({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),BB=w.forwardRef(function(e,n){const r=rt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:s,className:o}=r,a=ne(r,VB),l=lu();let u=s;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=au({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),d=I({},r,{disableAnimation:i,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),h=UB(d);return S.jsx(jB,I({"data-shrink":u,ownerState:d,ref:n,className:Te(h.root,o)},a,{classes:h}))}),zB=BB;function WB(t){return nt("MuiLinearProgress",t)}Xe("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const HB=["className","color","value","valueBuffer","variant"];let uu=t=>t,WC,HC,qC,KC,GC,QC;const z_=4,qB=mo(WC||(WC=uu`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),KB=mo(HC||(HC=uu`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),GB=mo(qC||(qC=uu`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),QB=t=>{const{classes:e,variant:n,color:r}=t,i={root:["root",`color${fe(r)}`,n],dashed:["dashed",`dashedColor${fe(r)}`],bar1:["bar",`barColor${fe(r)}`,(n==="indeterminate"||n==="query")&&"bar1Indeterminate",n==="determinate"&&"bar1Determinate",n==="buffer"&&"bar1Buffer"],bar2:["bar",n!=="buffer"&&`barColor${fe(r)}`,n==="buffer"&&`color${fe(r)}`,(n==="indeterminate"||n==="query")&&"bar2Indeterminate",n==="buffer"&&"bar2Buffer"]};return tt(i,WB,e)},gw=(t,e)=>e==="inherit"?"currentColor":t.vars?t.vars.palette.LinearProgress[`${e}Bg`]:t.palette.mode==="light"?yd(t.palette[e].main,.62):gd(t.palette[e].main,.5),YB=Z("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`color${fe(n.color)}`],e[n.variant]]}})(({ownerState:t,theme:e})=>I({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:gw(e,t.color)},t.color==="inherit"&&t.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},t.variant==="buffer"&&{backgroundColor:"transparent"},t.variant==="query"&&{transform:"rotate(180deg)"})),XB=Z("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.dashed,e[`dashedColor${fe(n.color)}`]]}})(({ownerState:t,theme:e})=>{const n=gw(e,t.color);return I({position:"absolute",marginTop:0,height:"100%",width:"100%"},t.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${n} 0%, ${n} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},ou(KC||(KC=uu`
    animation: ${0} 3s infinite linear;
  `),GB)),JB=Z("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${fe(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar1Indeterminate,n.variant==="determinate"&&e.bar1Determinate,n.variant==="buffer"&&e.bar1Buffer]}})(({ownerState:t,theme:e})=>I({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.variant==="determinate"&&{transition:`transform .${z_}s linear`},t.variant==="buffer"&&{zIndex:1,transition:`transform .${z_}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&ou(GC||(GC=uu`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),qB)),ZB=Z("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.bar,e[`barColor${fe(n.color)}`],(n.variant==="indeterminate"||n.variant==="query")&&e.bar2Indeterminate,n.variant==="buffer"&&e.bar2Buffer]}})(({ownerState:t,theme:e})=>I({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},t.variant!=="buffer"&&{backgroundColor:t.color==="inherit"?"currentColor":(e.vars||e).palette[t.color].main},t.color==="inherit"&&{opacity:.3},t.variant==="buffer"&&{backgroundColor:gw(e,t.color),transition:`transform .${z_}s linear`}),({ownerState:t})=>(t.variant==="indeterminate"||t.variant==="query")&&ou(QC||(QC=uu`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),KB)),ez=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiLinearProgress"}),{className:i,color:s="primary",value:o,valueBuffer:a,variant:l="indeterminate"}=r,u=ne(r,HB),c=I({},r,{color:s,variant:l}),d=QB(c),h=Ca(),f={},p={bar1:{},bar2:{}};if((l==="determinate"||l==="buffer")&&o!==void 0){f["aria-valuenow"]=Math.round(o),f["aria-valuemin"]=0,f["aria-valuemax"]=100;let g=o-100;h.direction==="rtl"&&(g=-g),p.bar1.transform=`translateX(${g}%)`}if(l==="buffer"&&a!==void 0){let g=(a||0)-100;h.direction==="rtl"&&(g=-g),p.bar2.transform=`translateX(${g}%)`}return S.jsxs(YB,I({className:Te(d.root,i),ownerState:c,role:"progressbar"},f,{ref:n},u,{children:[l==="buffer"?S.jsx(XB,{className:d.dashed,ownerState:c}):null,S.jsx(JB,{className:d.bar1,ownerState:c,style:p.bar1}),l==="determinate"?null:S.jsx(ZB,{className:d.bar2,ownerState:c,style:p.bar2})]}))}),tz=ez,nz=w.createContext({}),rz=nz;function iz(t){return nt("MuiList",t)}Xe("MuiList",["root","padding","dense","subheader"]);const sz=["children","className","component","dense","disablePadding","subheader"],oz=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return tt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},iz,e)},az=Z("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>I({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),lz=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,c=ne(r,sz),d=w.useMemo(()=>({dense:a}),[a]),h=I({},r,{component:o,dense:a,disablePadding:l}),f=oz(h);return S.jsx(rz.Provider,{value:d,children:S.jsxs(az,I({as:o,className:Te(f.root,s),ref:n,ownerState:h},c,{children:[u,i]}))})}),uz=lz,cz=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Yy(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function YC(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function sA(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function Wu(t,e,n,r,i,s){let o=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!sA(a,s)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const dz=w.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:d="selectedMenu"}=e,h=ne(e,cz),f=w.useRef(null),p=w.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Fi(()=>{i&&f.current.focus()},[i]),w.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(v,T)=>{const R=!f.current.style.width;if(v.clientHeight<f.current.clientHeight&&R){const _=`${Ck(ln(v))}px`;f.current.style[T.direction==="rtl"?"paddingLeft":"paddingRight"]=_,f.current.style.width=`calc(100% + ${_})`}return f.current}}),[]);const g=v=>{const T=f.current,R=v.key,_=ln(T).activeElement;if(R==="ArrowDown")v.preventDefault(),Wu(T,_,u,l,Yy);else if(R==="ArrowUp")v.preventDefault(),Wu(T,_,u,l,YC);else if(R==="Home")v.preventDefault(),Wu(T,null,u,l,Yy);else if(R==="End")v.preventDefault(),Wu(T,null,u,l,YC);else if(R.length===1){const C=p.current,b=R.toLowerCase(),P=performance.now();C.keys.length>0&&(P-C.lastTime>500?(C.keys=[],C.repeating=!0,C.previousKeyMatched=!0):C.repeating&&b!==C.keys[0]&&(C.repeating=!1)),C.lastTime=P,C.keys.push(b);const x=_&&!C.repeating&&sA(_,C);C.previousKeyMatched&&(x||Wu(T,_,!1,l,Yy,C))?v.preventDefault():C.previousKeyMatched=!1}c&&c(v)},E=en(f,n);let m=-1;w.Children.forEach(o,(v,T)=>{if(!w.isValidElement(v)){m===T&&(m+=1,m>=o.length&&(m=-1));return}v.props.disabled||(d==="selectedMenu"&&v.props.selected||m===-1)&&(m=T),m===T&&(v.props.disabled||v.props.muiSkipListHighlight||v.type.muiSkipListHighlight)&&(m+=1,m>=o.length&&(m=-1))});const y=w.Children.map(o,(v,T)=>{if(T===m){const R={};return s&&(R.autoFocus=!0),v.props.tabIndex===void 0&&d==="selectedMenu"&&(R.tabIndex=0),w.cloneElement(v,R)}return v});return S.jsx(uz,I({role:"menu",ref:E,className:a,onKeyDown:g,tabIndex:i?0:-1},h,{children:y}))}),hz=dz;function fz(t){return nt("MuiPopover",t)}Xe("MuiPopover",["root","paper"]);const pz=["onEntering"],mz=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],gz=["slotProps"];function XC(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function JC(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function ZC(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function Xy(t){return typeof t=="function"?t():t}const yz=t=>{const{classes:e}=t;return tt({root:["root"],paper:["paper"]},fz,e)},vz=Z(Y9,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),oA=Z(sw,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),_z=w.forwardRef(function(e,n){var r,i,s;const o=rt({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:d="anchorEl",children:h,className:f,container:p,elevation:g=8,marginThreshold:E=16,open:m,PaperProps:y={},slots:v,slotProps:T,transformOrigin:R={vertical:"top",horizontal:"left"},TransitionComponent:_=bp,transitionDuration:C="auto",TransitionProps:{onEntering:b}={},disableScrollLock:P=!1}=o,x=ne(o.TransitionProps,pz),O=ne(o,mz),$=(r=T==null?void 0:T.paper)!=null?r:y,M=w.useRef(),F=en(M,$.ref),z=I({},o,{anchorOrigin:u,anchorReference:d,elevation:g,marginThreshold:E,externalPaperSlotProps:$,transformOrigin:R,TransitionComponent:_,transitionDuration:C,TransitionProps:x}),B=yz(z),j=w.useCallback(()=>{if(d==="anchorPosition")return c;const ve=Xy(l),Ee=(ve&&ve.nodeType===1?ve:ln(M.current).body).getBoundingClientRect();return{top:Ee.top+XC(Ee,u.vertical),left:Ee.left+JC(Ee,u.horizontal)}},[l,u.horizontal,u.vertical,c,d]),A=w.useCallback(ve=>({vertical:XC(ve,R.vertical),horizontal:JC(ve,R.horizontal)}),[R.horizontal,R.vertical]),L=w.useCallback(ve=>{const Fe={width:ve.offsetWidth,height:ve.offsetHeight},Ee=A(Fe);if(d==="none")return{top:null,left:null,transformOrigin:ZC(Ee)};const wn=j();let rn=wn.top-Ee.vertical,Dt=wn.left-Ee.horizontal;const un=rn+Fe.height,lt=Dt+Fe.width,Oe=$i(Xy(l)),Kt=Oe.innerHeight-E,ht=Oe.innerWidth-E;if(E!==null&&rn<E){const be=rn-E;rn-=be,Ee.vertical+=be}else if(E!==null&&un>Kt){const be=un-Kt;rn-=be,Ee.vertical+=be}if(E!==null&&Dt<E){const be=Dt-E;Dt-=be,Ee.horizontal+=be}else if(lt>ht){const be=lt-ht;Dt-=be,Ee.horizontal+=be}return{top:`${Math.round(rn)}px`,left:`${Math.round(Dt)}px`,transformOrigin:ZC(Ee)}},[l,d,j,A,E]),[H,se]=w.useState(m),re=w.useCallback(()=>{const ve=M.current;if(!ve)return;const Fe=L(ve);Fe.top!==null&&(ve.style.top=Fe.top),Fe.left!==null&&(ve.style.left=Fe.left),ve.style.transformOrigin=Fe.transformOrigin,se(!0)},[L]);w.useEffect(()=>(P&&window.addEventListener("scroll",re),()=>window.removeEventListener("scroll",re)),[l,P,re]);const ce=(ve,Fe)=>{b&&b(ve,Fe),re()},q=()=>{se(!1)};w.useEffect(()=>{m&&re()}),w.useImperativeHandle(a,()=>m?{updatePosition:()=>{re()}}:null,[m,re]),w.useEffect(()=>{if(!m)return;const ve=Hm(()=>{re()}),Fe=$i(l);return Fe.addEventListener("resize",ve),()=>{ve.clear(),Fe.removeEventListener("resize",ve)}},[l,m,re]);let oe=C;C==="auto"&&!_.muiSupportAuto&&(oe=void 0);const de=p||(l?ln(Xy(l)).body:void 0),$e=(i=v==null?void 0:v.root)!=null?i:vz,Ne=(s=v==null?void 0:v.paper)!=null?s:oA,ke=io({elementType:Ne,externalSlotProps:I({},$,{style:H?$.style:I({},$.style,{opacity:0})}),additionalProps:{elevation:g,ref:F},ownerState:z,className:Te(B.paper,$==null?void 0:$.className)}),bt=io({elementType:$e,externalSlotProps:(T==null?void 0:T.root)||{},externalForwardedProps:O,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:de,open:m},ownerState:z,className:Te(B.root,f)}),{slotProps:le}=bt,ze=ne(bt,gz);return S.jsx($e,I({},ze,!Sp($e)&&{slotProps:le,disableScrollLock:P},{children:S.jsx(_,I({appear:!0,in:m,onEntering:ce,onExited:q,timeout:oe},x,{children:S.jsx(Ne,I({},ke,{children:h}))}))}))}),wz=_z;function Ez(t){return nt("MuiMenu",t)}Xe("MuiMenu",["root","paper","list"]);const Tz=["onEntering"],Sz=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Cz={vertical:"top",horizontal:"right"},Iz={vertical:"top",horizontal:"left"},Rz=t=>{const{classes:e}=t;return tt({root:["root"],paper:["paper"],list:["list"]},Ez,e)},bz=Z(wz,{shouldForwardProp:t=>Bi(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),xz=Z(oA,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Pz=Z(hz,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),kz=w.forwardRef(function(e,n){var r,i;const s=rt({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:d,open:h,PaperProps:f={},PopoverClasses:p,transitionDuration:g="auto",TransitionProps:{onEntering:E}={},variant:m="selectedMenu",slots:y={},slotProps:v={}}=s,T=ne(s.TransitionProps,Tz),R=ne(s,Sz),_=Ca(),C=_.direction==="rtl",b=I({},s,{autoFocus:o,disableAutoFocusItem:u,MenuListProps:c,onEntering:E,PaperProps:f,transitionDuration:g,TransitionProps:T,variant:m}),P=Rz(b),x=o&&!u&&h,O=w.useRef(null),$=(L,H)=>{O.current&&O.current.adjustStyleForScrollbar(L,_),E&&E(L,H)},M=L=>{L.key==="Tab"&&(L.preventDefault(),d&&d(L,"tabKeyDown"))};let F=-1;w.Children.map(a,(L,H)=>{w.isValidElement(L)&&(L.props.disabled||(m==="selectedMenu"&&L.props.selected||F===-1)&&(F=H))});const z=(r=y.paper)!=null?r:xz,B=(i=v.paper)!=null?i:f,j=io({elementType:y.root,externalSlotProps:v.root,ownerState:b,className:[P.root,l]}),A=io({elementType:z,externalSlotProps:B,ownerState:b,className:P.paper});return S.jsx(bz,I({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?Cz:Iz,slots:{paper:z,root:y.root},slotProps:{root:j,paper:A},open:h,ref:n,transitionDuration:g,TransitionProps:I({onEntering:$},T),ownerState:b},R,{classes:p,children:S.jsx(Pz,I({onKeyDown:M,actions:O,autoFocus:o&&(F===-1||u),autoFocusItem:x,variant:m},c,{className:Te(P.list,c.className),children:a}))}))}),Az=kz;function Nz(t){return nt("MuiNativeSelect",t)}const Oz=Xe("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),yw=Oz,Mz=["className","disabled","error","IconComponent","inputRef","variant"],Dz=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${fe(n)}`,s&&"iconOpen",r&&"disabled"]};return tt(a,Nz,e)},aA=({ownerState:t,theme:e})=>I({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":I({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${yw.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),Lz=Z("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Bi,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${yw.multiple}`]:e.multiple}]}})(aA),lA=({ownerState:t,theme:e})=>I({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${yw.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),$z=Z("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${fe(n.variant)}`],n.open&&e.iconOpen]}})(lA),Fz=w.forwardRef(function(e,n){const{className:r,disabled:i,error:s,IconComponent:o,inputRef:a,variant:l="standard"}=e,u=ne(e,Mz),c=I({},e,{disabled:i,variant:l,error:s}),d=Dz(c);return S.jsxs(w.Fragment,{children:[S.jsx(Lz,I({ownerState:c,className:Te(d.select,r),disabled:i,ref:a||n},u)),e.multiple?null:S.jsx($z,{as:o,ownerState:c,className:d.icon})]})}),Vz=Fz;var eI;const Uz=["children","classes","className","label","notched"],jz=Z("fieldset",{shouldForwardProp:Bi})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Bz=Z("legend",{shouldForwardProp:Bi})(({ownerState:t,theme:e})=>I({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&I({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function zz(t){const{className:e,label:n,notched:r}=t,i=ne(t,Uz),s=n!=null&&n!=="",o=I({},t,{notched:r,withLabel:s});return S.jsx(jz,I({"aria-hidden":!0,className:e,ownerState:o},i,{children:S.jsx(Bz,{ownerState:o,children:s?S.jsx("span",{children:n}):eI||(eI=S.jsx("span",{className:"notranslate",children:"​"}))})}))}const Wz=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Hz=t=>{const{classes:e}=t,r=tt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},h9,e);return I({},e,r)},qz=Z(vg,{shouldForwardProp:t=>Bi(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:gg})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return I({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Is.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Is.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Is.focused} .${Is.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Is.error} .${Is.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Is.disabled} .${Is.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&I({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),Kz=Z(zz,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),Gz=Z(_g,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:yg})(({theme:t,ownerState:e})=>I({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),uA=w.forwardRef(function(e,n){var r,i,s,o,a;const l=rt({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:d="input",label:h,multiline:f=!1,notched:p,slots:g={},type:E="text"}=l,m=ne(l,Wz),y=Hz(l),v=lu(),T=au({props:l,muiFormControl:v,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),R=I({},l,{color:T.color||"primary",disabled:T.disabled,error:T.error,focused:T.focused,formControl:v,fullWidth:c,hiddenLabel:T.hiddenLabel,multiline:f,size:T.size,type:E}),_=(r=(i=g.root)!=null?i:u.Root)!=null?r:qz,C=(s=(o=g.input)!=null?o:u.Input)!=null?s:Gz;return S.jsx(pw,I({slots:{root:_,input:C},renderSuffix:b=>S.jsx(Kz,{ownerState:R,className:y.notchedOutline,label:h!=null&&h!==""&&T.required?a||(a=S.jsxs(w.Fragment,{children:[h," ","*"]})):h,notched:typeof p<"u"?p:!!(b.startAdornment||b.filled||b.focused)}),fullWidth:c,inputComponent:d,multiline:f,ref:n,type:E},m,{classes:I({},y,{notchedOutline:null})}))});uA.muiName="Input";const cA=uA;function Qz(t){return nt("MuiSelect",t)}const Hu=Xe("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var tI;const Yz=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Xz=Z("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${Hu.select}`]:e.select},{[`&.${Hu.select}`]:e[n.variant]},{[`&.${Hu.error}`]:e.error},{[`&.${Hu.multiple}`]:e.multiple}]}})(aA,{[`&.${Hu.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Jz=Z("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${fe(n.variant)}`],n.open&&e.iconOpen]}})(lA),Zz=Z("input",{shouldForwardProp:t=>XU(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function nI(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function e8(t){return t==null||typeof t=="string"&&!t.trim()}const t8=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:s,error:o}=t,a={select:["select",n,r&&"disabled",i&&"multiple",o&&"error"],icon:["icon",`icon${fe(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return tt(a,Qz,e)},n8=w.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":s,autoFocus:o,autoWidth:a,children:l,className:u,defaultOpen:c,defaultValue:d,disabled:h,displayEmpty:f,error:p=!1,IconComponent:g,inputRef:E,labelId:m,MenuProps:y={},multiple:v,name:T,onBlur:R,onChange:_,onClose:C,onFocus:b,onOpen:P,open:x,readOnly:O,renderValue:$,SelectDisplayProps:M={},tabIndex:F,value:z,variant:B="standard"}=e,j=ne(e,Yz),[A,L]=vp({controlled:z,default:d,name:"Select"}),[H,se]=vp({controlled:x,default:c,name:"Select"}),re=w.useRef(null),ce=w.useRef(null),[q,oe]=w.useState(null),{current:de}=w.useRef(x!=null),[$e,Ne]=w.useState(),ke=en(n,E),bt=w.useCallback(ae=>{ce.current=ae,ae&&oe(ae)},[]),le=q==null?void 0:q.parentNode;w.useImperativeHandle(ke,()=>({focus:()=>{ce.current.focus()},node:re.current,value:A}),[A]),w.useEffect(()=>{c&&H&&q&&!de&&(Ne(a?null:le.clientWidth),ce.current.focus())},[q,a]),w.useEffect(()=>{o&&ce.current.focus()},[o]),w.useEffect(()=>{if(!m)return;const ae=ln(ce.current).getElementById(m);if(ae){const qe=()=>{getSelection().isCollapsed&&ce.current.focus()};return ae.addEventListener("click",qe),()=>{ae.removeEventListener("click",qe)}}},[m]);const ze=(ae,qe)=>{ae?P&&P(qe):C&&C(qe),de||(Ne(a?null:le.clientWidth),se(ae))},ve=ae=>{ae.button===0&&(ae.preventDefault(),ce.current.focus(),ze(!0,ae))},Fe=ae=>{ze(!1,ae)},Ee=w.Children.toArray(l),wn=ae=>{const qe=Ee.find(ot=>ot.props.value===ae.target.value);qe!==void 0&&(L(qe.props.value),_&&_(ae,qe))},rn=ae=>qe=>{let ot;if(qe.currentTarget.hasAttribute("tabindex")){if(v){ot=Array.isArray(A)?A.slice():[];const fr=A.indexOf(ae.props.value);fr===-1?ot.push(ae.props.value):ot.splice(fr,1)}else ot=ae.props.value;if(ae.props.onClick&&ae.props.onClick(qe),A!==ot&&(L(ot),_)){const fr=qe.nativeEvent||qe,Wi=new fr.constructor(fr.type,fr);Object.defineProperty(Wi,"target",{writable:!0,value:{value:ot,name:T}}),_(Wi,ae)}v||ze(!1,qe)}},Dt=ae=>{O||[" ","ArrowUp","ArrowDown","Enter"].indexOf(ae.key)!==-1&&(ae.preventDefault(),ze(!0,ae))},un=q!==null&&H,lt=ae=>{!un&&R&&(Object.defineProperty(ae,"target",{writable:!0,value:{value:A,name:T}}),R(ae))};delete j["aria-invalid"];let Oe,Kt;const ht=[];let be=!1;(Rp({value:A})||f)&&($?Oe=$(A):be=!0);const xt=Ee.map(ae=>{if(!w.isValidElement(ae))return null;let qe;if(v){if(!Array.isArray(A))throw new Error(ro(2));qe=A.some(ot=>nI(ot,ae.props.value)),qe&&be&&ht.push(ae.props.children)}else qe=nI(A,ae.props.value),qe&&be&&(Kt=ae.props.children);return w.cloneElement(ae,{"aria-selected":qe?"true":"false",onClick:rn(ae),onKeyUp:ot=>{ot.key===" "&&ot.preventDefault(),ae.props.onKeyUp&&ae.props.onKeyUp(ot)},role:"option",selected:qe,value:void 0,"data-value":ae.props.value})});be&&(v?ht.length===0?Oe=null:Oe=ht.reduce((ae,qe,ot)=>(ae.push(qe),ot<ht.length-1&&ae.push(", "),ae),[]):Oe=Kt);let sn=$e;!a&&de&&q&&(sn=le.clientWidth);let Gt;typeof F<"u"?Gt=F:Gt=h?null:0;const We=M.id||(T?`mui-component-select-${T}`:void 0),te=I({},e,{variant:B,value:A,open:un,error:p}),Lt=t8(te),Pr=I({},y.PaperProps,(r=y.slotProps)==null?void 0:r.paper),Zn=qm();return S.jsxs(w.Fragment,{children:[S.jsx(Xz,I({ref:bt,tabIndex:Gt,role:"combobox","aria-controls":Zn,"aria-disabled":h?"true":void 0,"aria-expanded":un?"true":"false","aria-haspopup":"listbox","aria-label":s,"aria-labelledby":[m,We].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Dt,onMouseDown:h||O?null:ve,onBlur:lt,onFocus:b},M,{ownerState:te,className:Te(M.className,Lt.select,u),id:We,children:e8(Oe)?tI||(tI=S.jsx("span",{className:"notranslate",children:"​"})):Oe})),S.jsx(Zz,I({"aria-invalid":p,value:Array.isArray(A)?A.join(","):A,name:T,ref:re,"aria-hidden":!0,onChange:wn,tabIndex:-1,disabled:h,className:Lt.nativeInput,autoFocus:o,ownerState:te},j)),S.jsx(Jz,{as:g,className:Lt.icon,ownerState:te}),S.jsx(Az,I({id:`menu-${T||""}`,anchorEl:le,open:un,onClose:Fe,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:I({"aria-labelledby":m,role:"listbox","aria-multiselectable":v?"true":void 0,disableListWrap:!0,id:Zn},y.MenuListProps),slotProps:I({},y.slotProps,{paper:I({},Pr,{style:I({minWidth:sn},Pr!=null?Pr.style:null)})}),children:xt}))]})}),r8=n8,i8=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],s8=["root"],o8=t=>{const{classes:e}=t;return e},vw={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>Bi(t)&&t!=="variant",slot:"Root"},a8=Z(iA,vw)(""),l8=Z(cA,vw)(""),u8=Z(tA,vw)(""),dA=w.forwardRef(function(e,n){const r=rt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:s,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=g9,id:d,input:h,inputProps:f,label:p,labelId:g,MenuProps:E,multiple:m=!1,native:y=!1,onClose:v,onOpen:T,open:R,renderValue:_,SelectDisplayProps:C,variant:b="outlined"}=r,P=ne(r,i8),x=y?Vz:r8,O=lu(),$=au({props:r,muiFormControl:O,states:["variant","error"]}),M=$.variant||b,F=I({},r,{variant:M,classes:o}),z=o8(F),B=ne(z,s8),j=h||{standard:S.jsx(a8,{ownerState:F}),outlined:S.jsx(l8,{label:p,ownerState:F}),filled:S.jsx(u8,{ownerState:F})}[M],A=en(n,j.ref);return S.jsx(w.Fragment,{children:w.cloneElement(j,I({inputComponent:x,inputProps:I({children:s,error:$.error,IconComponent:c,variant:M,type:void 0,multiple:m},y?{id:d}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:g,MenuProps:E,onClose:v,onOpen:T,open:R,renderValue:_,SelectDisplayProps:I({id:d},C)},f,{classes:f?ur(B,f.classes):B},h?h.props.inputProps:{})},(m&&y||u)&&M==="outlined"?{notched:!0}:{},{ref:A,className:Te(j.props.className,a,z.root)},!h&&{variant:M},P))})});dA.muiName="Select";const c8=dA;function d8(t){return nt("MuiSnackbarContent",t)}Xe("MuiSnackbarContent",["root","message","action"]);const h8=["action","className","message","role"],f8=t=>{const{classes:e}=t;return tt({root:["root"],action:["action"],message:["message"]},d8,e)},p8=Z(sw,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t})=>{const e=t.palette.mode==="light"?.8:.98,n=_U(t.palette.background.default,e);return I({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(n),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),m8=Z("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(t,e)=>e.message})({padding:"8px 0"}),g8=Z("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(t,e)=>e.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),y8=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSnackbarContent"}),{action:i,className:s,message:o,role:a="alert"}=r,l=ne(r,h8),u=r,c=f8(u);return S.jsxs(p8,I({role:a,square:!0,elevation:6,className:Te(c.root,s),ownerState:u,ref:n},l,{children:[S.jsx(m8,{className:c.message,ownerState:u,children:o}),i?S.jsx(g8,{className:c.action,ownerState:u,children:i}):null]}))}),v8=y8;function _8(t){return nt("MuiSnackbar",t)}Xe("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const w8=["onEnter","onExited"],E8=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],T8=t=>{const{classes:e,anchorOrigin:n}=t,r={root:["root",`anchorOrigin${fe(n.vertical)}${fe(n.horizontal)}`]};return tt(r,_8,e)},rI=Z("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`anchorOrigin${fe(n.anchorOrigin.vertical)}${fe(n.anchorOrigin.horizontal)}`]]}})(({theme:t,ownerState:e})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return I({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},e.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},e.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},e.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:I({},e.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},e.anchorOrigin.horizontal==="center"&&n,e.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},e.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),S8=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiSnackbar"}),i=Ca(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:o,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:u=null,children:c,className:d,ClickAwayListenerProps:h,ContentProps:f,disableWindowBlurListener:p=!1,message:g,open:E,TransitionComponent:m=bp,transitionDuration:y=s,TransitionProps:{onEnter:v,onExited:T}={}}=r,R=ne(r.TransitionProps,w8),_=ne(r,E8),C=I({},r,{anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:u,disableWindowBlurListener:p,TransitionComponent:m,transitionDuration:y}),b=T8(C),{getRootProps:P,onClickAway:x}=Gj(I({},C)),[O,$]=w.useState(!0),M=io({elementType:rI,getSlotProps:P,externalForwardedProps:_,ownerState:C,additionalProps:{ref:n},className:[b.root,d]}),F=B=>{$(!0),T&&T(B)},z=(B,j)=>{$(!1),v&&v(B,j)};return!E&&O?null:S.jsx(m6,I({onClickAway:x},h,{children:S.jsx(rI,I({},M,{children:S.jsx(m,I({appear:!0,in:E,timeout:y,direction:a==="top"?"down":"up",onEnter:z,onExited:F},R,{children:c||S.jsx(v8,I({message:g,action:o},f))}))}))}))}),C8=S8;function I8(t){return nt("MuiTooltip",t)}const R8=Xe("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Us=R8,b8=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function x8(t){return Math.round(t*1e5)/1e5}const P8=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:s}=t,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${fe(s.split("-")[0])}`],arrow:["arrow"]};return tt(o,I8,e)},k8=Z(Xk,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>I({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${Us.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Us.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Us.arrow}`]:I({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Us.arrow}`]:I({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),A8=Z("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${fe(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>I({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:sa(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${x8(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${Us.popper}[data-popper-placement*="left"] &`]:I({transformOrigin:"right center"},e.isRtl?I({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):I({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${Us.popper}[data-popper-placement*="right"] &`]:I({transformOrigin:"left center"},e.isRtl?I({marginRight:"14px"},e.touch&&{marginRight:"24px"}):I({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${Us.popper}[data-popper-placement*="top"] &`]:I({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${Us.popper}[data-popper-placement*="bottom"] &`]:I({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),N8=Z("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:sa(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let tf=!1;const iI=new Gd;let qu={x:0,y:0};function nf(t,e){return n=>{e&&e(n),t(n)}}const O8=w.forwardRef(function(e,n){var r,i,s,o,a,l,u,c,d,h,f,p,g,E,m,y,v,T,R;const _=rt({props:e,name:"MuiTooltip"}),{arrow:C=!1,children:b,components:P={},componentsProps:x={},describeChild:O=!1,disableFocusListener:$=!1,disableHoverListener:M=!1,disableInteractive:F=!1,disableTouchListener:z=!1,enterDelay:B=100,enterNextDelay:j=0,enterTouchDelay:A=700,followCursor:L=!1,id:H,leaveDelay:se=0,leaveTouchDelay:re=1500,onClose:ce,onOpen:q,open:oe,placement:de="bottom",PopperComponent:$e,PopperProps:Ne={},slotProps:ke={},slots:bt={},title:le,TransitionComponent:ze=bp,TransitionProps:ve}=_,Fe=ne(_,b8),Ee=w.isValidElement(b)?b:S.jsx("span",{children:b}),wn=Ca(),rn=wn.direction==="rtl",[Dt,un]=w.useState(),[lt,Oe]=w.useState(null),Kt=w.useRef(!1),ht=F||L,be=$o(),xt=$o(),sn=$o(),Gt=$o(),[We,te]=vp({controlled:oe,default:!1,name:"Tooltip",state:"open"});let Lt=We;const Pr=qm(H),Zn=w.useRef(),ae=Fr(()=>{Zn.current!==void 0&&(document.body.style.WebkitUserSelect=Zn.current,Zn.current=void 0),Gt.clear()});w.useEffect(()=>ae,[ae]);const qe=Ie=>{iI.clear(),tf=!0,te(!0),q&&!Lt&&q(Ie)},ot=Fr(Ie=>{iI.start(800+se,()=>{tf=!1}),te(!1),ce&&Lt&&ce(Ie),be.start(wn.transitions.duration.shortest,()=>{Kt.current=!1})}),fr=Ie=>{Kt.current&&Ie.type!=="touchstart"||(Dt&&Dt.removeAttribute("title"),xt.clear(),sn.clear(),B||tf&&j?xt.start(tf?j:B,()=>{qe(Ie)}):qe(Ie))},Wi=Ie=>{xt.clear(),sn.start(se,()=>{ot(Ie)})},{isFocusVisibleRef:Ph,onBlur:kh,onFocus:my,ref:Ah}=W1(),[,Nh]=w.useState(!1),k=Ie=>{kh(Ie),Ph.current===!1&&(Nh(!1),Wi(Ie))},N=Ie=>{Dt||un(Ie.currentTarget),my(Ie),Ph.current===!0&&(Nh(!0),fr(Ie))},D=Ie=>{Kt.current=!0;const Re=Ee.props;Re.onTouchStart&&Re.onTouchStart(Ie)},K=fr,ee=Wi,xe=Ie=>{D(Ie),sn.clear(),be.clear(),ae(),Zn.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Gt.start(A,()=>{document.body.style.WebkitUserSelect=Zn.current,fr(Ie)})},pe=Ie=>{Ee.props.onTouchEnd&&Ee.props.onTouchEnd(Ie),ae(),sn.start(re,()=>{ot(Ie)})};w.useEffect(()=>{if(!Lt)return;function Ie(Re){(Re.key==="Escape"||Re.key==="Esc")&&ot(Re)}return document.addEventListener("keydown",Ie),()=>{document.removeEventListener("keydown",Ie)}},[ot,Lt]);const he=en(Ee.ref,Ah,un,n);!le&&le!==0&&(Lt=!1);const ie=w.useRef(),Ae=Ie=>{const Re=Ee.props;Re.onMouseMove&&Re.onMouseMove(Ie),qu={x:Ie.clientX,y:Ie.clientY},ie.current&&ie.current.update()},Tt={},_e=typeof le=="string";O?(Tt.title=!Lt&&_e&&!M?le:null,Tt["aria-describedby"]=Lt?Pr:null):(Tt["aria-label"]=_e?le:null,Tt["aria-labelledby"]=Lt&&!_e?Pr:null);const Pe=I({},Tt,Fe,Ee.props,{className:Te(Fe.className,Ee.props.className),onTouchStart:D,ref:he},L?{onMouseMove:Ae}:{}),Pt={};z||(Pe.onTouchStart=xe,Pe.onTouchEnd=pe),M||(Pe.onMouseOver=nf(K,Pe.onMouseOver),Pe.onMouseLeave=nf(ee,Pe.onMouseLeave),ht||(Pt.onMouseOver=K,Pt.onMouseLeave=ee)),$||(Pe.onFocus=nf(N,Pe.onFocus),Pe.onBlur=nf(k,Pe.onBlur),ht||(Pt.onFocus=N,Pt.onBlur=k));const er=w.useMemo(()=>{var Ie;let Re=[{name:"arrow",enabled:!!lt,options:{element:lt,padding:4}}];return(Ie=Ne.popperOptions)!=null&&Ie.modifiers&&(Re=Re.concat(Ne.popperOptions.modifiers)),I({},Ne.popperOptions,{modifiers:Re})},[lt,Ne]),St=I({},_,{isRtl:rn,arrow:C,disableInteractive:ht,placement:de,PopperComponentProp:$e,touch:Kt.current}),pi=P8(St),Oa=(r=(i=bt.popper)!=null?i:P.Popper)!=null?r:k8,Hi=(s=(o=(a=bt.transition)!=null?a:P.Transition)!=null?o:ze)!=null?s:bp,Xr=(l=(u=bt.tooltip)!=null?u:P.Tooltip)!=null?l:A8,mi=(c=(d=bt.arrow)!=null?d:P.Arrow)!=null?c:N8,Cu=uc(Oa,I({},Ne,(h=ke.popper)!=null?h:x.popper,{className:Te(pi.popper,Ne==null?void 0:Ne.className,(f=(p=ke.popper)!=null?p:x.popper)==null?void 0:f.className)}),St),Iu=uc(Hi,I({},ve,(g=ke.transition)!=null?g:x.transition),St),Ru=uc(Xr,I({},(E=ke.tooltip)!=null?E:x.tooltip,{className:Te(pi.tooltip,(m=(y=ke.tooltip)!=null?y:x.tooltip)==null?void 0:m.className)}),St),Ss=uc(mi,I({},(v=ke.arrow)!=null?v:x.arrow,{className:Te(pi.arrow,(T=(R=ke.arrow)!=null?R:x.arrow)==null?void 0:T.className)}),St);return S.jsxs(w.Fragment,{children:[w.cloneElement(Ee,Pe),S.jsx(Oa,I({as:$e??Xk,placement:de,anchorEl:L?{getBoundingClientRect:()=>({top:qu.y,left:qu.x,right:qu.x,bottom:qu.y,width:0,height:0})}:Dt,popperRef:ie,open:Dt?Lt:!1,id:Pr,transition:!0},Pt,Cu,{popperOptions:er,children:({TransitionProps:Ie})=>S.jsx(Hi,I({timeout:wn.transitions.duration.shorter},Ie,Iu,{children:S.jsxs(Xr,I({},Ru,{children:[le,C?S.jsx(mi,I({},Ss,{ref:Oe})):null]}))}))}))]})}),M8=O8;function D8(t){return nt("MuiTextField",t)}Xe("MuiTextField",["root"]);const L8=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],$8={standard:iA,filled:tA,outlined:cA},F8=t=>{const{classes:e}=t;return tt({root:["root"]},D8,e)},V8=Z(gB,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),U8=w.forwardRef(function(e,n){const r=rt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:o,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:d=!1,FormHelperTextProps:h,fullWidth:f=!1,helperText:p,id:g,InputLabelProps:E,inputProps:m,InputProps:y,inputRef:v,label:T,maxRows:R,minRows:_,multiline:C=!1,name:b,onBlur:P,onChange:x,onFocus:O,placeholder:$,required:M=!1,rows:F,select:z=!1,SelectProps:B,type:j,value:A,variant:L="outlined"}=r,H=ne(r,L8),se=I({},r,{autoFocus:s,color:l,disabled:c,error:d,fullWidth:f,multiline:C,required:M,select:z,variant:L}),re=F8(se),ce={};L==="outlined"&&(E&&typeof E.shrink<"u"&&(ce.notched=E.shrink),ce.label=T),z&&((!B||!B.native)&&(ce.id=void 0),ce["aria-describedby"]=void 0);const q=qm(g),oe=p&&q?`${q}-helper-text`:void 0,de=T&&q?`${q}-label`:void 0,$e=$8[L],Ne=S.jsx($e,I({"aria-describedby":oe,autoComplete:i,autoFocus:s,defaultValue:u,fullWidth:f,multiline:C,name:b,rows:F,maxRows:R,minRows:_,type:j,value:A,id:q,inputRef:v,onBlur:P,onChange:x,onFocus:O,placeholder:$,inputProps:m},ce,y));return S.jsxs(V8,I({className:Te(re.root,a),disabled:c,error:d,fullWidth:f,ref:n,required:M,color:l,variant:L,ownerState:se},H,{children:[T!=null&&T!==""&&S.jsx(zB,I({htmlFor:q,id:de},E,{children:T})),z?S.jsx(c8,I({"aria-describedby":oe,id:q,labelId:de,value:A,input:Ne},B,{children:o})):Ne,p&&S.jsx(SB,I({id:oe},h,{children:p}))]}))}),Mc=U8,hA=w.createContext(null),j8=({children:t})=>{const[e,n]=w.useState(()=>{const i=localStorage.getItem("darkMode");return i?JSON.parse(i):!1}),r=()=>{n(i=>{const s=!i;return localStorage.setItem("darkMode",JSON.stringify(s)),s})};return w.useEffect(()=>{const i=document.documentElement;e?i.classList.add("dark"):i.classList.remove("dark")},[e]),S.jsx(hA.Provider,{value:{isDarkMode:e,toggleTheme:r},children:t})},Ia=()=>w.useContext(hA),B8=Mk({palette:{primary:{main:"#000000"},dark:{main:"#d6d6d6"},secondary:{main:"#CBFF6A"},error:{main:Ro.A400}}});var sI={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q=function(t,e){if(!t)throw cu(e)},cu=function(t){return new Error("Firebase Database ("+fA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},z8=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},_w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,f=u&63;l||(f=64,o||(h=64)),r.push(n[c],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):z8(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new W8;const h=s<<2|a>>4;if(r.push(h),u!==64){const f=a<<4&240|u>>2;if(r.push(f),d!==64){const p=u<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class W8 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mA=function(t){const e=pA(t);return _w.encodeByteArray(e,!0)},xp=function(t){return mA(t).replace(/\./g,"")},Pp=function(t){try{return _w.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H8(t){return gA(void 0,t)}function gA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!q8(n)||(t[n]=gA(t[n],e[n]));return t}function q8(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8=()=>K8().__FIREBASE_DEFAULTS__,Q8=()=>{if(typeof process>"u"||typeof sI>"u")return;const t=sI.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Y8=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Pp(t[1]);return e&&JSON.parse(e)},Eg=()=>{try{return G8()||Q8()||Y8()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yA=t=>{var e,n;return(n=(e=Eg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vA=t=>{const e=yA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_A=()=>{var t;return(t=Eg())===null||t===void 0?void 0:t.config},wA=t=>{var e;return(e=Eg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[xp(JSON.stringify(n)),xp(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ew(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function X8(){var t;const e=(t=Eg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function J8(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Z8(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SA(){return fA.NODE_ADMIN===!0}function e7(){return!X8()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CA(){try{return typeof indexedDB=="object"}catch{return!1}}function t7(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n7="FirebaseError";class zi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=n7,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eh.prototype.create)}}class eh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?r7(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new zi(i,a,r)}}function r7(t,e){return t.replace(i7,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const i7=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t){return JSON.parse(t)}function In(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Ed(Pp(s[0])||""),n=Ed(Pp(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},s7=function(t){const e=IA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},o7=function(t){const e=IA(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Bl(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function W_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function kp(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Td(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(oI(s)&&oI(o)){if(!Td(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function oI(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function dc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function l7(t,e){const n=new u7(t,e);return n.subscribe.bind(n)}class u7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");c7(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Jy),i.error===void 0&&(i.error=Jy),i.complete===void 0&&(i.complete=Jy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function c7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jy(){}function d7(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h7=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Q(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Tg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t){return t&&t._delegate?t._delegate:t}class fs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ww;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m7(e))try{this.getOrInitializeService({instanceIdentifier:Po})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Po){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Po){return this.instances.has(e)}getOptions(e=Po){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:p7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Po){return this.component?this.component.multipleInstances?e:Po:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p7(t){return t===Po?void 0:t}function m7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new f7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const y7={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},v7=Me.INFO,_7={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},w7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=_7[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sg{constructor(e){this.name=e,this._logLevel=v7,this._logHandler=w7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const E7=(t,e)=>e.some(n=>t instanceof n);let aI,lI;function T7(){return aI||(aI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S7(){return lI||(lI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RA=new WeakMap,H_=new WeakMap,bA=new WeakMap,Zy=new WeakMap,Tw=new WeakMap;function C7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ys(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&RA.set(n,t)}).catch(()=>{}),Tw.set(e,t),e}function I7(t){if(H_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});H_.set(t,e)}let q_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return H_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ys(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function R7(t){q_=t(q_)}function b7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ev(this),e,...n);return bA.set(r,e.sort?e.sort():[e]),Ys(r)}:S7().includes(t)?function(...e){return t.apply(ev(this),e),Ys(RA.get(this))}:function(...e){return Ys(t.apply(ev(this),e))}}function x7(t){return typeof t=="function"?b7(t):(t instanceof IDBTransaction&&I7(t),E7(t,T7())?new Proxy(t,q_):t)}function Ys(t){if(t instanceof IDBRequest)return C7(t);if(Zy.has(t))return Zy.get(t);const e=x7(t);return e!==t&&(Zy.set(t,e),Tw.set(e,t)),e}const ev=t=>Tw.get(t);function P7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ys(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ys(o.result),l.oldVersion,l.newVersion,Ys(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const k7=["get","getKey","getAll","getAllKeys","count"],A7=["put","add","delete","clear"],tv=new Map;function uI(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tv.get(e))return tv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=A7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||k7.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return tv.set(e,s),s}R7(t=>({...t,get:(e,n,r)=>uI(e,n)||t.get(e,n,r),has:(e,n)=>!!uI(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(O7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function O7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const K_="@firebase/app",cI="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=new Sg("@firebase/app"),M7="@firebase/app-compat",D7="@firebase/analytics-compat",L7="@firebase/analytics",$7="@firebase/app-check-compat",F7="@firebase/app-check",V7="@firebase/auth",U7="@firebase/auth-compat",j7="@firebase/database",B7="@firebase/database-compat",z7="@firebase/functions",W7="@firebase/functions-compat",H7="@firebase/installations",q7="@firebase/installations-compat",K7="@firebase/messaging",G7="@firebase/messaging-compat",Q7="@firebase/performance",Y7="@firebase/performance-compat",X7="@firebase/remote-config",J7="@firebase/remote-config-compat",Z7="@firebase/storage",eW="@firebase/storage-compat",tW="@firebase/firestore",nW="@firebase/firestore-compat",rW="firebase",iW="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_="[DEFAULT]",sW={[K_]:"fire-core",[M7]:"fire-core-compat",[L7]:"fire-analytics",[D7]:"fire-analytics-compat",[F7]:"fire-app-check",[$7]:"fire-app-check-compat",[V7]:"fire-auth",[U7]:"fire-auth-compat",[j7]:"fire-rtdb",[B7]:"fire-rtdb-compat",[z7]:"fire-fn",[W7]:"fire-fn-compat",[H7]:"fire-iid",[q7]:"fire-iid-compat",[K7]:"fire-fcm",[G7]:"fire-fcm-compat",[Q7]:"fire-perf",[Y7]:"fire-perf-compat",[X7]:"fire-rc",[J7]:"fire-rc-compat",[Z7]:"fire-gcs",[eW]:"fire-gcs-compat",[tW]:"fire-fst",[nW]:"fire-fst-compat","fire-js":"fire-js",[rW]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=new Map,Q_=new Map;function oW(t,e){try{t.container.addComponent(e)}catch(n){aa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function so(t){const e=t.name;if(Q_.has(e))return aa.debug(`There were multiple attempts to register component ${e}.`),!1;Q_.set(e,t);for(const n of Ap.values())oW(n,t);return!0}function Cg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Xs=new eh("app","Firebase",aW);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=iW;function xA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:G_,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xs.create("bad-app-name",{appName:String(i)});if(n||(n=_A()),!n)throw Xs.create("no-options");const s=Ap.get(i);if(s){if(Td(n,s.options)&&Td(r,s.config))return s;throw Xs.create("duplicate-app",{appName:i})}const o=new g7(i);for(const l of Q_.values())o.addComponent(l);const a=new lW(n,r,o);return Ap.set(i,a),a}function Sw(t=G_){const e=Ap.get(t);if(!e&&t===G_&&_A())return xA();if(!e)throw Xs.create("no-app",{appName:t});return e}function Br(t,e,n){var r;let i=(r=sW[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),aa.warn(a.join(" "));return}so(new fs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uW="firebase-heartbeat-database",cW=1,Sd="firebase-heartbeat-store";let nv=null;function PA(){return nv||(nv=P7(uW,cW,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sd)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xs.create("idb-open",{originalErrorMessage:t.message})})),nv}async function dW(t){try{const n=(await PA()).transaction(Sd),r=await n.objectStore(Sd).get(kA(t));return await n.done,r}catch(e){if(e instanceof zi)aa.warn(e.message);else{const n=Xs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});aa.warn(n.message)}}}async function dI(t,e){try{const r=(await PA()).transaction(Sd,"readwrite");await r.objectStore(Sd).put(e,kA(t)),await r.done}catch(n){if(n instanceof zi)aa.warn(n.message);else{const r=Xs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});aa.warn(r.message)}}}function kA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hW=1024,fW=30*24*60*60*1e3;class pW{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gW(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=hI();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=fW}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hI(),{heartbeatsToSend:r,unsentEntries:i}=mW(this._heartbeatsCache.heartbeats),s=xp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function hI(){return new Date().toISOString().substring(0,10)}function mW(t,e=hW){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),fI(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class gW{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CA()?t7().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dW(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return dI(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function fI(t){return xp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yW(t){so(new fs("platform-logger",e=>new N7(e),"PRIVATE")),so(new fs("heartbeat",e=>new pW(e),"PRIVATE")),Br(K_,cI,t),Br(K_,cI,"esm2017"),Br("fire-js","")}yW("");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="firebasestorage.googleapis.com",NA="storageBucket",vW=2*60*1e3,_W=10*60*1e3,wW=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt extends zi{constructor(e,n,r=0){super(rv(e),`Firebase Storage: ${n} (${rv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return rv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var wt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(wt||(wt={}));function rv(t){return"storage/"+t}function Cw(){const t="An unknown error occurred, please check the error payload for server response.";return new Mt(wt.UNKNOWN,t)}function EW(t){return new Mt(wt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function TW(t){return new Mt(wt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function SW(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mt(wt.UNAUTHENTICATED,t)}function CW(){return new Mt(wt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function IW(t){return new Mt(wt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function OA(){return new Mt(wt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function MA(){return new Mt(wt.CANCELED,"User canceled the upload/download.")}function RW(t){return new Mt(wt.INVALID_URL,"Invalid URL '"+t+"'.")}function bW(t){return new Mt(wt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function xW(){return new Mt(wt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+NA+"' property when initializing the app?")}function DA(){return new Mt(wt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function PW(){return new Mt(wt.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function kW(){return new Mt(wt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function AW(t){return new Mt(wt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Y_(t){return new Mt(wt.INVALID_ARGUMENT,t)}function LA(){return new Mt(wt.APP_DELETED,"The Firebase app was deleted.")}function NW(t){return new Mt(wt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Dc(t,e){return new Mt(wt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ku(t){throw new Mt(wt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=vr.makeFromUrl(e,n)}catch{return new vr(e,"")}if(r.path==="")return r;throw bW(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(T){T.path.charAt(T.path.length-1)==="/"&&(T.path_=T.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(T){T.path_=decodeURIComponent(T.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",f=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),p={bucket:1,path:3},g=n===AA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",m=new RegExp(`^https?://${g}/${i}/${E}`,"i"),v=[{regex:a,indices:l,postModify:s},{regex:f,indices:p,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let T=0;T<v.length;T++){const R=v[T],_=R.regex.exec(e);if(_){const C=_[R.indices.bucket];let b=_[R.indices.path];b||(b=""),r=new vr(C,b),R.postModify(r);break}}if(r==null)throw RW(e);return r}}class OW{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MW(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...E){u||(u=!0,e.apply(null,E))}function d(E){i=setTimeout(()=>{i=null,t(f,l())},E)}function h(){s&&clearTimeout(s)}function f(E,...m){if(u){h();return}if(E){h(),c.call(null,E,...m);return}if(l()||o){h(),c.call(null,E,...m);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,d(v)}let p=!1;function g(E){p||(p=!0,h(),!u&&(i!==null?(E||(a=2),clearTimeout(i),d(0)):E||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function DW(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LW(t){return t!==void 0}function $W(t){return typeof t=="function"}function FW(t){return typeof t=="object"&&!Array.isArray(t)}function Ig(t){return typeof t=="string"||t instanceof String}function pI(t){return Iw()&&t instanceof Blob}function Iw(){return typeof Blob<"u"}function mI(t,e,n,r){if(r<e)throw Y_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Y_(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function $A(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ko;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ko||(Ko={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new rf(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Ko.NO_ERROR,l=s.getStatus();if(!a||FA(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Ko.ABORT;r(!1,new rf(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new rf(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());LW(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Cw();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?LA():MA();o(l)}else{const l=OA();o(l)}};this.canceled_?n(!1,new rf(!1,null,!0)):this.backoffId_=MW(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&DW(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function UW(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function jW(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function BW(t,e){e&&(t["X-Firebase-GMPID"]=e)}function zW(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function WW(t,e,n,r,i,s,o=!0){const a=$A(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return BW(u,e),UW(u,n),jW(u,s),zW(u,r),new VW(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HW(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function qW(...t){const e=HW();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Iw())return new Blob(t);throw new Mt(wt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function KW(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GW(t){if(typeof atob>"u")throw AW("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class iv{constructor(e,n){this.data=e,this.contentType=n||null}}function QW(t,e){switch(t){case Si.RAW:return new iv(VA(e));case Si.BASE64:case Si.BASE64URL:return new iv(UA(t,e));case Si.DATA_URL:return new iv(XW(e),JW(e))}throw Cw()}function VA(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function YW(t){let e;try{e=decodeURIComponent(t)}catch{throw Dc(Si.DATA_URL,"Malformed data URL.")}return VA(e)}function UA(t,e){switch(t){case Si.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Dc(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Si.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Dc(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=GW(e)}catch(i){throw i.message.includes("polyfill")?i:Dc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class jA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Dc(Si.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=ZW(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function XW(t){const e=new jA(t);return e.base64?UA(Si.BASE64,e.rest):YW(e.rest)}function JW(t){return new jA(t).contentType}function ZW(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n){let r=0,i="";pI(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(pI(this.data_)){const r=this.data_,i=KW(r,e,n);return i===null?null:new Os(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Os(r,!0)}}static getBlob(...e){if(Iw()){const n=e.map(r=>r instanceof Os?r.data_:r);return new Os(qW.apply(null,n))}else{const n=e.map(o=>Ig(o)?QW(Si.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Os(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t){let e;try{e=JSON.parse(t)}catch{return null}return FW(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eH(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function tH(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function zA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nH(t,e){return e}class Kn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||nH}}let sf=null;function rH(t){return!Ig(t)||t.length<2?t:zA(t)}function WA(){if(sf)return sf;const t=[];t.push(new Kn("bucket")),t.push(new Kn("generation")),t.push(new Kn("metageneration")),t.push(new Kn("name","fullPath",!0));function e(s,o){return rH(o)}const n=new Kn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new Kn("size");return i.xform=r,t.push(i),t.push(new Kn("timeCreated")),t.push(new Kn("updated")),t.push(new Kn("md5Hash",null,!0)),t.push(new Kn("cacheControl",null,!0)),t.push(new Kn("contentDisposition",null,!0)),t.push(new Kn("contentEncoding",null,!0)),t.push(new Kn("contentLanguage",null,!0)),t.push(new Kn("contentType",null,!0)),t.push(new Kn("metadata","customMetadata",!0)),sf=t,sf}function iH(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new vr(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function sH(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return iH(r,t),r}function HA(t,e,n){const r=BA(e);return r===null?null:sH(t,r,n)}function oH(t,e,n,r){const i=BA(e);if(i===null||!Ig(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),f=th(h,n,r),p=$A({alt:"media",token:u});return f+p})[0]}function qA(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class hu{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t){if(!t)throw Cw()}function Rw(t,e){function n(r,i){const s=HA(t,i,e);return ss(s!==null),s}return n}function aH(t,e){function n(r,i){const s=HA(t,i,e);return ss(s!==null),oH(s,i,t.host,t._protocol)}return n}function nh(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=CW():i=SW():n.getStatus()===402?i=TW(t.bucket):n.getStatus()===403?i=IW(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function KA(t){const e=nh(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=EW(t.path)),s.serverResponse=i.serverResponse,s}return n}function lH(t,e,n){const r=e.fullServerUrl(),i=th(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new hu(i,s,Rw(t,n),o);return a.errorHandler=KA(e),a}function uH(t,e,n){const r=e.fullServerUrl(),i=th(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new hu(i,s,aH(t,n),o);return a.errorHandler=KA(e),a}function cH(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function GA(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=cH(null,e)),r}function dH(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let T=0;T<2;T++)v=v+Math.random().toString().slice(2);return v}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=GA(e,r,i),c=qA(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",f=Os.getBlob(d,r,h);if(f===null)throw DA();const p={name:u.fullPath},g=th(s,t.host,t._protocol),E="POST",m=t.maxUploadRetryTime,y=new hu(g,E,Rw(t,n),m);return y.urlParams=p,y.headers=o,y.body=f.uploadData(),y.errorHandler=nh(e),y}class Np{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function bw(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{ss(!1)}return ss(!!n&&(e||["active"]).indexOf(n)!==-1),n}function hH(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=GA(e,r,i),a={name:o.fullPath},l=th(s,t.host,t._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},d=qA(o,n),h=t.maxUploadRetryTime;function f(g){bw(g);let E;try{E=g.getResponseHeader("X-Goog-Upload-URL")}catch{ss(!1)}return ss(Ig(E)),E}const p=new hu(l,u,f,h);return p.urlParams=a,p.headers=c,p.body=d,p.errorHandler=nh(e),p}function fH(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(u){const c=bw(u,["active","final"]);let d=null;try{d=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch{ss(!1)}d||ss(!1);const h=Number(d);return ss(!isNaN(h)),new Np(h,r.size(),c==="final")}const o="POST",a=t.maxUploadRetryTime,l=new hu(n,o,s,a);return l.headers=i,l.errorHandler=nh(e),l}const gI=256*1024;function pH(t,e,n,r,i,s,o,a){const l=new Np(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw PW();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const d=l.current,h=d+c;let f="";c===0?f="finalize":u===c?f="upload, finalize":f="upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},g=r.slice(d,h);if(g===null)throw DA();function E(T,R){const _=bw(T,["active","final"]),C=l.current+c,b=r.size();let P;return _==="final"?P=Rw(e,s)(T,R):P=null,new Np(C,b,_==="final",P)}const m="POST",y=e.maxUploadRetryTime,v=new hu(n,m,E,y);return v.headers=p,v.body=g.uploadData(),v.progressCallback=a||null,v.errorHandler=nh(t),v}const tr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function sv(t){switch(t){case"running":case"pausing":case"canceling":return tr.RUNNING;case"paused":return tr.PAUSED;case"success":return tr.SUCCESS;case"canceled":return tr.CANCELED;case"error":return tr.ERROR;default:return tr.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e,n,r){if($W(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class gH{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ko.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ko.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ko.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ku("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ku("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ku("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ku("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ku("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class yH extends gH{initXhr(){this.xhr_.responseType="text"}}function Wa(){return new yH}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=WA(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(wt.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(FA(i.status,[]))if(s)i=OA();else{this.sleepTime=Math.max(this.sleepTime*2,wW),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(wt.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=hH(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Wa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=fH(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Wa,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=gI*this._chunkMultiplier,n=new Np(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=pH(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,Wa,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){gI*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=lH(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Wa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=dH(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Wa,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=MA(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=sv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new mH(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(sv(this._state)){case tr.SUCCESS:Ua(this._resolve.bind(null,this.snapshot))();break;case tr.CANCELED:case tr.ERROR:const n=this._reject;Ua(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(sv(this._state)){case tr.RUNNING:case tr.PAUSED:e.next&&Ua(e.next.bind(e,this.snapshot))();break;case tr.SUCCESS:e.complete&&Ua(e.complete.bind(e))();break;case tr.CANCELED:case tr.ERROR:e.error&&Ua(e.error.bind(e,this._error))();break;default:e.error&&Ua(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this._service=e,n instanceof vr?this._location=n:this._location=vr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new la(e,n)}get root(){const e=new vr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zA(this._location.path)}get storage(){return this._service}get parent(){const e=eH(this._location.path);if(e===null)return null;const n=new vr(this._location.bucket,e);return new la(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw NW(e)}}function _H(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new vH(t,new Os(e),n)}function wH(t){t._throwIfRoot("getDownloadURL");const e=uH(t.storage,t._location,WA());return t.storage.makeRequestWithTokens(e,Wa).then(n=>{if(n===null)throw kW();return n})}function EH(t,e){const n=tH(t._location.path,e),r=new vr(t._location.bucket,n);return new la(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TH(t){return/^[A-Za-z]+:\/\//.test(t)}function SH(t,e){return new la(t,e)}function QA(t,e){if(t instanceof xw){const n=t;if(n._bucket==null)throw xW();const r=new la(n,n._bucket);return e!=null?QA(r,e):r}else return e!==void 0?EH(t,e):t}function CH(t,e){if(e&&TH(e)){if(t instanceof xw)return SH(t,e);throw Y_("To use ref(service, url), the first argument must be a Storage instance.")}else return QA(t,e)}function yI(t,e){const n=e==null?void 0:e[NA];return n==null?null:vr.makeFromBucketSpec(n,t)}function IH(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:EA(i,t.app.options.projectId))}class xw{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=AA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vW,this._maxUploadRetryTime=_W,this._requests=new Set,i!=null?this._bucket=vr.makeFromBucketSpec(i,this._host):this._bucket=yI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=vr.makeFromBucketSpec(this._url,e):this._bucket=yI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new la(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new OW(LA());{const o=WW(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const vI="@firebase/storage",_I="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="storage";function XA(t,e,n){return t=_t(t),_H(t,e,n)}function JA(t){return t=_t(t),wH(t)}function ZA(t,e){return t=_t(t),CH(t,e)}function eN(t=Sw(),e){t=_t(t);const r=Cg(t,YA).getImmediate({identifier:e}),i=vA("storage");return i&&RH(r,...i),r}function RH(t,e,n,r={}){IH(t,e,n,r)}function bH(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new xw(n,r,i,e,vo)}function xH(){so(new fs(YA,bH,"PUBLIC").setMultipleInstances(!0)),Br(vI,_I,""),Br(vI,_I,"esm2017")}xH();function PH(){const t=Sa();Ta();const e=F$("/pract-chat");return w.useEffect(()=>{e&&t("/pract-chat/chat")},[t,e]),S.jsx("div",{children:S.jsx(j8,{children:S.jsx(ZU,{theme:B8,children:S.jsx(L1,{})})})})}var Pw={},tN={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(tN);var rh=tN.exports,ov={};const kH=ED(o3);var wI;function ih(){return wI||(wI=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=kH}(ov)),ov}var AH=rh;Object.defineProperty(Pw,"__esModule",{value:!0});var kw=Pw.default=void 0,NH=AH(ih()),OH=S;kw=Pw.default=(0,NH.default)((0,OH.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4m0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7"}),"VisibilityOutlined");var Aw={},MH=rh;Object.defineProperty(Aw,"__esModule",{value:!0});var Nw=Aw.default=void 0,DH=MH(ih()),LH=S;Nw=Aw.default=(0,DH.default)((0,LH.jsx)("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6m-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14M2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45zm7.5 7.5 2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13m-3.4-3.4 1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53"}),"VisibilityOffOutlined");function Ow(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $H=nN,rN=new eh("auth","Firebase",nN());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Op=new Sg("@firebase/auth");function FH(t,...e){Op.logLevel<=Me.WARN&&Op.warn(`Auth (${vo}): ${t}`,...e)}function Lf(t,...e){Op.logLevel<=Me.ERROR&&Op.error(`Auth (${vo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t,...e){throw Mw(t,...e)}function Ai(t,...e){return Mw(t,...e)}function VH(t,e,n){const r=Object.assign(Object.assign({},$H()),{[e]:n});return new eh("auth","Firebase",r).create(e,{appName:t.name})}function Mw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return rN.create(t,...e)}function me(t,e,...n){if(!t)throw Mw(e,...n)}function Zi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Lf(e),new Error(e)}function ps(t,e){t||Zi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function UH(){return EI()==="http:"||EI()==="https:"}function EI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jH(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UH()||J8()||"connection"in navigator)?navigator.onLine:!0}function BH(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ps(n>e,"Short delay should be less than long delay!"),this.isMobile=Ew()||TA()}get(){return jH()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(t,e){ps(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WH=new sh(3e4,6e4);function _o(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ts(t,e,n,r,i={}){return sN(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=du(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),iN.fetch()(oN(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function sN(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},zH),e);try{const i=new qH(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw of(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw of(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw of(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw of(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw VH(t,c,u);ci(t,c)}}catch(i){if(i instanceof zi)throw i;ci(t,"network-request-failed",{message:String(i)})}}async function oh(t,e,n,r,i={}){const s=await Ts(t,e,n,r,i);return"mfaPendingCredential"in s&&ci(t,"multi-factor-auth-required",{_serverResponse:s}),s}function oN(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Dw(t.config,i):`${t.config.apiScheme}://${i}`}function HH(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class qH{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ai(this.auth,"network-request-failed")),WH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function of(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ai(t,e,r);return i.customData._tokenResponse=n,i}function TI(t){return t!==void 0&&t.enterprise!==void 0}class KH{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HH(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function GH(t,e){return Ts(t,"GET","/v2/recaptchaConfig",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QH(t,e){return Ts(t,"POST","/v1/accounts:delete",e)}async function YH(t,e){return Ts(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XH(t,e=!1){const n=_t(t),r=await n.getIdToken(e),i=Lw(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Lc(av(i.auth_time)),issuedAtTime:Lc(av(i.iat)),expirationTime:Lc(av(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function av(t){return Number(t)*1e3}function Lw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Lf("JWT malformed, contained fewer than 3 sections"),null;try{const i=Pp(n);return i?JSON.parse(i):(Lf("Failed to decode base64 JWT payload"),null)}catch(i){return Lf("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function JH(t){const e=Lw(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof zi&&ZH(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ZH({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lc(this.lastLoginAt),this.creationTime=Lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await zl(t,YH(n,{idToken:r}));me(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?rq(s.providerUserInfo):[],a=nq(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new aN(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function tq(t){const e=_t(t);await Mp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function rq(t){return t.map(e=>{var{providerId:n}=e,r=Ow(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iq(t,e){const n=await sN(t,{},async()=>{const r=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=oN(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",iN.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function sq(t,e){return Ts(t,"POST","/v2/accounts:revokeToken",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):JH(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return me(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await iq(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Cd;return r&&(me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(me(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Cd,this.toJSON())}_performRefresh(){return Zi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Go{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Ow(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new aN(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await zl(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XH(this,e)}reload(){return tq(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Go(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await zl(this,QH(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:T,isAnonymous:R,providerData:_,stsTokenManager:C}=n;me(v&&C,e,"internal-error");const b=Cd.fromJSON(this.name,C);me(typeof v=="string",e,"internal-error"),bs(d,e.name),bs(h,e.name),me(typeof T=="boolean",e,"internal-error"),me(typeof R=="boolean",e,"internal-error"),bs(f,e.name),bs(p,e.name),bs(g,e.name),bs(E,e.name),bs(m,e.name),bs(y,e.name);const P=new Go({uid:v,auth:e,email:h,emailVerified:T,displayName:d,isAnonymous:R,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:b,createdAt:m,lastLoginAt:y});return _&&Array.isArray(_)&&(P.providerData=_.map(x=>Object.assign({},x))),E&&(P._redirectEventId=E),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Cd;i.updateFromServerResponse(n);const s=new Go({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Mp(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=new Map;function es(t){ps(t instanceof Function,"Expected a class definition");let e=SI.get(t);return e?(ps(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,SI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lN.type="NONE";const CI=lN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(t,e,n){return`firebase:${t}:${e}:${n}`}class wl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=$f(this.userKey,i.apiKey,s),this.fullPersistenceKey=$f("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Go._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wl(es(CI),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||es(CI);const o=$f(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Go._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new wl(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new wl(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fN(e))return"Blackberry";if(pN(e))return"Webos";if($w(e))return"Safari";if((e.includes("chrome/")||cN(e))&&!e.includes("edge/"))return"Chrome";if(hN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function uN(t=tn()){return/firefox\//i.test(t)}function $w(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cN(t=tn()){return/crios\//i.test(t)}function dN(t=tn()){return/iemobile/i.test(t)}function hN(t=tn()){return/android/i.test(t)}function fN(t=tn()){return/blackberry/i.test(t)}function pN(t=tn()){return/webos/i.test(t)}function Rg(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function oq(t=tn()){var e;return Rg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aq(){return Z8()&&document.documentMode===10}function mN(t=tn()){return Rg(t)||hN(t)||pN(t)||fN(t)||/windows phone/i.test(t)||dN(t)}function lq(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(t,e=[]){let n;switch(t){case"Browser":n=II(tn());break;case"Worker":n=`${II(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cq(t,e={}){return Ts(t,"GET","/v2/passwordPolicy",_o(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq=6;class hq{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:dq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RI(this),this.idTokenSubscription=new RI(this),this.beforeStateQueue=new uq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=es(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await wl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BH()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?_t(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(es(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await cq(this),n=new hq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new eh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await sq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&es(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await wl.create(this,[es(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&FH(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ra(t){return _t(t)}class RI{constructor(e){this.auth=e,this.observer=null,this.addObserver=l7(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pq(t){bg=t}function yN(t){return bg.loadJS(t)}function mq(){return bg.recaptchaEnterpriseScript}function gq(){return bg.gapiScript}function yq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const vq="recaptcha-enterprise",_q="NO_RECAPTCHA";class wq{constructor(e){this.type=vq,this.auth=Ra(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{GH(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new KH(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;TI(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(_q)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&TI(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=mq();l.length!==0&&(l+=a),yN(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function bI(t,e,n,r=!1){const i=new wq(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function J_(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await bI(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await bI(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eq(t,e){const n=Cg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Td(s,e??{}))return i;ci(i,"already-initialized")}return n.initialize({options:e})}function Tq(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(es);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Sq(t,e,n){const r=Ra(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=vN(e),{host:o,port:a}=Cq(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Iq()}function vN(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Cq(t){const e=vN(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:xI(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:xI(o)}}}function xI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Iq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zi("not implemented")}_getIdTokenResponse(e){return Zi("not implemented")}_linkToIdToken(e,n){return Zi("not implemented")}_getReauthenticationResolver(e){return Zi("not implemented")}}async function Rq(t,e){return Ts(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bq(t,e){return oh(t,"POST","/v1/accounts:signInWithPassword",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xq(t,e){return oh(t,"POST","/v1/accounts:signInWithEmailLink",_o(t,e))}async function Pq(t,e){return oh(t,"POST","/v1/accounts:signInWithEmailLink",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id extends Fw{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Id(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Id(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return J_(e,n,"signInWithPassword",bq);case"emailLink":return xq(e,{email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return J_(e,r,"signUpPassword",Rq);case"emailLink":return Pq(e,{idToken:n,email:this._email,oobCode:this._password});default:ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function El(t,e){return oh(t,"POST","/v1/accounts:signInWithIdp",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kq="http://localhost";class ua extends Fw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ci("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Ow(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ua(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return El(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,El(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,El(e,n)}buildRequest(){const e={requestUri:kq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aq(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Nq(t){const e=cc(dc(t)).link,n=e?cc(dc(e)).deep_link_id:null,r=cc(dc(t)).deep_link_id;return(r?cc(dc(r)).link:null)||r||n||e||t}class Vw{constructor(e){var n,r,i,s,o,a;const l=cc(dc(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=Aq((i=l.mode)!==null&&i!==void 0?i:null);me(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Nq(e);try{return new Vw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(){this.providerId=fu.PROVIDER_ID}static credential(e,n){return Id._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Vw.parseLink(n);return me(r,"argument-error"),Id._fromEmailAndCode(e,r.code,r.tenantId)}}fu.PROVIDER_ID="password";fu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends _N{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends ah{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends ah{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ua._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ds.credential(n,r)}catch{return null}}}Ds.GOOGLE_SIGN_IN_METHOD="google.com";Ds.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends ah{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.GITHUB_SIGN_IN_METHOD="github.com";Ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends ah{constructor(){super("twitter.com")}static credential(e,n){return ua._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $s.credential(n,r)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oq(t,e){return oh(t,"POST","/v1/accounts:signUp",_o(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await Go._fromIdTokenResponse(e,r,i),o=PI(r);return new ca({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=PI(r);return new ca({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function PI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp extends zi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Dp(e,n,r,i)}}function wN(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Dp._fromErrorAndOperation(t,s,e,r):s})}async function Mq(t,e,n=!1){const r=await zl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ca._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dq(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await zl(t,wN(r,i,e,t),n);me(s.idToken,r,"internal-error");const o=Lw(s.idToken);me(o,r,"internal-error");const{sub:a}=o;return me(t.uid===a,r,"user-mismatch"),ca._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&ci(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EN(t,e,n=!1){const r="signIn",i=await wN(t,r,e),s=await ca._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function Lq(t,e){return EN(Ra(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(t){const e=Ra(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function $q(t,e,n){const r=Ra(t),o=await J_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Oq).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&TN(t),l}),a=await ca._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Fq(t,e,n){return Lq(_t(t),fu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&TN(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vq(t,e){return Ts(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uq(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=_t(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await zl(r,Vq(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function jq(t,e,n,r){return _t(t).onIdTokenChanged(e,n,r)}function Bq(t,e,n){return _t(t).beforeAuthStateChanged(e,n)}function zq(t,e,n,r){return _t(t).onAuthStateChanged(e,n,r)}function Wq(t){return _t(t).signOut()}const Lp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Lp,"1"),this.storage.removeItem(Lp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hq(){const t=tn();return $w(t)||Rg(t)}const qq=1e3,Kq=10;class CN extends SN{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Hq()&&lq(),this.fallbackToPolling=mN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);aq()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Kq):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},qq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CN.type="LOCAL";const Gq=CN;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN extends SN{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IN.type="SESSION";const RN=IN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new xg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await Qq(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=Uw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(){return window}function Xq(t){Ni().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function Jq(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Zq(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function eK(){return bN()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN="firebaseLocalStorageDb",tK=1,$p="firebaseLocalStorage",PN="fbase_key";class lh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pg(t,e){return t.transaction([$p],e?"readwrite":"readonly").objectStore($p)}function nK(){const t=indexedDB.deleteDatabase(xN);return new lh(t).toPromise()}function Z_(){const t=indexedDB.open(xN,tK);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore($p,{keyPath:PN})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains($p)?e(r):(r.close(),await nK(),e(await Z_()))})})}async function kI(t,e,n){const r=Pg(t,!0).put({[PN]:e,value:n});return new lh(r).toPromise()}async function rK(t,e){const n=Pg(t,!1).get(e),r=await new lh(n).toPromise();return r===void 0?null:r.value}function AI(t,e){const n=Pg(t,!0).delete(e);return new lh(n).toPromise()}const iK=800,sK=3;class kN{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Z_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>sK)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bN()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xg._getInstance(eK()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Jq(),!this.activeServiceWorker)return;this.sender=new Yq(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Zq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Z_();return await kI(e,Lp,"1"),await AI(e,Lp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>rK(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Pg(i,!1).getAll();return new lh(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kN.type="LOCAL";const oK=kN;new sh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aK(t,e){return e?es(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw extends Fw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return El(e,this._buildIdpRequest())}_linkToIdToken(e,n){return El(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return El(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function lK(t){return EN(t.auth,new jw(t),t.bypassAuthState)}function uK(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),Dq(n,new jw(t),t.bypassAuthState)}async function cK(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),Mq(n,new jw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lK;case"linkViaPopup":case"linkViaRedirect":return cK;case"reauthViaPopup":case"reauthViaRedirect":return uK;default:ci(this.auth,"internal-error")}}resolve(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dK=new sh(2e3,1e4);class ll extends AN{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,ll.currentPopupAction&&ll.currentPopupAction.cancel(),ll.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const e=Uw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ll.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dK.get())};e()}}ll.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hK="pendingRedirect",Ff=new Map;class fK extends AN{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ff.get(this.auth._key());if(!e){try{const r=await pK(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ff.set(this.auth._key(),e)}return this.bypassAuthState||Ff.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pK(t,e){const n=yK(e),r=gK(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function mK(t,e){Ff.set(t._key(),e)}function gK(t){return es(t._redirectPersistence)}function yK(t){return $f(hK,t.config.apiKey,t.name)}async function vK(t,e,n=!1){const r=Ra(t),i=aK(r,e),o=await new fK(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _K=10*60*1e3;class wK{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!EK(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!NN(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ai(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_K&&this.cachedEventUids.clear(),this.cachedEventUids.has(NI(e))}saveEventToCache(e){this.cachedEventUids.add(NI(e)),this.lastProcessedEventTime=Date.now()}}function NI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function NN({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function EK(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NN(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TK(t,e={}){return Ts(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SK=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,CK=/^https?/;async function IK(t){if(t.config.emulator)return;const{authorizedDomains:e}=await TK(t);for(const n of e)try{if(RK(n))return}catch{}ci(t,"unauthorized-domain")}function RK(t){const e=X_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!CK.test(n))return!1;if(SK.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bK=new sh(3e4,6e4);function OI(){const t=Ni().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function xK(t){return new Promise((e,n)=>{var r,i,s;function o(){OI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OI(),n(Ai(t,"network-request-failed"))},timeout:bK.get()})}if(!((i=(r=Ni().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ni().gapi)===null||s===void 0)&&s.load)o();else{const a=yq("iframefcb");return Ni()[a]=()=>{gapi.load?o():n(Ai(t,"network-request-failed"))},yN(`${gq()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Vf=null,e})}let Vf=null;function PK(t){return Vf=Vf||xK(t),Vf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kK=new sh(5e3,15e3),AK="__/auth/iframe",NK="emulator/auth/iframe",OK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DK(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Dw(e,NK):`https://${t.config.authDomain}/${AK}`,r={apiKey:e.apiKey,appName:t.name,v:vo},i=MK.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${du(r).slice(1)}`}async function LK(t){const e=await PK(t),n=Ni().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:DK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OK,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ai(t,"network-request-failed"),a=Ni().setTimeout(()=>{s(o)},kK.get());function l(){Ni().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $K={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FK=500,VK=600,UK="_blank",jK="http://localhost";class MI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BK(t,e,n,r=FK,i=VK){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},$K),{width:r.toString(),height:i.toString(),top:s,left:o}),u=tn().toLowerCase();n&&(a=cN(u)?UK:n),uN(u)&&(e=e||jK,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(oq(u)&&a!=="_self")return zK(e||"",a),new MI(null);const d=window.open(e||"",a,c);me(d,t,"popup-blocked");try{d.focus()}catch{}return new MI(d)}function zK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WK="__/auth/handler",HK="emulator/auth/handler",qK=encodeURIComponent("fac");async function DI(t,e,n,r,i,s){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:vo,eventId:i};if(e instanceof _N){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",W_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(e instanceof ah){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${qK}=${encodeURIComponent(l)}`:"";return`${KK(t)}?${du(a).slice(1)}${u}`}function KK({config:t}){return t.emulator?Dw(t,HK):`https://${t.authDomain}/${WK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="webStorageSupport";class GK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RN,this._completeRedirectFn=vK,this._overrideRedirectResult=mK}async _openPopup(e,n,r,i){var s;ps((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await DI(e,n,r,X_(),i);return BK(e,o,Uw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await DI(e,n,r,X_(),i);return Xq(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ps(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await LK(e),r=new wK(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lv,{type:lv},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[lv];o!==void 0&&n(!!o),ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=IK(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mN()||$w()||Rg()}}const QK=GK;var LI="@firebase/auth",$I="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JK(t){so(new fs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;me(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gN(t)},u=new fq(r,i,s,l);return Tq(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),so(new fs("auth-internal",e=>{const n=Ra(e.getProvider("auth").getImmediate());return(r=>new YK(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Br(LI,$I,XK(t)),Br(LI,$I,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZK=5*60,eG=wA("authIdTokenMaxAge")||ZK;let FI=null;const tG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>eG)return;const i=n==null?void 0:n.token;FI!==i&&(FI=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function nG(t=Sw()){const e=Cg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Eq(t,{popupRedirectResolver:QK,persistence:[oK,Gq,RN]}),r=wA("authTokenSyncURL");if(r){const s=tG(r);Bq(n,s,()=>s(n.currentUser)),jq(n,o=>s(o))}const i=yA("auth");return i&&Sq(n,`http://${i}`),n}function rG(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}pq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ai("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",rG().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JK("Browser");var iG="firebase",sG="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Br(iG,sG,"app");var oG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y,Bw=Bw||{},ye=oG||self;function kg(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function uh(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function aG(t){return Object.prototype.hasOwnProperty.call(t,uv)&&t[uv]||(t[uv]=++lG)}var uv="closure_uid_"+(1e9*Math.random()>>>0),lG=0;function uG(t,e,n){return t.call.apply(t.bind,arguments)}function cG(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Bn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Bn=uG:Bn=cG,Bn.apply(null,arguments)}function af(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function _n(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function wo(){this.s=this.s,this.o=this.o}var dG=0;wo.prototype.s=!1;wo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),dG!=0)&&aG(this)};wo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ON=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function zw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function VI(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(kg(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function zn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}zn.prototype.h=function(){this.defaultPrevented=!0};var hG=function(){if(!ye.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};ye.addEventListener("test",n,e),ye.removeEventListener("test",n,e)}catch{}return t}();function Rd(t){return/^[\s\xa0]*$/.test(t)}function Ag(){var t=ye.navigator;return t&&(t=t.userAgent)?t:""}function Ti(t){return Ag().indexOf(t)!=-1}function Ww(t){return Ww[" "](t),t}Ww[" "]=function(){};function fG(t,e){var n=sQ;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var pG=Ti("Opera"),Wl=Ti("Trident")||Ti("MSIE"),MN=Ti("Edge"),e0=MN||Wl,DN=Ti("Gecko")&&!(Ag().toLowerCase().indexOf("webkit")!=-1&&!Ti("Edge"))&&!(Ti("Trident")||Ti("MSIE"))&&!Ti("Edge"),mG=Ag().toLowerCase().indexOf("webkit")!=-1&&!Ti("Edge");function LN(){var t=ye.document;return t?t.documentMode:void 0}var t0;e:{var cv="",dv=function(){var t=Ag();if(DN)return/rv:([^\);]+)(\)|;)/.exec(t);if(MN)return/Edge\/([\d\.]+)/.exec(t);if(Wl)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(mG)return/WebKit\/(\S+)/.exec(t);if(pG)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(dv&&(cv=dv?dv[1]:""),Wl){var hv=LN();if(hv!=null&&hv>parseFloat(cv)){t0=String(hv);break e}}t0=cv}var n0;if(ye.document&&Wl){var UI=LN();n0=UI||parseInt(t0,10)||void 0}else n0=void 0;var gG=n0;function bd(t,e){if(zn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(DN){e:{try{Ww(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:yG[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&bd.$.h.call(this)}}_n(bd,zn);var yG={2:"touch",3:"pen",4:"mouse"};bd.prototype.h=function(){bd.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ch="closure_listenable_"+(1e6*Math.random()|0),vG=0;function _G(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++vG,this.fa=this.ia=!1}function Ng(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Hw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function wG(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function $N(t){const e={};for(const n in t)e[n]=t[n];return e}const jI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function FN(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<jI.length;s++)n=jI[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Og(t){this.src=t,this.g={},this.h=0}Og.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=i0(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new _G(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function r0(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=ON(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Ng(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function i0(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var qw="closure_lm_"+(1e6*Math.random()|0),fv={};function VN(t,e,n,r,i){if(r&&r.once)return jN(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)VN(t,e[s],n,r,i);return null}return n=Qw(n),t&&t[ch]?t.O(e,n,uh(r)?!!r.capture:!!r,i):UN(t,e,n,!1,r,i)}function UN(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=uh(i)?!!i.capture:!!i,a=Gw(t);if(a||(t[qw]=a=new Og(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=EG(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)hG||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(zN(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function EG(){function t(n){return e.call(t.src,t.listener,n)}const e=TG;return t}function jN(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)jN(t,e[s],n,r,i);return null}return n=Qw(n),t&&t[ch]?t.P(e,n,uh(r)?!!r.capture:!!r,i):UN(t,e,n,!0,r,i)}function BN(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)BN(t,e[s],n,r,i);else r=uh(r)?!!r.capture:!!r,n=Qw(n),t&&t[ch]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=i0(s,n,r,i),-1<n&&(Ng(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=Gw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=i0(e,n,r,i)),(n=-1<t?e[t]:null)&&Kw(n))}function Kw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[ch])r0(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(zN(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Gw(e))?(r0(n,t),n.h==0&&(n.src=null,e[qw]=null)):Ng(t)}}}function zN(t){return t in fv?fv[t]:fv[t]="on"+t}function TG(t,e){if(t.fa)t=!0;else{e=new bd(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Kw(t),t=n.call(r,e)}return t}function Gw(t){return t=t[qw],t instanceof Og?t:null}var pv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qw(t){return typeof t=="function"?t:(t[pv]||(t[pv]=function(e){return t.handleEvent(e)}),t[pv])}function yn(){wo.call(this),this.i=new Og(this),this.S=this,this.J=null}_n(yn,wo);yn.prototype[ch]=!0;yn.prototype.removeEventListener=function(t,e,n,r){BN(this,t,e,n,r)};function xn(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new zn(e,t);else if(e instanceof zn)e.target=e.target||t;else{var i=e;e=new zn(r,t),FN(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=lf(o,r,!0,e)&&i}if(o=e.g=t,i=lf(o,r,!0,e)&&i,i=lf(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=lf(o,r,!1,e)&&i}yn.prototype.N=function(){if(yn.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Ng(n[r]);delete t.g[e],t.h--}}this.J=null};yn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};yn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function lf(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&r0(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var Yw=ye.JSON.stringify;class SG{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function CG(){var t=Xw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class IG{constructor(){this.h=this.g=null}add(e,n){const r=WN.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var WN=new SG(()=>new RG,t=>t.reset());class RG{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function bG(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function xG(t){ye.setTimeout(()=>{throw t},0)}let xd,Pd=!1,Xw=new IG,HN=()=>{const t=ye.Promise.resolve(void 0);xd=()=>{t.then(PG)}};var PG=()=>{for(var t;t=CG();){try{t.h.call(t.g)}catch(n){xG(n)}var e=WN;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Pd=!1};function Mg(t,e){yn.call(this),this.h=t||1,this.g=e||ye,this.j=Bn(this.qb,this),this.l=Date.now()}_n(Mg,yn);Y=Mg.prototype;Y.ga=!1;Y.T=null;Y.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),xn(this,"tick"),this.ga&&(Jw(this),this.start()))}};Y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Jw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Y.N=function(){Mg.$.N.call(this),Jw(this),delete this.g};function Zw(t,e,n){if(typeof t=="function")n&&(t=Bn(t,n));else if(t&&typeof t.handleEvent=="function")t=Bn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ye.setTimeout(t,e||0)}function qN(t){t.g=Zw(()=>{t.g=null,t.i&&(t.i=!1,qN(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class kG extends wo{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qN(this)}N(){super.N(),this.g&&(ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kd(t){wo.call(this),this.h=t,this.g={}}_n(kd,wo);var BI=[];function KN(t,e,n,r){Array.isArray(n)||(n&&(BI[0]=n.toString()),n=BI);for(var i=0;i<n.length;i++){var s=VN(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function GN(t){Hw(t.g,function(e,n){this.g.hasOwnProperty(n)&&Kw(e)},t),t.g={}}kd.prototype.N=function(){kd.$.N.call(this),GN(this)};kd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Dg(){this.g=!0}Dg.prototype.Ea=function(){this.g=!1};function AG(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function NG(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function ul(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+MG(t,n)+(r?" "+r:"")})}function OG(t,e){t.info(function(){return"TIMEOUT: "+e})}Dg.prototype.info=function(){};function MG(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Yw(n)}catch{return e}}var ba={},zI=null;function Lg(){return zI=zI||new yn}ba.Ta="serverreachability";function QN(t){zn.call(this,ba.Ta,t)}_n(QN,zn);function Ad(t){const e=Lg();xn(e,new QN(e))}ba.STAT_EVENT="statevent";function YN(t,e){zn.call(this,ba.STAT_EVENT,t),this.stat=e}_n(YN,zn);function Qn(t){const e=Lg();xn(e,new YN(e,t))}ba.Ua="timingevent";function XN(t,e){zn.call(this,ba.Ua,t),this.size=e}_n(XN,zn);function dh(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ye.setTimeout(function(){t()},e)}var $g={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},JN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function eE(){}eE.prototype.h=null;function WI(t){return t.h||(t.h=t.i())}function ZN(){}var hh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function tE(){zn.call(this,"d")}_n(tE,zn);function nE(){zn.call(this,"c")}_n(nE,zn);var s0;function Fg(){}_n(Fg,eE);Fg.prototype.g=function(){return new XMLHttpRequest};Fg.prototype.i=function(){return{}};s0=new Fg;function fh(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new kd(this),this.P=DG,t=e0?125:void 0,this.V=new Mg(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new e2}function e2(){this.i=null,this.g="",this.h=!1}var DG=45e3,t2={},o0={};Y=fh.prototype;Y.setTimeout=function(t){this.P=t};function a0(t,e,n){t.L=1,t.A=Ug(ms(e)),t.u=n,t.S=!0,n2(t,null)}function n2(t,e){t.G=Date.now(),ph(t),t.B=ms(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),c2(n.i,"t",r),t.o=0,n=t.l.J,t.h=new e2,t.g=A2(t.l,n?e:null,!t.u),0<t.O&&(t.M=new kG(Bn(t.Pa,t,t.g),t.O)),KN(t.U,t.g,"readystatechange",t.nb),e=t.I?$N(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Ad(),AG(t.j,t.v,t.B,t.m,t.W,t.u)}Y.nb=function(t){t=t.target;const e=this.M;e&&Ci(t)==3?e.l():this.Pa(t)};Y.Pa=function(t){try{if(t==this.g)e:{const c=Ci(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||e0||this.g&&(this.h.h||this.g.ja()||GI(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Ad(3):Ad(2)),Vg(this);var n=this.g.da();this.ca=n;t:if(r2(this)){var r=GI(this.g);t="";var i=r.length,s=Ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vo(this),$c(this);var o="";break t}this.h.i=new ye.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,NG(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Rd(a)){var u=a;break t}}u=null}if(n=u)ul(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,l0(this,n);else{this.i=!1,this.s=3,Qn(12),Vo(this),$c(this);break e}}this.S?(i2(this,c,o),e0&&this.i&&c==3&&(KN(this.U,this.V,"tick",this.mb),this.V.start())):(ul(this.j,this.m,o,null),l0(this,o)),c==4&&Vo(this),this.i&&!this.J&&(c==4?b2(this.l,this):(this.i=!1,ph(this)))}else nQ(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,Qn(12)):(this.s=0,Qn(13)),Vo(this),$c(this)}}}catch{}finally{}};function r2(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function i2(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=LG(t,n),i==o0){e==4&&(t.s=4,Qn(14),r=!1),ul(t.j,t.m,null,"[Incomplete Response]");break}else if(i==t2){t.s=4,Qn(15),ul(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ul(t.j,t.m,i,null),l0(t,i);r2(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Qn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),lE(e),e.M=!0,Qn(11))):(ul(t.j,t.m,n,"[Invalid Chunked Response]"),Vo(t),$c(t))}Y.mb=function(){if(this.g){var t=Ci(this.g),e=this.g.ja();this.o<e.length&&(Vg(this),i2(this,t,e),this.i&&t!=4&&ph(this))}};function LG(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?o0:(n=Number(e.substring(n,r)),isNaN(n)?t2:(r+=1,r+n>e.length?o0:(e=e.slice(r,r+n),t.o=r+n,e)))}Y.cancel=function(){this.J=!0,Vo(this)};function ph(t){t.Y=Date.now()+t.P,s2(t,t.P)}function s2(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=dh(Bn(t.lb,t),e)}function Vg(t){t.C&&(ye.clearTimeout(t.C),t.C=null)}Y.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(OG(this.j,this.B),this.L!=2&&(Ad(),Qn(17)),Vo(this),this.s=2,$c(this)):s2(this,this.Y-t)};function $c(t){t.l.H==0||t.J||b2(t.l,t)}function Vo(t){Vg(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Jw(t.V),GN(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function l0(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||u0(n.i,t))){if(!t.K&&u0(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Up(n),Wg(n);else break e;aE(n),Qn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=dh(Bn(n.ib,n),6e3));if(1>=f2(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Uo(n,11)}else if((t.K||n.g==t)&&Up(n),!Rd(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(rE(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,gt(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=k2(r,r.J?r.pa:null,r.Y),o.K){p2(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Vg(a),ph(a)),r.g=o}else I2(r);0<n.j.length&&Hg(n)}else u[0]!="stop"&&u[0]!="close"||Uo(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Uo(n,7):oE(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Ad(4)}catch{}}function $G(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(kg(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function FG(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(kg(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function o2(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(kg(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=FG(t),r=$G(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var a2=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function VG(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Qo(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Qo){this.h=t.h,Fp(this,t.j),this.s=t.s,this.g=t.g,Vp(this,t.m),this.l=t.l;var e=t.i,n=new Nd;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),HI(this,n),this.o=t.o}else t&&(e=String(t).match(a2))?(this.h=!1,Fp(this,e[1]||"",!0),this.s=hc(e[2]||""),this.g=hc(e[3]||"",!0),Vp(this,e[4]),this.l=hc(e[5]||"",!0),HI(this,e[6]||"",!0),this.o=hc(e[7]||"")):(this.h=!1,this.i=new Nd(null,this.h))}Qo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fc(e,qI,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(fc(e,qI,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(fc(n,n.charAt(0)=="/"?BG:jG,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",fc(n,WG)),t.join("")};function ms(t){return new Qo(t)}function Fp(t,e,n){t.j=n?hc(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Vp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function HI(t,e,n){e instanceof Nd?(t.i=e,HG(t.i,t.h)):(n||(e=fc(e,zG)),t.i=new Nd(e,t.h))}function gt(t,e,n){t.i.set(e,n)}function Ug(t){return gt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function hc(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fc(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,UG),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function UG(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var qI=/[#\/\?@]/g,jG=/[#\?:]/g,BG=/[#\?]/g,zG=/[#\?@]/g,WG=/#/g;function Nd(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Eo(t){t.g||(t.g=new Map,t.h=0,t.i&&VG(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Y=Nd.prototype;Y.add=function(t,e){Eo(this),this.i=null,t=pu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function l2(t,e){Eo(t),e=pu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function u2(t,e){return Eo(t),e=pu(t,e),t.g.has(e)}Y.forEach=function(t,e){Eo(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};Y.ta=function(){Eo(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};Y.Z=function(t){Eo(this);let e=[];if(typeof t=="string")u2(this,t)&&(e=e.concat(this.g.get(pu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Y.set=function(t,e){return Eo(this),this.i=null,t=pu(this,t),u2(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Y.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function c2(t,e,n){l2(t,e),0<n.length&&(t.i=null,t.g.set(pu(t,e),zw(n)),t.h+=n.length)}Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function pu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function HG(t,e){e&&!t.j&&(Eo(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(l2(this,r),c2(this,i,n))},t)),t.j=e}var qG=class{constructor(t,e){this.g=t,this.map=e}};function d2(t){this.l=t||KG,ye.PerformanceNavigationTiming?(t=ye.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ye.g&&ye.g.Ka&&ye.g.Ka()&&ye.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var KG=10;function h2(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function f2(t){return t.h?1:t.g?t.g.size:0}function u0(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function rE(t,e){t.g?t.g.add(e):t.h=e}function p2(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}d2.prototype.cancel=function(){if(this.i=m2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function m2(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return zw(t.i)}var GG=class{stringify(t){return ye.JSON.stringify(t,void 0)}parse(t){return ye.JSON.parse(t,void 0)}};function QG(){this.g=new GG}function YG(t,e,n){const r=n||"";try{o2(t,function(i,s){let o=i;uh(i)&&(o=Yw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function XG(t,e){const n=new Dg;if(ye.Image){const r=new Image;r.onload=af(uf,n,r,"TestLoadImage: loaded",!0,e),r.onerror=af(uf,n,r,"TestLoadImage: error",!1,e),r.onabort=af(uf,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=af(uf,n,r,"TestLoadImage: timeout",!1,e),ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function uf(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function jg(t){this.l=t.ec||null,this.j=t.ob||!1}_n(jg,eE);jg.prototype.g=function(){return new Bg(this.l,this.j)};jg.prototype.i=function(t){return function(){return t}}({});function Bg(t,e){yn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=iE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_n(Bg,yn);var iE=0;Y=Bg.prototype;Y.open=function(t,e){if(this.readyState!=iE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Od(this)};Y.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ye).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mh(this)),this.readyState=iE};Y.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Od(this)),this.g&&(this.readyState=3,Od(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ye.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;g2(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function g2(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Y.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?mh(this):Od(this),this.readyState==3&&g2(this)}};Y.Za=function(t){this.g&&(this.response=this.responseText=t,mh(this))};Y.Ya=function(t){this.g&&(this.response=t,mh(this))};Y.ka=function(){this.g&&mh(this)};function mh(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Od(t)}Y.setRequestHeader=function(t,e){this.v.append(t,e)};Y.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Y.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Od(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Bg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var JG=ye.JSON.parse;function Bt(t){yn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=y2,this.L=this.M=!1}_n(Bt,yn);var y2="",ZG=/^https?$/i,eQ=["POST","PUT"];Y=Bt.prototype;Y.Oa=function(t){this.M=t};Y.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():s0.g(),this.C=this.u?WI(this.u):WI(s0),this.g.onreadystatechange=Bn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){KI(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=ye.FormData&&t instanceof ye.FormData,!(0<=ON(eQ,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{w2(this),0<this.B&&((this.L=tQ(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Bn(this.ua,this)):this.A=Zw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){KI(this,s)}};function tQ(t){return Wl&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Y.ua=function(){typeof Bw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,xn(this,"timeout"),this.abort(8))};function KI(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,v2(t),zg(t)}function v2(t){t.F||(t.F=!0,xn(t,"complete"),xn(t,"error"))}Y.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,xn(this,"complete"),xn(this,"abort"),zg(this))};Y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zg(this,!0)),Bt.$.N.call(this)};Y.La=function(){this.s||(this.G||this.v||this.l?_2(this):this.kb())};Y.kb=function(){_2(this)};function _2(t){if(t.h&&typeof Bw<"u"&&(!t.C[1]||Ci(t)!=4||t.da()!=2)){if(t.v&&Ci(t)==4)Zw(t.La,0,t);else if(xn(t,"readystatechange"),Ci(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(a2)[1]||null;!i&&ye.self&&ye.self.location&&(i=ye.self.location.protocol.slice(0,-1)),r=!ZG.test(i?i.toLowerCase():"")}n=r}if(n)xn(t,"complete"),xn(t,"success");else{t.m=6;try{var s=2<Ci(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",v2(t)}}finally{zg(t)}}}}function zg(t,e){if(t.g){w2(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||xn(t,"ready");try{n.onreadystatechange=r}catch{}}}function w2(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ye.clearTimeout(t.A),t.A=null)}Y.isActive=function(){return!!this.g};function Ci(t){return t.g?t.g.readyState:0}Y.da=function(){try{return 2<Ci(this)?this.g.status:-1}catch{return-1}};Y.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Y.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),JG(e)}};function GI(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case y2:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function nQ(t){const e={};t=(t.g&&2<=Ci(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Rd(t[r]))continue;var n=bG(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}wG(e,function(r){return r.join(", ")})}Y.Ia=function(){return this.m};Y.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function E2(t){let e="";return Hw(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function sE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=E2(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):gt(t,e,n))}function Gu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function T2(t){this.Ga=0,this.j=[],this.l=new Dg,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Gu("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Gu("baseRetryDelayMs",5e3,t),this.hb=Gu("retryDelaySeedMs",1e4,t),this.eb=Gu("forwardChannelMaxRetries",2,t),this.xa=Gu("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new d2(t&&t.concurrentRequestLimit),this.Ja=new QG,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Y=T2.prototype;Y.ra=8;Y.H=1;function oE(t){if(S2(t),t.H==3){var e=t.W++,n=ms(t.I);if(gt(n,"SID",t.K),gt(n,"RID",e),gt(n,"TYPE","terminate"),gh(t,n),e=new fh(t,t.l,e),e.L=2,e.A=Ug(ms(n)),n=!1,ye.navigator&&ye.navigator.sendBeacon)try{n=ye.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&ye.Image&&(new Image().src=e.A,n=!0),n||(e.g=A2(e.l,null),e.g.ha(e.A)),e.G=Date.now(),ph(e)}P2(t)}function Wg(t){t.g&&(lE(t),t.g.cancel(),t.g=null)}function S2(t){Wg(t),t.u&&(ye.clearTimeout(t.u),t.u=null),Up(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ye.clearTimeout(t.m),t.m=null)}function Hg(t){if(!h2(t.i)&&!t.m){t.m=!0;var e=t.Na;xd||HN(),Pd||(xd(),Pd=!0),Xw.add(e,t),t.C=0}}function rQ(t,e){return f2(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=dh(Bn(t.Na,t,e),x2(t,t.C)),t.C++,!0)}Y.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new fh(this,this.l,t);let s=this.s;if(this.U&&(s?(s=$N(s),FN(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=C2(this,i,e),n=ms(this.I),gt(n,"RID",t),gt(n,"CVER",22),this.F&&gt(n,"X-HTTP-Session-Id",this.F),gh(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(E2(s)))+"&"+e:this.o&&sE(n,this.o,s)),rE(this.i,i),this.bb&&gt(n,"TYPE","init"),this.P?(gt(n,"$req",e),gt(n,"SID","null"),i.aa=!0,a0(i,n,null)):a0(i,n,e),this.H=2}}else this.H==3&&(t?QI(this,t):this.j.length==0||h2(this.i)||QI(this))};function QI(t,e){var n;e?n=e.m:n=t.W++;const r=ms(t.I);gt(r,"SID",t.K),gt(r,"RID",n),gt(r,"AID",t.V),gh(t,r),t.o&&t.s&&sE(r,t.o,t.s),n=new fh(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=C2(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),rE(t.i,n),a0(n,r,e)}function gh(t,e){t.na&&Hw(t.na,function(n,r){gt(e,r,n)}),t.h&&o2({},function(n,r){gt(e,r,n)})}function C2(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Bn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{YG(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function I2(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;xd||HN(),Pd||(xd(),Pd=!0),Xw.add(e,t),t.A=0}}function aE(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=dh(Bn(t.Ma,t),x2(t,t.A)),t.A++,!0)}Y.Ma=function(){if(this.u=null,R2(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=dh(Bn(this.jb,this),t)}};Y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Qn(10),Wg(this),R2(this))};function lE(t){t.B!=null&&(ye.clearTimeout(t.B),t.B=null)}function R2(t){t.g=new fh(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ms(t.wa);gt(e,"RID","rpc"),gt(e,"SID",t.K),gt(e,"AID",t.V),gt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&gt(e,"TO",t.qa),gt(e,"TYPE","xmlhttp"),gh(t,e),t.o&&t.s&&sE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=Ug(ms(e)),n.u=null,n.S=!0,n2(n,t)}Y.ib=function(){this.v!=null&&(this.v=null,Wg(this),aE(this),Qn(19))};function Up(t){t.v!=null&&(ye.clearTimeout(t.v),t.v=null)}function b2(t,e){var n=null;if(t.g==e){Up(t),lE(t),t.g=null;var r=2}else if(u0(t.i,e))n=e.F,p2(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=Lg(),xn(r,new XN(r,n)),Hg(t)}else I2(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&rQ(t,e)||r==2&&aE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Uo(t,5);break;case 4:Uo(t,10);break;case 3:Uo(t,6);break;default:Uo(t,2)}}}function x2(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Uo(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Bn(t.pb,t);n||(n=new Qo("//www.google.com/images/cleardot.gif"),ye.location&&ye.location.protocol=="http"||Fp(n,"https"),Ug(n)),XG(n.toString(),r)}else Qn(2);t.H=0,t.h&&t.h.za(e),P2(t),S2(t)}Y.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Qn(2)):(this.l.info("Failed to ping google.com"),Qn(1))};function P2(t){if(t.H=0,t.ma=[],t.h){const e=m2(t.i);(e.length!=0||t.j.length!=0)&&(VI(t.ma,e),VI(t.ma,t.j),t.i.i.length=0,zw(t.j),t.j.length=0),t.h.ya()}}function k2(t,e,n){var r=n instanceof Qo?ms(n):new Qo(n);if(r.g!="")e&&(r.g=e+"."+r.g),Vp(r,r.m);else{var i=ye.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Qo(null);r&&Fp(s,r),e&&(s.g=e),i&&Vp(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&gt(r,n,e),gt(r,"VER",t.ra),gh(t,r),r}function A2(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Bt(new jg({ob:n})):new Bt(t.va),e.Oa(t.J),e}Y.isActive=function(){return!!this.h&&this.h.isActive(this)};function N2(){}Y=N2.prototype;Y.Ba=function(){};Y.Aa=function(){};Y.za=function(){};Y.ya=function(){};Y.isActive=function(){return!0};Y.Va=function(){};function jp(){if(Wl&&!(10<=Number(gG)))throw Error("Environmental error: no available transport.")}jp.prototype.g=function(t,e){return new Ir(t,e)};function Ir(t,e){yn.call(this),this.g=new T2(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Rd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Rd(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new mu(this)}_n(Ir,yn);Ir.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Qn(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=k2(t,null,t.Y),Hg(t)};Ir.prototype.close=function(){oE(this.g)};Ir.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Yw(t),t=n);e.j.push(new qG(e.fb++,t)),e.H==3&&Hg(e)};Ir.prototype.N=function(){this.g.h=null,delete this.j,oE(this.g),delete this.g,Ir.$.N.call(this)};function O2(t){tE.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}_n(O2,tE);function M2(){nE.call(this),this.status=1}_n(M2,nE);function mu(t){this.g=t}_n(mu,N2);mu.prototype.Ba=function(){xn(this.g,"a")};mu.prototype.Aa=function(t){xn(this.g,new O2(t))};mu.prototype.za=function(t){xn(this.g,new M2)};mu.prototype.ya=function(){xn(this.g,"b")};function iQ(){this.blockSize=-1}function di(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}_n(di,iQ);di.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function mv(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}di.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)mv(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){mv(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){mv(this,r),i=0;break}}this.h=i,this.i+=e};di.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ze(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var sQ={};function uE(t){return-128<=t&&128>t?fG(t,function(e){return new Ze([e|0],0>e?-1:0)}):new Ze([t|0],0>t?-1:0)}function Ii(t){if(isNaN(t)||!isFinite(t))return Tl;if(0>t)return Cn(Ii(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=c0;return new Ze(e,0)}function D2(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Cn(D2(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ii(Math.pow(e,8)),r=Tl,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=Ii(Math.pow(e,s)),r=r.R(s).add(Ii(o))):(r=r.R(n),r=r.add(Ii(o)))}return r}var c0=4294967296,Tl=uE(0),d0=uE(1),YI=uE(16777216);Y=Ze.prototype;Y.ea=function(){if(Dr(this))return-Cn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:c0+r)*e,e*=c0}return t};Y.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ts(this))return"0";if(Dr(this))return"-"+Cn(this).toString(t);for(var e=Ii(Math.pow(t,6)),n=this,r="";;){var i=zp(n,e).g;n=Bp(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ts(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Y.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ts(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Dr(t){return t.h==-1}Y.X=function(t){return t=Bp(this,t),Dr(t)?-1:ts(t)?0:1};function Cn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ze(n,~t.h).add(d0)}Y.abs=function(){return Dr(this)?Cn(this):this};Y.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Ze(n,n[n.length-1]&-2147483648?-1:0)};function Bp(t,e){return t.add(Cn(e))}Y.R=function(t){if(ts(this)||ts(t))return Tl;if(Dr(this))return Dr(t)?Cn(this).R(Cn(t)):Cn(Cn(this).R(t));if(Dr(t))return Cn(this.R(Cn(t)));if(0>this.X(YI)&&0>t.X(YI))return Ii(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,cf(n,2*r+2*i),n[2*r+2*i+1]+=s*l,cf(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,cf(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,cf(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ze(n,0)};function cf(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Qu(t,e){this.g=t,this.h=e}function zp(t,e){if(ts(e))throw Error("division by zero");if(ts(t))return new Qu(Tl,Tl);if(Dr(t))return e=zp(Cn(t),e),new Qu(Cn(e.g),Cn(e.h));if(Dr(e))return e=zp(t,Cn(e)),new Qu(Cn(e.g),e.h);if(30<t.g.length){if(Dr(t)||Dr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=d0,r=e;0>=r.X(t);)n=XI(n),r=XI(r);var i=ja(n,1),s=ja(r,1);for(r=ja(r,2),n=ja(n,2);!ts(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=ja(r,1),n=ja(n,1)}return e=Bp(t,i.R(e)),new Qu(i,e)}for(i=Tl;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=Ii(n),o=s.R(e);Dr(o)||0<o.X(t);)n-=r,s=Ii(n),o=s.R(e);ts(s)&&(s=d0),i=i.add(s),t=Bp(t,o)}return new Qu(i,t)}Y.gb=function(t){return zp(this,t).h};Y.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ze(n,this.h&t.h)};Y.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ze(n,this.h|t.h)};Y.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ze(n,this.h^t.h)};function XI(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ze(n,t.h)}function ja(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ze(i,t.h)}jp.prototype.createWebChannel=jp.prototype.g;Ir.prototype.send=Ir.prototype.u;Ir.prototype.open=Ir.prototype.m;Ir.prototype.close=Ir.prototype.close;$g.NO_ERROR=0;$g.TIMEOUT=8;$g.HTTP_ERROR=6;JN.COMPLETE="complete";ZN.EventType=hh;hh.OPEN="a";hh.CLOSE="b";hh.ERROR="c";hh.MESSAGE="d";yn.prototype.listen=yn.prototype.O;Bt.prototype.listenOnce=Bt.prototype.P;Bt.prototype.getLastError=Bt.prototype.Sa;Bt.prototype.getLastErrorCode=Bt.prototype.Ia;Bt.prototype.getStatus=Bt.prototype.da;Bt.prototype.getResponseJson=Bt.prototype.Wa;Bt.prototype.getResponseText=Bt.prototype.ja;Bt.prototype.send=Bt.prototype.ha;Bt.prototype.setWithCredentials=Bt.prototype.Oa;di.prototype.digest=di.prototype.l;di.prototype.reset=di.prototype.reset;di.prototype.update=di.prototype.j;Ze.prototype.add=Ze.prototype.add;Ze.prototype.multiply=Ze.prototype.R;Ze.prototype.modulo=Ze.prototype.gb;Ze.prototype.compare=Ze.prototype.X;Ze.prototype.toNumber=Ze.prototype.ea;Ze.prototype.toString=Ze.prototype.toString;Ze.prototype.getBits=Ze.prototype.D;Ze.fromNumber=Ii;Ze.fromString=D2;var oQ=function(){return new jp},aQ=function(){return Lg()},gv=$g,lQ=JN,uQ=ba,JI={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},df=ZN,cQ=Bt,dQ=di,Sl=Ze;const ZI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ln.UNAUTHENTICATED=new Ln(null),Ln.GOOGLE_CREDENTIALS=new Ln("google-credentials-uid"),Ln.FIRST_PARTY=new Ln("first-party-uid"),Ln.MOCK_USER=new Ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gu="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new Sg("@firebase/firestore");function Yu(){return da.logLevel}function G(t,...e){if(da.logLevel<=Me.DEBUG){const n=e.map(cE);da.debug(`Firestore (${gu}): ${t}`,...n)}}function Ui(t,...e){if(da.logLevel<=Me.ERROR){const n=e.map(cE);da.error(`Firestore (${gu}): ${t}`,...n)}}function Hl(t,...e){if(da.logLevel<=Me.WARN){const n=e.map(cE);da.warn(`Firestore (${gu}): ${t}`,...n)}}function cE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(t="Unexpected state"){const e=`FIRESTORE (${gu}) INTERNAL ASSERTION FAILED: `+t;throw Ui(e),new Error(e)}function dt(t,e){t||ge()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ln.UNAUTHENTICATED))}shutdown(){}}class fQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class pQ{constructor(e){this.t=e,this.currentUser=Ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Oi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Oi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt(typeof r.accessToken=="string"),new L2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string"),new Ln(e)}}class mQ{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class gQ{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new mQ(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yQ{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vQ{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(dt(typeof n.token=="string"),this.R=n.token,new yQ(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Q(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=_Q(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function ql(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return At.fromMillis(Date.now())}static fromDate(e){return At.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new At(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new At(0,0))}static max(){return new we(new At(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n,r){n===void 0?n=0:n>e.length&&ge(),r===void 0?r=e.length-n:r>e.length-n&&ge(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Md.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Md?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class yt extends Md{construct(e,n,r){return new yt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new yt(n)}static emptyPath(){return new yt([])}}const wQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rn extends Md{construct(e,n,r){return new Rn(e,n,r)}static isValidIdentifier(e){return wQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new X(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new X(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rn(n)}static emptyPath(){return new Rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.path=e}static fromPath(e){return new ue(yt.fromString(e))}static fromName(e){return new ue(yt.fromString(e).popFirst(5))}static empty(){return new ue(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new yt(e.slice()))}}function EQ(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new oo(i,ue.empty(),e)}function TQ(t){return new oo(t.readTime,t.key,-1)}class oo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new oo(we.min(),ue.empty(),-1)}static max(){return new oo(we.max(),ue.empty(),-1)}}function SQ(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ue.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CQ="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IQ{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==CQ)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new U((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof U?n:U.resolve(n)}catch(n){return U.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):U.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):U.reject(n)}static resolve(e){return new U((n,r)=>{n(e)})}static reject(e){return new U((n,r)=>{r(e)})}static waitFor(e){return new U((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=U.resolve(!1);for(const r of e)n=n.next(i=>i?U.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new U((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new U((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new Oi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Fc(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=hE(r.target.error);this.V.reject(new Fc(e,i))}}static open(e,n,r,i){try{return new dE(n,e.transaction(i,r))}catch(s){throw new Fc(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(G("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new bQ(n)}}class jo{constructor(e,n,r){this.name=e,this.version=n,this.p=r,jo.S(tn())===12.2&&Ui("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return G("SimpleDb","Removing database:",e),Ao(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!CA())return!1;if(jo.C())return!0;const e=tn(),n=jo.S(e),r=0<n&&n<10,i=jo.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(G("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new Fc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new X(V.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new X(V.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Fc(e,o))},i.onupgradeneeded=s=>{G("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{G("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=dE.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),U.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(G("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class RQ{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ao(this.k.delete())}}class Fc extends X{constructor(e,n){super(V.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function vh(t){return t.name==="IndexedDbTransactionError"}class bQ{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(G("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(G("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ao(r)}add(e){return G("SimpleDb","ADD",this.store.name,e,e),Ao(this.store.add(e))}get(e){return Ao(this.store.get(e)).next(n=>(n===void 0&&(n=null),G("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return G("SimpleDb","DELETE",this.store.name,e),Ao(this.store.delete(e))}count(){return G("SimpleDb","COUNT",this.store.name),Ao(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new U((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new U((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){G("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new U((r,i)=>{n.onerror=s=>{const o=hE(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new U((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new RQ(a),u=n(a.primaryKey,a.value,l);if(u instanceof U){const c=u.catch(d=>(l.done(),U.reject(d)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>U.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ao(t){return new U((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=hE(r.target.error);n(i)}})}let eR=!1;function hE(t){const e=jo.S(tn());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new X("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return eR||(eR=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}fE._e=-1;function qg(t){return t==null}function Wp(t){return t===0&&1/t==-1/0}function xQ(t){return typeof t=="number"&&Number.isInteger(t)&&!Wp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function F2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nn=class h0{constructor(e,n){this.comparator=e,this.root=n||Js.EMPTY}insert(e,n){return new h0(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Js.BLACK,null,null))}remove(e){return new h0(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Js.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hf(this.root,e,this.comparator,!0)}},hf=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Js=class Ki{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ki.RED,this.left=i??Ki.EMPTY,this.right=s??Ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ki(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ki.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ge();const e=this.left.check();if(e!==this.right.check())throw ge();return e+(this.isRed()?0:1)}};Js.EMPTY=null,Js.RED=!0,Js.BLACK=!1;Js.EMPTY=new class{constructor(){this.size=0}get key(){throw ge()}get value(){throw ge()}get color(){throw ge()}get left(){throw ge()}get right(){throw ge()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Js(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nR(this.data.getIterator())}getIteratorFrom(e){return new nR(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Pn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Pn(this.comparator);return n.data=e,n}}class nR{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.fields=e,e.sort(Rn.comparator)}static empty(){return new _r([])}unionWith(e){let n=new Pn(Rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _r(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ql(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new V2("Invalid base64 string: "+s):s}}(e);return new qn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new qn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qn.EMPTY_BYTE_STRING=new qn("");const PQ=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ao(t){if(dt(!!t),typeof t=="string"){let e=0;const n=PQ.exec(t);if(dt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Yt(t.seconds),nanos:Yt(t.nanos)}}function Yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ha(t){return typeof t=="string"?qn.fromBase64String(t):qn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function mE(t){const e=t.mapValue.fields.__previous_value__;return pE(e)?mE(e):e}function Dd(t){const e=ao(t.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ld{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ld("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ld&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pE(t)?4:AQ(t)?9007199254740991:10:ge()}function ji(t,e){if(t===e)return!0;const n=fa(t);if(n!==fa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Dd(t).isEqual(Dd(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ao(i.timestampValue),a=ao(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ha(i.bytesValue).isEqual(ha(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Yt(i.geoPointValue.latitude)===Yt(s.geoPointValue.latitude)&&Yt(i.geoPointValue.longitude)===Yt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Yt(i.integerValue)===Yt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Yt(i.doubleValue),a=Yt(s.doubleValue);return o===a?Wp(o)===Wp(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ql(t.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(tR(o)!==tR(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!ji(o[l],a[l])))return!1;return!0}(t,e);default:return ge()}}function $d(t,e){return(t.values||[]).find(n=>ji(n,e))!==void 0}function Kl(t,e){if(t===e)return 0;const n=fa(t),r=fa(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Yt(s.integerValue||s.doubleValue),l=Yt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return rR(t.timestampValue,e.timestampValue);case 4:return rR(Dd(t),Dd(e));case 5:return Qe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ha(s),l=ha(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Qe(a[u],l[u]);if(c!==0)return c}return Qe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Qe(Yt(s.latitude),Yt(o.latitude));return a!==0?a:Qe(Yt(s.longitude),Yt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Kl(a[u],l[u]);if(c)return c}return Qe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ff.mapValue&&o===ff.mapValue)return 0;if(s===ff.mapValue)return 1;if(o===ff.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Qe(l[d],c[d]);if(h!==0)return h;const f=Kl(a[l[d]],u[c[d]]);if(f!==0)return f}return Qe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ge()}}function rR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=ao(t),r=ao(e),i=Qe(n.seconds,r.seconds);return i!==0?i:Qe(n.nanos,r.nanos)}function Gl(t){return f0(t)}function f0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ao(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ha(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=f0(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${f0(n.fields[o])}`;return i+"}"}(t.mapValue):ge()}function iR(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function p0(t){return!!t&&"integerValue"in t}function gE(t){return!!t&&"arrayValue"in t}function sR(t){return!!t&&"nullValue"in t}function oR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Uf(t){return!!t&&"mapValue"in t}function Vc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AQ(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.value=e}static empty(){return new rr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Uf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vc(n)}setAll(e){let n=Rn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Vc(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Uf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Uf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xa(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new rr(Vc(this.value))}}function U2(t){const e=[];return xa(t.fields,(n,r)=>{const i=new Rn([n]);if(Uf(r)){const s=U2(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new _r(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Fn(e,0,we.min(),we.min(),we.min(),rr.empty(),0)}static newFoundDocument(e,n,r,i){return new Fn(e,1,n,we.min(),r,i,0)}static newNoDocument(e,n){return new Fn(e,2,n,we.min(),we.min(),rr.empty(),0)}static newUnknownDocument(e,n){return new Fn(e,3,n,we.min(),we.min(),rr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n){this.position=e,this.inclusive=n}}function aR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=ue.comparator(ue.fromName(o.referenceValue),n.key):r=Kl(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function lR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ji(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n="asc"){this.field=e,this.dir=n}}function NQ(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{}class Zt extends j2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new MQ(e,n,r):n==="array-contains"?new $Q(e,r):n==="in"?new FQ(e,r):n==="not-in"?new VQ(e,r):n==="array-contains-any"?new UQ(e,r):new Zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new DQ(e,r):new LQ(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Kl(n,this.value)):n!==null&&fa(this.value)===fa(n)&&this.matchesComparison(Kl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends j2{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new hi(e,n)}matches(e){return B2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function B2(t){return t.op==="and"}function z2(t){return OQ(t)&&B2(t)}function OQ(t){for(const e of t.filters)if(e instanceof hi)return!1;return!0}function m0(t){if(t instanceof Zt)return t.field.canonicalString()+t.op.toString()+Gl(t.value);if(z2(t))return t.filters.map(e=>m0(e)).join(",");{const e=t.filters.map(n=>m0(n)).join(",");return`${t.op}(${e})`}}function W2(t,e){return t instanceof Zt?function(r,i){return i instanceof Zt&&r.op===i.op&&r.field.isEqual(i.field)&&ji(r.value,i.value)}(t,e):t instanceof hi?function(r,i){return i instanceof hi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&W2(o,i.filters[a]),!0):!1}(t,e):void ge()}function H2(t){return t instanceof Zt?function(n){return`${n.field.canonicalString()} ${n.op} ${Gl(n.value)}`}(t):t instanceof hi?function(n){return n.op.toString()+" {"+n.getFilters().map(H2).join(" ,")+"}"}(t):"Filter"}class MQ extends Zt{constructor(e,n,r){super(e,n,r),this.key=ue.fromName(r.referenceValue)}matches(e){const n=ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class DQ extends Zt{constructor(e,n){super(e,"in",n),this.keys=q2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class LQ extends Zt{constructor(e,n){super(e,"not-in",n),this.keys=q2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function q2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ue.fromName(r.referenceValue))}class $Q extends Zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gE(n)&&$d(n.arrayValue,this.value)}}class FQ extends Zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$d(this.value.arrayValue,n)}}class VQ extends Zt{constructor(e,n){super(e,"not-in",n)}matches(e){if($d(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!$d(this.value.arrayValue,n)}}class UQ extends Zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$d(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jQ{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function uR(t,e=null,n=[],r=[],i=null,s=null,o=null){return new jQ(t,e,n,r,i,s,o)}function yE(t){const e=Ce(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>m0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),qg(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Gl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Gl(r)).join(",")),e.ce=n}return e.ce}function vE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!NQ(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!W2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!lR(t.startAt,e.startAt)&&lR(t.endAt,e.endAt)}function g0(t){return ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function BQ(t,e,n,r,i,s,o,a){return new _h(t,e,n,r,i,s,o,a)}function Kg(t){return new _h(t)}function cR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function K2(t){return t.collectionGroup!==null}function Uc(t){const e=Ce(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Pn(Rn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new qp(s,r))}),n.has(Rn.keyField().canonicalString())||e.le.push(new qp(Rn.keyField(),r))}return e.le}function Mi(t){const e=Ce(t);return e.he||(e.he=zQ(e,Uc(t))),e.he}function zQ(t,e){if(t.limitType==="F")return uR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new qp(i.field,s)});const n=t.endAt?new Hp(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hp(t.startAt.position,t.startAt.inclusive):null;return uR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function y0(t,e){const n=t.filters.concat([e]);return new _h(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function v0(t,e,n){return new _h(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gg(t,e){return vE(Mi(t),Mi(e))&&t.limitType===e.limitType}function G2(t){return`${yE(Mi(t))}|lt:${t.limitType}`}function Ha(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>H2(i)).join(", ")}]`),qg(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Gl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Gl(i)).join(",")),`Target(${r})`}(Mi(t))}; limitType=${t.limitType})`}function Qg(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ue.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Uc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=aR(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,Uc(r),i)||r.endAt&&!function(o,a,l){const u=aR(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,Uc(r),i))}(t,e)}function WQ(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Q2(t){return(e,n)=>{let r=!1;for(const i of Uc(t)){const s=HQ(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function HQ(t,e,n){const r=t.field.isKeyField()?ue.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Kl(l,u):ge()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xa(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return F2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qQ=new nn(ue.comparator);function gs(){return qQ}const Y2=new nn(ue.comparator);function pc(...t){let e=Y2;for(const n of t)e=e.insert(n.key,n);return e}function X2(t){let e=Y2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bo(){return jc()}function J2(){return jc()}function jc(){return new yu(t=>t.toString(),(t,e)=>t.isEqual(e))}const KQ=new nn(ue.comparator),GQ=new Pn(ue.comparator);function De(...t){let e=GQ;for(const n of t)e=e.add(n);return e}const QQ=new Pn(Qe);function YQ(){return QQ}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wp(e)?"-0":e}}function eO(t){return{integerValue:""+t}}function XQ(t,e){return xQ(e)?eO(e):Z2(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(){this._=void 0}}function JQ(t,e,n){return t instanceof Kp?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&pE(s)&&(s=mE(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Ql?nO(t,e):t instanceof Fd?rO(t,e):function(i,s){const o=tO(i,s),a=dR(o)+dR(i.Ie);return p0(o)&&p0(i.Ie)?eO(a):Z2(i.serializer,a)}(t,e)}function ZQ(t,e,n){return t instanceof Ql?nO(t,e):t instanceof Fd?rO(t,e):n}function tO(t,e){return t instanceof Gp?function(r){return p0(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Kp extends Yg{}class Ql extends Yg{constructor(e){super(),this.elements=e}}function nO(t,e){const n=iO(e);for(const r of t.elements)n.some(i=>ji(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fd extends Yg{constructor(e){super(),this.elements=e}}function rO(t,e){let n=iO(e);for(const r of t.elements)n=n.filter(i=>!ji(i,r));return{arrayValue:{values:n}}}class Gp extends Yg{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function dR(t){return Yt(t.integerValue||t.doubleValue)}function iO(t){return gE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eY{constructor(e,n){this.field=e,this.transform=n}}function tY(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ql&&i instanceof Ql||r instanceof Fd&&i instanceof Fd?ql(r.elements,i.elements,ji):r instanceof Gp&&i instanceof Gp?ji(r.Ie,i.Ie):r instanceof Kp&&i instanceof Kp}(t.transform,e.transform)}class nY{constructor(e,n){this.version=e,this.transformResults=n}}class Di{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Xg{}function sO(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new aO(t.key,Di.none()):new wh(t.key,t.data,Di.none());{const n=t.data,r=rr.empty();let i=new Pn(Rn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new To(t.key,r,new _r(i.toArray()),Di.none())}}function rY(t,e,n){t instanceof wh?function(i,s,o){const a=i.value.clone(),l=fR(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof To?function(i,s,o){if(!jf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=fR(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(oO(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Bc(t,e,n,r){return t instanceof wh?function(s,o,a,l){if(!jf(s.precondition,o))return a;const u=s.value.clone(),c=pR(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof To?function(s,o,a,l){if(!jf(s.precondition,o))return a;const u=pR(s.fieldTransforms,l,o),c=o.data;return c.setAll(oO(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return jf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function iY(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=tO(r.transform,i||null);s!=null&&(n===null&&(n=rr.empty()),n.set(r.field,s))}return n||null}function hR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ql(r,i,(s,o)=>tY(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class wh extends Xg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class To extends Xg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function oO(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function fR(t,e,n){const r=new Map;dt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ZQ(o,a,n[i]))}return r}function pR(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,JQ(s,o,e))}return r}class aO extends Xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sY extends Xg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oY{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&rY(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=J2();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=sO(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&ql(this.mutations,e.mutations,(n,r)=>hR(n,r))&&ql(this.baseMutations,e.baseMutations,(n,r)=>hR(n,r))}}class _E{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){dt(e.mutations.length===r.length);let i=function(){return KQ}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new _E(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aY{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lY{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qt,Ue;function uY(t){switch(t){default:return ge();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function lO(t){if(t===void 0)return Ui("GRPC error has no .code"),V.UNKNOWN;switch(t){case Qt.OK:return V.OK;case Qt.CANCELLED:return V.CANCELLED;case Qt.UNKNOWN:return V.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return V.INTERNAL;case Qt.UNAVAILABLE:return V.UNAVAILABLE;case Qt.UNAUTHENTICATED:return V.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case Qt.NOT_FOUND:return V.NOT_FOUND;case Qt.ALREADY_EXISTS:return V.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return V.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case Qt.ABORTED:return V.ABORTED;case Qt.OUT_OF_RANGE:return V.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return V.UNIMPLEMENTED;case Qt.DATA_LOSS:return V.DATA_LOSS;default:return ge()}}(Ue=Qt||(Qt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cY(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dY=new Sl([4294967295,4294967295],0);function mR(t){const e=cY().encode(t),n=new dQ;return n.update(e),new Uint8Array(n.digest())}function gR(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Sl([n,r],0),new Sl([i,s],0)]}class wE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mc(`Invalid padding: ${n}`);if(r<0)throw new mc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new mc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Sl.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(Sl.fromNumber(r)));return i.compare(dY)===1&&(i=new Sl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=mR(e),[r,i]=gR(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new wE(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=mR(e),[r,i]=gR(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Eh.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jg(we.min(),i,new nn(Qe),gs(),De())}}class Eh{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Eh(r,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class uO{constructor(e,n){this.targetId=e,this.fe=n}}class cO{constructor(e,n,r=qn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class yR{constructor(){this.ge=0,this.pe=_R(),this.ye=qn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=De(),n=De(),r=De();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ge()}}),new Eh(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=_R()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,dt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class hY{constructor(e){this.Le=e,this.ke=new Map,this.qe=gs(),this.Qe=vR(),this.Ke=new nn(Qe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:ge()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(g0(s))if(r===0){const o=new ue(s.path);this.We(n,o,Fn.newNoDocument(o,we.min()))}else dt(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ha(r).toUint8Array()}catch(l){if(l instanceof V2)return Hl("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new wE(o,i,s)}catch(l){return Hl(l instanceof mc?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&g0(a.target)){const l=new ue(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,Fn.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=De();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Jg(e,n,this.Ke,this.qe,r);return this.qe=gs(),this.Qe=vR(),this.Ke=new nn(Qe),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new yR,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Pn(Qe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new yR),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function vR(){return new nn(ue.comparator)}function _R(){return new nn(ue.comparator)}const fY={asc:"ASCENDING",desc:"DESCENDING"},pY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mY={and:"AND",or:"OR"};class gY{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _0(t,e){return t.useProto3Json||qg(e)?e:{value:e}}function Qp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yY(t,e){return Qp(t,e.toTimestamp())}function Li(t){return dt(!!t),we.fromTimestamp(function(n){const r=ao(n);return new At(r.seconds,r.nanos)}(t))}function EE(t,e){return w0(t,e).canonicalString()}function w0(t,e){const n=function(i){return new yt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function hO(t){const e=yt.fromString(t);return dt(yO(e)),e}function E0(t,e){return EE(t.databaseId,e.path)}function yv(t,e){const n=hO(e);if(n.get(1)!==t.databaseId.projectId)throw new X(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ue(pO(n))}function fO(t,e){return EE(t.databaseId,e)}function vY(t){const e=hO(t);return e.length===4?yt.emptyPath():pO(e)}function T0(t){return new yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function pO(t){return dt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function wR(t,e,n){return{name:E0(t,e),fields:n.value.mapValue.fields}}function _Y(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(dt(c===void 0||typeof c=="string"),qn.fromBase64String(c||"")):(dt(c===void 0||c instanceof Uint8Array),qn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?V.UNKNOWN:lO(u.code);return new X(c,u.message||"")}(o);n=new cO(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=yv(t,r.document.name),s=Li(r.document.updateTime),o=r.document.createTime?Li(r.document.createTime):we.min(),a=new rr({mapValue:{fields:r.document.fields}}),l=Fn.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Bf(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=yv(t,r.document),s=r.readTime?Li(r.readTime):we.min(),o=Fn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Bf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=yv(t,r.document),s=r.removedTargetIds||[];n=new Bf([],s,i,null)}else{if(!("filter"in e))return ge();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new lY(i,s),a=r.targetId;n=new uO(a,o)}}return n}function wY(t,e){let n;if(e instanceof wh)n={update:wR(t,e.key,e.value)};else if(e instanceof aO)n={delete:E0(t,e.key)};else if(e instanceof To)n={update:wR(t,e.key,e.data),updateMask:PY(e.fieldMask)};else{if(!(e instanceof sY))return ge();n={verify:E0(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Kp)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ql)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fd)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gp)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ge()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:yY(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ge()}(t,e.precondition)),n}function EY(t,e){return t&&t.length>0?(dt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Li(i.updateTime):Li(s);return o.isEqual(we.min())&&(o=Li(s)),new nY(o,i.transformResults||[])}(n,e))):[]}function TY(t,e){return{documents:[fO(t,e.path)]}}function SY(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fO(t,i);const s=function(u){if(u.length!==0)return gO(hi.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:qa(h.field),direction:RY(h.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=_0(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function CY(t){let e=vY(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){dt(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=mO(d);return h instanceof hi&&z2(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(p){return new qp(Ka(p.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,qg(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,f=d.values||[];return new Hp(f,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,f=d.values||[];return new Hp(f,h)}(n.endAt)),BQ(e,i,o,s,a,"F",l,u)}function IY(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ge()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mO(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ka(n.unaryFilter.field);return Zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ka(n.unaryFilter.field);return Zt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ka(n.unaryFilter.field);return Zt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ka(n.unaryFilter.field);return Zt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ge()}}(t):t.fieldFilter!==void 0?function(n){return Zt.create(Ka(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ge()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return hi.create(n.compositeFilter.filters.map(r=>mO(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ge()}}(n.compositeFilter.op))}(t):ge()}function RY(t){return fY[t]}function bY(t){return pY[t]}function xY(t){return mY[t]}function qa(t){return{fieldPath:t.canonicalString()}}function Ka(t){return Rn.fromServerFormat(t.fieldPath)}function gO(t){return t instanceof Zt?function(n){if(n.op==="=="){if(oR(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NAN"}};if(sR(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(oR(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NAN"}};if(sR(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(n.field),op:bY(n.op),value:n.value}}}(t):t instanceof hi?function(n){const r=n.getFilters().map(i=>gO(i));return r.length===1?r[0]:{compositeFilter:{op:xY(n.op),filters:r}}}(t):ge()}function PY(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function yO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,n,r,i,s=we.min(),o=we.min(),a=qn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kY{constructor(e){this.ct=e}}function AY(t){const e=CY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?v0(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NY{constructor(){this._n=new OY}addToCollectionParentIndex(e,n){return this._n.add(n),U.resolve()}getCollectionParents(e,n){return U.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return U.resolve()}deleteFieldIndex(e,n){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,n){return U.resolve()}getDocumentsMatchingTarget(e,n){return U.resolve(null)}getIndexType(e,n){return U.resolve(0)}getFieldIndexes(e,n){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,n){return U.resolve(oo.min())}getMinOffsetFromCollectionGroup(e,n){return U.resolve(oo.min())}updateCollectionGroup(e,n,r){return U.resolve()}updateIndexEntries(e,n){return U.resolve()}}class OY{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Pn(yt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Pn(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Yl(0)}static Bn(){return new Yl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MY{constructor(){this.changes=new yu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Fn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?U.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DY{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LY{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Bc(r.mutation,i,_r.empty(),At.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,n,r=De()){const i=Bo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=pc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Bo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,De()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=gs();const o=jc(),a=function(){return jc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof To)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Bc(c.mutation,u,c.mutation.getFieldMask(),At.now())):o.set(u.key,_r.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new DY(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=jc();let i=new nn((o,a)=>o-a),s=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||_r.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||De()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=J2();c.forEach(h=>{if(!s.has(h)){const f=sO(n.get(h),r.get(h));f!==null&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return U.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return ue.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):K2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):U.resolve(Bo());let a=-1,l=s;return o.next(u=>U.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?U.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,De())).next(c=>({batchId:a,changes:X2(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ue(n)).next(r=>{let i=pc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=pc();return this.indexManager.getCollectionParents(e,s).next(a=>U.forEach(a,l=>{const u=function(d,h){return new _h(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,Fn.newInvalidDocument(c)))});let a=pc();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&Bc(c.mutation,u,_r.empty(),At.now()),Qg(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Y{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return U.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Li(i.createTime)}}(n)),U.resolve()}getNamedQuery(e,n){return U.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:AY(i.bundledQuery),readTime:Li(i.readTime)}}(n)),U.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FY{constructor(){this.overlays=new nn(ue.comparator),this.hr=new Map}getOverlay(e,n){return U.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bo();return U.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),U.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),U.resolve()}getOverlaysForCollection(e,n,r){const i=Bo(),s=n.length+1,o=new ue(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return U.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new nn((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Bo(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Bo(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return U.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new aY(n,r));let s=this.hr.get(n);s===void 0&&(s=De(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this.Pr=new Pn(dn.Ir),this.Tr=new Pn(dn.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new dn(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new dn(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new ue(new yt([])),r=new dn(n,e),i=new dn(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new ue(new yt([])),r=new dn(n,e),i=new dn(n,e+1);let s=De();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new dn(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class dn{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return ue.comparator(e.key,n.key)||Qe(e.pr,n.pr)}static Er(e,n){return Qe(e.pr,n.pr)||ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VY{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Pn(dn.Ir)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new oY(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new dn(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return U.resolve(o)}lookupMutationBatch(e,n){return U.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return U.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new dn(n,0),i=new dn(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),U.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pn(Qe);return n.forEach(i=>{const s=new dn(i,0),o=new dn(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),U.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;ue.isDocumentKey(s)||(s=s.child(""));const o=new dn(new ue(s),0);let a=new Pn(Qe);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),U.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){dt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return U.forEach(n.mutations,i=>{const s=new dn(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new dn(n,0),i=this.wr.firstAfterOrEqual(r);return U.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UY{constructor(e){this.vr=e,this.docs=function(){return new nn(ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return U.resolve(r?r.document.mutableCopy():Fn.newInvalidDocument(n))}getEntries(e,n){let r=gs();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Fn.newInvalidDocument(i))}),U.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=gs();const o=n.path,a=new ue(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||SQ(TQ(c),r)<=0||(i.has(c.key)||Qg(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return U.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ge()}Fr(e,n){return U.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new jY(this)}getSize(e){return U.resolve(this.size)}}class jY extends MY{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),U.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BY{constructor(e){this.persistence=e,this.Mr=new yu(n=>yE(n),vE),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Or=0,this.Nr=new TE,this.targetCount=0,this.Br=Yl.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),U.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new Yl(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,U.resolve()}updateTargetData(e,n){return this.qn(n),U.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),U.waitFor(s).next(()=>i)}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return U.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),U.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),U.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),U.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return U.resolve(r)}containsKey(e,n){return U.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zY{constructor(e,n){this.Lr={},this.overlays={},this.kr=new fE(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new BY(this),this.indexManager=new NY,this.remoteDocumentCache=function(i){return new UY(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new kY(n),this.$r=new $Y(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new FY,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new VY(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const i=new WY(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return U.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class WY extends IQ{constructor(e){super(),this.currentSequenceNumber=e}}class SE{constructor(e){this.persistence=e,this.zr=new TE,this.jr=null}static Hr(e){return new SE(e)}get Jr(){if(this.jr)return this.jr;throw ge()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),U.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),U.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),U.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.Jr,r=>{const i=ue.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,we.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return U.or([()=>U.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=De(),i=De();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new CE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qY{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return e7()?8:jo.v(tn())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new HY;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Yu()<=Me.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ha(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),U.resolve()):(Yu()<=Me.DEBUG&&G("QueryEngine","Query:",Ha(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Yu()<=Me.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ha(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):U.resolve())}ji(e,n){if(cR(n))return U.resolve(null);let r=Mi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=v0(n,null,"F"),r=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=De(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,v0(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return cR(n)||i.isEqual(we.min())?U.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?U.resolve(null):(Yu()<=Me.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ha(n)),this.es(e,o,n,EQ(i,-1)).next(a=>a))})}Zi(e,n){let r=new Pn(Q2(e));return n.forEach((i,s)=>{Qg(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Yu()<=Me.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ha(n)),this.zi.getDocumentsMatchingQuery(e,n,oo.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KY{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new nn(Qe),this.rs=new yu(s=>yE(s),vE),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LY(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function GY(t,e,n,r){return new KY(t,e,n,r)}async function vO(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=De();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function QY(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let f=U.resolve();return h.forEach(p=>{f=f.next(()=>c.getEntry(l,p)).next(g=>{const E=u.docVersions.get(p);dt(E!==null),g.version.compareTo(E)<0&&(d.applyToRemoteDocument(g,u),g.isValidDocument()&&(g.setReadTime(u.commitVersion),c.addEntry(g)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=De();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function _O(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function YY(t,e){const n=Ce(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(qn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):c.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(c.resumeToken,r)),i=i.insert(d,f),function(g,E,m){return g.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,f,c)&&a.push(n.Qr.updateTargetData(s,f))});let l=gs(),u=De();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(XY(s,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(we.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return U.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function XY(t,e,n){let r=De(),i=De();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=gs();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(we.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):G("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function JY(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ZY(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,U.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new js(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function S0(t,e,n){const r=Ce(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!vh(o))throw o;G("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function ER(t,e,n){const r=Ce(t);let i=we.min(),s=De();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=Ce(l),h=d.rs.get(c);return h!==void 0?U.resolve(d.ns.get(h)):d.Qr.getTargetData(u,c)}(r,o,Mi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:we.min(),n?s:De())).next(a=>(eX(r,WQ(e),a),{documents:a,hs:s})))}function eX(t,e,n){let r=t.ss.get(e)||we.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class TR{constructor(){this.activeTargetIds=YQ()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tX{constructor(){this.no=new TR,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new TR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nX{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){G("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){G("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf=null;function vv(){return pf===null?pf=function(){return 268435456+Math.round(2147483648*Math.random())}():pf++,"0x"+pf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iX{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On="WebChannelConnection";class sX extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=vv(),l=this.bo(n,r.toUriEncodedString());G("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,l,u,i).then(c=>(G("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Hl("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+gu}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=rX[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=vv();return new Promise((o,a)=>{const l=new cQ;l.setWithCredentials(!0),l.listenOnce(lQ.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case gv.NO_ERROR:const c=l.getResponseJson();G(On,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case gv.TIMEOUT:G(On,`RPC '${e}' ${s} timed out`),a(new X(V.DEADLINE_EXCEEDED,"Request time out"));break;case gv.HTTP_ERROR:const d=l.getStatus();if(G(On,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(E){const m=E.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(m)>=0?m:V.UNKNOWN}(f.status);a(new X(p,f.message))}else a(new X(V.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X(V.UNAVAILABLE,"Connection failed."));break;default:ge()}}finally{G(On,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);G(On,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=vv(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=oQ(),a=aQ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");G(On,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,f=!1;const p=new iX({lo:E=>{f?G(On,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(h||(G(On,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),G(On,`RPC '${e}' stream ${i} sending:`,E),d.send(E))},ho:()=>d.close()}),g=(E,m,y)=>{E.listen(m,v=>{try{y(v)}catch(T){setTimeout(()=>{throw T},0)}})};return g(d,df.EventType.OPEN,()=>{f||G(On,`RPC '${e}' stream ${i} transport opened.`)}),g(d,df.EventType.CLOSE,()=>{f||(f=!0,G(On,`RPC '${e}' stream ${i} transport closed`),p.Vo())}),g(d,df.EventType.ERROR,E=>{f||(f=!0,Hl(On,`RPC '${e}' stream ${i} transport errored:`,E),p.Vo(new X(V.UNAVAILABLE,"The operation could not be completed")))}),g(d,df.EventType.MESSAGE,E=>{var m;if(!f){const y=E.data[0];dt(!!y);const v=y,T=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(T){G(On,`RPC '${e}' stream ${i} received error:`,T);const R=T.status;let _=function(P){const x=Qt[P];if(x!==void 0)return lO(x)}(R),C=T.message;_===void 0&&(_=V.INTERNAL,C="Unknown error status: "+R+" with message "+T.message),f=!0,p.Vo(new X(_,C)),d.close()}else G(On,`RPC '${e}' stream ${i} received:`,y),p.mo(y)}}),g(a,uQ.STAT_EVENT,E=>{E.stat===JI.PROXY?G(On,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===JI.NOPROXY&&G(On,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.Ro()},0),p}}function _v(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(t){return new gY(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&G("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new wO(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(Ui(n.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new X(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return G("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(G("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oX extends EO{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=_Y(this.serializer,e),r=function(s){if(!("targetChange"in s))return we.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?we.min():o.readTime?Li(o.readTime):we.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=T0(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=g0(l)?{documents:TY(s,l)}:{query:SY(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=dO(s,o.resumeToken);const u=_0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(we.min())>0){a.readTime=Qp(s,o.snapshotVersion.toTimestamp());const u=_0(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=IY(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=T0(this.serializer),n.removeTarget=e,this.t_(n)}}class aX extends EO{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=EY(e.writeResults,e.commitTime),r=Li(e.commitTime);return this.listener.T_(r,n)}return dt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=T0(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>wY(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lX extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new X(V.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,w0(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(V.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,w0(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(V.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class uX{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Ui(n),this.g_=!1):G("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cX{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{Pa(this)&&(G("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ce(l);u.v_.add(4),await Th(u),u.x_.set("Unknown"),u.v_.delete(4),await ey(u)}(this))})}),this.x_=new uX(r,i)}}async function ey(t){if(Pa(t))for(const e of t.F_)await e(!0)}async function Th(t){for(const e of t.F_)await e(!1)}function TO(t,e){const n=Ce(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),bE(n)?RE(n):vu(n).Jo()&&IE(n,e))}function SO(t,e){const n=Ce(t),r=vu(n);n.C_.delete(e),r.Jo()&&CO(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Pa(n)&&n.x_.set("Unknown"))}function IE(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vu(t).c_(e)}function CO(t,e){t.O_.Oe(e),vu(t).l_(e)}function RE(t){t.O_=new hY({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),vu(t).start(),t.x_.p_()}function bE(t){return Pa(t)&&!vu(t).Ho()&&t.C_.size>0}function Pa(t){return Ce(t).v_.size===0}function IO(t){t.O_=void 0}async function dX(t){t.C_.forEach((e,n)=>{IE(t,e)})}async function hX(t,e){IO(t),bE(t)?(t.x_.S_(e),RE(t)):t.x_.set("Unknown")}async function fX(t,e,n){if(t.x_.set("Online"),e instanceof cO&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){G("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yp(t,r)}else if(e instanceof Bf?t.O_.$e(e):e instanceof uO?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(we.min()))try{const r=await _O(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.C_.get(u);c&&s.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.C_.get(l);if(!c)return;s.C_.set(l,c.withResumeToken(qn.EMPTY_BYTE_STRING,c.snapshotVersion)),CO(s,l);const d=new js(c.target,l,u,c.sequenceNumber);IE(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){G("RemoteStore","Failed to raise snapshot:",r),await Yp(t,r)}}async function Yp(t,e,n){if(!vh(e))throw e;t.v_.add(1),await Th(t),t.x_.set("Offline"),n||(n=()=>_O(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await ey(t)})}function RO(t,e){return e().catch(n=>Yp(t,n,e))}async function ty(t){const e=Ce(t),n=lo(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;pX(e);)try{const i=await JY(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,mX(e,i)}catch(i){await Yp(e,i)}bO(e)&&xO(e)}function pX(t){return Pa(t)&&t.D_.length<10}function mX(t,e){t.D_.push(e);const n=lo(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function bO(t){return Pa(t)&&!lo(t).Ho()&&t.D_.length>0}function xO(t){lo(t).start()}async function gX(t){lo(t).d_()}async function yX(t){const e=lo(t);for(const n of t.D_)e.I_(n.mutations)}async function vX(t,e,n){const r=t.D_.shift(),i=_E.from(r,e,n);await RO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ty(t)}async function _X(t,e){e&&lo(t).P_&&await async function(r,i){if(function(o){return uY(o)&&o!==V.ABORTED}(i.code)){const s=r.D_.shift();lo(r).Zo(),await RO(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ty(r)}}(t,e),bO(t)&&xO(t)}async function CR(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),G("RemoteStore","RemoteStore received new credentials");const r=Pa(n);n.v_.add(3),await Th(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await ey(n)}async function wX(t,e){const n=Ce(t);e?(n.v_.delete(2),await ey(n)):e||(n.v_.add(2),await Th(n),n.x_.set("Unknown"))}function vu(t){return t.N_||(t.N_=function(n,r,i){const s=Ce(n);return s.R_(),new oX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:dX.bind(null,t),To:hX.bind(null,t),u_:fX.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),bE(t)?RE(t):t.x_.set("Unknown")):(await t.N_.stop(),IO(t))})),t.N_}function lo(t){return t.B_||(t.B_=function(n,r,i){const s=Ce(n);return s.R_(),new aX(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:gX.bind(null,t),To:_X.bind(null,t),E_:yX.bind(null,t),T_:vX.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await ty(t)):(await t.B_.stop(),t.D_.length>0&&(G("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new xE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function PE(t,e){if(Ui("AsyncQueue",`${e}: ${t}`),vh(t))return new X(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ue.comparator(n.key,r.key):(n,r)=>ue.comparator(n.key,r.key),this.keyedMap=pc(),this.sortedSet=new nn(this.comparator)}static emptySet(e){return new Cl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Cl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.L_=new nn(ue.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):ge():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Xl{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Xl(e,n,Cl.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EX{constructor(){this.q_=void 0,this.Q_=[]}}class TX{constructor(){this.queries=new yu(e=>G2(e),Gg),this.onlineState="Unknown",this.K_=new Set}}async function kE(t,e){const n=Ce(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new EX),i)try{s.q_=await n.onListen(r)}catch(o){const a=PE(o,`Initialization of query '${Ha(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&NE(n)}async function AE(t,e){const n=Ce(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function SX(t,e){const n=Ce(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&NE(n)}function CX(t,e,n){const r=Ce(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function NE(t){t.K_.forEach(e=>{e.next()})}class OE{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Xl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e){this.key=e}}class kO{constructor(e){this.key=e}}class IX{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=De(),this.mutatedKeys=De(),this.ua=Q2(e),this.ca=new Cl(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new IR,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),f=Qg(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),g=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let E=!1;h&&f?h.data.isEqual(f.data)?p!==g&&(r.track({type:3,doc:f}),E=!0):this.Ia(h,f)||(r.track({type:2,doc:f}),E=!0,(l&&this.ua(f,l)>0||u&&this.ua(f,u)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),E=!0):h&&!f&&(r.track({type:1,doc:h}),E=!0,(l||u)&&(a=!0)),E&&(f?(o=o.add(f),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((c,d)=>function(f,p){const g=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ge()}};return g(f)-g(p)}(c.type,d.type)||this.ua(c.doc,d.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,o.length!==0||u?{snapshot:new Xl(this.query,e.ca,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new IR,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=De(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new kO(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new PO(r))}),n}Ra(e){this.oa=e.hs,this.aa=De();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Xl.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class RX{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class bX{constructor(e){this.key=e,this.ma=!1}}class xX{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new yu(a=>G2(a),Gg),this.pa=new Map,this.ya=new Set,this.wa=new nn(ue.comparator),this.Sa=new Map,this.ba=new TE,this.Da={},this.Ca=new Map,this.va=Yl.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function PX(t,e){const n=VX(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await ZY(n.localStore,Mi(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await kX(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&TO(n.remoteStore,o)}return i}async function kX(t,e,n,r,i){t.Ma=(d,h,f)=>async function(g,E,m,y){let v=E.view.ha(m);v.Xi&&(v=await ER(g.localStore,E.query,!1).then(({documents:C})=>E.view.ha(C,v)));const T=y&&y.targetChanges.get(E.targetId),R=y&&y.targetMismatches.get(E.targetId)!=null,_=E.view.applyChanges(v,g.isPrimaryClient,T,R);return bR(g,E.targetId,_.da),_.snapshot}(t,d,h,f);const s=await ER(t.localStore,e,!0),o=new IX(e,s.hs),a=o.ha(s.documents),l=Eh.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);bR(t,n,u.da);const c=new RX(e,n,o);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function AX(t,e){const n=Ce(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!Gg(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await S0(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),SO(n.remoteStore,r.targetId),C0(n,r.targetId)}).catch(yh)):(C0(n,r.targetId),await S0(n.localStore,r.targetId,!0))}async function NX(t,e,n){const r=UX(t);try{const i=await function(o,a){const l=Ce(o),u=At.now(),c=a.reduce((f,p)=>f.add(p.key),De());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=gs(),g=De();return l.os.getEntries(f,c).next(E=>{p=E,p.forEach((m,y)=>{y.isValidDocument()||(g=g.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(E=>{d=E;const m=[];for(const y of a){const v=iY(y,d.get(y.key).overlayedDocument);v!=null&&m.push(new To(y.key,v,U2(v.value.mapValue),Di.exists(!0)))}return l.mutationQueue.addMutationBatch(f,u,m,a)}).next(E=>{h=E;const m=E.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(f,E.batchId,m)})}).then(()=>({batchId:h.batchId,changes:X2(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Da[o.currentUser.toKey()];u||(u=new nn(Qe)),u=u.insert(a,l),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),await Sh(r,i.changes),await ty(r.remoteStore)}catch(i){const s=PE(i,"Failed to persist write");n.reject(s)}}async function AO(t,e){const n=Ce(t);try{const r=await YY(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(dt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?dt(o.ma):i.removedDocuments.size>0&&(dt(o.ma),o.ma=!1))}),await Sh(n,r,e)}catch(r){await yh(r)}}function RR(t,e,n){const r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ce(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.Q_)h.U_(a)&&(u=!0)}),u&&NE(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function OX(t,e,n){const r=Ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new nn(ue.comparator);o=o.insert(s,Fn.newNoDocument(s,we.min()));const a=De().add(s),l=new Jg(we.min(),new Map,new nn(Qe),o,a);await AO(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),ME(r)}else await S0(r.localStore,e,!1).then(()=>C0(r,e,n)).catch(yh)}async function MX(t,e){const n=Ce(t),r=e.batch.batchId;try{const i=await QY(n.localStore,e);OO(n,r,null),NO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sh(n,i)}catch(i){await yh(i)}}async function DX(t,e,n){const r=Ce(t);try{const i=await function(o,a){const l=Ce(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(dt(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);OO(r,e,n),NO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sh(r,i)}catch(i){await yh(i)}}function NO(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function OO(t,e,n){const r=Ce(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function C0(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||MO(t,r)})}function MO(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(SO(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),ME(t))}function bR(t,e,n){for(const r of n)r instanceof PO?(t.ba.addReference(r.key,e),LX(t,r)):r instanceof kO?(G("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||MO(t,r.key)):ge()}function LX(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(G("SyncEngine","New document in limbo: "+n),t.ya.add(r),ME(t))}function ME(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new ue(yt.fromString(e)),r=t.va.next();t.Sa.set(r,new bX(n)),t.wa=t.wa.insert(n,r),TO(t.remoteStore,new js(Mi(Kg(n.path)),r,"TargetPurposeLimboResolution",fE._e))}}async function Sh(t,e,n){const r=Ce(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=CE.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.fa.u_(i),await async function(l,u){const c=Ce(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>U.forEach(u,h=>U.forEach(h.qi,f=>c.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>U.forEach(h.Qi,f=>c.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!vh(d))throw d;G("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const f=c.ns.get(h),p=f.snapshotVersion,g=f.withLastLimboFreeSnapshotVersion(p);c.ns=c.ns.insert(h,g)}}}(r.localStore,s))}async function $X(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){G("SyncEngine","User change. New user:",e.toKey());const r=await vO(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new X(V.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sh(n,r.us)}}function FX(t,e){const n=Ce(t),r=n.Sa.get(e);if(r&&r.ma)return De().add(r.key);{let i=De();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function VX(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=FX.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OX.bind(null,e),e.fa.u_=SX.bind(null,e.eventManager),e.fa.xa=CX.bind(null,e.eventManager),e}function UX(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MX.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=DX.bind(null,e),e}class xR{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Zg(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return GY(this.persistence,new qY,e.initialUser,this.serializer)}createPersistence(e){return new zY(SE.Hr,this.serializer)}createSharedClientState(e){return new tX}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class jX{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$X.bind(null,this.syncEngine),await wX(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TX}()}createDatastore(e){const n=Zg(e.databaseInfo.databaseId),r=function(s){return new sX(s)}(e.databaseInfo);return function(s,o,a,l){return new lX(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new cX(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>RR(this.syncEngine,n,0),function(){return SR.D()?new SR:new nX}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new xX(i,s,o,a,l,u);return c&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ce(r);G("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Th(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BX{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ln.UNAUTHENTICATED,this.clientId=$2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{G("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(G("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=PE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function wv(t,e){t.asyncQueue.verifyOperationInProgress(),G("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await vO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function PR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await WX(t);G("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>CR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>CR(e.remoteStore,i)),t._onlineComponents=e}function zX(t){return t.name==="FirebaseError"?t.code===V.FAILED_PRECONDITION||t.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function WX(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G("FirestoreClient","Using user provided OfflineComponentProvider");try{await wv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!zX(n))throw n;Hl("Error using user provided cache. Falling back to memory cache: "+n),await wv(t,new xR)}}else G("FirestoreClient","Using default OfflineComponentProvider"),await wv(t,new xR);return t._offlineComponents}async function DO(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G("FirestoreClient","Using user provided OnlineComponentProvider"),await PR(t,t._uninitializedComponentsProvider._online)):(G("FirestoreClient","Using default OnlineComponentProvider"),await PR(t,new jX))),t._onlineComponents}function HX(t){return DO(t).then(e=>e.syncEngine)}async function Xp(t){const e=await DO(t),n=e.eventManager;return n.onListen=PX.bind(null,e.syncEngine),n.onUnlisten=AX.bind(null,e.syncEngine),n}function qX(t,e,n={}){const r=new Oi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new DE({next:h=>{o.enqueueAndForget(()=>AE(s,d));const f=h.docs.has(a);!f&&h.fromCache?u.reject(new X(V.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&h.fromCache&&l&&l.source==="server"?u.reject(new X(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new OE(Kg(a.path),c,{includeMetadataChanges:!0,Z_:!0});return kE(s,d)}(await Xp(t),t.asyncQueue,e,n,r)),r.promise}function KX(t,e,n={}){const r=new Oi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new DE({next:h=>{o.enqueueAndForget(()=>AE(s,d)),h.fromCache&&l.source==="server"?u.reject(new X(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new OE(a,c,{includeMetadataChanges:!0,Z_:!0});return kE(s,d)}(await Xp(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t,e,n){if(!n)throw new X(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GX(t,e,n,r){if(e===!0&&r===!0)throw new X(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AR(t){if(!ue.isDocumentKey(t))throw new X(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function NR(t){if(ue.isDocumentKey(t))throw new X(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ny(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ge()}function zr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ny(t);throw new X(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(V.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ry{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OR(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hQ;switch(r.type){case"firstParty":return new gQ(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=kR.get(n);r&&(G("ComponentProvider","Removing Datastore"),kR.delete(n),r.terminate())}(this),Promise.resolve()}}function QX(t,e,n,r={}){var i;const s=(t=zr(t,ry))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ln.MOCK_USER;else{a=EA(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new X(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ln(u)}t._authCredentials=new fQ(new L2(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ka(this.firestore,e,this._query)}}class Wn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class Zs extends ka{constructor(e,n,r){super(e,n,Kg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new ue(e))}withConverter(e){return new Zs(this.firestore,e,this._path)}}function YX(t,e,...n){if(t=_t(t),$O("collection","path",e),t instanceof ry){const r=yt.fromString(e,...n);return NR(r),new Zs(t,null,r)}{if(!(t instanceof Wn||t instanceof Zs))throw new X(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yt.fromString(e,...n));return NR(r),new Zs(t.firestore,null,r)}}function ri(t,e,...n){if(t=_t(t),arguments.length===1&&(e=$2.newId()),$O("doc","path",e),t instanceof ry){const r=yt.fromString(e,...n);return AR(r),new Wn(t,null,new ue(r))}{if(!(t instanceof Wn||t instanceof Zs))throw new X(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yt.fromString(e,...n));return AR(r),new Wn(t.firestore,t instanceof Zs?t.converter:null,new ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XX{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new wO(this,"async_queue_retry"),this._u=()=>{const n=_v();n&&G("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=_v();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=_v();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new Oi;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!vh(e))throw e;G("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ui("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=xE.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&ge()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}function MR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class pa extends ry{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new XX}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||FO(this),this._firestoreClient.terminate()}}function JX(t,e){const n=typeof t=="object"?t:Sw(),r=typeof t=="string"?t:e||"(default)",i=Cg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=vA("firestore");s&&QX(i,...s)}return i}function iy(t){return t._firestoreClient||FO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function FO(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new kQ(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,LO(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new BX(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jl(qn.fromBase64String(e))}catch(n){throw new X(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Jl(qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZX=/^__.*__$/;class eJ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new To(e,this.data,this.fieldMask,n,this.fieldTransforms):new wh(e,this.data,n,this.fieldTransforms)}}class VO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new To(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function UO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ge()}}class ay{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new ay(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return Jp(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(UO(this.du)&&ZX.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class tJ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zg(e)}Su(e,n,r,i=!1){return new ay({du:e,methodName:n,wu:r,path:Rn.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $E(t){const e=t._freezeSettings(),n=Zg(t._databaseId);return new tJ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function nJ(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);VE("Data must be an object, but it was:",o,r);const a=jO(r,o);let l,u;if(s.merge)l=new _r(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=I0(e,d,n);if(!o.contains(h))throw new X(V.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);zO(c,h)||c.push(h)}l=new _r(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new eJ(new rr(a),l,u)}class ly extends oy{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ly}}function rJ(t,e,n){return new ay({du:3,wu:e.settings.wu,methodName:t._methodName,Vu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class FE extends oy{constructor(e,n){super(e),this.bu=n}_toFieldTransform(e){const n=rJ(this,e,!0),r=this.bu.map(s=>_u(s,n)),i=new Ql(r);return new eY(e.path,i)}isEqual(e){return e instanceof FE&&Td(this.bu,e.bu)}}function iJ(t,e,n,r){const i=t.Su(1,e,n);VE("Data must be an object, but it was:",i,r);const s=[],o=rr.empty();xa(r,(l,u)=>{const c=UE(e,l,n);u=_t(u);const d=i.fu(c);if(u instanceof ly)s.push(c);else{const h=_u(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new _r(s);return new VO(o,a,i.fieldTransforms)}function sJ(t,e,n,r,i,s){const o=t.Su(1,e,n),a=[I0(e,r,n)],l=[i];if(s.length%2!=0)throw new X(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(I0(e,s[h])),l.push(s[h+1]);const u=[],c=rr.empty();for(let h=a.length-1;h>=0;--h)if(!zO(u,a[h])){const f=a[h];let p=l[h];p=_t(p);const g=o.fu(f);if(p instanceof ly)u.push(f);else{const E=_u(p,g);E!=null&&(u.push(f),c.set(f,E))}}const d=new _r(u);return new VO(c,d,o.fieldTransforms)}function oJ(t,e,n,r=!1){return _u(n,t.Su(r?4:3,e))}function _u(t,e){if(BO(t=_t(t)))return VE("Unsupported field value:",e,t),jO(t,e);if(t instanceof oy)return function(r,i){if(!UO(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=_u(a,i.gu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return XQ(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=At.fromDate(r);return{timestampValue:Qp(i.serializer,s)}}if(r instanceof At){const s=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qp(i.serializer,s)}}if(r instanceof LE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jl)return{bytesValue:dO(i.serializer,r._byteString)};if(r instanceof Wn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:EE(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${ny(r)}`)}(t,e)}function jO(t,e){const n={};return F2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xa(t,(r,i)=>{const s=_u(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function BO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof LE||t instanceof Jl||t instanceof Wn||t instanceof oy)}function VE(t,e,n){if(!BO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ny(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function I0(t,e,n){if((e=_t(e))instanceof sy)return e._internalPath;if(typeof e=="string")return UE(t,e);throw Jp("Field path arguments must be of type string or ",t,!1,void 0,n)}const aJ=new RegExp("[~\\*/\\[\\]]");function UE(t,e,n){if(e.search(aJ)>=0)throw Jp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sy(...e.split("."))._internalPath}catch{throw Jp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Jp(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new X(V.INVALID_ARGUMENT,a+t+l)}function zO(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lJ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lJ extends WO{data(){return super.data()}}function jE(t,e){return typeof e=="string"?UE(t,e):e instanceof sy?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BE{}class uJ extends BE{}function cJ(t,e,...n){let r=[];e instanceof BE&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof zE).length,a=s.filter(l=>l instanceof uy).length;if(o>1||o>0&&a>0)throw new X(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class uy extends uJ{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new uy(e,n,r)}_apply(e){const n=this._parse(e);return qO(e._query,n),new ka(e.firestore,e.converter,y0(e._query,n))}_parse(e){const n=$E(e.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new X(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){LR(d,c);const f=[];for(const p of d)f.push(DR(l,s,p));h={arrayValue:{values:f}}}else h=DR(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||LR(d,c),h=oJ(a,o,d,c==="in"||c==="not-in");return Zt.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function dJ(t,e,n){const r=e,i=jE("where",t);return uy._create(i,r,n)}class zE extends BE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:hi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)qO(o,l),o=y0(o,l)}(e._query,n),new ka(e.firestore,e.converter,y0(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function DR(t,e,n){if(typeof(n=_t(n))=="string"){if(n==="")throw new X(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!K2(e)&&n.indexOf("/")!==-1)throw new X(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(yt.fromString(n));if(!ue.isDocumentKey(r))throw new X(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return iR(t,new ue(r))}if(n instanceof Wn)return iR(t,n._key);throw new X(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ny(n)}.`)}function LR(t,e){if(!Array.isArray(t)||t.length===0)throw new X(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qO(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class hJ{convertValue(e,n="none"){switch(fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ha(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ge()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xa(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new LE(Yt(e.latitude),Yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Dd(e));default:return null}}convertTimestamp(e){const n=ao(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=yt.fromString(e);dt(yO(r));const i=new Ld(r.get(1),r.get(3)),s=new ue(r.popFirst(5));return i.isEqual(n)||Ui(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fJ(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KO extends WO{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(jE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class zf extends KO{data(e={}){return super.data(e)}}class GO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new gc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new zf(this._firestore,this._userDataWriter,r.key,r,new gc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new zf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new gc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new zf(i._firestore,i._userDataWriter,a.doc.key,a.doc,new gc(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:pJ(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t){t=zr(t,Wn);const e=zr(t.firestore,pa);return qX(iy(e),t._key).then(n=>XO(e,t,n))}class WE extends hJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,n)}}function mJ(t){t=zr(t,ka);const e=zr(t.firestore,pa),n=iy(e),r=new WE(e);return HO(t._query),KX(n,t._query).then(i=>new GO(e,r,t,i))}function Zp(t,e,n){t=zr(t,Wn);const r=zr(t.firestore,pa),i=fJ(t.converter,e,n);return YO(r,[nJ($E(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Di.none())])}function yc(t,e,n,...r){t=zr(t,Wn);const i=zr(t.firestore,pa),s=$E(i);let o;return o=typeof(e=_t(e))=="string"||e instanceof sy?sJ(s,"updateDoc",t._key,e,n,r):iJ(s,"updateDoc",t._key,e),YO(i,[o.toMutation(t._key,Di.exists(!0))])}function QO(t,...e){var n,r,i;t=_t(t);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||MR(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(MR(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(t instanceof Wn)u=zr(t.firestore,pa),c=Kg(t._key.path),l={next:d=>{e[o]&&e[o](XO(u,t,d))},error:e[o+1],complete:e[o+2]};else{const d=zr(t,ka);u=zr(d.firestore,pa),c=d._query;const h=new WE(u);l={next:f=>{e[o]&&e[o](new GO(u,h,d,f))},error:e[o+1],complete:e[o+2]},HO(t._query)}return function(h,f,p,g){const E=new DE(g),m=new OE(f,E,p);return h.asyncQueue.enqueueAndForget(async()=>kE(await Xp(h),m)),()=>{E.La(),h.asyncQueue.enqueueAndForget(async()=>AE(await Xp(h),m))}}(iy(u),c,a,l)}function YO(t,e){return function(r,i){const s=new Oi;return r.asyncQueue.enqueueAndForget(async()=>NX(await HX(r),i,s)),s.promise}(iy(t),e)}function XO(t,e,n){const r=n.docs.get(e._key),i=new WE(t);return new KO(t,i,e._key,r,new gc(n.hasPendingWrites,n.fromCache),e.converter)}function FR(...t){return new FE("arrayUnion",t)}(function(e,n=!0){(function(i){gu=i})(vo),so(new fs("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new pa(new pQ(r.getProvider("auth-internal")),new vQ(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ld(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Br(ZI,"4.4.2",e),Br(ZI,"4.4.2","esm2017")})();const gJ={apiKey:"AIzaSyDqHW7C7SIvkp_Bp9pJrWSHONl181jPSdo",authDomain:"pract-chat.firebaseapp.com",databaseURL:"https://pract-chat-default-rtdb.firebaseio.com",projectId:"pract-chat",storageBucket:"pract-chat.appspot.com",messagingSenderId:"828679656058",appId:"1:828679656058:web:a62aff6d72a5cf8ec2e1c3",measurementId:"G-LYH1TBF56B"};xA(gJ);const em=nG(),yJ=eN(),Lr=JX(),vJ="_container_1p1r9_1",_J="_p_1p1r9_8",wJ="_h1_1p1r9_13",EJ="_inputContainer_1p1r9_17",TJ="_textField_1p1r9_24",SJ="_btn_1p1r9_30",CJ="_suggestion_1p1r9_44",IJ="_link_1p1r9_49",RJ="_passwordContainer_1p1r9_56",bJ="_visibilityIcon_1p1r9_60",pr={container:vJ,p:_J,h1:wJ,inputContainer:EJ,textField:TJ,btn:SJ,suggestion:CJ,link:IJ,passwordContainer:RJ,visibilityIcon:bJ},JO=()=>S.jsx("div",{children:S.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",position:"fixed",width:"100vw",backgroundColor:"rgb(0,0,0, 0.5)",zIndex:"10000"},children:S.jsx(mw,{style:{color:"white"}})})}),xJ=()=>{const[t,e]=w.useState(""),[n,r]=w.useState(!1),[i,s]=w.useState(""),[o,a]=w.useState(""),[l,u]=w.useState(!1),[c,d]=w.useState(""),[h,f]=w.useState(!1),[p,g]=w.useState(!1),[E,m]=w.useState(!1),y=Sa(),{isDarkMode:v}=Ia(),T=async b=>{b.preventDefault(),(!n||!l)&&(m(!0),Fq(em,t,o).then(()=>{y("/pract-chat/chat")}).catch(P=>{P.code,P.message,console.log(P),f(!0),m(!1)}))},R=b=>{const P=/^[^]+@[^]+\.[a-z]{2,3}$/,x=b.target.value;e(x),x===""||!x.match(P)?(r(!0),s("Please enter a valid email address")):(r(!1),s(""))},_=b=>{const P=b.target.value;a(P),P===""||P.length<6?(u(!0),d("You must have at least 6 characters")):(u(!1),d(""))},C=()=>{g(!p)};return S.jsxs("div",{children:[E?S.jsx(JO,{}):null,S.jsxs("div",{className:`${pr.container} ${v?pr.dark:""}`,children:[h?S.jsx($k,{severity:"error",children:"Your email or password is incorrect."}):null,S.jsx("h1",{className:pr.h1,children:"Welcome Back!"}),S.jsx("p",{className:pr.p,children:"Please enter your information"}),S.jsxs("div",{className:pr.inputContainer,children:[S.jsx(Mc,{color:n?"error":v?"dark":"primary",focused:v&&!n,error:n,helperText:i,onChange:R,value:t,className:pr.textField,id:"standard-basic",label:"Email",variant:"standard"}),S.jsxs(kk,{className:pr.passwordContainer,children:[S.jsx(Mc,{color:l?"error":v?"dark":"primary",focused:v&&!l,error:l,helperText:c,onChange:_,className:pr.textField,id:"standard-password-input",label:"Password",type:p?"text":"password",autoComplete:"current-password",variant:"standard"}),p?S.jsx(kw,{onClick:C,className:pr.visibilityIcon}):S.jsx(Nw,{onClick:C,className:pr.visibilityIcon})]}),S.jsx("button",{onClick:T,className:pr.btn,children:"Log In"})]}),S.jsxs("p",{className:pr.suggestion,children:["Don't Have an account? ",S.jsx("span",{className:pr.link,onClick:()=>{y("/pract-chat/sign-up")},children:"Sign Up"})]})]})]})},ZO=w.createContext(null),PJ=({children:t})=>{const[e,n]=w.useState(null),[r,i]=w.useState(!1);w.useEffect(()=>{zq(em,o=>{n(o),i(!0)})},[]);const s=()=>{Wq(em)};return console.log(e),S.jsx(ZO.Provider,{value:{user:e,logOut:s,isInitialized:r},children:t})},wu=()=>w.useContext(ZO),kJ=()=>{const{user:t}=wu();return console.log(t),t?S.jsx(L1,{}):alert("You have to be logged in to get access to the chat")||S.jsx(eF,{to:"log-in"})},AJ=()=>{const{isInitialized:t}=wu();return t?S.jsx(L1,{}):S.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:S.jsx(mw,{style:{color:"darkgray"}})})};var HE={},NJ=rh;Object.defineProperty(HE,"__esModule",{value:!0});var eM=HE.default=void 0,OJ=NJ(ih()),MJ=S;eM=HE.default=(0,OJ.default)((0,MJ.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4z"}),"Logout");var qE={},DJ=rh;Object.defineProperty(qE,"__esModule",{value:!0});var tM=qE.default=void 0,LJ=DJ(ih()),$J=S;tM=qE.default=(0,LJ.default)((0,$J.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2"}),"Circle");var KE={},FJ=rh;Object.defineProperty(KE,"__esModule",{value:!0});var nM=KE.default=void 0,VJ=FJ(ih()),UJ=S;nM=KE.default=(0,VJ.default)((0,UJ.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 11c-.55 0-1-.45-1-1V8c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1m1 4h-2v-2h2z"}),"ErrorRounded");var rM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},VR=mn.createContext&&mn.createContext(rM),jJ=["attr","size","title"];function BJ(t,e){if(t==null)return{};var n=zJ(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tm.apply(this,arguments)}function UR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UR(Object(n),!0).forEach(function(r){WJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WJ(t,e,n){return e=HJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HJ(t){var e=qJ(t,"string");return typeof e=="symbol"?e:String(e)}function qJ(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iM(t){return t&&t.map((e,n)=>mn.createElement(e.tag,nm({key:n},e.attr),iM(e.child)))}function fi(t){return e=>mn.createElement(KJ,tm({attr:nm({},t.attr)},e),iM(t.child))}function KJ(t){var e=n=>{var{attr:r,size:i,title:s}=t,o=BJ(t,jJ),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),mn.createElement("svg",tm({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,o,{className:l,style:nm(nm({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&mn.createElement("title",null,s),t.children)};return VR!==void 0?mn.createElement(VR.Consumer,null,n=>e(n)):e(rM)}function GJ(t){return fi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24ZM40,128A88,88,0,0,1,190.2,65.8L65.8,190.2A87.76,87.76,0,0,1,40,128Z"},child:[]}]})(t)}function QJ(t){return fi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,24A104,104,0,0,0,36.18,176.88L24.83,210.93a16,16,0,0,0,20.24,20.24l34.05-11.35A104,104,0,1,0,128,24Zm0,192a87.87,87.87,0,0,1-44.06-11.81,8,8,0,0,0-6.54-.67L40,216,52.47,178.6a8,8,0,0,0-.66-6.54A88,88,0,1,1,128,216Z"},child:[]}]})(t)}function YJ(t){return fi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M128,80a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160Zm88-29.84q.06-2.16,0-4.32l14.92-18.64a8,8,0,0,0,1.48-7.06,107.21,107.21,0,0,0-10.88-26.25,8,8,0,0,0-6-3.93l-23.72-2.64q-1.48-1.56-3-3L186,40.54a8,8,0,0,0-3.94-6,107.71,107.71,0,0,0-26.25-10.87,8,8,0,0,0-7.06,1.49L130.16,40Q128,40,125.84,40L107.2,25.11a8,8,0,0,0-7.06-1.48A107.6,107.6,0,0,0,73.89,34.51a8,8,0,0,0-3.93,6L67.32,64.27q-1.56,1.49-3,3L40.54,70a8,8,0,0,0-6,3.94,107.71,107.71,0,0,0-10.87,26.25,8,8,0,0,0,1.49,7.06L40,125.84Q40,128,40,130.16L25.11,148.8a8,8,0,0,0-1.48,7.06,107.21,107.21,0,0,0,10.88,26.25,8,8,0,0,0,6,3.93l23.72,2.64q1.49,1.56,3,3L70,215.46a8,8,0,0,0,3.94,6,107.71,107.71,0,0,0,26.25,10.87,8,8,0,0,0,7.06-1.49L125.84,216q2.16.06,4.32,0l18.64,14.92a8,8,0,0,0,7.06,1.48,107.21,107.21,0,0,0,26.25-10.88,8,8,0,0,0,3.93-6l2.64-23.72q1.56-1.48,3-3L215.46,186a8,8,0,0,0,6-3.94,107.71,107.71,0,0,0,10.87-26.25,8,8,0,0,0-1.49-7.06Zm-16.1-6.5a73.93,73.93,0,0,1,0,8.68,8,8,0,0,0,1.74,5.48l14.19,17.73a91.57,91.57,0,0,1-6.23,15L187,173.11a8,8,0,0,0-5.1,2.64,74.11,74.11,0,0,1-6.14,6.14,8,8,0,0,0-2.64,5.1l-2.51,22.58a91.32,91.32,0,0,1-15,6.23l-17.74-14.19a8,8,0,0,0-5-1.75h-.48a73.93,73.93,0,0,1-8.68,0,8,8,0,0,0-5.48,1.74L100.45,215.8a91.57,91.57,0,0,1-15-6.23L82.89,187a8,8,0,0,0-2.64-5.1,74.11,74.11,0,0,1-6.14-6.14,8,8,0,0,0-5.1-2.64L46.43,170.6a91.32,91.32,0,0,1-6.23-15l14.19-17.74a8,8,0,0,0,1.74-5.48,73.93,73.93,0,0,1,0-8.68,8,8,0,0,0-1.74-5.48L40.2,100.45a91.57,91.57,0,0,1,6.23-15L69,82.89a8,8,0,0,0,5.1-2.64,74.11,74.11,0,0,1,6.14-6.14A8,8,0,0,0,82.89,69L85.4,46.43a91.32,91.32,0,0,1,15-6.23l17.74,14.19a8,8,0,0,0,5.48,1.74,73.93,73.93,0,0,1,8.68,0,8,8,0,0,0,5.48-1.74L155.55,40.2a91.57,91.57,0,0,1,15,6.23L173.11,69a8,8,0,0,0,2.64,5.1,74.11,74.11,0,0,1,6.14,6.14,8,8,0,0,0,5.1,2.64l22.58,2.51a91.32,91.32,0,0,1,6.23,15l-14.19,17.74A8,8,0,0,0,199.87,123.66Z"},child:[]}]})(t)}function XJ(t){return fi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,152H168V104h48a8,8,0,0,0,0-16H168V40a8,8,0,0,0-16,0V88H104V40a8,8,0,0,0-16,0V88H40a8,8,0,0,0,0,16H88v48H40a8,8,0,0,0,0,16H88v48a8,8,0,0,0,16,0V168h48v48a8,8,0,0,0,16,0V168h48a8,8,0,0,0,0-16Zm-112,0V104h48v48Z"},child:[]}]})(t)}function JJ(t){return fi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M229.66,218.34l-50.07-50.06a88.11,88.11,0,1,0-11.31,11.31l50.06,50.07a8,8,0,0,0,11.32-11.32ZM40,112a72,72,0,1,1,72,72A72.08,72.08,0,0,1,40,112Z"},child:[]}]})(t)}function ZJ(t){return fi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M224,128a8,8,0,0,1-8,8H136v80a8,8,0,0,1-16,0V136H40a8,8,0,0,1,0-16h80V40a8,8,0,0,1,16,0v80h80A8,8,0,0,1,224,128Z"},child:[]}]})(t)}function sM(t){return fi({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M216,40H40A16,16,0,0,0,24,56V200a16,16,0,0,0,16,16H216a16,16,0,0,0,16-16V56A16,16,0,0,0,216,40ZM40,56H80V200H40ZM216,200H96V56H216V200Z"},child:[]}]})(t)}function eZ(t){return fi({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.404 14.596A6.5 6.5 0 1116.5 10a1.25 1.25 0 01-2.5 0 4 4 0 10-.571 2.06A2.75 2.75 0 0018 10a8 8 0 10-2.343 5.657.75.75 0 00-1.06-1.06 6.5 6.5 0 01-9.193 0zM10 7.5a2.5 2.5 0 100 5 2.5 2.5 0 000-5z",clipRule:"evenodd"},child:[]}]})(t)}const tZ="_container_1jc59_1",nZ="_section_1jc59_9",rZ="_userContainer_1jc59_17",iZ="_userContainerInfo_1jc59_22",sZ="_displayName_1jc59_25",oZ="_userInfoContainer_1jc59_34",aZ="_infoSectionContainer_1jc59_40",lZ="_infoSectionItem_1jc59_46",uZ="_label_1jc59_53",cZ="_bottom_1jc59_57",dZ="_warningContainer_1jc59_64",hZ="_warningContainerInfo_1jc59_74",fZ="_logOutBtn_1jc59_78",pZ="_NoChats_1jc59_90",at={container:tZ,section:nZ,userContainer:rZ,userContainerInfo:iZ,displayName:sZ,userInfoContainer:oZ,infoSectionContainer:aZ,infoSectionItem:lZ,label:uZ,bottom:cZ,warningContainer:dZ,warningContainerInfo:hZ,logOutBtn:fZ,NoChats:pZ},oM=()=>{const[t,e]=w.useState(!1),{user:n,logOut:r}=wu(),{isDarkMode:i,toggleTheme:s}=Ia();w.useEffect(()=>{const a=document.documentElement;i?a.classList.add("dark"):a.classList.remove("dark")},[i]);const o=()=>{e(!0),navigator.clipboard.writeText(n.uid),setTimeout(()=>{e(!1)},5e3)};return S.jsxs("div",{className:`${at.container} ${i?at.dark:""}`,children:[S.jsx(C8,{open:t,message:"Copied!",anchorOrigin:{vertical:"top",horizontal:"right"},ContentProps:{style:{backgroundColor:"var(--main-color)",color:"var(--main-bg-color)",padding:"10px",paddingLeft:"20px",paddingRight:"0px",borderRadius:"15px",zIndex:"100000"}}}),S.jsxs("div",{className:at.section,children:[S.jsxs("div",{className:at.userContainer,children:[S.jsx(wd,{src:n.photoURL,sx:{width:46,height:46,fontSize:27}}),S.jsxs("div",{className:at.userContainerInfo,children:[S.jsx("h1",{className:at.displayName,children:n.displayName}),S.jsxs("p",{children:[S.jsx(tM,{sx:{width:12,height:12,color:"var(--accent-color-mixed)"}})," Online"]})]})]}),S.jsxs("div",{className:at.userInfoContainer,children:[S.jsx(eZ,{style:{marginTop:"5px"},size:25}),S.jsxs("div",{className:at.infoSectionContainer,children:[S.jsx("p",{className:at.infoSectionItem,children:n.email}),S.jsx("p",{className:at.label,children:"Email"})]})]}),S.jsx(M8,{title:"Copy",placement:"right",children:S.jsxs("div",{className:at.userInfoContainer,onClick:o,children:[S.jsx(XJ,{style:{marginTop:"5px"},size:25}),S.jsxs("div",{className:at.infoSectionContainer,children:[S.jsx("p",{className:at.infoSectionItem,children:n.uid}),S.jsx("p",{className:at.label,children:"User ID"})]})]})}),S.jsx(j_,{sx:{borderColor:"var(--border-color)"},variant:"middle"}),S.jsxs(jS,{to:"/pract-chat/chat",className:at.userInfoContainer,children:[S.jsx(QJ,{style:{marginTop:"5px",marginLeft:"2px"},size:22}),S.jsx("div",{className:at.infoSectionContainer,children:S.jsx("p",{className:at.infoSectionItem,children:"Messages"})})]}),S.jsxs("div",{className:at.userInfoContainer,children:[S.jsx(GJ,{style:{marginTop:"5px"},size:23}),S.jsx("div",{className:at.infoSectionContainer,children:S.jsx("p",{className:at.infoSectionItem,onClick:s,children:i?"Dark Mode":"Light Mode"})})]}),S.jsxs(jS,{to:"/pract-chat/settings",className:at.userInfoContainer,children:[S.jsx(YJ,{style:{marginTop:"5px"},size:24}),S.jsx("div",{className:at.infoSectionContainer,children:S.jsx("p",{className:at.infoSectionItem,children:"Settings"})})]}),S.jsxs("div",{className:at.bottom,children:[S.jsxs("div",{className:at.warningContainer,children:[S.jsx(nM,{sx:{fontSize:"30px"}}),S.jsx("div",{className:at.warningContainerInfo,children:S.jsx("p",{children:"This is a practice project, let's keep it appropriate"})})]}),S.jsxs("button",{className:at.logOutBtn,onClick:r,children:[S.jsx(eM,{sx:{color:"var(--highlight-color)",fontSize:"21px",position:"absolute",left:"20px",top:"13px"}})," Log Out"]})]})]})]})};var jR={};const BR="@firebase/database",zR="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aM="";function mZ(t){aM=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gZ{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),In(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Ed(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yZ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Es(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new gZ(e)}}catch{}return new yZ},zo=lM("localStorage"),R0=lM("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new Sg("@firebase/database"),vZ=function(){let t=1;return function(){return t++}}(),uM=function(t){const e=h7(t),n=new a7;n.update(e);const r=n.digest();return _w.encodeByteArray(r)},Ch=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ch.apply(null,r):typeof r=="object"?e+=In(r):e+=r,e+=" "}return e};let Yo=null,WR=!0;const _Z=function(t,e){Q(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Il.logLevel=Me.VERBOSE,Yo=Il.log.bind(Il),e&&R0.set("logging_enabled",!0)):typeof t=="function"?Yo=t:(Yo=null,R0.remove("logging_enabled"))},Vn=function(...t){if(WR===!0&&(WR=!1,Yo===null&&R0.get("logging_enabled")===!0&&_Z(!0)),Yo){const e=Ch.apply(null,t);Yo(e)}},Ih=function(t){return function(...e){Vn(t,...e)}},b0=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ch(...t);Il.error(e)},ma=function(...t){const e=`FIREBASE FATAL ERROR: ${Ch(...t)}`;throw Il.error(e),new Error(e)},Tr=function(...t){const e="FIREBASE WARNING: "+Ch(...t);Il.warn(e)},wZ=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Tr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},cM=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},EZ=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Zl="[MIN_NAME]",ga="[MAX_NAME]",Eu=function(t,e){if(t===e)return 0;if(t===Zl||e===ga)return-1;if(e===Zl||t===ga)return 1;{const n=HR(t),r=HR(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},TZ=function(t,e){return t===e?0:t<e?-1:1},Xu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+In(e))},GE=function(t){if(typeof t!="object"||t===null)return In(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=In(e[r]),n+=":",n+=GE(t[e[r]]);return n+="}",n},dM=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Gr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const hM=function(t){Q(!cM(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},SZ=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},CZ=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},IZ=new RegExp("^-?(0*)\\d{1,10}$"),RZ=-2147483648,bZ=2147483647,HR=function(t){if(IZ.test(t)){const e=Number(t);if(e>=RZ&&e<=bZ)return e}return null},Rh=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Tr("Exception was thrown by user callback.",n),e},Math.floor(0))}},xZ=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},zc=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PZ{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Tr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kZ{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Vn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Tr(e)}}class x0{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}x0.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="5",fM="v",pM="s",mM="r",gM="f",yM=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vM="ls",_M="p",P0="ac",wM="websocket",EM="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AZ{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=zo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&zo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function NZ(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function TM(t,e,n){Q(typeof e=="string","typeof type must == string"),Q(typeof n=="object","typeof params must == object");let r;if(e===wM)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===EM)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);NZ(t)&&(n.ns=t.namespace);const i=[];return Gr(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OZ{constructor(){this.counters_={}}incrementCounter(e,n=1){Es(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return H8(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev={},Tv={};function YE(t){const e=t.toString();return Ev[e]||(Ev[e]=new OZ),Ev[e]}function MZ(t,e){const n=t.toString();return Tv[n]||(Tv[n]=e()),Tv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DZ{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Rh(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="start",LZ="close",$Z="pLPCommand",FZ="pRTLPCB",SM="id",CM="pw",IM="ser",VZ="cb",UZ="seg",jZ="ts",BZ="d",zZ="dframe",RM=1870,bM=30,WZ=RM-bM,HZ=25e3,qZ=3e4;class cl{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ih(e),this.stats_=YE(n),this.urlFn=l=>(this.appCheckToken&&(l[P0]=this.appCheckToken),TM(n,EM,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new DZ(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(qZ)),EZ(()=>{if(this.isClosed_)return;this.scriptTagHolder=new XE((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===qR)this.id=a,this.password=l;else if(o===LZ)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[qR]="t",r[IM]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[VZ]=this.scriptTagHolder.uniqueCallbackIdentifier),r[fM]=QE,this.transportSessionId&&(r[pM]=this.transportSessionId),this.lastSessionId&&(r[vM]=this.lastSessionId),this.applicationId&&(r[_M]=this.applicationId),this.appCheckToken&&(r[P0]=this.appCheckToken),typeof location<"u"&&location.hostname&&yM.test(location.hostname)&&(r[mM]=gM);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){cl.forceAllow_=!0}static forceDisallow(){cl.forceDisallow_=!0}static isAvailable(){return cl.forceAllow_?!0:!cl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!SZ()&&!CZ()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=In(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=mA(n),i=dM(r,WZ);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[zZ]="t",r[SM]=e,r[CM]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=In(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class XE{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=vZ(),window[$Z+this.uniqueCallbackIdentifier]=e,window[FZ+this.uniqueCallbackIdentifier]=n,this.myIFrame=XE.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Vn("frame writing exception"),a.stack&&Vn(a.stack),Vn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Vn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[SM]=this.myID,e[CM]=this.myPW,e[IM]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+bM+r.length<=RM;){const o=this.pendingSegs.shift();r=r+"&"+UZ+i+"="+o.seg+"&"+jZ+i+"="+o.ts+"&"+BZ+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(HZ)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Vn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KZ=16384,GZ=45e3;let rm=null;typeof MozWebSocket<"u"?rm=MozWebSocket:typeof WebSocket<"u"&&(rm=WebSocket);class ii{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ih(this.connId),this.stats_=YE(n),this.connURL=ii.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[fM]=QE,typeof location<"u"&&location.hostname&&yM.test(location.hostname)&&(o[mM]=gM),n&&(o[pM]=n),r&&(o[vM]=r),i&&(o[P0]=i),s&&(o[_M]=s),TM(e,wM,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,zo.set("previous_websocket_failure",!0);try{let r;SA(),this.mySock=new rm(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ii.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&rm!==null&&!ii.forceDisallow_}static previouslyFailed(){return zo.isInMemoryStorage||zo.get("previous_websocket_failure")===!0}markConnectionHealthy(){zo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Ed(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Q(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=In(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=dM(n,KZ);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(GZ))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ii.responsesRequiredToBeHealthy=2;ii.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[cl,ii]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=ii&&ii.isAvailable();let r=n&&!ii.previouslyFailed();if(e.webSocketOnly&&(n||Tr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ii];else{const i=this.transports_=[];for(const s of Vd.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Vd.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Vd.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QZ=6e4,YZ=5e3,XZ=10*1024,JZ=100*1024,Sv="t",KR="d",ZZ="s",GR="r",eee="e",QR="o",YR="a",XR="n",JR="p",tee="h";class nee{constructor(e,n,r,i,s,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ih("c:"+this.id+":"),this.transportManager_=new Vd(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=zc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>JZ?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>XZ?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Sv in e){const n=e[Sv];n===YR?this.upgradeIfSecondaryHealthy_():n===GR?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===QR&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Xu("t",e),r=Xu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:JR,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:YR,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:XR,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Xu("t",e),r=Xu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Xu(Sv,e);if(KR in e){const r=e[KR];if(n===tee){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===XR){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===ZZ?this.onConnectionShutdown_(r):n===GR?this.onReset_(r):n===eee?b0("Server Error: "+r):n===QR?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):b0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),QE!==r&&Tr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),zc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(QZ))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):zc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(YZ))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:JR,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(zo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PM{constructor(e){this.allowedEvents_=e,this.listeners_={},Q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Q(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im extends PM{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ew()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new im}getInitialEvent(e){return Q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=32,eb=768;class Et{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function it(){return new Et("")}function je(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function uo(t){return t.pieces_.length-t.pieceNum_}function mt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Et(t.pieces_,e)}function kM(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ree(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function AM(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function NM(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Et(e,0)}function pn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Et)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Et(n,0)}function Ve(t){return t.pieceNum_>=t.pieces_.length}function Vr(t,e){const n=je(t),r=je(e);if(n===null)return e;if(n===r)return Vr(mt(t),mt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function OM(t,e){if(uo(t)!==uo(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function si(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(uo(t)>uo(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class iee{constructor(e,n){this.errorPrefix_=n,this.parts_=AM(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Tg(this.parts_[r]);MM(this)}}function see(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Tg(e),MM(t)}function oee(t){const e=t.parts_.pop();t.byteLength_-=Tg(e),t.parts_.length>0&&(t.byteLength_-=1)}function MM(t){if(t.byteLength_>eb)throw new Error(t.errorPrefix_+"has a key path longer than "+eb+" bytes ("+t.byteLength_+").");if(t.parts_.length>ZR)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ZR+") or object contains a cycle "+ko(t))}function ko(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends PM{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new JE}getInitialEvent(e){return Q(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju=1e3,aee=60*5*1e3,tb=30*1e3,lee=1.3,uee=3e4,cee="server_kill",nb=3;class os extends xM{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=os.nextPersistentConnectionId_++,this.log_=Ih("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ju,this.maxReconnectDelay_=aee,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!SA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");JE.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&im.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(In(s)),Q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new ww,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Q(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;os.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Es(e,"w")){const r=Bl(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Tr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||o7(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=tb)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=s7(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+In(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):b0("Unrecognized action received from server: "+In(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ju,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ju,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>uee&&(this.reconnectDelay_=Ju),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*lee)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+os.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){Q(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Vn("getToken() completed but was canceled"):(Vn("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=h&&h.token,a=new nee(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,f=>{Tr(f+" ("+this.repoInfo_.toString()+")"),this.interrupt(cee)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Tr(d),l())}}}interrupt(e){Vn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Vn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],W_(this.interruptReasons_)&&(this.reconnectDelay_=Ju,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>GE(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Et(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){Vn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=nb&&(this.reconnectDelay_=tb,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Vn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=nb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+aM.replace(/\./g,"-")]=1,Ew()?e["framework.cordova"]=1:TA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=im.getInstance().currentlyOnline();return W_(this.interruptReasons_)&&e}}os.nextPersistentConnectionId_=0;os.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Be(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Be(Zl,e),i=new Be(Zl,n);return this.compare(r,i)!==0}minPost(){return Be.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf;class DM extends cy{static get __EMPTY_NODE(){return mf}static set __EMPTY_NODE(e){mf=e}compare(e,n){return Eu(e.name,n.name)}isDefinedOn(e){throw cu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Be.MIN}maxPost(){return new Be(ga,mf)}makePost(e,n){return Q(typeof e=="string","KeyIndex indexValue must always be a string."),new Be(e,mf)}toString(){return".key"}}const Rl=new DM;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class fn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??fn.RED,this.left=i??sr.EMPTY_NODE,this.right=s??sr.EMPTY_NODE}copy(e,n,r,i,s){return new fn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return sr.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return sr.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}fn.RED=!0;fn.BLACK=!1;class dee{copy(e,n,r,i,s){return this}insert(e,n,r){return new fn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class sr{constructor(e,n=sr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new sr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,fn.BLACK,null,null))}remove(e){return new sr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,fn.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new gf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new gf(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new gf(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new gf(this.root_,null,this.comparator_,!0,e)}}sr.EMPTY_NODE=new dee;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hee(t,e){return Eu(t.name,e.name)}function ZE(t,e){return Eu(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k0;function fee(t){k0=t}const LM=function(t){return typeof t=="number"?"number:"+hM(t):"string:"+t},$M=function(t){if(t.isLeafNode()){const e=t.val();Q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Es(e,".sv"),"Priority must be a string or number.")}else Q(t===k0||t.isEmpty(),"priority of unexpected type.");Q(t===k0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rb;class cn{constructor(e,n=cn.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),$M(this.priorityNode_)}static set __childrenNodeConstructor(e){rb=e}static get __childrenNodeConstructor(){return rb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new cn(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:cn.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ve(e)?this:je(e)===".priority"?this.priorityNode_:cn.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:cn.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=je(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Q(r!==".priority"||uo(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,cn.__childrenNodeConstructor.EMPTY_NODE.updateChild(mt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+LM(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=hM(this.value_):e+=this.value_,this.lazyHash_=uM(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===cn.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof cn.__childrenNodeConstructor?-1:(Q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=cn.VALUE_TYPE_ORDER.indexOf(n),s=cn.VALUE_TYPE_ORDER.indexOf(r);return Q(i>=0,"Unknown leaf type: "+n),Q(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}cn.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FM,VM;function pee(t){FM=t}function mee(t){VM=t}class gee extends cy{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Eu(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Be.MIN}maxPost(){return new Be(ga,new cn("[PRIORITY-POST]",VM))}makePost(e,n){const r=FM(e);return new Be(n,new cn("[PRIORITY-POST]",r))}toString(){return".priority"}}const jn=new gee;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yee=Math.log(2);class vee{constructor(e){const n=s=>parseInt(Math.log(s)/yee,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const sm=function(t,e,n,r){t.sort(e);const i=function(l,u){const c=u-l;let d,h;if(c===0)return null;if(c===1)return d=t[l],h=n?n(d):d,new fn(h,d.node,fn.BLACK,null,null);{const f=parseInt(c/2,10)+l,p=i(l,f),g=i(f+1,u);return d=t[f],h=n?n(d):d,new fn(h,d.node,fn.BLACK,p,g)}},s=function(l){let u=null,c=null,d=t.length;const h=function(p,g){const E=d-p,m=d;d-=p;const y=i(E+1,m),v=t[E],T=n?n(v):v;f(new fn(T,v.node,g,null,y))},f=function(p){u?(u.left=p,u=p):(c=p,u=p)};for(let p=0;p<l.count;++p){const g=l.nextBitIsOne(),E=Math.pow(2,l.count-(p+1));g?h(E,fn.BLACK):(h(E,fn.BLACK),h(E,fn.RED))}return c},o=new vee(t.length),a=s(o);return new sr(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cv;const Ba={};class ns{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Q(Ba&&jn,"ChildrenNode.ts has not been loaded"),Cv=Cv||new ns({".priority":Ba},{".priority":jn}),Cv}get(e){const n=Bl(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof sr?n:null}hasIndex(e){return Es(this.indexSet_,e.toString())}addIndex(e,n){Q(e!==Rl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Be.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=sm(r,e.getCompare()):a=Ba;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new ns(c,u)}addToIndexes(e,n){const r=kp(this.indexes_,(i,s)=>{const o=Bl(this.indexSet_,s);if(Q(o,"Missing index implementation for "+s),i===Ba)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Be.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),sm(a,o.getCompare())}else return Ba;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new Be(e.name,a))),l.insert(e,e.node)}});return new ns(r,this.indexSet_)}removeFromIndexes(e,n){const r=kp(this.indexes_,i=>{if(i===Ba)return i;{const s=n.get(e.name);return s?i.remove(new Be(e.name,s)):i}});return new ns(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu;class Ye{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&$M(this.priorityNode_),this.children_.isEmpty()&&Q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Zu||(Zu=new Ye(new sr(ZE),null,ns.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Zu}updatePriority(e){return this.children_.isEmpty()?this:new Ye(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Zu:n}}getChild(e){const n=je(e);return n===null?this:this.getImmediateChild(n).getChild(mt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Q(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Be(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Zu:this.priorityNode_;return new Ye(i,o,s)}}updateChild(e,n){const r=je(e);if(r===null)return n;{Q(je(e)!==".priority"||uo(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(mt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(jn,(o,a)=>{n[o]=a.val(e),r++,s&&Ye.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+LM(this.getPriority().val())+":"),this.forEachChild(jn,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":uM(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Be(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Be(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Be(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Be.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Be.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bh?-1:0}withIndex(e){if(e===Rl||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ye(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Rl||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(jn),i=n.getIterator(jn);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Rl?null:this.indexMap_.get(e.toString())}}Ye.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class _ee extends Ye{constructor(){super(new sr(ZE),Ye.EMPTY_NODE,ns.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ye.EMPTY_NODE}isEmpty(){return!1}}const bh=new _ee;Object.defineProperties(Be,{MIN:{value:new Be(Zl,Ye.EMPTY_NODE)},MAX:{value:new Be(ga,bh)}});DM.__EMPTY_NODE=Ye.EMPTY_NODE;cn.__childrenNodeConstructor=Ye;fee(bh);mee(bh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wee=!0;function Un(t,e=null){if(t===null)return Ye.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new cn(n,Un(e))}if(!(t instanceof Array)&&wee){const n=[];let r=!1;if(Gr(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Un(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Be(o,l)))}}),n.length===0)return Ye.EMPTY_NODE;const s=sm(n,hee,o=>o.name,ZE);if(r){const o=sm(n,jn.getCompare());return new Ye(s,Un(e),new ns({".priority":o},{".priority":jn}))}else return new Ye(s,Un(e),ns.Default)}else{let n=Ye.EMPTY_NODE;return Gr(t,(r,i)=>{if(Es(t,r)&&r.substring(0,1)!=="."){const s=Un(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Un(e))}}pee(Un);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eee extends cy{constructor(e){super(),this.indexPath_=e,Q(!Ve(e)&&je(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Eu(e.name,n.name):s}makePost(e,n){const r=Un(e),i=Ye.EMPTY_NODE.updateChild(this.indexPath_,r);return new Be(n,i)}maxPost(){const e=Ye.EMPTY_NODE.updateChild(this.indexPath_,bh);return new Be(ga,e)}toString(){return AM(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tee extends cy{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Eu(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Be.MIN}maxPost(){return Be.MAX}makePost(e,n){const r=Un(e);return new Be(n,r)}toString(){return".value"}}const See=new Tee;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cee(t){return{type:"value",snapshotNode:t}}function Iee(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ree(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ib(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function bee(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=jn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zl}hasEnd(){return this.endSet_}getIndexEndValue(){return Q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ga}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===jn}copy(){const e=new eT;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function sb(t){const e={};if(t.isDefault())return e;let n;if(t.index_===jn?n="$priority":t.index_===See?n="$value":t.index_===Rl?n="$key":(Q(t.index_ instanceof Eee,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=In(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=In(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+In(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=In(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+In(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ob(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==jn&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om extends xM{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Ih("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=om.getListenId_(e,r),a={};this.listens_[o]=a;const l=sb(e._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Bl(this.listens_,o)===a){let h;u?u===401?h="permission_denied":h="rest_error:"+u:h="ok",i(h,null)}})}unlisten(e,n){const r=om.getListenId_(e,n);delete this.listens_[r]}get(e){const n=sb(e._queryParams),r=e._path.toString(),i=new ww;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+du(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Ed(a.responseText)}catch{Tr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Tr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xee{constructor(){this.rootNode_=Ye.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function am(){return{value:null,children:new Map}}function UM(t,e,n){if(Ve(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=je(e);t.children.has(r)||t.children.set(r,am());const i=t.children.get(r);e=mt(e),UM(i,e,n)}}function A0(t,e,n){t.value!==null?n(e,t.value):Pee(t,(r,i)=>{const s=new Et(e.toString()+"/"+r);A0(i,s,n)})}function Pee(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kee{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Gr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab=10*1e3,Aee=30*1e3,Nee=5*60*1e3;class Oee{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new kee(e);const r=ab+(Aee-ab)*Math.random();zc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Gr(e,(i,s)=>{s>0&&Es(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),zc(this.reportStats_.bind(this),Math.floor(Math.random()*2*Nee))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ri;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ri||(Ri={}));function jM(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function BM(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function zM(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ri.ACK_USER_WRITE,this.source=jM()}operationForChild(e){if(Ve(this.path)){if(this.affectedTree.value!=null)return Q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Et(e));return new lm(it(),n,this.revert)}}else return Q(je(this.path)===e,"operationForChild called for unrelated child."),new lm(mt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ri.OVERWRITE}operationForChild(e){return Ve(this.path)?new ya(this.source,it(),this.snap.getImmediateChild(e)):new ya(this.source,mt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ri.MERGE}operationForChild(e){if(Ve(this.path)){const n=this.children.subtree(new Et(e));return n.isEmpty()?null:n.value?new ya(this.source,it(),n.value):new Ud(this.source,it(),n)}else return Q(je(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ud(this.source,mt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ve(e))return this.isFullyInitialized()&&!this.filtered_;const n=je(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Mee(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(bee(o.childName,o.snapshotNode))}),ec(t,i,"child_removed",e,r,n),ec(t,i,"child_added",e,r,n),ec(t,i,"child_moved",s,r,n),ec(t,i,"child_changed",e,r,n),ec(t,i,"value",e,r,n),i}function ec(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>Lee(t,a,l)),o.forEach(a=>{const l=Dee(t,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function Dee(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Lee(t,e,n){if(e.childName==null||n.childName==null)throw cu("Should only compare child_ events.");const r=new Be(e.childName,e.snapshotNode),i=new Be(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t,e){return{eventCache:t,serverCache:e}}function Wc(t,e,n,r){return WM(new tT(e,n,r),t.serverCache)}function HM(t,e,n,r){return WM(t.eventCache,new tT(e,n,r))}function N0(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function va(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iv;const $ee=()=>(Iv||(Iv=new sr(TZ)),Iv);class pt{constructor(e,n=$ee()){this.value=e,this.children=n}static fromObject(e){let n=new pt(null);return Gr(e,(r,i)=>{n=n.set(new Et(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:it(),value:this.value};if(Ve(e))return null;{const r=je(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(mt(e),n);return s!=null?{path:pn(new Et(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ve(e))return this;{const n=je(e),r=this.children.get(n);return r!==null?r.subtree(mt(e)):new pt(null)}}set(e,n){if(Ve(e))return new pt(n,this.children);{const r=je(e),s=(this.children.get(r)||new pt(null)).set(mt(e),n),o=this.children.insert(r,s);return new pt(this.value,o)}}remove(e){if(Ve(e))return this.children.isEmpty()?new pt(null):new pt(null,this.children);{const n=je(e),r=this.children.get(n);if(r){const i=r.remove(mt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new pt(null):new pt(this.value,s)}else return this}}get(e){if(Ve(e))return this.value;{const n=je(e),r=this.children.get(n);return r?r.get(mt(e)):null}}setTree(e,n){if(Ve(e))return n;{const r=je(e),s=(this.children.get(r)||new pt(null)).setTree(mt(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new pt(this.value,o)}}fold(e){return this.fold_(it(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(pn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,it(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Ve(e))return null;{const s=je(e),o=this.children.get(s);return o?o.findOnPath_(mt(e),pn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,it(),n)}foreachOnPath_(e,n,r){if(Ve(e))return this;{this.value&&r(n,this.value);const i=je(e),s=this.children.get(i);return s?s.foreachOnPath_(mt(e),pn(n,i),r):new pt(null)}}foreach(e){this.foreach_(it(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(pn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e){this.writeTree_=e}static empty(){return new li(new pt(null))}}function Hc(t,e,n){if(Ve(e))return new li(new pt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Vr(i,e);return s=s.updateChild(o,n),new li(t.writeTree_.set(i,s))}else{const i=new pt(n),s=t.writeTree_.setTree(e,i);return new li(s)}}}function lb(t,e,n){let r=t;return Gr(n,(i,s)=>{r=Hc(r,pn(e,i),s)}),r}function ub(t,e){if(Ve(e))return li.empty();{const n=t.writeTree_.setTree(e,new pt(null));return new li(n)}}function O0(t,e){return Aa(t,e)!=null}function Aa(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Vr(n.path,e)):null}function cb(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(jn,(r,i)=>{e.push(new Be(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Be(r,i.value))}),e}function eo(t,e){if(Ve(e))return t;{const n=Aa(t,e);return n!=null?new li(new pt(n)):new li(t.writeTree_.subtree(e))}}function M0(t){return t.writeTree_.isEmpty()}function eu(t,e){return qM(it(),t.writeTree_,e)}function qM(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Q(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=qM(pn(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(pn(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(t,e){return JM(e,t)}function Fee(t,e,n,r,i){Q(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Hc(t.visibleWrites,e,n)),t.lastWriteId=r}function Vee(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Uee(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Q(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&jee(a,r.path)?i=!1:si(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return Bee(t),!0;if(r.snap)t.visibleWrites=ub(t.visibleWrites,r.path);else{const a=r.children;Gr(a,l=>{t.visibleWrites=ub(t.visibleWrites,pn(r.path,l))})}return!0}else return!1}function jee(t,e){if(t.snap)return si(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&si(pn(t.path,n),e))return!0;return!1}function Bee(t){t.visibleWrites=GM(t.allWrites,zee,it()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function zee(t){return t.visible}function GM(t,e,n){let r=li.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)si(n,o)?(a=Vr(n,o),r=Hc(r,a,s.snap)):si(o,n)&&(a=Vr(o,n),r=Hc(r,it(),s.snap.getChild(a)));else if(s.children){if(si(n,o))a=Vr(n,o),r=lb(r,a,s.children);else if(si(o,n))if(a=Vr(o,n),Ve(a))r=lb(r,it(),s.children);else{const l=Bl(s.children,je(a));if(l){const u=l.getChild(mt(a));r=Hc(r,it(),u)}}}else throw cu("WriteRecord should have .snap or .children")}}return r}function QM(t,e,n,r,i){if(!r&&!i){const s=Aa(t.visibleWrites,e);if(s!=null)return s;{const o=eo(t.visibleWrites,e);if(M0(o))return n;if(n==null&&!O0(o,it()))return null;{const a=n||Ye.EMPTY_NODE;return eu(o,a)}}}else{const s=eo(t.visibleWrites,e);if(!i&&M0(s))return n;if(!i&&n==null&&!O0(s,it()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(si(u.path,e)||si(e,u.path))},a=GM(t.allWrites,o,e),l=n||Ye.EMPTY_NODE;return eu(a,l)}}}function Wee(t,e,n){let r=Ye.EMPTY_NODE;const i=Aa(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(jn,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=eo(t.visibleWrites,e);return n.forEachChild(jn,(o,a)=>{const l=eu(eo(s,new Et(o)),a);r=r.updateImmediateChild(o,l)}),cb(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=eo(t.visibleWrites,e);return cb(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Hee(t,e,n,r,i){Q(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=pn(e,n);if(O0(t.visibleWrites,s))return null;{const o=eo(t.visibleWrites,s);return M0(o)?i.getChild(n):eu(o,i.getChild(n))}}function qee(t,e,n,r){const i=pn(e,n),s=Aa(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=eo(t.visibleWrites,i);return eu(o,r.getNode().getImmediateChild(n))}else return null}function Kee(t,e){return Aa(t.visibleWrites,e)}function Gee(t,e,n,r,i,s,o){let a;const l=eo(t.visibleWrites,e),u=Aa(l,it());if(u!=null)a=u;else if(n!=null)a=eu(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)d(f,r)!==0&&c.push(f),f=h.getNext();return c}else return[]}function Qee(){return{visibleWrites:li.empty(),allWrites:[],lastWriteId:-1}}function D0(t,e,n,r){return QM(t.writeTree,t.treePath,e,n,r)}function YM(t,e){return Wee(t.writeTree,t.treePath,e)}function db(t,e,n,r){return Hee(t.writeTree,t.treePath,e,n,r)}function um(t,e){return Kee(t.writeTree,pn(t.treePath,e))}function Yee(t,e,n,r,i,s){return Gee(t.writeTree,t.treePath,e,n,r,i,s)}function nT(t,e,n){return qee(t.writeTree,t.treePath,e,n)}function XM(t,e){return JM(pn(t.treePath,e),t.writeTree)}function JM(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xee{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Q(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Q(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ib(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Ree(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Iee(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ib(r,e.snapshotNode,i.oldSnap));else throw cu("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jee{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const ZM=new Jee;class rT{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new tT(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nT(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:va(this.viewCache_),s=Yee(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}function Zee(t,e){Q(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Q(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function ete(t,e,n,r,i){const s=new Xee;let o,a;if(n.type===Ri.OVERWRITE){const u=n;u.source.fromUser?o=L0(t,e,u.path,u.snap,r,i,s):(Q(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!Ve(u.path),o=cm(t,e,u.path,u.snap,r,i,a,s))}else if(n.type===Ri.MERGE){const u=n;u.source.fromUser?o=nte(t,e,u.path,u.children,r,i,s):(Q(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=$0(t,e,u.path,u.children,r,i,a,s))}else if(n.type===Ri.ACK_USER_WRITE){const u=n;u.revert?o=ste(t,e,u.path,r,i,s):o=rte(t,e,u.path,u.affectedTree,r,i,s)}else if(n.type===Ri.LISTEN_COMPLETE)o=ite(t,e,n.path,r,s);else throw cu("Unknown operation type: "+n.type);const l=s.getChanges();return tte(e,o,l),{viewCache:o,changes:l}}function tte(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=N0(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Cee(N0(e)))}}function eD(t,e,n,r,i,s){const o=e.eventCache;if(um(r,n)!=null)return e;{let a,l;if(Ve(n))if(Q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=va(e),c=u instanceof Ye?u:Ye.EMPTY_NODE,d=YM(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const u=D0(r,va(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=je(n);if(u===".priority"){Q(uo(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=db(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=mt(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const h=db(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(u).updateChild(c,h):d=o.getNode().getImmediateChild(u)}else d=nT(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return Wc(e,a,o.isFullyInitialized()||Ve(n),t.filter.filtersNodes())}}function cm(t,e,n,r,i,s,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(Ve(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),f,null)}else{const f=je(n);if(!l.isCompleteForPath(n)&&uo(n)>1)return e;const p=mt(n),E=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?u=c.updatePriority(l.getNode(),E):u=c.updateChild(l.getNode(),f,E,p,ZM,null)}const d=HM(e,u,l.isFullyInitialized()||Ve(n),c.filtersNodes()),h=new rT(i,d,s);return eD(t,d,n,i,h,a)}function L0(t,e,n,r,i,s,o){const a=e.eventCache;let l,u;const c=new rT(i,e,s);if(Ve(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Wc(e,u,!0,t.filter.filtersNodes());else{const d=je(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Wc(e,u,a.isFullyInitialized(),a.isFiltered());else{const h=mt(n),f=a.getNode().getImmediateChild(d);let p;if(Ve(h))p=r;else{const g=c.getCompleteChild(d);g!=null?kM(h)===".priority"&&g.getChild(NM(h)).isEmpty()?p=g:p=g.updateChild(h,r):p=Ye.EMPTY_NODE}if(f.equals(p))l=e;else{const g=t.filter.updateChild(a.getNode(),d,p,h,c,o);l=Wc(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function hb(t,e){return t.eventCache.isCompleteForChild(e)}function nte(t,e,n,r,i,s,o){let a=e;return r.foreach((l,u)=>{const c=pn(n,l);hb(e,je(c))&&(a=L0(t,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=pn(n,l);hb(e,je(c))||(a=L0(t,a,c,u,i,s,o))}),a}function fb(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function $0(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;Ve(n)?u=r:u=new pt(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const f=e.serverCache.getNode().getImmediateChild(d),p=fb(t,f,h);l=cm(t,l,new Et(d),p,i,s,o,a)}}),u.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!c.hasChild(d)&&!f){const p=e.serverCache.getNode().getImmediateChild(d),g=fb(t,p,h);l=cm(t,l,new Et(d),g,i,s,o,a)}}),l}function rte(t,e,n,r,i,s,o){if(um(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Ve(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return cm(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Ve(n)){let u=new pt(null);return l.getNode().forEachChild(Rl,(c,d)=>{u=u.set(new Et(c),d)}),$0(t,e,n,u,i,s,a,o)}else return e}else{let u=new pt(null);return r.foreach((c,d)=>{const h=pn(n,c);l.isCompleteForPath(h)&&(u=u.set(c,l.getNode().getChild(h)))}),$0(t,e,n,u,i,s,a,o)}}function ite(t,e,n,r,i){const s=e.serverCache,o=HM(e,s.getNode(),s.isFullyInitialized()||Ve(n),s.isFiltered());return eD(t,o,n,r,ZM,i)}function ste(t,e,n,r,i,s){let o;if(um(r,n)!=null)return e;{const a=new rT(r,e,i),l=e.eventCache.getNode();let u;if(Ve(n)||je(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=D0(r,va(e));else{const d=e.serverCache.getNode();Q(d instanceof Ye,"serverChildren would be complete if leaf node"),c=YM(r,d)}c=c,u=t.filter.updateFullNode(l,c,s)}else{const c=je(n);let d=nT(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,mt(n),a,s):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,Ye.EMPTY_NODE,mt(n),a,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=D0(r,va(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||um(r,it())!=null,Wc(e,u,o,t.filter.filtersNodes())}}function ote(t,e){const n=va(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ve(e)&&!n.getImmediateChild(je(e)).isEmpty())?n.getChild(e):null}function pb(t,e,n,r){e.type===Ri.MERGE&&e.source.queryId!==null&&(Q(va(t.viewCache_),"We should always have a full cache before handling merges"),Q(N0(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=ete(t.processor_,i,e,n,r);return Zee(t.processor_,s.viewCache),Q(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,ate(t,s.changes,s.viewCache.eventCache.getNode(),null)}function ate(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return Mee(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mb;function lte(t){Q(!mb,"__referenceConstructor has already been defined"),mb=t}function iT(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Q(s!=null,"SyncTree gave us an op for an invalid query."),pb(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(pb(o,e,n,r));return s}}function sT(t,e){let n=null;for(const r of t.views.values())n=n||ote(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gb;function ute(t){Q(!gb,"__referenceConstructor has already been defined"),gb=t}class yb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pt(null),this.pendingWriteTree_=Qee(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cte(t,e,n,r,i){return Fee(t.pendingWriteTree_,e,n,r,i),i?hy(t,new ya(jM(),e,n)):[]}function dl(t,e,n=!1){const r=Vee(t.pendingWriteTree_,e);if(Uee(t.pendingWriteTree_,e)){let s=new pt(null);return r.snap!=null?s=s.set(it(),!0):Gr(r.children,o=>{s=s.set(new Et(o),!0)}),hy(t,new lm(r.path,s,n))}else return[]}function dy(t,e,n){return hy(t,new ya(BM(),e,n))}function dte(t,e,n){const r=pt.fromObject(n);return hy(t,new Ud(BM(),e,r))}function hte(t,e,n,r){const i=iD(t,r);if(i!=null){const s=sD(i),o=s.path,a=s.queryId,l=Vr(o,e),u=new ya(zM(a),l,n);return oD(t,o,u)}else return[]}function fte(t,e,n,r){const i=iD(t,r);if(i){const s=sD(i),o=s.path,a=s.queryId,l=Vr(o,e),u=pt.fromObject(n),c=new Ud(zM(a),l,u);return oD(t,o,c)}else return[]}function tD(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Vr(o,e),u=sT(a,l);if(u)return u});return QM(i,e,s,n,!0)}function hy(t,e){return nD(e,t.syncPointTree_,null,KM(t.pendingWriteTree_,it()))}function nD(t,e,n,r){if(Ve(t.path))return rD(t,e,n,r);{const i=e.get(it());n==null&&i!=null&&(n=sT(i,it()));let s=[];const o=je(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=XM(r,o);s=s.concat(nD(a,l,u,c))}return i&&(s=s.concat(iT(i,t,r,n))),s}}function rD(t,e,n,r){const i=e.get(it());n==null&&i!=null&&(n=sT(i,it()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=XM(r,o),c=t.operationForChild(o);c&&(s=s.concat(rD(c,a,l,u)))}),i&&(s=s.concat(iT(i,t,r,n))),s}function iD(t,e){return t.tagToQueryMap.get(e)}function sD(t){const e=t.indexOf("$");return Q(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Et(t.substr(0,e))}}function oD(t,e,n){const r=t.syncPointTree_.get(e);Q(r,"Missing sync point for query tag that we're tracking");const i=KM(t.pendingWriteTree_,e);return iT(r,n,i,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new oT(n)}node(){return this.node_}}class aT{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=pn(this.path_,e);return new aT(this.syncTree_,n)}node(){return tD(this.syncTree_,this.path_)}}const pte=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},vb=function(t,e,n){if(!t||typeof t!="object")return t;if(Q(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return mte(t[".sv"],e,n);if(typeof t[".sv"]=="object")return gte(t[".sv"],e);Q(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},mte=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Q(!1,"Unexpected server value: "+t)}},gte=function(t,e,n){t.hasOwnProperty("increment")||Q(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Q(!1,"Unexpected increment value: "+r);const i=e.node();if(Q(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},yte=function(t,e,n,r){return lT(e,new aT(n,t),r)},vte=function(t,e,n){return lT(t,new oT(e),n)};function lT(t,e,n){const r=t.getPriority().val(),i=vb(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=vb(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new cn(a,Un(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new cn(i))),o.forEachChild(jn,(a,l)=>{const u=lT(l,e.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function cT(t,e){let n=e instanceof Et?e:new Et(e),r=t,i=je(n);for(;i!==null;){const s=Bl(r.node.children,i)||{children:{},childCount:0};r=new uT(i,r,s),n=mt(n),i=je(n)}return r}function Tu(t){return t.node.value}function aD(t,e){t.node.value=e,F0(t)}function lD(t){return t.node.childCount>0}function _te(t){return Tu(t)===void 0&&!lD(t)}function fy(t,e){Gr(t.node.children,(n,r)=>{e(new uT(n,t,r))})}function uD(t,e,n,r){n&&!r&&e(t),fy(t,i=>{uD(i,e,!0,r)}),n&&r&&e(t)}function wte(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function xh(t){return new Et(t.parent===null?t.name:xh(t.parent)+"/"+t.name)}function F0(t){t.parent!==null&&Ete(t.parent,t.name,t)}function Ete(t,e,n){const r=_te(n),i=Es(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,F0(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,F0(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tte=/[\[\].#$\/\u0000-\u001F\u007F]/,Ste=/[\[\].#$\u0000-\u001F\u007F]/,Rv=10*1024*1024,cD=function(t){return typeof t=="string"&&t.length!==0&&!Tte.test(t)},Cte=function(t){return typeof t=="string"&&t.length!==0&&!Ste.test(t)},Ite=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Cte(t)},dD=function(t,e,n){const r=n instanceof Et?new iee(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ko(r));if(typeof e=="function")throw new Error(t+"contains a function "+ko(r)+" with contents = "+e.toString());if(cM(e))throw new Error(t+"contains "+e.toString()+" "+ko(r));if(typeof e=="string"&&e.length>Rv/3&&Tg(e)>Rv)throw new Error(t+"contains a string greater than "+Rv+" utf8 bytes "+ko(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Gr(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!cD(o)))throw new Error(t+" contains an invalid key ("+o+") "+ko(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);see(r,o),dD(t,a,r),oee(r)}),i&&s)throw new Error(t+' contains ".value" child '+ko(r)+" in addition to actual children.")}},Rte=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!cD(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Ite(n))throw new Error(d7(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bte{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function xte(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!OM(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Na(t,e,n){xte(t,n),Pte(t,r=>si(r,e)||si(e,r))}function Pte(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(kte(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function kte(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Yo&&Vn("event: "+n.toString()),Rh(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ate="repo_interrupt",Nte=25;class Ote{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new bte,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=am(),this.transactionQueueTree_=new uT,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Mte(t,e,n){if(t.stats_=YE(t.repoInfo_),t.forceRestClient_||xZ())t.server_=new om(t.repoInfo_,(r,i,s,o)=>{_b(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>wb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{In(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new os(t.repoInfo_,e,(r,i,s,o)=>{_b(t,r,i,s,o)},r=>{wb(t,r)},r=>{Lte(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=MZ(t.repoInfo_,()=>new Oee(t.stats_,t.server_)),t.infoData_=new xee,t.infoSyncTree_=new yb({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=dy(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),dT(t,"connected",!1),t.serverSyncTree_=new yb({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);Na(t.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Dte(t){const n=t.infoData_.getNode(new Et(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function hD(t){return pte({timestamp:Dte(t)})}function _b(t,e,n,r,i){t.dataUpdateCount++;const s=new Et(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=kp(n,u=>Un(u));o=fte(t.serverSyncTree_,s,l,i)}else{const l=Un(n);o=hte(t.serverSyncTree_,s,l,i)}else if(r){const l=kp(n,u=>Un(u));o=dte(t.serverSyncTree_,s,l)}else{const l=Un(n);o=dy(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=fT(t,s)),Na(t.eventQueue_,a,o)}function wb(t,e){dT(t,"connected",e),e===!1&&Fte(t)}function Lte(t,e){Gr(e,(n,r)=>{dT(t,n,r)})}function dT(t,e,n){const r=new Et("/.info/"+e),i=Un(n);t.infoData_.updateSnapshot(r,i);const s=dy(t.infoSyncTree_,r,i);Na(t.eventQueue_,r,s)}function $te(t){return t.nextWriteId_++}function Fte(t){fD(t,"onDisconnectEvents");const e=hD(t),n=am();A0(t.onDisconnect_,it(),(i,s)=>{const o=yte(i,s,t.serverSyncTree_,e);UM(n,i,o)});let r=[];A0(n,it(),(i,s)=>{r=r.concat(dy(t.serverSyncTree_,i,s));const o=Bte(t,i);fT(t,o)}),t.onDisconnect_=am(),Na(t.eventQueue_,it(),r)}function Vte(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Ate)}function fD(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Vn(n,...e)}function pD(t,e,n){return tD(t.serverSyncTree_,e,n)||Ye.EMPTY_NODE}function hT(t,e=t.transactionQueueTree_){if(e||py(t,e),Tu(e)){const n=gD(t,e);Q(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Ute(t,xh(e),n)}else lD(e)&&fy(e,n=>{hT(t,n)})}function Ute(t,e,n){const r=n.map(u=>u.currentWriteId),i=pD(t,e,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];Q(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Vr(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,u=>{fD(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(dl(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();py(t,cT(t.transactionQueueTree_,e)),hT(t,t.transactionQueueTree_),Na(t.eventQueue_,e,c);for(let h=0;h<d.length;h++)Rh(d[h])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Tr("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}fT(t,e)}},o)}function fT(t,e){const n=mD(t,e),r=xh(n),i=gD(t,n);return jte(t,i,r),r}function jte(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Vr(n,l.path);let c=!1,d;if(Q(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat(dl(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Nte)c=!0,d="maxretry",i=i.concat(dl(t.serverSyncTree_,l.currentWriteId,!0));else{const h=pD(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(f!==void 0){dD("transaction failed: Data returned ",f,l.path);let p=Un(f);typeof f=="object"&&f!=null&&Es(f,".priority")||(p=p.updatePriority(h.getPriority()));const E=l.currentWriteId,m=hD(t),y=vte(p,h,m);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=y,l.currentWriteId=$te(t),o.splice(o.indexOf(E),1),i=i.concat(cte(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat(dl(t.serverSyncTree_,E,!0))}else c=!0,d="nodata",i=i.concat(dl(t.serverSyncTree_,l.currentWriteId,!0))}Na(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}py(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Rh(r[a]);hT(t,t.transactionQueueTree_)}function mD(t,e){let n,r=t.transactionQueueTree_;for(n=je(e);n!==null&&Tu(r)===void 0;)r=cT(r,n),e=mt(e),n=je(e);return r}function gD(t,e){const n=[];return yD(t,e,n),n.sort((r,i)=>r.order-i.order),n}function yD(t,e,n){const r=Tu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);fy(e,i=>{yD(t,i,n)})}function py(t,e){const n=Tu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,aD(e,n.length>0?n:void 0)}fy(e,r=>{py(t,r)})}function Bte(t,e){const n=xh(mD(t,e)),r=cT(t.transactionQueueTree_,e);return wte(r,i=>{bv(t,i)}),bv(t,r),uD(r,i=>{bv(t,i)}),n}function bv(t,e){const n=Tu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Q(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Q(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(dl(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?aD(e,void 0):n.length=s+1,Na(t.eventQueue_,xh(e),i);for(let o=0;o<r.length;o++)Rh(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zte(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Wte(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Tr(`Invalid query segment '${n}' in query '${t}'`)}return e}const Eb=function(t,e){const n=Hte(t),r=n.namespace;n.domain==="firebase.com"&&ma(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ma("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||wZ();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new AZ(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Et(n.pathString)}},Hte=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(i=zte(t.substring(c,d)));const h=Wte(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const f=e.slice(0,u);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ve(this._path)?null:kM(this._path)}get ref(){return new Su(this._repo,this._path)}get _queryIdentifier(){const e=ob(this._queryParams),n=GE(e);return n==="{}"?"default":n}get _queryObject(){return ob(this._queryParams)}isEqual(e){if(e=_t(e),!(e instanceof pT))return!1;const n=this._repo===e._repo,r=OM(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+ree(this._path)}}class Su extends pT{constructor(e,n){super(e,n,new eT,!1)}get parent(){const e=NM(this._path);return e===null?null:new Su(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}lte(Su);ute(Su);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qte="FIREBASE_DATABASE_EMULATOR_HOST",V0={};let Kte=!1;function Gte(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||ma("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Eb(s,i),a=o.repoInfo,l,u;typeof process<"u"&&jR&&(u=jR[qte]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=Eb(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new x0(x0.OWNER):new kZ(t.name,t.options,e);Rte("Invalid Firebase Database URL",o),Ve(o.path)||ma("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Yte(a,t,c,new PZ(t.name,n));return new Xte(d,t)}function Qte(t,e){const n=V0[e];(!n||n[t.key]!==t)&&ma(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Vte(t),delete n[t.key]}function Yte(t,e,n,r){let i=V0[e.name];i||(i={},V0[e.name]=i);let s=i[t.toURLString()];return s&&ma("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Ote(t,Kte,n,r),i[t.toURLString()]=s,s}class Xte{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Mte(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Su(this._repo,it())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Qte(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ma("Cannot call "+e+" on a deleted database.")}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jte(t){mZ(vo),so(new fs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Gte(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Br(BR,zR,t),Br(BR,zR,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zte={".sv":"timestamp"};function ene(){return Zte}os.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};os.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Jte();const vD=w.createContext(),tne=({children:t})=>{const{user:e}=wu(),n={chatId:null,otherUser:{}},r=(o,a)=>{switch(a.type){case"CHANGE_USER":return{otherUser:a.payload,chatId:e.uid>a.payload.uid?e.uid+a.payload.uid:a.payload.uid+e.uid};default:return o}},[i,s]=w.useReducer(r,n);return w.useEffect(()=>{e&&s({type:"CHANGE_USER",payload:i.otherUser})},[e]),S.jsx(vD.Provider,{value:{data:i,dispatch:s},children:t})},_D=()=>w.useContext(vD);function nne(t){return fi({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"},child:[]}]})(t)}function Tb(t){return fi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m476.59 227.05-.16-.07L49.35 49.84A23.56 23.56 0 0 0 27.14 52 24.65 24.65 0 0 0 16 72.59v113.29a24 24 0 0 0 19.52 23.57l232.93 43.07a4 4 0 0 1 0 7.86L35.53 303.45A24 24 0 0 0 16 327v113.31A23.57 23.57 0 0 0 26.59 460a23.94 23.94 0 0 0 13.22 4 24.55 24.55 0 0 0 9.52-1.93L476.4 285.94l.19-.09a32 32 0 0 0 0-58.8z"},child:[]}]})(t)}let yf;const rne=new Uint8Array(16);function ine(){if(!yf&&(yf=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!yf))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yf(rne)}const En=[];for(let t=0;t<256;++t)En.push((t+256).toString(16).slice(1));function sne(t,e=0){return En[t[e+0]]+En[t[e+1]]+En[t[e+2]]+En[t[e+3]]+"-"+En[t[e+4]]+En[t[e+5]]+"-"+En[t[e+6]]+En[t[e+7]]+"-"+En[t[e+8]]+En[t[e+9]]+"-"+En[t[e+10]]+En[t[e+11]]+En[t[e+12]]+En[t[e+13]]+En[t[e+14]]+En[t[e+15]]}const one=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Sb={randomUUID:one};function xv(t,e,n){if(Sb.randomUUID&&!e&&!t)return Sb.randomUUID();t=t||{};const r=t.random||(t.rng||ine)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return sne(r)}const ane="https://milkevich.github.io/pract-chat/assets/chatImgNoMessages-kTNKWbDn.png",lne="_container_sga3e_1",une="_userInfoContainer_sga3e_12",cne="_userInfo_sga3e_12",dne="_displayName_sga3e_23",hne="_email_sga3e_30",fne="_typeMessage_sga3e_37",pne="_messageInput_sga3e_48",mne="_icon_sga3e_62",gne="_sendBtn_sga3e_76",yne="_sendBtnIcon_sga3e_92",vne="_messagesContainer_sga3e_99",_ne="_progress_sga3e_110",wne="_message_sga3e_48",Ene="_ownMessage_sga3e_124",Tne="_otherMessage_sga3e_134",Sne="_ownImgMessage_sga3e_144",Cne="_otherImgMessage_sga3e_152",Ine="_img_sga3e_161",Rne="_noMessagesContainerImg_sga3e_166",bne="_noMessagesContainer_sga3e_166",xne="_date_sga3e_181",Pne="_sendBtnIconSingle_sga3e_194",kne="_backBtn_sga3e_198",Ane="_noMessagesH1_sga3e_309",Nne="_noMessagesP_sga3e_313",ut={container:lne,userInfoContainer:une,userInfo:cne,displayName:dne,email:hne,typeMessage:fne,messageInput:pne,icon:mne,sendBtn:gne,sendBtnIcon:yne,messagesContainer:vne,progress:_ne,message:wne,ownMessage:Ene,otherMessage:Tne,ownImgMessage:Sne,otherImgMessage:Cne,img:Ine,noMessagesContainerImg:Rne,noMessagesContainer:bne,date:xne,sendBtnIconSingle:Pne,backBtn:kne,noMessagesH1:Ane,noMessagesP:Nne};function One(t){return fi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(t)}const Mne="https://milkevich.github.io/pract-chat/assets/chatImgNoMessagesDark-PZ_T0ob0.png",Dne=()=>{const{data:t}=_D(),{user:e}=wu(),{isDarkMode:n}=Ia(),[r,i]=w.useState([]),[s,o]=w.useState(""),[a,l]=w.useState(null),u=w.useRef(null),[c,d]=w.useState(null),h=eN(),[f,p]=w.useState(!0);w.useEffect(()=>{if(t.chatId){const _=QO(ri(Lr,"chats",t.chatId),C=>{if(C.exists()){const b=C.data();i(b.messages),p(!1)}});return()=>{_()}}},[t.chatId]),w.useEffect(()=>{E()},[r]),w.useEffect(()=>(window.addEventListener("resize",g),window.addEventListener("orientationchange",g),()=>{window.removeEventListener("resize",g),window.removeEventListener("orientationchange",g)}),[]);const g=()=>{const _=document.getElementById("chat-container");_&&(_.style.height=`${window.innerHeight}px`)},E=()=>{var _;(_=u.current)==null||_.scrollIntoView({behavior:"smooth"})},m=async()=>{if(s.trim()||a)if(a){const _=ZA(h,`images/${xv()}`),C=XA(_,a);C.on("state_changed",b=>{const P=b.bytesTransferred/b.totalBytes*100;console.log("Upload is "+P+"% done"),d(P)},b=>{console.error("Upload error:",b)},()=>{JA(C.snapshot.ref).then(async b=>{await yc(ri(Lr,"chats",t.chatId),{messages:FR({id:xv(),senderId:e.uid,date:At.now(),img:b})}),d(null),l(null)})})}else await yc(ri(Lr,"chats",t.chatId),{messages:FR({id:xv(),text:s,senderId:e.uid,date:At.now()})}),o("");await yc(ri(Lr,"userChats",e.uid),{[t.chatId+".lastMessage"]:{text:s},[t.chatId+".date"]:At.now()}),await yc(ri(Lr,"userChats",t.otherUser.uid),{[t.chatId+".lastMessage"]:{text:s},[t.chatId+".date"]:At.now()}),o(""),l(null)},y=_=>{const C=_.target.files[0],b=5*1024*1024;C.size>b?(console.log(C.size),alert("File size exceeds the maximum limit (5MB). Please choose a smaller file.")):(console.log(C.size),l(C))},v=_=>{_.key==="Enter"&&m()},T=_=>{const C=_.toDate(),b=C.getHours(),P=C.getMinutes(),x=b>=12?"PM":"AM",O=b%12===0?12:b%12,$=P<10?`0${P}`:P;return`${O}:${$} ${x}`},R=()=>{location.reload()};return t&&t.otherUser&&t.otherUser.displayName&&t.otherUser.displayName[0].toUpperCase(),S.jsxs("div",{className:ut.container,id:"chat-container",children:[S.jsxs("div",{className:ut.userInfoContainer,children:[S.jsx(One,{onClick:R,className:ut.backBtn}),S.jsx(wd,{src:t.otherUser.photoURL}),S.jsxs("div",{className:ut.userInfo,children:[S.jsx("h1",{className:ut.displayName,children:t.otherUser.displayName}),S.jsx("p",{className:ut.email,children:t.otherUser.email})]})]}),f?S.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"90vh"},children:S.jsx(mw,{style:{color:"darkgray"},variant:"indeterminate"})}):S.jsxs("div",{children:[r.length===0?S.jsxs("div",{className:ut.noMessagesContainer,children:[S.jsx("h1",{className:ut.noMessagesH1,children:"Looks like it's nothing here."}),S.jsx("p",{className:ut.noMessagesP,style:{marginTop:"-15px"},children:"Send a message to start chatting!"}),S.jsx("img",{className:ut.noMessagesContainerImg,src:n?Mne:ane,alt:""})]}):S.jsxs("div",{className:ut.messagesContainer,children:[r.map(_=>S.jsxs(mn.Fragment,{children:[_.text&&S.jsx("div",{className:`${ut.message} ${_.senderId===e.uid?ut.ownMessage:ut.otherMessage}`,children:S.jsxs("p",{children:[_.text,S.jsx("span",{className:ut.date,children:T(_.date)})]})}),_.img&&S.jsxs("div",{className:`${ut.imMessage} ${_.senderId===e.uid?ut.ownImgMessage:ut.otherImgMessage}`,children:[S.jsx("img",{className:ut.img,src:_.img,alt:"File Attached"}),S.jsx("span",{style:{marginLeft:"10px",marginTop:"10px",fontSize:"11px"},children:T(_.date)})]})]},_.id)),S.jsx("div",{ref:u})]}),S.jsxs("div",{className:ut.typeMessage,children:[c>0?S.jsx(tz,{sx:{zIndex:1e3,position:"absolute",bottom:"70px",height:"5px",borderRadius:"50px"},className:ut.progress,variant:"determinate",value:c,color:"secondary"}):null,S.jsx("label",{htmlFor:"file-upload",children:S.jsx(nne,{className:ut.icon})}),S.jsx("input",{id:"file-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:y}),S.jsx("input",{onChange:_=>o(_.target.value),onKeyPress:v,className:ut.messageInput,type:"text",placeholder:"Enter Text",value:s}),S.jsx(Tb,{onClick:m,className:ut.sendBtnIconSingle}),S.jsxs("button",{onClick:m,className:ut.sendBtn,children:["Send ",S.jsx(Tb,{className:ut.sendBtnIcon})]})]})]})]})},Lne="https://milkevich.github.io/pract-chat/assets/NoChats-VzLtQHpE.png",$ne="_container_1thkk_1",Fne="_section_1thkk_8",Vne="_searchContainer_1thkk_18",Une="_search_1thkk_18",jne="_searchBtn_1thkk_37",Bne="_navMenuBtn_1thkk_47",zne="_messageContainer_1thkk_51",Wne="_messageContainerInfoContainer_1thkk_60",Hne="_displayName_1thkk_67",qne="_LastMessageContainer_1thkk_77",Kne="_lastMessage_1thkk_89",Gne="_date_1thkk_97",Qne="_noChatsP_1thkk_119",Yne="_noChatsH_1thkk_141",Xne="_chatContainer_1thkk_168",Jne="_noChats_1thkk_119",zt={container:$ne,section:Fne,searchContainer:Vne,search:Une,searchBtn:jne,navMenuBtn:Bne,messageContainer:zne,messageContainerInfoContainer:Wne,displayName:Hne,LastMessageContainer:qne,lastMessage:Kne,date:Gne,noChatsP:Qne,noChatsH:Yne,chatContainer:Xne,noChats:Jne},Zne="_navMenu_e16vk_1",ere="_show_e16vk_10",tre="_tabClose_e16vk_14",Pv={navMenu:Zne,show:ere,tabClose:tre},nre=({onCloseTab:t})=>{const[e,n]=w.useState(!1);w.useEffect(()=>{const i=setTimeout(()=>{n(!0)},100);return()=>clearTimeout(i)},[]);const r=()=>{n(!1),t()};return S.jsx("div",{className:`${Pv.navMenu} ${e?Pv.show:""}`,children:S.jsx(oB,{direction:"right",in:e,mountOnEnter:!0,unmountOnExit:!0,timeout:{enter:1e3,exit:1e3},children:S.jsxs("div",{children:[S.jsx(sM,{className:Pv.tabClose,onClick:r}),S.jsx(oM,{})]})})})},rre="https://milkevich.github.io/pract-chat/assets/NoChatsDark-BqvXQxYA.png",ire=()=>{var R;const[t,e]=w.useState(""),[n,r]=w.useState(null),{user:i}=wu(),{dispatch:s}=_D(),[o,a]=w.useState([]),[l,u]=w.useState(null),[c,d]=w.useState(!1),[h,f]=w.useState(window.innerWidth),{isDarkMode:p}=Ia();w.useEffect(()=>{const _=()=>{f(window.innerWidth)};return window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_)}},[]);const g=()=>{d(!c)};w.useEffect(()=>{const _=()=>{const C=QO(ri(Lr,"userChats",i.uid),b=>{a(b.data())});return()=>{C()}};i.uid&&_()},[i.uid]);const E=async()=>{if(t.trim()!==""){const _=cJ(YX(Lr,"users"),dJ("uid","==",t.trim()));try{const C=await mJ(_);if(C.empty)r(null),console.log("no user");else{const b=C.docs.map(P=>P.data());r(b),console.log("user found "+t)}}catch(C){console.error("Error searching user:",C)}}},m=_=>{_.code==="Enter"&&E(),e(null)},y=async()=>{if(n&&n.length>0){const _=n[0],C=i.uid>_.uid?i.uid+_.uid:_.uid+i.uid;try{const b=ri(Lr,"chats",C);(await $R(b)).exists()||await Zp(b,{messages:[]});const x=async(O,$)=>{const M=ri(Lr,"userChats",O);(await $R(M)).exists()||await Zp(M,{}),await yc(ri(Lr,"userChats",O),{[C+".userInfo"]:{uid:$.uid,displayName:$.displayName,email:$.email,photoURL:$.photoURL},[C+".date"]:ene()})};r(null),e(""),await x(_.uid,i),await x(i.uid,_)}catch(b){console.error("Error selecting chat:",b)}}},v=_=>{s({type:"CHANGE_USER",payload:_}),u(_)},T=_=>{if(_&&_.toDate){const C=_.toDate(),b=C.getHours(),P=C.getMinutes(),x=b>=12?"PM":"AM",O=b%12===0?12:b%12,$=P<10?`0${P}`:P;return`${O}:${$} ${x}`.toString()}else return""};return S.jsxs("div",{className:zt.container,children:[c&&S.jsx(nre,{onCloseTab:g}),(h>1120&&l||!l||h>=620&&l||!l||h<=620&&!l)&&S.jsxs("section",{className:zt.section,children:[S.jsxs("div",{className:zt.searchContainer,children:[S.jsx(sM,{onClick:g,className:zt.navMenuBtn}),S.jsx(JJ,{className:zt.searchBtn}),S.jsx("input",{onKeyDown:m,value:t,onChange:_=>e(_.target.value),placeholder:"Search",className:zt.search,type:"text"})]}),t!==""&&S.jsxs("div",{style:{textAlign:"start",marginLeft:"20px",color:"grey"},children:["Please enter user's exact ID ",S.jsx("br",{})," and then press Enter to find a user"]}),n&&S.jsxs("div",{children:[S.jsxs("div",{onClick:y,className:zt.messageContainer,children:[S.jsx(wd,{src:n[0].photoURL,sx:{width:46,height:46,fontSize:27}}),S.jsxs("div",{className:zt.messageContainerInfoContainer,children:[S.jsx("h1",{className:zt.displayName,children:n[0].displayName}),S.jsx("p",{className:zt.lastMessage,children:"Click to chat"})]})]}),S.jsx(j_,{sx:{backgroundColor:"var(--divider-color)"},variant:"middle"})]}),t===""&&o&&((R=Object.entries(o))==null?void 0:R.sort((_,C)=>C[1].date-_[1].date).map((_,C)=>S.jsx(Jk,{in:!0,style:{transitionDelay:`${C*200}ms`},children:S.jsxs("div",{onClick:()=>v(_[1].userInfo),children:[S.jsxs("div",{className:zt.messageContainer,onClick:y,style:{backgroundColor:l&&_[1].userInfo.uid===l.uid?"rgba(167, 255, 0, 0.3)":"var(--main-bg-color)",borderLeft:l&&_[1].userInfo.uid===l.uid?"3px solid rgba(167, 255, 0, 1)":"3px solid rgba(167, 255, 0, 0)"},children:[S.jsx(wd,{src:_[1].userInfo.photoURL,sx:{width:46,height:46,fontSize:27}}),S.jsxs("div",{className:zt.messageContainerInfoContainer,children:[S.jsx("h1",{className:zt.displayName,children:_[1].userInfo.displayName}),S.jsx("span",{className:zt.date,children:_[1].lastMessage?T(_[1].date):""}),S.jsx("div",{className:zt.LastMessageContainer,children:_[1].lastMessage&&_[1].lastMessage.text?S.jsx("p",{className:zt.lastMessage,children:_[1].lastMessage.text}):S.jsx("p",{className:zt.lastMessage,children:_[1].lastMessage&&_[1].lastMessage.type!=="text"?"File sent":"Click to chat"})})]})]}),S.jsx(j_,{sx:{backgroundColor:"var(--divider-color)"},variant:"middle"})]},_[0])})))]}),l?S.jsx("div",{className:zt.chatContainer,children:S.jsx(Dne,{})}):S.jsx("div",{className:zt.noChats,children:S.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"90vh"},children:[S.jsx("h1",{className:zt.noChatsH,children:"You have no active chats yet."}),S.jsx("p",{className:zt.noChatsP,children:"Find a friend and start the dialog!"}),S.jsx("img",{style:{maxWidth:"70%",marginTop:"50px"},src:p?rre:Lne,alt:"No chats"})]})})]})},sre="_mainContainer_kr5pw_1",ore="_hide_kr5pw_7",Cb={mainContainer:sre,hide:ore},are=()=>S.jsxs("div",{className:Cb.mainContainer,children:[S.jsx("div",{className:Cb.hide,children:S.jsx(oM,{})}),S.jsx(ire,{})]}),lre="_container_h0xol_1",ure="_p_h0xol_8",cre="_h1_h0xol_13",dre="_inputContainer_h0xol_17",hre="_textField_h0xol_24",fre="_btn_h0xol_29",pre="_suggestion_h0xol_43",mre="_link_h0xol_48",gre="_passwordContainer_h0xol_55",yre="_visibilityIcon_h0xol_59",vre="_photoUpload_h0xol_67",_re="_avatarContainer_h0xol_75",wre="_photoUploadButton_h0xol_79",Mn={container:lre,p:ure,h1:cre,inputContainer:dre,textField:hre,btn:fre,suggestion:pre,link:mre,passwordContainer:gre,visibilityIcon:yre,photoUpload:vre,avatarContainer:_re,photoUploadButton:wre};function Ere(){const[t,e]=w.useState(""),[n,r]=w.useState(!1),[i,s]=w.useState(""),[o,a]=w.useState(""),[l,u]=w.useState(!1),[c,d]=w.useState(""),[h,f]=w.useState(""),[p,g]=w.useState(!1),[E,m]=w.useState(""),[y,v]=w.useState(!1),[T,R]=w.useState(!1),[_,C]=w.useState(""),[b,P]=w.useState(null),[x,O]=w.useState(null),[$,M]=w.useState(!1),{isDarkMode:F}=Ia(),z=Sa(),B=async ce=>{if(ce.preventDefault(),!n&&!l&&!p)try{M(!0);const oe=(await $q(em,t,o)).user,de=new Date().getTime(),$e=ZA(yJ,`${h+de}`);await XA($e,b).then(()=>{JA($e).then(async Ne=>{await Uq(oe,{displayName:h,photoURL:Ne});const ke=ri(Lr,"users",oe.uid);await Zp(ke,{uid:oe.uid,displayName:h,email:t,photoURL:Ne}),await Zp(ri(Lr,"userChats",oe.uid),{}),z("/pract-chat/chat")})})}catch(q){console.error("Error creating user:",q),v(!0),C("The user with this email already exists, try again."),M(!1)}else n?(v(!0),C("Email address is not valid or already being used."),M(!1)):(v(!1),C("")),l?(v(!0),C("Please enter a valid password."),M(!1)):(v(!1),C("")),p?(v(!0),C("Please enter a valid display name."),M(!1)):(v(!1),C(""))},j=ce=>{const q=ce.target.files[0];P(q),O(URL.createObjectURL(q))},A=ce=>{const q=/^[^]+@[^]+\.[a-z]{2,3}$/,oe=ce.target.value;e(oe),oe===""||!oe.match(q)?(r(!0),s("Please enter a valid email address")):(r(!1),s(""))},L=ce=>{const q=ce.target.value;a(q),q===""||q.length<6?(u(!0),d("You must have at least 6 characters")):(u(!1),d(""))},H=ce=>{const q=ce.target.value;f(q),q===""?(g(!0),m("You must enter your full name.")):(g(!1),m(""))},se=()=>{R(!T)},re=()=>{z("/pract-chat/log-in")};return S.jsxs("div",{children:[$?S.jsx(JO,{}):null,S.jsxs("div",{className:`${Mn.container}`,children:[y?S.jsx($k,{severity:"error",children:_}):null,S.jsx("h1",{className:Mn.h1,children:"Welcome!"}),S.jsx("p",{className:Mn.p,children:"Please enter your information"}),S.jsxs("div",{className:Mn.inputContainer,children:[S.jsxs("div",{className:Mn.avatarContainer,children:[S.jsx(wd,{sx:{width:"100px",height:"100px",position:"relative"},src:x,className:Mn.photoUpload}),S.jsxs("div",{style:{marginBottom:"20px"},children:[S.jsx("input",{type:"file",accept:"image/*",onChange:j,style:{display:"none"},id:"fileInput"}),S.jsx("label",{htmlFor:"fileInput",className:Mn.photoUploadButton,children:S.jsx(ZJ,{})})]})]}),S.jsx(Mc,{color:p?"error":F?"dark":"primary",error:p,focused:F&&!p,helperText:E,onChange:H,value:h,sx:{width:"70%"},id:"standard-basic",label:"Display Name",variant:"standard",className:Mn.textField}),S.jsx(Mc,{color:n?"error":F?"dark":"primary",focused:F&&!n,error:n,helperText:i,onChange:A,value:t,className:Mn.textField,id:"standard-basic",label:"Email",variant:"standard"}),S.jsxs(kk,{className:Mn.passwordContainer,children:[S.jsx(Mc,{color:l?"error":F?"dark":"primary",focused:F&&!l,error:l,helperText:c,onChange:L,id:"standard-password-input",label:"Password",type:T?"text":"password",autoComplete:"current-password",variant:"standard",className:Mn.textField}),T?S.jsx(kw,{onClick:se,className:Mn.visibilityIcon}):S.jsx(Nw,{onClick:se,className:Mn.visibilityIcon})]}),S.jsx("button",{onClick:B,className:Mn.btn,children:"Sign Up"})]}),S.jsxs("p",{className:Mn.suggestion,children:["Already Have an account? ",S.jsx("span",{className:Mn.link,onClick:re,children:"Log In"})]})]})]})}class Tre extends w.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){console.error("Error caught by ErrorBoundary:",e,n)}render(){return this.state.hasError?S.jsx("div",{children:"Unexpected"}):this.props.children}}const Sre="https://milkevich.github.io/pract-chat/assets/404-avyOQv9o.png",Cre="https://milkevich.github.io/pract-chat/assets/404Dark-7afdkmv_.png",Ire="_container_mt172_1",tc={container:Ire},Ib=()=>{const t=Sa(),{isDarkMode:e}=Ia(),n=()=>{t("/pract-chat/chat")};return S.jsxs("div",{className:tc.container,children:[S.jsx("img",{className:tc.img,src:e?Cre:Sre,alt:"404 not found"}),S.jsx("h1",{className:tc.h1,children:"Oops! We've wandered off the trail!"}),S.jsx("p",{className:tc.p,children:"Seems like the path you're seeking doesn't exist. Let's find our way back together!"}),S.jsx("button",{onClick:n,className:tc.btn,children:"Go Back"})]})},Rre="https://milkevich.github.io/pract-chat/assets/working-rFq9V_P3.png",bre="_container_18jc6_1",nc={container:bre},xre="https://milkevich.github.io/pract-chat/assets/workingDark-EAu1XLo5.png",Pre=()=>{const t=Sa(),{isDarkMode:e}=Ia(),n=()=>{t("/pract-chat/chat")};return S.jsxs("div",{className:nc.container,children:[S.jsx("img",{className:nc.img,src:e?xre:Rre,alt:"working"}),S.jsx("h1",{className:nc.h1,children:"Oops!.. Still Under Construction"}),S.jsx("p",{className:nc.p,children:"Excuse the dust! We're sprucing things up."}),S.jsx("button",{onClick:n,className:nc.btn,children:"Go Back"})]})},kre=lF(b_(S.jsx(qi,{path:"/pract-chat/",element:S.jsx(PH,{}),children:S.jsxs(qi,{element:S.jsx(AJ,{}),children:[S.jsx(qi,{path:"/pract-chat/log-in",element:S.jsx(xJ,{})}),S.jsx(qi,{path:"/pract-chat/sign-up",element:S.jsx(Ere,{})}),S.jsx(qi,{path:"/pract-chat/*",element:S.jsx(Ib,{}),errorElement:S.jsx(Ib,{})}),S.jsx(qi,{path:"/pract-chat/settings",element:S.jsx(Pre,{})}),S.jsx(qi,{element:S.jsx(kJ,{}),children:S.jsx(qi,{path:"/pract-chat/chat",element:S.jsx(are,{})})})]})}))),Are=kv.createRoot(document.getElementById("root"));Are.render(S.jsx(PJ,{children:S.jsx(tne,{children:S.jsx(Tre,{children:S.jsx(yF,{router:kre})})})}));
